(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[72],{94407:function(G,x,t){"use strict";t.r(x),t.d(x,{default:function(){return R}});var J=t(98858),u=t(4914),m=t(2824),c=t(67294),O=t(13254),N=t(14277),K=t(87593),y=t(37636),W=t(71153),T=t(60331),Y=t(54029),I=t(79166),b=t(99270),o=t(57895),e=t(85893),D=[{title:"ip",width:150,align:"center",render:function(s,n){return(0,e.jsx)(I.Z,{status:"processing",text:n.ip})}},{title:"dbType",dataIndex:"dbType",width:100,align:"center"},{title:"databaseName",dataIndex:"databaseName",width:200,align:"center"},{title:"tableName",dataIndex:"tableName",width:200,align:"center"},{title:"actionType",dataIndex:"actionType",width:100,align:"center"},{title:"sqlDetail",dataIndex:"sqlDetail",tip:"",ellipsis:!0}],F=function(s){var n=(0,c.useState)(-1),i=(0,m.Z)(n,2),p=i[0],a=i[1],v=(0,c.useState)([]),f=(0,m.Z)(v,2),S=f[0],C=f[1],B=function(l,d){C([]),a(d),l.length>1&&(console.log(l),C(l.filter(function(Z){return Z.dbType!==void 0})))};return(0,e.jsx)("div",{className:"detail-table",children:(0,e.jsxs)(o.ZP,{split:"vertical",children:[(0,e.jsx)(o.ZP,{colSpan:"30%",children:(0,e.jsx)(y.Z,{children:s.body.map(function(r,l){var d=JSON.parse(r.reorganizingSpans);return(0,e.jsx)(y.Z.Item,{color:d.length>1?"#00CCFF":"green",className:"pointer pb-10",children:(0,e.jsxs)("div",{onClick:function(){B(d,l)},children:[(0,e.jsx)("p",{className:p===l?"is-active":"",children:d[0].url}),(0,e.jsx)(T.Z,{color:"#3b5999",style:{fontSize:"12px",padding:"2px 3px",lineHeight:"1"},children:r.operationName}),(0,e.jsx)("span",{style:{color:"#C0C4CC",fontSize:"12px"},children:r.requestStartTime})]})},r.id)})})}),(0,e.jsx)(o.ZP,{headerBordered:!0,children:S.length>0?(0,e.jsx)(b.ZP,{columns:D,options:!1,size:"small",dataSource:S,rowKey:"sqlDetail",search:!1,pagination:!1}):(0,e.jsx)(N.Z,{description:"\u6682\u65E0\u64CD\u4F5C\u6570\u636E"})})]})})},z=F,P=t(3182),A=t(94043),j=t.n(A),E=t(21704);function H(){return g.apply(this,arguments)}function g(){return g=(0,P.Z)(j().mark(function h(){return j().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,E.WY)("/api/skyflying/getAllSegments",{method:"GET",headers:{"Content-Type":"application/json"}}));case 1:case"end":return n.stop()}},h)})),g.apply(this,arguments)}var L=function(){var s=(0,c.useState)([]),n=(0,m.Z)(s,2),i=n[0],p=n[1];return(0,c.useEffect)(function(){H().then(function(a){p(function(){return JSON.parse(a.data)})})},[]),(0,e.jsx)("div",{className:"link",children:i.length>0&&i.map(function(a,v){return(0,e.jsx)(o.ZP,{collapsibleIconRender:function(){return(0,e.jsx)("div",{children:(0,e.jsxs)(u.Z,{size:"small",children:[(0,e.jsx)(u.Z.Item,{label:"\u64CD\u4F5C\u7528\u6237",style:{margin:"0",padding:"0",lineHeight:"1"},children:(0,e.jsx)("p",{className:"primary-blue",children:a.header.userName})}),(0,e.jsx)(u.Z.Item,{label:"\u64CD\u4F5C\u65F6\u95F4",style:{margin:"0",padding:"0",lineHeight:"1"},children:(0,e.jsx)("p",{className:"primary-blue",children:a.header.requestStartTime})}),(0,e.jsx)(u.Z.Item,{label:"url",style:{margin:"0",padding:"0",lineHeight:"1"},children:(0,e.jsx)("p",{className:"primary-blue",children:a.header.url})})]})})},className:"link__item-card",style:{},headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,e.jsx)("div",{children:(0,e.jsx)(z,{reorganizingSpans:[],body:a.body})})},v)})})},R=L}}]);
