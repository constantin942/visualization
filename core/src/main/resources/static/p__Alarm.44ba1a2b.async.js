(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[284],{37174:function(G){G.exports={alarm:"alarm___12xQi",salesRank:"salesRank___-5oIk",rankingList:"rankingList___rxbMU",rankingItemNumber:"rankingItemNumber___3eh0u",active:"active___3KjTZ",rankingItemTitle:"rankingItemTitle___3gCS2","alarm-data":"alarm-data___17B2L"}},70347:function(){},12541:function(G,k,o){"use strict";o.r(k),o.d(k,{default:function(){return ee}});var E=o(3182),O=o(57663),n=o(71577),p=o(2824),Z=o(94043),h=o.n(Z),b=o(67294),y=o(37174),u=o.n(y),T=o(13062),e=o(71230),t=o(89032),i=o(15746),l=o(58024),a=o(39144),r=o(13254),f=o(14277),m=o(39004),d=o(85893),_=function(){var P=[{item:"\u544A\u8B66\u4E00",count:40,percent:.4},{item:"\u544A\u8B66\u4E8C",count:21,percent:.21}];return(0,b.useEffect)(function(){var A=new m.kL({container:"AlarmDistributionPie",autoFit:!0,height:250});A.data(P),A.legend(!1),A.scale("percent",{formatter:function(I){return I=I*100+"%",I}}),A.coordinate("theta",{radius:.75,innerRadius:.6}),A.tooltip({showTitle:!1,showMarkers:!1,itemTpl:'<li class="g2-tooltip-list-item"><span style="background-color:{color};" class="g2-tooltip-marker"></span>{alarmName}: {value}</li>'}),A.annotation().text({position:["50%","50%"],content:"\u89E6\u53D1",style:{fontSize:14,fill:"#8c8c8c",textAlign:"center"},offsetY:-20}).text({position:["50%","50%"],content:"200",style:{fontSize:20,fill:"#8c8c8c",textAlign:"center"},offsetX:-10,offsetY:20}).text({position:["50%","50%"],content:"\u6B21",style:{fontSize:14,fill:"#8c8c8c",textAlign:"center"},offsetY:20,offsetX:20}),A.interval().adjust("stack").position("percent").color("item").label("percent",function(D){return{content:function(te){return"".concat(te.item,": ").concat(D*100,"%")}}}).tooltip("item*percent",function(D,I){return I=I*100+"%",{name:D,value:I}}),A.interaction("element-active"),A.render()},[]),(0,d.jsx)("div",{id:"AlarmDistributionPie"})},M=_,c=o(92077),g=o.n(c),x=function(P){return(0,d.jsxs)(e.Z,{gutter:10,className:"",children:[(0,d.jsx)(i.Z,{span:8,children:(0,d.jsx)(a.Z,{size:"default",title:"\u544A\u8B66\u6570\u636E",bordered:!1,bodyStyle:{padding:"10px 20px"},children:(0,d.jsxs)("div",{className:u().salesRank,children:[P.alarmDataRanking.length===0&&(0,d.jsx)(f.Z,{description:"\u6682\u65E0\u544A\u8B66\u6570\u636E",style:{marginTop:"20px"}}),P.alarmDataRanking.length!==0&&(0,d.jsx)("ul",{className:u().rankingList,children:P.alarmDataRanking.map(function(A,D){return(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:"".concat(u().rankingItemNumber," ").concat(D<3?u().active:""),children:D+1}),(0,d.jsx)("span",{className:u().rankingItemTitle,title:A.item,children:A.item}),(0,d.jsx)("span",{className:u().rankingItemCount,children:g()(A.count).format("0,0")})]},D+1)})})]})})}),(0,d.jsx)(i.Z,{span:8,children:(0,d.jsx)(a.Z,{size:"default",title:"\u9AD8\u5371\u7528\u6237",bordered:!1,bodyStyle:{padding:"10px 20px"},children:(0,d.jsxs)("div",{className:u().salesRank,children:[P.alarmUserRanking.length===0&&(0,d.jsx)(f.Z,{description:"\u6682\u65E0\u544A\u8B66\u5206\u5E03\u6570\u636E",style:{marginTop:"20px"}}),P.alarmUserRanking.length!==0&&(0,d.jsx)("ul",{className:u().rankingList,children:P.alarmUserRanking.map(function(A,D){return(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:"".concat(u().rankingItemNumber," ").concat(D<3?u().active:""),children:D+1}),(0,d.jsx)("span",{className:u().rankingItemTitle,title:A.userName,children:A.userName}),(0,d.jsxs)("span",{className:u().rankingItemCount,children:[g()(A.alarmCount).format("0,0"),"\u6B21"]})]},D+1)})})]})})}),(0,d.jsx)(i.Z,{span:8,children:(0,d.jsx)(a.Z,{size:"default",title:"\u544A\u8B66\u5206\u5E03",bordered:!1,bodyStyle:{padding:"10px 20px"},children:P.alarmDataRanking.length>0?(0,d.jsx)(M,{}):(0,d.jsx)("div",{className:u().salesRank,children:(0,d.jsx)(f.Z,{style:{marginTop:"20px"}})})})})]})},s=x,v=o(47369),Y=o(11849),K=o(21704);function H(R){return N.apply(this,arguments)}function N(){return N=(0,E.Z)(h().mark(function R(P){return h().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",(0,K.WY)("/api/skyflying/getAlarmData",(0,Y.Z)({method:"GET"},P||{})));case 1:case"end":return D.stop()}},R)})),N.apply(this,arguments)}function C(R){return B.apply(this,arguments)}function B(){return B=(0,E.Z)(h().mark(function R(P){return h().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",(0,K.WY)("/api/skyflying/getUserAlarmData",(0,Y.Z)({method:"GET"},P||{})));case 1:case"end":return D.stop()}},R)})),B.apply(this,arguments)}var J=o(2335),F=o(24480),W=function(){var P=(0,b.useState)([]),A=(0,p.Z)(P,2),D=A[0],I=A[1],te=(0,b.useState)([]),ie=(0,p.Z)(te,2),se=ie[0],oe=ie[1],ne=(0,b.useState)(0),V=(0,p.Z)(ne,2),he=V[0],ce=V[1],ge=(0,b.useState)([]),ue=(0,p.Z)(ge,2),ve=ue[0],fe=ue[1],pe=(0,b.useState)({pageNo:1,pageSize:30}),de=(0,p.Z)(pe,2),S=de[0],be=de[1],U=[{title:"\u7528\u6237",dataIndex:"userName",key:"address",align:"center",search:!1},{title:"\u89E6\u53D1\u6B21\u6570",dataIndex:"matchCount",key:"age",search:!1,align:"center",render:function(j,w){return(0,d.jsx)("div",{className:"danger",children:w.matchCount})}},{title:"\u6700\u540E\u89E6\u53D1\u65F6\u95F4",dataIndex:"originalTime",key:"address",search:!1,align:"center"},{title:"\u547D\u4E2D\u89C4\u5219ID",dataIndex:"matchRuleId",key:"matchRuleId",search:!1,align:"center"},{title:"\u64CD\u4F5C",key:"action",align:"center",search:!1,render:function(){return[(0,d.jsx)(n.Z,{type:"link",size:"small",onClick:function(){},children:"\u5904\u7F6E"},"management")]}}],ye=function(){var L=(0,E.Z)(h().mark(function j(){var w,z,Q;return h().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,H();case 2:w=X.sent,z=w.data,Q=z.map(function(re){return{item:re.alarmName,count:parseInt(re.alarmData),percent:parseInt(re.alarmData)/100}}),I(Q);case 6:case"end":return X.stop()}},j)}));return function(){return L.apply(this,arguments)}}();function ae(L){(0,J.sF)(L).then(function(j){var w=j.data,z=JSON.parse(w);if(z){ce(z.total);var Q=JSON.parse(z.rows);fe(Q.map(function($){return $.id=F.Z.uuid(),$}))}})}var _e=function(){var L=(0,E.Z)(h().mark(function j(){var w,z;return h().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,C();case 2:w=$.sent,z=w.data,oe(z);case 5:case"end":return $.stop()}},j)}));return function(){return L.apply(this,arguments)}}();return(0,b.useEffect)(function(){ye().then(),_e().then(),ae(S)},[]),(0,d.jsxs)("div",{className:u().alarm,children:[(0,d.jsx)(s,{alarmDataRanking:D,alarmUserRanking:se}),(0,d.jsx)(v.ZP,{headerTitle:"\u544A\u8B66\u4FE1\u606F\u5217\u8868",className:"mt-10",columns:U,rowKey:"key",search:!1,pagination:{pageSize:S.pageSize,current:S.pageNo,total:he,onChange:function(j,w){be({pageNo:j,pageSize:w}),ae({pageNo:j,pageSize:w})}},dataSource:ve})]})},ee=W},2335:function(G,k,o){"use strict";o.d(k,{rO:function(){return h},cD:function(){return y},sF:function(){return T}});var E=o(11849),O=o(3182),n=o(94043),p=o.n(n),Z=o(32773);function h(t){return b.apply(this,arguments)}function b(){return b=(0,O.Z)(p().mark(function t(i){return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,Z.WY)("/api/skyflying/getUserNameAnomalyDetectionInfo",(0,E.Z)({method:"GET"},i||{})));case 1:case"end":return a.stop()}},t)})),b.apply(this,arguments)}function y(t,i){return u.apply(this,arguments)}function u(){return u=(0,O.Z)(p().mark(function t(i,l){return p().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,Z.WY)("/api/skyflying/getAllAlarmInfoDetailByUserName",(0,E.Z)({method:"GET",params:i||{}},l||{})));case 1:case"end":return r.stop()}},t)})),u.apply(this,arguments)}function T(t,i){return e.apply(this,arguments)}function e(){return e=(0,O.Z)(p().mark(function t(i,l){return p().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,Z.WY)("/api/skyflying/getAnomalyDetectionInfoByGroupByUserName",(0,E.Z)({method:"GET",params:i||{}},l||{})));case 1:case"end":return r.stop()}},t)})),e.apply(this,arguments)}},24480:function(G,k,o){"use strict";o.d(k,{Z:function(){return n}});var E=o(69610),O=o(54941),n=function(){function p(){(0,E.Z)(this,p)}return(0,O.Z)(p,null,[{key:"timeStampToTime",value:function(h){var b=new Date(parseInt(h));return b.toJSON().substring(0,10).replace("T","")}},{key:"getLocalTime",value:function(h){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY-mm-dd HH:MM:SS",y,u={"Y+":h.getFullYear().toString(),"m+":(h.getMonth()+1).toString(),"d+":h.getDate().toString(),"H+":h.getHours().toString(),"M+":h.getMinutes().toString(),"S+":h.getSeconds().toString()},T=b;for(var e in u)y=new RegExp("("+e+")").exec(b),y&&(T=T.replace(y[1],y[1].length==1?u[e]:u[e].padStart(y[1].length,"0")));return T}},{key:"uuid",value:function(){for(var h=[],b="0123456789abcdef",y=0;y<36;y++)h[y]=b.substr(Math.floor(Math.random()*16),1);return h[14]="4",h[19]=b.substr(h[19]&3|8,1),h[8]=h[13]=h[18]=h[23]="-",h.join("").replace(new RegExp(/(-)/g),"")}},{key:"getRangeTime",value:function(h,b){for(var y=[],u=h-1;u>=0;u--){var T=void 0;u===h-1?T=new Date(Date.now()-u*24*60*60*1e3).setHours(0,0,1,0):T=new Date(Date.now()-u*24*60*60*1e3).setHours(23,59,59,999),b?y.push(p.getLocalTime(new Date(T),b)):y.push(T)}return y}},{key:"getRangeStartAndEndTime",value:function(h,b){for(var y=[],u=h-1;u>=0;u--){var T=void 0;u===h-1?T=new Date(Date.now()-u*24*60*60*1e3).setHours(0,0,0,0):u===0?T=new Date(Date.now()-(u-1)*24*60*60*1e3).setHours(0,0,0,0):T=new Date(Date.now()-u*24*60*60*1e3).setHours(23,59,59,999),b?y.push(p.getLocalTime(new Date(T),b)):y.push(T)}return[y[0],y[h-1]]}}]),p}();n.arrayDeDuplication=function(p){return Array.from(new Set(p))}},39144:function(G,k,o){"use strict";o.d(k,{Z:function(){return M}});var E=o(96156),O=o(22122),n=o(67294),p=o(94184),Z=o.n(p),h=o(98423),b=o(65632),y=function(c,g){var x={};for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&g.indexOf(s)<0&&(x[s]=c[s]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,s=Object.getOwnPropertySymbols(c);v<s.length;v++)g.indexOf(s[v])<0&&Object.prototype.propertyIsEnumerable.call(c,s[v])&&(x[s[v]]=c[s[v]]);return x},u=function(g){var x=g.prefixCls,s=g.className,v=g.hoverable,Y=v===void 0?!0:v,K=y(g,["prefixCls","className","hoverable"]);return n.createElement(b.C,null,function(H){var N=H.getPrefixCls,C=N("card",x),B=Z()("".concat(C,"-grid"),s,(0,E.Z)({},"".concat(C,"-grid-hoverable"),Y));return n.createElement("div",(0,O.Z)({},K,{className:B}))})},T=u,e=function(c,g){var x={};for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&g.indexOf(s)<0&&(x[s]=c[s]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,s=Object.getOwnPropertySymbols(c);v<s.length;v++)g.indexOf(s[v])<0&&Object.prototype.propertyIsEnumerable.call(c,s[v])&&(x[s[v]]=c[s[v]]);return x},t=function(g){return n.createElement(b.C,null,function(x){var s=x.getPrefixCls,v=g.prefixCls,Y=g.className,K=g.avatar,H=g.title,N=g.description,C=e(g,["prefixCls","className","avatar","title","description"]),B=s("card",v),J=Z()("".concat(B,"-meta"),Y),F=K?n.createElement("div",{className:"".concat(B,"-meta-avatar")},K):null,W=H?n.createElement("div",{className:"".concat(B,"-meta-title")},H):null,ee=N?n.createElement("div",{className:"".concat(B,"-meta-description")},N):null,R=W||ee?n.createElement("div",{className:"".concat(B,"-meta-detail")},W,ee):null;return n.createElement("div",(0,O.Z)({},C,{className:J}),F,R)})},i=t,l=o(51752),a=o(71230),r=o(15746),f=o(97647),m=function(c,g){var x={};for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&g.indexOf(s)<0&&(x[s]=c[s]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,s=Object.getOwnPropertySymbols(c);v<s.length;v++)g.indexOf(s[v])<0&&Object.prototype.propertyIsEnumerable.call(c,s[v])&&(x[s[v]]=c[s[v]]);return x};function d(c){var g=c.map(function(x,s){return n.createElement("li",{style:{width:"".concat(100/c.length,"%")},key:"action-".concat(s)},n.createElement("span",null,x))});return g}var _=n.forwardRef(function(c,g){var x,s,v=n.useContext(b.E_),Y=v.getPrefixCls,K=v.direction,H=n.useContext(f.Z),N=function(me){var q;(q=c.onTabChange)===null||q===void 0||q.call(c,me)},C=function(){var me;return n.Children.forEach(c.children,function(q){q&&q.type&&q.type===T&&(me=!0)}),me},B=c.prefixCls,J=c.className,F=c.extra,W=c.headStyle,ee=W===void 0?{}:W,R=c.bodyStyle,P=R===void 0?{}:R,A=c.title,D=c.loading,I=c.bordered,te=I===void 0?!0:I,ie=c.size,se=c.type,oe=c.cover,ne=c.actions,V=c.tabList,he=c.children,ce=c.activeTabKey,ge=c.defaultActiveTabKey,ue=c.tabBarExtraContent,ve=c.hoverable,fe=c.tabProps,pe=fe===void 0?{}:fe,de=m(c,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),S=Y("card",B),be=P.padding===0||P.padding==="0px"?{padding:24}:void 0,U=n.createElement("div",{className:"".concat(S,"-loading-block")}),ye=n.createElement("div",{className:"".concat(S,"-loading-content"),style:be},n.createElement(a.Z,{gutter:8},n.createElement(r.Z,{span:22},U)),n.createElement(a.Z,{gutter:8},n.createElement(r.Z,{span:8},U),n.createElement(r.Z,{span:15},U)),n.createElement(a.Z,{gutter:8},n.createElement(r.Z,{span:6},U),n.createElement(r.Z,{span:18},U)),n.createElement(a.Z,{gutter:8},n.createElement(r.Z,{span:13},U),n.createElement(r.Z,{span:9},U)),n.createElement(a.Z,{gutter:8},n.createElement(r.Z,{span:4},U),n.createElement(r.Z,{span:3},U),n.createElement(r.Z,{span:16},U))),ae=ce!==void 0,_e=(0,O.Z)((0,O.Z)({},pe),(x={},(0,E.Z)(x,ae?"activeKey":"defaultActiveKey",ae?ce:ge),(0,E.Z)(x,"tabBarExtraContent",ue),x)),L,j=V&&V.length?n.createElement(l.Z,(0,O.Z)({size:"large"},_e,{className:"".concat(S,"-head-tabs"),onChange:N}),V.map(function(le){return n.createElement(l.Z.TabPane,{tab:le.tab,disabled:le.disabled,key:le.key})})):null;(A||F||j)&&(L=n.createElement("div",{className:"".concat(S,"-head"),style:ee},n.createElement("div",{className:"".concat(S,"-head-wrapper")},A&&n.createElement("div",{className:"".concat(S,"-head-title")},A),F&&n.createElement("div",{className:"".concat(S,"-extra")},F)),j));var w=oe?n.createElement("div",{className:"".concat(S,"-cover")},oe):null,z=n.createElement("div",{className:"".concat(S,"-body"),style:P},D?ye:he),Q=ne&&ne.length?n.createElement("ul",{className:"".concat(S,"-actions")},d(ne)):null,$=(0,h.Z)(de,["onTabChange"]),X=ie||H,re=Z()(S,(s={},(0,E.Z)(s,"".concat(S,"-loading"),D),(0,E.Z)(s,"".concat(S,"-bordered"),te),(0,E.Z)(s,"".concat(S,"-hoverable"),ve),(0,E.Z)(s,"".concat(S,"-contain-grid"),C()),(0,E.Z)(s,"".concat(S,"-contain-tabs"),V&&V.length),(0,E.Z)(s,"".concat(S,"-").concat(X),X),(0,E.Z)(s,"".concat(S,"-type-").concat(se),!!se),(0,E.Z)(s,"".concat(S,"-rtl"),K==="rtl"),s),J);return n.createElement("div",(0,O.Z)({ref:g},$,{className:re}),L,w,z,Q)});_.Grid=T,_.Meta=i;var M=_},58024:function(G,k,o){"use strict";var E=o(38663),O=o.n(E),n=o(70347),p=o.n(n),Z=o(18106),h=o(13062),b=o(89032)},92077:function(G,k,o){var E,O;/*! @preserve
* numeral.js
* version : 2.0.6
* author : Adam Draper
* license : MIT
* http://adamwdraper.github.com/Numeral-js/
*/(function(n,p){E=p,O=typeof E=="function"?E.call(k,o,k,G):E,O!==void 0&&(G.exports=O)})(this,function(){var n,p,Z="2.0.6",h={},b={},y={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:y.currentLocale,zeroFormat:y.zeroFormat,nullFormat:y.nullFormat,defaultFormat:y.defaultFormat,scalePercentBy100:y.scalePercentBy100};function T(e,t){this._input=e,this._value=t}return n=function(e){var t,i,l,a;if(n.isNumeral(e))t=e.value();else if(e===0||typeof e=="undefined")t=0;else if(e===null||p.isNaN(e))t=null;else if(typeof e=="string")if(u.zeroFormat&&e===u.zeroFormat)t=0;else if(u.nullFormat&&e===u.nullFormat||!e.replace(/[^0-9]+/g,"").length)t=null;else{for(i in h)if(a=typeof h[i].regexps.unformat=="function"?h[i].regexps.unformat():h[i].regexps.unformat,a&&e.match(a)){l=h[i].unformat;break}l=l||n._.stringToNumber,t=l(e)}else t=Number(e)||null;return new T(e,t)},n.version=Z,n.isNumeral=function(e){return e instanceof T},n._=p={numberToFormat:function(e,t,i){var l=b[n.options.currentLocale],a=!1,r=!1,f=0,m="",d=1e12,_=1e9,M=1e6,c=1e3,g="",x=!1,s,v,Y,K,H,N,C,B,J,F;if(e=e||0,v=Math.abs(e),n._.includes(t,"(")?(a=!0,t=t.replace(/[\(|\)]/g,"")):(n._.includes(t,"+")||n._.includes(t,"-"))&&(B=n._.includes(t,"+")?t.indexOf("+"):e<0?t.indexOf("-"):-1,t=t.replace(/[\+|\-]/g,"")),n._.includes(t,"a")&&(s=t.match(/a(k|m|b|t)?/),s=s?s[1]:!1,n._.includes(t," a")&&(m=" "),t=t.replace(new RegExp(m+"a[kmbt]?"),""),v>=d&&!s||s==="t"?(m+=l.abbreviations.trillion,e=e/d):v<d&&v>=_&&!s||s==="b"?(m+=l.abbreviations.billion,e=e/_):v<_&&v>=M&&!s||s==="m"?(m+=l.abbreviations.million,e=e/M):(v<M&&v>=c&&!s||s==="k")&&(m+=l.abbreviations.thousand,e=e/c)),n._.includes(t,"[.]")&&(r=!0,t=t.replace("[.]",".")),N=e.toString().split(".")[0],C=t.split(".")[1],J=t.indexOf(","),f=(t.split(".")[0].split(",")[0].match(/0/g)||[]).length,C?(n._.includes(C,"[")?(C=C.replace("]",""),C=C.split("["),g=n._.toFixed(e,C[0].length+C[1].length,i,C[1].length)):g=n._.toFixed(e,C.length,i),N=g.split(".")[0],n._.includes(g,".")?g=l.delimiters.decimal+g.split(".")[1]:g="",r&&Number(g.slice(1))===0&&(g="")):N=n._.toFixed(e,0,i),m&&!s&&Number(N)>=1e3&&m!==l.abbreviations.trillion)switch(N=String(Number(N)/1e3),m){case l.abbreviations.thousand:m=l.abbreviations.million;break;case l.abbreviations.million:m=l.abbreviations.billion;break;case l.abbreviations.billion:m=l.abbreviations.trillion;break}if(n._.includes(N,"-")&&(N=N.slice(1),x=!0),N.length<f)for(var W=f-N.length;W>0;W--)N="0"+N;return J>-1&&(N=N.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+l.delimiters.thousands)),t.indexOf(".")===0&&(N=""),F=N+g+(m||""),a?F=(a&&x?"(":"")+F+(a&&x?")":""):B>=0?F=B===0?(x?"-":"+")+F:F+(x?"-":"+"):x&&(F="-"+F),F},stringToNumber:function(e){var t=b[u.currentLocale],i=e,l={thousand:3,million:6,billion:9,trillion:12},a,r,f,m;if(u.zeroFormat&&e===u.zeroFormat)r=0;else if(u.nullFormat&&e===u.nullFormat||!e.replace(/[^0-9]+/g,"").length)r=null;else{r=1,t.delimiters.decimal!=="."&&(e=e.replace(/\./g,"").replace(t.delimiters.decimal,"."));for(a in l)if(m=new RegExp("[^a-zA-Z]"+t.abbreviations[a]+"(?:\\)|(\\"+t.currency.symbol+")?(?:\\))?)?$"),i.match(m)){r*=Math.pow(10,l[a]);break}r*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),r*=Number(e)}return r},isNaN:function(e){return typeof e=="number"&&isNaN(e)},includes:function(e,t){return e.indexOf(t)!==-1},insert:function(e,t,i){return e.slice(0,i)+t+e.slice(i)},reduce:function(e,t){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof t!="function")throw new TypeError(t+" is not a function");var i=Object(e),l=i.length>>>0,a=0,r;if(arguments.length===3)r=arguments[2];else{for(;a<l&&!(a in i);)a++;if(a>=l)throw new TypeError("Reduce of empty array with no initial value");r=i[a++]}for(;a<l;a++)a in i&&(r=t(r,i[a],a,i));return r},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(t,i){var l=p.multiplier(i);return t>l?t:l},1)},toFixed:function(e,t,i,l){var a=e.toString().split("."),r=t-(l||0),f,m,d,_;return a.length===2?f=Math.min(Math.max(a[1].length,r),t):f=r,d=Math.pow(10,f),_=(i(e+"e+"+f)/d).toFixed(f),l>t-f&&(m=new RegExp("\\.?0{1,"+(l-(t-f))+"}$"),_=_.replace(m,"")),_}},n.options=u,n.formats=h,n.locales=b,n.locale=function(e){return e&&(u.currentLocale=e.toLowerCase()),u.currentLocale},n.localeData=function(e){if(!e)return b[u.currentLocale];if(e=e.toLowerCase(),!b[e])throw new Error("Unknown locale : "+e);return b[e]},n.reset=function(){for(var e in y)u[e]=y[e]},n.zeroFormat=function(e){u.zeroFormat=typeof e=="string"?e:null},n.nullFormat=function(e){u.nullFormat=typeof e=="string"?e:null},n.defaultFormat=function(e){u.defaultFormat=typeof e=="string"?e:"0.0"},n.register=function(e,t,i){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=i,i},n.validate=function(e,t){var i,l,a,r,f,m,d,_;if(typeof e!="string"&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),e=e.trim(),e.match(/^\d+$/))return!0;if(e==="")return!1;try{d=n.localeData(t)}catch(M){d=n.localeData(n.locale())}return a=d.currency.symbol,f=d.abbreviations,i=d.delimiters.decimal,d.delimiters.thousands==="."?l="\\.":l=d.delimiters.thousands,_=e.match(/^[^\d]+/),_!==null&&(e=e.substr(1),_[0]!==a)||(_=e.match(/[^\d]+$/),_!==null&&(e=e.slice(0,-1),_[0]!==f.thousand&&_[0]!==f.million&&_[0]!==f.billion&&_[0]!==f.trillion))?!1:(m=new RegExp(l+"{2}"),e.match(/[^\d.,]/g)?!1:(r=e.split(i),r.length>2?!1:r.length<2?!!r[0].match(/^\d+.*\d$/)&&!r[0].match(m):r[0].length===1?!!r[0].match(/^\d+$/)&&!r[0].match(m)&&!!r[1].match(/^\d+$/):!!r[0].match(/^\d+.*\d$/)&&!r[0].match(m)&&!!r[1].match(/^\d+$/)))},n.fn=T.prototype={clone:function(){return n(this)},format:function(e,t){var i=this._value,l=e||u.defaultFormat,a,r,f;if(t=t||Math.round,i===0&&u.zeroFormat!==null)r=u.zeroFormat;else if(i===null&&u.nullFormat!==null)r=u.nullFormat;else{for(a in h)if(l.match(h[a].regexps.format)){f=h[a].format;break}f=f||n._.numberToFormat,r=f(i,l,t)}return r},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var t=p.correctionFactor.call(null,this._value,e);function i(l,a,r,f){return l+Math.round(t*a)}return this._value=p.reduce([this._value,e],i,0)/t,this},subtract:function(e){var t=p.correctionFactor.call(null,this._value,e);function i(l,a,r,f){return l-Math.round(t*a)}return this._value=p.reduce([e],i,Math.round(this._value*t))/t,this},multiply:function(e){function t(i,l,a,r){var f=p.correctionFactor(i,l);return Math.round(i*f)*Math.round(l*f)/Math.round(f*f)}return this._value=p.reduce([this._value,e],t,1),this},divide:function(e){function t(i,l,a,r){var f=p.correctionFactor(i,l);return Math.round(i*f)/Math.round(l*f)}return this._value=p.reduce([this._value,e],t),this},difference:function(e){return Math.abs(n(this._value).subtract(e).value())}},n.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return~~(e%100/10)==1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"},currency:{symbol:"$"}}),function(){n.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,t,i){var l=n._.includes(t," BPS")?" ":"",a;return e=e*1e4,t=t.replace(/\s?BPS/,""),a=n._.numberToFormat(e,t,i),n._.includes(a,")")?(a=a.split(""),a.splice(-1,0,l+"BPS"),a=a.join("")):a=a+l+"BPS",a},unformat:function(e){return+(n._.stringToNumber(e)*1e-4).toFixed(15)}})}(),function(){var e={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},t={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},i=e.suffixes.concat(t.suffixes.filter(function(a){return e.suffixes.indexOf(a)<0})),l=i.join("|");l="("+l.replace("B","B(?!PS)")+")",n.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(l)},format:function(a,r,f){var m,d=n._.includes(r,"ib")?t:e,_=n._.includes(r," b")||n._.includes(r," ib")?" ":"",M,c,g;for(r=r.replace(/\s?i?b/,""),M=0;M<=d.suffixes.length;M++)if(c=Math.pow(d.base,M),g=Math.pow(d.base,M+1),a===null||a===0||a>=c&&a<g){_+=d.suffixes[M],c>0&&(a=a/c);break}return m=n._.numberToFormat(a,r,f),m+_},unformat:function(a){var r=n._.stringToNumber(a),f,m;if(r){for(f=e.suffixes.length-1;f>=0;f--){if(n._.includes(a,e.suffixes[f])){m=Math.pow(e.base,f);break}if(n._.includes(a,t.suffixes[f])){m=Math.pow(t.base,f);break}}r*=m||1}return r}})}(),function(){n.register("format","currency",{regexps:{format:/(\$)/},format:function(e,t,i){var l=n.locales[n.options.currentLocale],a={before:t.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:t.match(/([\+|\-|\)|\s|\$]*)$/)[0]},r,f,m;for(t=t.replace(/\s?\$\s?/,""),r=n._.numberToFormat(e,t,i),e>=0?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):e<0&&!n._.includes(a.before,"-")&&!n._.includes(a.before,"(")&&(a.before="-"+a.before),m=0;m<a.before.length;m++)switch(f=a.before[m],f){case"$":r=n._.insert(r,l.currency.symbol,m);break;case" ":r=n._.insert(r," ",m+l.currency.symbol.length-1);break}for(m=a.after.length-1;m>=0;m--)switch(f=a.after[m],f){case"$":r=m===a.after.length-1?r+l.currency.symbol:n._.insert(r,l.currency.symbol,-(a.after.length-(1+m)));break;case" ":r=m===a.after.length-1?r+" ":n._.insert(r," ",-(a.after.length-(1+m)+l.currency.symbol.length-1));break}return r}})}(),function(){n.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,t,i){var l,a=typeof e=="number"&&!n._.isNaN(e)?e.toExponential():"0e+0",r=a.split("e");return t=t.replace(/e[\+|\-]{1}0/,""),l=n._.numberToFormat(Number(r[0]),t,i),l+"e"+r[1]},unformat:function(e){var t=n._.includes(e,"e+")?e.split("e+"):e.split("e-"),i=Number(t[0]),l=Number(t[1]);l=n._.includes(e,"e-")?l*=-1:l;function a(r,f,m,d){var _=n._.correctionFactor(r,f),M=r*_*(f*_)/(_*_);return M}return n._.reduce([i,Math.pow(10,l)],a,1)}})}(),function(){n.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,t,i){var l=n.locales[n.options.currentLocale],a,r=n._.includes(t," o")?" ":"";return t=t.replace(/\s?o/,""),r+=l.ordinal(e),a=n._.numberToFormat(e,t,i),a+r}})}(),function(){n.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,t,i){var l=n._.includes(t," %")?" ":"",a;return n.options.scalePercentBy100&&(e=e*100),t=t.replace(/\s?\%/,""),a=n._.numberToFormat(e,t,i),n._.includes(a,")")?(a=a.split(""),a.splice(-1,0,l+"%"),a=a.join("")):a=a+l+"%",a},unformat:function(e){var t=n._.stringToNumber(e);return n.options.scalePercentBy100?t*.01:t}})}(),function(){n.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,i){var l=Math.floor(e/60/60),a=Math.floor((e-l*60*60)/60),r=Math.round(e-l*60*60-a*60);return l+":"+(a<10?"0"+a:a)+":"+(r<10?"0"+r:r)},unformat:function(e){var t=e.split(":"),i=0;return t.length===3?(i=i+Number(t[0])*60*60,i=i+Number(t[1])*60,i=i+Number(t[2])):t.length===2&&(i=i+Number(t[0])*60,i=i+Number(t[1])),Number(i)}})}(),n})}}]);
