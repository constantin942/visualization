(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[310],{5966:function(N,L,o){"use strict";var S=o(22122),b=o(81253),F=o(67294),d=o(30885),K=["fieldProps","proFieldProps"],E=["fieldProps","proFieldProps"],h="text",C=function(p){var v=p.fieldProps,n=p.proFieldProps,s=(0,b.Z)(p,K);return F.createElement(d.Z,(0,S.Z)({mode:"edit",valueType:h,fieldProps:v,filedConfig:{valueType:h},proFieldProps:n},s))},T=function(p){var v=p.fieldProps,n=p.proFieldProps,s=(0,b.Z)(p,E);return F.createElement(d.Z,(0,S.Z)({mode:"edit",valueType:"password",fieldProps:v,proFieldProps:n,filedConfig:{valueType:h}},s))},M=C;M.Password=T,M.displayName="ProFormComponent",L.Z=M},97796:function(N){N.exports={table:"table___3lKck"}},24927:function(N,L,o){"use strict";o.r(L),o.d(L,{default:function(){return _}});var S=o(57663),b=o(71577),F=o(62350),d=o(75443),K=o(74379),E=o(38648),h=o(11849),C=o(2824),T=o(67294),M=o(97796),V=o.n(M),p=o(3182),v=o(94043),n=o.n(v),s=o(21704),c=o(80129),r=o.n(c);function e(j,D){return a.apply(this,arguments)}function a(){return a=(0,p.Z)(n().mark(function j(D,Z){return n().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,s.WY)("/api/skyflying/getAllMonitorTables",(0,h.Z)({method:"GET",params:D},Z||{})));case 1:case"end":return x.stop()}},j)})),a.apply(this,arguments)}function t(j,D){return i.apply(this,arguments)}function i(){return i=(0,p.Z)(n().mark(function j(D,Z){return n().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,s.WY)("/api/skyflying/updateMonitorTable?"+r().stringify(D),(0,h.Z)({method:"POST"},Z||{})));case 1:case"end":return x.stop()}},j)})),i.apply(this,arguments)}function l(j,D){return u.apply(this,arguments)}function u(){return u=(0,p.Z)(n().mark(function j(D,Z){return n().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,s.WY)("/api/skyflying/updateMonitorTable",(0,h.Z)({method:"GET",params:D},Z||{})));case 1:case"end":return x.stop()}},j)})),u.apply(this,arguments)}var m=o(71194),f=o(50146),O=o(5894),P=o(5966),g=o(85893);function A(j,D){var Z={labelCol:{span:6},wrapperCol:{span:20}},Q=(0,T.useState)(),x=(0,C.Z)(Q,2),H=x[0],G=x[1],W=(0,T.useRef)();return(0,T.useImperativeHandle)(D,function(){return{setInitValues:function(B){var R;G(B),(R=W.current)===null||R===void 0||R.setFieldsValue({tableDesc:B.tableDesc})}}}),(0,g.jsx)(f.Z,{width:400,title:"\u4FEE\u6539\u63CF\u8FF0",visible:j.visible,footer:[],onCancel:function(){return j.setVisible(!1)},children:(0,g.jsxs)(O.A,(0,h.Z)((0,h.Z)({formRef:W,layout:"horizontal"},Z),{},{onFinish:function(){var $=(0,p.Z)(n().mark(function B(R){return n().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:l({id:H==null?void 0:H.id,tableDesc:R.tableDesc}).then(function(){j.refresh(),j.setVisible(!1)});case 1:case"end":return Y.stop()}},B)}));return function(B){return $.apply(this,arguments)}}(),submitter:!1,children:[(0,g.jsx)(P.Z,{fieldProps:{placeholder:"\u8BF7\u8F93\u5165\u8868\u7684\u63CF\u8FF0\u6587\u5B57"},label:"\u63CF\u8FF0\u6587\u5B57",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u63CF\u8FF0\u6587\u5B57"}],name:"tableDesc"}),(0,g.jsx)(O.A.Group,{style:{textAlign:"center"},children:(0,g.jsx)(b.Z,{type:"primary",htmlType:"submit",className:"w-100",children:"\u786E\u8BA4\u4FEE\u6539"})})]}))})}var z=(0,T.forwardRef)(A),J=o(23210),ne=o(13312),y=o(49101),q=function(){var D=(0,T.useState)([]),Z=(0,C.Z)(D,2),Q=Z[0],x=Z[1],H=(0,T.useState)(0),G=(0,C.Z)(H,2),W=G[0],$=G[1],B=(0,T.useState)({}),R=(0,C.Z)(B,2),w=R[0],Y=R[1],oe=(0,T.useState)(!1),ie=(0,C.Z)(oe,2),le=ie[0],ue=ie[1],se=(0,T.useRef)(),ce=(0,T.useState)({pageNo:1,pageSize:10}),fe=(0,C.Z)(ce,2),X=fe[0],de=fe[1],ee=function(k){e(k).then(function(I){var te=I.data,U=JSON.parse(te);if(U&&U.rows){var ae=JSON.parse(U.rows);if(console.log(ae),ae&&ae.length>0){$(U.total),x(ae);return}}$(0),x([])})};(0,T.useEffect)(function(){ee((0,h.Z)({},X))},[]);var pe=[{title:"\u6570\u636E\u5E93\u5730\u5740",dataIndex:"dbAddress",align:"center"},{title:"\u6570\u636E\u5E93\u540D",dataIndex:"dbName",align:"center",ellipsis:!0},{title:"\u8868\u540D",dataIndex:"tableName",align:"center"},{title:"\u63CF\u8FF0",dataIndex:"tableDesc",align:"center"},{title:"\u72B6\u6001",align:"center",dataIndex:"isDelete",search:!1,initialValue:"0",valueEnum:{0:{text:"\u542F\u7528\u4E2D",status:"Success"},1:{text:"\u5DF2\u7981\u7528",status:"Error"}}},{title:"\u66F4\u65B0\u65F6\u95F4",key:"gmtModified",dataIndex:"gmtModified",align:"center",valueType:"dateTime",search:!1},{title:"\u64CD\u4F5C",key:"option",align:"center",valueType:"option",render:function(k,I){return[(0,g.jsx)(d.Z,{title:"\u60A8\u786E\u8BA4".concat(I.isDelete===0?"\u7981\u7528":"\u542F\u7528").concat(I.tableName,"\u8868\u5417\uFF1F"),placement:"top",onConfirm:function(){t({id:I.id,isDelete:I.isDelete===1?0:1}).then(function(U){var ae=U.code;ae===ne.Gh&&(E.Z.success({message:"\u66F4\u65B0\u6210\u529F\uFF01"}),ee((0,h.Z)((0,h.Z)({},X),w)))})},children:(0,g.jsx)("a",{className:I.isDelete===0?"danger":"",children:I.isDelete===0?"\u7981\u7528":"\u542F\u7528"})},"link"),(0,g.jsx)("a",{onClick:function(){var U;(U=se.current)===null||U===void 0||U.setInitValues(I),ue(!0)},children:"\u66F4\u65B0"},"update")]}}];return(0,g.jsxs)("div",{className:V().table,children:[(0,g.jsx)(J.ZP,{columns:pe,dataSource:Q,rowKey:"id",pagination:{showSizeChanger:!1,total:W,pageSize:X.pageSize,current:X.pageNo,onChange:function(k,I){var te={pageNo:k,pageSize:I};de(te),ee((0,h.Z)((0,h.Z)({},te),w))}},search:{},onSubmit:function(k){Y(k),ee((0,h.Z)((0,h.Z)({},X),k))},onReset:function(){ee((0,h.Z)((0,h.Z)({},X),w))},dateFormatter:"string",headerTitle:"\u5DF2\u6709\u6570\u636E\u5E93\u8868",toolBarRender:function(){return[(0,g.jsx)(b.Z,{icon:(0,g.jsx)(y.Z,{}),type:"primary",children:"\u65B0\u5EFA"},"button")]}}),(0,g.jsx)(z,{ref:se,visible:le,setVisible:ue,refresh:function(){ee((0,h.Z)((0,h.Z)({},X),w))}})]})},_=q},55798:function(N){"use strict";var L=String.prototype.replace,o=/%20/g,S={RFC1738:"RFC1738",RFC3986:"RFC3986"};N.exports={default:S.RFC3986,formatters:{RFC1738:function(b){return L.call(b,o,"+")},RFC3986:function(b){return String(b)}},RFC1738:S.RFC1738,RFC3986:S.RFC3986}},80129:function(N,L,o){"use strict";var S=o(58261),b=o(55235),F=o(55798);N.exports={formats:F,parse:b,stringify:S}},55235:function(N,L,o){"use strict";var S=o(12769),b=Object.prototype.hasOwnProperty,F=Array.isArray,d={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:S.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},K=function(v){return v.replace(/&#(\d+);/g,function(n,s){return String.fromCharCode(parseInt(s,10))})},E=function(v,n){return v&&typeof v=="string"&&n.comma&&v.indexOf(",")>-1?v.split(","):v},h="utf8=%26%2310003%3B",C="utf8=%E2%9C%93",T=function(n,s){var c={},r=s.ignoreQueryPrefix?n.replace(/^\?/,""):n,e=s.parameterLimit===Infinity?void 0:s.parameterLimit,a=r.split(s.delimiter,e),t=-1,i,l=s.charset;if(s.charsetSentinel)for(i=0;i<a.length;++i)a[i].indexOf("utf8=")===0&&(a[i]===C?l="utf-8":a[i]===h&&(l="iso-8859-1"),t=i,i=a.length);for(i=0;i<a.length;++i)if(i!==t){var u=a[i],m=u.indexOf("]="),f=m===-1?u.indexOf("="):m+1,O,P;f===-1?(O=s.decoder(u,d.decoder,l,"key"),P=s.strictNullHandling?null:""):(O=s.decoder(u.slice(0,f),d.decoder,l,"key"),P=S.maybeMap(E(u.slice(f+1),s),function(g){return s.decoder(g,d.decoder,l,"value")})),P&&s.interpretNumericEntities&&l==="iso-8859-1"&&(P=K(P)),u.indexOf("[]=")>-1&&(P=F(P)?[P]:P),b.call(c,O)?c[O]=S.combine(c[O],P):c[O]=P}return c},M=function(v,n,s,c){for(var r=c?n:E(n,s),e=v.length-1;e>=0;--e){var a,t=v[e];if(t==="[]"&&s.parseArrays)a=[].concat(r);else{a=s.plainObjects?Object.create(null):{};var i=t.charAt(0)==="["&&t.charAt(t.length-1)==="]"?t.slice(1,-1):t,l=parseInt(i,10);!s.parseArrays&&i===""?a={0:r}:!isNaN(l)&&t!==i&&String(l)===i&&l>=0&&s.parseArrays&&l<=s.arrayLimit?(a=[],a[l]=r):i!=="__proto__"&&(a[i]=r)}r=a}return r},V=function(n,s,c,r){if(!!n){var e=c.allowDots?n.replace(/\.([^.[]+)/g,"[$1]"):n,a=/(\[[^[\]]*])/,t=/(\[[^[\]]*])/g,i=c.depth>0&&a.exec(e),l=i?e.slice(0,i.index):e,u=[];if(l){if(!c.plainObjects&&b.call(Object.prototype,l)&&!c.allowPrototypes)return;u.push(l)}for(var m=0;c.depth>0&&(i=t.exec(e))!==null&&m<c.depth;){if(m+=1,!c.plainObjects&&b.call(Object.prototype,i[1].slice(1,-1))&&!c.allowPrototypes)return;u.push(i[1])}return i&&u.push("["+e.slice(i.index)+"]"),M(u,s,c,r)}},p=function(n){if(!n)return d;if(n.decoder!==null&&n.decoder!==void 0&&typeof n.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof n.charset!="undefined"&&n.charset!=="utf-8"&&n.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var s=typeof n.charset=="undefined"?d.charset:n.charset;return{allowDots:typeof n.allowDots=="undefined"?d.allowDots:!!n.allowDots,allowPrototypes:typeof n.allowPrototypes=="boolean"?n.allowPrototypes:d.allowPrototypes,allowSparse:typeof n.allowSparse=="boolean"?n.allowSparse:d.allowSparse,arrayLimit:typeof n.arrayLimit=="number"?n.arrayLimit:d.arrayLimit,charset:s,charsetSentinel:typeof n.charsetSentinel=="boolean"?n.charsetSentinel:d.charsetSentinel,comma:typeof n.comma=="boolean"?n.comma:d.comma,decoder:typeof n.decoder=="function"?n.decoder:d.decoder,delimiter:typeof n.delimiter=="string"||S.isRegExp(n.delimiter)?n.delimiter:d.delimiter,depth:typeof n.depth=="number"||n.depth===!1?+n.depth:d.depth,ignoreQueryPrefix:n.ignoreQueryPrefix===!0,interpretNumericEntities:typeof n.interpretNumericEntities=="boolean"?n.interpretNumericEntities:d.interpretNumericEntities,parameterLimit:typeof n.parameterLimit=="number"?n.parameterLimit:d.parameterLimit,parseArrays:n.parseArrays!==!1,plainObjects:typeof n.plainObjects=="boolean"?n.plainObjects:d.plainObjects,strictNullHandling:typeof n.strictNullHandling=="boolean"?n.strictNullHandling:d.strictNullHandling}};N.exports=function(v,n){var s=p(n);if(v===""||v===null||typeof v=="undefined")return s.plainObjects?Object.create(null):{};for(var c=typeof v=="string"?T(v,s):v,r=s.plainObjects?Object.create(null):{},e=Object.keys(c),a=0;a<e.length;++a){var t=e[a],i=V(t,c[t],s,typeof v=="string");r=S.merge(r,i,s)}return s.allowSparse===!0?r:S.compact(r)}},58261:function(N,L,o){"use strict";var S=o(37478),b=o(12769),F=o(55798),d=Object.prototype.hasOwnProperty,K={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,a){return e+"["+a+"]"},repeat:function(e){return e}},E=Array.isArray,h=String.prototype.split,C=Array.prototype.push,T=function(r,e){C.apply(r,E(e)?e:[e])},M=Date.prototype.toISOString,V=F.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:b.encode,encodeValuesOnly:!1,format:V,formatter:F.formatters[V],indices:!1,serializeDate:function(e){return M.call(e)},skipNulls:!1,strictNullHandling:!1},v=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},n={},s=function r(e,a,t,i,l,u,m,f,O,P,g,A,z,J,ne){for(var y=e,q=ne,_=0,j=!1;(q=q.get(n))!==void 0&&!j;){var D=q.get(e);if(_+=1,typeof D!="undefined"){if(D===_)throw new RangeError("Cyclic object value");j=!0}typeof q.get(n)=="undefined"&&(_=0)}if(typeof m=="function"?y=m(a,y):y instanceof Date?y=P(y):t==="comma"&&E(y)&&(y=b.maybeMap(y,function(le){return le instanceof Date?P(le):le})),y===null){if(i)return u&&!z?u(a,p.encoder,J,"key",g):a;y=""}if(v(y)||b.isBuffer(y)){if(u){var Z=z?a:u(a,p.encoder,J,"key",g);if(t==="comma"&&z){for(var Q=h.call(String(y),","),x="",H=0;H<Q.length;++H)x+=(H===0?"":",")+A(u(Q[H],p.encoder,J,"value",g));return[A(Z)+(E(y)&&Q.length===1?"[]":"")+"="+x]}return[A(Z)+"="+A(u(y,p.encoder,J,"value",g))]}return[A(a)+"="+A(String(y))]}var G=[];if(typeof y=="undefined")return G;var W;if(t==="comma"&&E(y))W=[{value:y.length>0?y.join(",")||null:void 0}];else if(E(m))W=m;else{var $=Object.keys(y);W=f?$.sort(f):$}for(var B=t==="comma"&&E(y)&&y.length===1?a+"[]":a,R=0;R<W.length;++R){var w=W[R],Y=typeof w=="object"&&typeof w.value!="undefined"?w.value:y[w];if(!(l&&Y===null)){var oe=E(y)?typeof t=="function"?t(B,w):B:B+(O?"."+w:"["+w+"]");ne.set(e,_);var ie=S();ie.set(n,ne),T(G,r(Y,oe,t,i,l,u,m,f,O,P,g,A,z,J,ie))}}return G},c=function(e){if(!e)return p;if(e.encoder!==null&&typeof e.encoder!="undefined"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var a=e.charset||p.charset;if(typeof e.charset!="undefined"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=F.default;if(typeof e.format!="undefined"){if(!d.call(F.formatters,e.format))throw new TypeError("Unknown format option provided.");t=e.format}var i=F.formatters[t],l=p.filter;return(typeof e.filter=="function"||E(e.filter))&&(l=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:p.addQueryPrefix,allowDots:typeof e.allowDots=="undefined"?p.allowDots:!!e.allowDots,charset:a,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:p.charsetSentinel,delimiter:typeof e.delimiter=="undefined"?p.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:p.encode,encoder:typeof e.encoder=="function"?e.encoder:p.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:p.encodeValuesOnly,filter:l,format:t,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:p.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:p.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:p.strictNullHandling}};N.exports=function(r,e){var a=r,t=c(e),i,l;typeof t.filter=="function"?(l=t.filter,a=l("",a)):E(t.filter)&&(l=t.filter,i=l);var u=[];if(typeof a!="object"||a===null)return"";var m;e&&e.arrayFormat in K?m=e.arrayFormat:e&&"indices"in e?m=e.indices?"indices":"repeat":m="indices";var f=K[m];i||(i=Object.keys(a)),t.sort&&i.sort(t.sort);for(var O=S(),P=0;P<i.length;++P){var g=i[P];t.skipNulls&&a[g]===null||T(u,s(a[g],g,f,t.strictNullHandling,t.skipNulls,t.encode?t.encoder:null,t.filter,t.sort,t.allowDots,t.serializeDate,t.format,t.formatter,t.encodeValuesOnly,t.charset,O))}var A=u.join(t.delimiter),z=t.addQueryPrefix===!0?"?":"";return t.charsetSentinel&&(t.charset==="iso-8859-1"?z+="utf8=%26%2310003%3B&":z+="utf8=%E2%9C%93&"),A.length>0?z+A:""}},12769:function(N,L,o){"use strict";var S=o(55798),b=Object.prototype.hasOwnProperty,F=Array.isArray,d=function(){for(var c=[],r=0;r<256;++r)c.push("%"+((r<16?"0":"")+r.toString(16)).toUpperCase());return c}(),K=function(r){for(;r.length>1;){var e=r.pop(),a=e.obj[e.prop];if(F(a)){for(var t=[],i=0;i<a.length;++i)typeof a[i]!="undefined"&&t.push(a[i]);e.obj[e.prop]=t}}},E=function(r,e){for(var a=e&&e.plainObjects?Object.create(null):{},t=0;t<r.length;++t)typeof r[t]!="undefined"&&(a[t]=r[t]);return a},h=function c(r,e,a){if(!e)return r;if(typeof e!="object"){if(F(r))r.push(e);else if(r&&typeof r=="object")(a&&(a.plainObjects||a.allowPrototypes)||!b.call(Object.prototype,e))&&(r[e]=!0);else return[r,e];return r}if(!r||typeof r!="object")return[r].concat(e);var t=r;return F(r)&&!F(e)&&(t=E(r,a)),F(r)&&F(e)?(e.forEach(function(i,l){if(b.call(r,l)){var u=r[l];u&&typeof u=="object"&&i&&typeof i=="object"?r[l]=c(u,i,a):r.push(i)}else r[l]=i}),r):Object.keys(e).reduce(function(i,l){var u=e[l];return b.call(i,l)?i[l]=c(i[l],u,a):i[l]=u,i},t)},C=function(r,e){return Object.keys(e).reduce(function(a,t){return a[t]=e[t],a},r)},T=function(c,r,e){var a=c.replace(/\+/g," ");if(e==="iso-8859-1")return a.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(a)}catch(t){return a}},M=function(r,e,a,t,i){if(r.length===0)return r;var l=r;if(typeof r=="symbol"?l=Symbol.prototype.toString.call(r):typeof r!="string"&&(l=String(r)),a==="iso-8859-1")return escape(l).replace(/%u[0-9a-f]{4}/gi,function(O){return"%26%23"+parseInt(O.slice(2),16)+"%3B"});for(var u="",m=0;m<l.length;++m){var f=l.charCodeAt(m);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||i===S.RFC1738&&(f===40||f===41)){u+=l.charAt(m);continue}if(f<128){u=u+d[f];continue}if(f<2048){u=u+(d[192|f>>6]+d[128|f&63]);continue}if(f<55296||f>=57344){u=u+(d[224|f>>12]+d[128|f>>6&63]+d[128|f&63]);continue}m+=1,f=65536+((f&1023)<<10|l.charCodeAt(m)&1023),u+=d[240|f>>18]+d[128|f>>12&63]+d[128|f>>6&63]+d[128|f&63]}return u},V=function(r){for(var e=[{obj:{o:r},prop:"o"}],a=[],t=0;t<e.length;++t)for(var i=e[t],l=i.obj[i.prop],u=Object.keys(l),m=0;m<u.length;++m){var f=u[m],O=l[f];typeof O=="object"&&O!==null&&a.indexOf(O)===-1&&(e.push({obj:l,prop:f}),a.push(O))}return K(e),r},p=function(r){return Object.prototype.toString.call(r)==="[object RegExp]"},v=function(r){return!r||typeof r!="object"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))},n=function(r,e){return[].concat(r,e)},s=function(r,e){if(F(r)){for(var a=[],t=0;t<r.length;t+=1)a.push(e(r[t]));return a}return e(r)};N.exports={arrayToObject:E,assign:C,combine:n,compact:V,decode:T,encode:M,isBuffer:v,isRegExp:p,maybeMap:s,merge:h}}}]);
