(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[142],{39236:function(C){C.exports={warning:"warning___3CjcC","warning__form-wrap":"warning__form-wrap___1uTFC",table:"table___1Dois"}},24811:function(C,W,n){"use strict";n.r(W),n.d(W,{default:function(){return K}});var k=n(66456),O=n(25887),q=n(57663),I=n(71577),m=n(3182),_=n(48736),$=n(27049),y=n(2824),G=n(94043),l=n.n(G),d=n(67294),R=n(39236),S=n.n(R),T=n(76570),U=n(25592),A=n(5894),B=n(64317),w=n(11849),z=n(25377);function J(f){return N.apply(this,arguments)}function N(){return N=(0,m.Z)(l().mark(function f(u){return l().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,z.WY)("/api/skyflying/getUserNameAnomalyDetectionInfo",(0,w.Z)({method:"GET"},u||{})));case 1:case"end":return o.stop()}},f)})),N.apply(this,arguments)}function P(f,u){return x.apply(this,arguments)}function x(){return x=(0,m.Z)(l().mark(function f(u,v){return l().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,z.WY)("/api/skyflying/getAnomalyDetectionInfo",(0,w.Z)({method:"GET",params:u||{}},v||{})));case 1:case"end":return g.stop()}},f)})),x.apply(this,arguments)}var e=n(85893),Y=function(){var u=(0,d.useRef)(),v=(0,d.useState)([]),o=(0,y.Z)(v,2),g=o[0],b=o[1],H=(0,d.useState)([]),D=(0,y.Z)(H,2),L=D[0],M=D[1],Q=(0,d.useState)({pageNo:1,pageSize:20,total:0}),E=(0,y.Z)(Q,2),p=E[0],F=E[1],V=[{title:"\u7528\u6237\u540D",dataIndex:"userName",key:"userName",width:"250px",align:"center"},{title:"\u5168\u5C40\u94FE\u8DEF\u8FFD\u8E2AID",dataIndex:"globalTraceId",key:"globalTraceId",align:"center"},{title:"\u62A5\u8B66\u5185\u5BB9",dataIndex:"alarmContent",key:"alarmContent",align:"center"}];function h(r){var t=r||p;P(t).then(function(a){var c=a.data;if(c){var s=JSON.parse(c);if(F(function(i){return{total:s.total,pageNo:i.pageNo,pageSize:i.pageSize}}),s){var j=JSON.parse(s.rows);console.log(j),M(j.map(function(i,Z){return i.id=Z,i}))}}})}var X=function(t){h(t)};return(0,d.useEffect)(function(){J().then(function(r){var t=r.data,a=JSON.parse(t);b(a)}),h()},[]),(0,e.jsxs)("div",{className:S().warning,children:[(0,e.jsxs)("div",{className:S()["warning__form-wrap"],children:[(0,e.jsx)($.Z,{orientation:"left",plain:!0,children:(0,e.jsx)(T.Z,{})}),(0,e.jsx)(A.A,{layout:"inline",formRef:u,size:"small",onFinish:function(){var r=(0,m.Z)(l().mark(function t(a){return l().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:X(a);case 1:case"end":return s.stop()}},t)}));return function(t){return r.apply(this,arguments)}}(),submitter:{render:function(){return[(0,e.jsx)(I.Z,{type:"primary",htmlType:"submit",icon:(0,e.jsx)(T.Z,{}),className:"br-5 w-80 fs-12",children:"\u67E5\u8BE2"},"edit"),(0,e.jsx)(I.Z,{type:"ghost",htmlType:"button",icon:(0,e.jsx)(U.Z,{}),onClick:function(){var a;(a=u.current)===null||a===void 0||a.resetFields(),h()},className:"br-5 w-80 fs-12",children:"\u91CD\u7F6E"},"reset")]}},children:(0,e.jsx)(A.A.Group,{children:(0,e.jsx)(B.Z,{options:g,placeholder:"userName",name:"userName",filedConfig:{},fieldProps:{}},"value")})})]}),(0,e.jsx)("div",{className:S().table,children:(0,e.jsx)(O.Z,{columns:V,dataSource:L,rowKey:"id",size:"middle",pagination:{current:p.pageNo,pageSize:p.pageSize,total:p.total,onChange:function(){var r=(0,m.Z)(l().mark(function a(c,s){return l().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,F(function(Z){return{pageSize:s,pageNo:c,total:Z.total}});case 2:setTimeout(function(){h({pageNo:c,pageSize:s})},200);case 3:case"end":return i.stop()}},a)}));function t(a,c){return r.apply(this,arguments)}return t}()}})})]})},K=Y}}]);
