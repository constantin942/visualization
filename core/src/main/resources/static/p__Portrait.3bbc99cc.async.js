(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[990],{45510:function(I,M,e){"use strict";e.d(M,{Z:function(){return O}});var Z=e(22122),y=e(28991),f=e(81253),t=e(67294),h=e(43985),D=e(66758),E=["proFieldProps","fieldProps"],$="date",k=t.forwardRef(function(i,r){var C=i.proFieldProps,x=i.fieldProps,s=(0,f.Z)(i,E),l=(0,t.useContext)(D.Z);return t.createElement(h.Z,(0,Z.Z)({ref:r,mode:"edit",valueType:$,fieldProps:(0,y.Z)({getPopupContainer:l.getPopupContainer},x),proFieldProps:C,filedConfig:{valueType:$,customLightMode:!0}},s))}),R=k,F=["proFieldProps","fieldProps"],d="dateWeek",g=t.forwardRef(function(i,r){var C=i.proFieldProps,x=i.fieldProps,s=(0,f.Z)(i,F),l=(0,t.useContext)(D.Z);return t.createElement(h.Z,(0,Z.Z)({ref:r,mode:"edit",valueType:d,fieldProps:(0,y.Z)({getPopupContainer:l.getPopupContainer},x),proFieldProps:C,filedConfig:{valueType:d,customLightMode:!0}},s))}),B=g,b=["proFieldProps","fieldProps"],n="dateMonth",u=t.forwardRef(function(i,r){var C=i.proFieldProps,x=i.fieldProps,s=(0,f.Z)(i,b),l=(0,t.useContext)(D.Z);return t.createElement(h.Z,(0,Z.Z)({ref:r,mode:"edit",valueType:n,fieldProps:(0,y.Z)({getPopupContainer:l.getPopupContainer},x),proFieldProps:C,filedConfig:{valueType:n,customLightMode:!0}},s))}),p=u,m=["fieldProps"],a="dateQuarter",W=t.forwardRef(function(i,r){var C=i.fieldProps,x=(0,f.Z)(i,m),s=(0,t.useContext)(D.Z);return t.createElement(h.Z,(0,Z.Z)({ref:r,mode:"edit",valueType:a,fieldProps:(0,y.Z)({getPopupContainer:s.getPopupContainer},C),filedConfig:{valueType:a,customLightMode:!0}},x))}),w=W,z=["proFieldProps","fieldProps"],N="dateYear",K=t.forwardRef(function(i,r){var C=i.proFieldProps,x=i.fieldProps,s=(0,f.Z)(i,z),l=(0,t.useContext)(D.Z);return t.createElement(h.Z,(0,Z.Z)({ref:r,mode:"edit",valueType:N,fieldProps:(0,y.Z)({getPopupContainer:l.getPopupContainer},x),proFieldProps:C,filedConfig:{valueType:N,customLightMode:!0}},s))}),A=K,j=R;j.Week=B,j.Month=p,j.Quarter=w,j.Year=A,j.displayName="ProFormComponent";var O=j},49027:function(I){I.exports={portrait:"portrait___2weew","portrait__form-wrap":"portrait__form-wrap___2wsdq",table:"table___95yq2"}},11136:function(I,M,e){"use strict";e.r(M),e.d(M,{default:function(){return x}});var Z=e(66456),y=e(78587),f=e(3182),t=e(48736),h=e(27049),D=e(57663),E=e(71577),$=e(74379),k=e(38648),R=e(2824),F=e(94043),d=e.n(F),g=e(67294),B=e(49027),b=e.n(B),n=e(76570),u=e(25592),p=e(5894),m=e(64317),a=e(45510),W=e(11849),w=e(25377);function z(s){return N.apply(this,arguments)}function N(){return N=(0,f.Z)(d().mark(function s(l){return d().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,w.WY)("/api/skyflying/getAllUserNameUserPortraitByVisitedTableEveryday",(0,W.Z)({method:"GET"},l||{})));case 1:case"end":return v.stop()}},s)})),N.apply(this,arguments)}function K(s){return A.apply(this,arguments)}function A(){return A=(0,f.Z)(d().mark(function s(l){return d().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,w.WY)("/api/skyflying/getAllVisitedTablePortraitByVisitedTableEveryday",(0,W.Z)({method:"GET"},l||{})));case 1:case"end":return v.stop()}},s)})),A.apply(this,arguments)}function j(s,l){return O.apply(this,arguments)}function O(){return O=(0,f.Z)(d().mark(function s(l,G){return d().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.abrupt("return",(0,w.WY)("/api/skyflying/getUserPortraitByVisitedTableEveryday",(0,W.Z)({method:"GET",params:l||{}},G||{})));case 1:case"end":return V.stop()}},s)})),O.apply(this,arguments)}var i=e(59975),r=e(85893),C=function(){var l=(0,g.useRef)(),G=(0,g.useState)([]),v=(0,R.Z)(G,2),V=v[0],q=v[1],ee=(0,g.useState)([]),J=(0,R.Z)(ee,2),re=J[0],te=J[1],ae=(0,g.useState)([]),H=(0,R.Z)(ae,2),ne=H[0],ie=H[1],se=(0,g.useState)({pageNo:1,pageSize:20,total:0}),X=(0,R.Z)(se,2),L=X[0],_=X[1],oe=[{title:"\u7528\u6237\u540D",dataIndex:"userName",key:"userName",align:"center"},{title:"\u8BBF\u95EE\u65E5\u671F\uFF08\u6309\u7167\u5929\u8BA1\u7B97\uFF09",dataIndex:"visitedDate",key:"visitedDate",align:"center"},{title:"\u8BBF\u95EE\u6B21\u6570",dataIndex:"visitedCount",key:"visitedCount",align:"center"},{title:"\u8BBF\u95EE\u8868",dataIndex:"visitedTable",key:"visitedTable",align:"center"},{title:"\u64CD\u4F5C\u7C7B\u578B",dataIndex:"dbType",key:"dbType",align:"center"},{title:"\u64CD\u4F5C",key:"action",width:120,align:"center",render:function(o){return(0,r.jsx)(E.Z,{size:"small",type:"link",danger:o.isDelete===0,onClick:function(){(0,i.ny)({ruleId:o.id,isDelete:o.isDelete===0?1:0}).then(function(S){var T=S.code;T==="0000"&&(k.Z.success({message:"\u64CD\u4F5C\u6210\u529F!",placement:"top"}),Y())})},children:o.isDelete===0?"\u7981\u7528":"\u542F\u7528"})}}];function Y(P){var o=P||L;j(o).then(function(c){var S=c.data;if(S){var T=JSON.parse(S);if(_(function(U){return{total:T.total,pageNo:U.pageNo,pageSize:U.pageSize}}),T){var Q=JSON.parse(T.rows);console.log(Q),ie(Q)}}})}var ue=function(o){Y(o)};return(0,g.useEffect)(function(){z().then(function(P){var o=P.data,c=JSON.parse(o);q(c)}),K().then(function(P){var o=P.data,c=JSON.parse(o);te(c)}),Y()},[]),(0,r.jsxs)("div",{className:b().portrait,children:[(0,r.jsxs)("div",{className:b()["portrait__form-wrap"],children:[(0,r.jsx)(h.Z,{orientation:"left",plain:!0,children:(0,r.jsx)(n.Z,{})}),(0,r.jsxs)(p.A,{layout:"inline",formRef:l,size:"small",onFinish:function(){var P=(0,f.Z)(d().mark(function o(c){return d().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:ue(c);case 1:case"end":return T.stop()}},o)}));return function(o){return P.apply(this,arguments)}}(),submitter:{render:function(){return[(0,r.jsx)(E.Z,{type:"primary",htmlType:"submit",icon:(0,r.jsx)(n.Z,{}),className:"br-5 w-80 fs-12",children:"\u67E5\u8BE2"},"edit"),(0,r.jsx)(E.Z,{type:"ghost",htmlType:"button",icon:(0,r.jsx)(u.Z,{}),onClick:function(){var c;(c=l.current)===null||c===void 0||c.resetFields(),Y()},className:"br-5 w-80 fs-12",children:"\u91CD\u7F6E"},"reset")]}},children:[(0,r.jsx)(p.A.Group,{children:(0,r.jsx)(m.Z,{options:V,placeholder:"userName",name:"userName",filedConfig:{},fieldProps:{}},"value")}),(0,r.jsx)(p.A.Group,{children:(0,r.jsx)(m.Z,{options:re,width:"sm",placeholder:"visitedTable",name:"visitedTable",filedConfig:{},fieldProps:{}},"value")}),(0,r.jsx)(p.A.Group,{children:(0,r.jsx)(a.Z,{width:"sm",fieldProps:{bordered:!0,placeholder:"visitedDate"},name:"visitedDate"})})]})]}),(0,r.jsx)("div",{className:b().table,children:(0,r.jsx)(y.Z,{columns:oe,dataSource:ne,rowKey:"id",size:"middle",pagination:{current:L.pageNo,pageSize:L.pageSize,total:L.total,onChange:function(){var P=(0,f.Z)(d().mark(function c(S,T){return d().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,_(function(le){return{pageSize:T,pageNo:S,total:le.total}});case 2:setTimeout(function(){Y({pageNo:S,pageSize:T})},200);case 3:case"end":return U.stop()}},c)}));function o(c,S){return P.apply(this,arguments)}return o}()}})})]})},x=C},59975:function(I,M,e){"use strict";e.d(M,{f2:function(){return D},MN:function(){return R},yb:function(){return d},ny:function(){return B}});var Z=e(11849),y=e(3182),f=e(94043),t=e.n(f),h=e(25377);function D(n,u){return E.apply(this,arguments)}function E(){return E=(0,y.Z)(t().mark(function n(u,p){return t().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,h.WY)("/api/skyflying/addUserPortraitByVisitedTableEverydayRule",(0,Z.Z)({method:"GET",params:u},p||{})));case 1:case"end":return a.stop()}},n)})),E.apply(this,arguments)}function $(n){return k.apply(this,arguments)}function k(){return k=_asyncToGenerator(_regeneratorRuntime.mark(function n(u){return _regeneratorRuntime.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",request("/api/skyflying/updateUserPortraitByVisitedTimeRule",_objectSpread({method:"GET"},u||{})));case 1:case"end":return m.stop()}},n)})),k.apply(this,arguments)}function R(n,u){return F.apply(this,arguments)}function F(){return F=(0,y.Z)(t().mark(function n(u,p){return t().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,h.WY)("/api/skyflying/addUserPortraitByVisitedTtimeRule",(0,Z.Z)({method:"GET",params:u},p||{})));case 1:case"end":return a.stop()}},n)})),F.apply(this,arguments)}function d(n,u){return g.apply(this,arguments)}function g(){return g=(0,y.Z)(t().mark(function n(u,p){return t().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,h.WY)("/api/skyflying/updateUserPortraitByVisitedTimeRule",(0,Z.Z)({method:"GET",params:u},p||{})));case 1:case"end":return a.stop()}},n)})),g.apply(this,arguments)}function B(n,u){return b.apply(this,arguments)}function b(){return b=(0,y.Z)(t().mark(function n(u,p){return t().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,h.WY)("/api/skyflying/updateUserPortraitByVisitedTableEverydayRule",(0,Z.Z)({method:"GET",params:u},p||{})));case 1:case"end":return a.stop()}},n)})),b.apply(this,arguments)}}}]);
