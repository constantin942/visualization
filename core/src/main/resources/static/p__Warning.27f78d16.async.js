(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[142],{39236:function(Z){Z.exports={warning:"warning___3CjcC","warning__form-wrap":"warning__form-wrap___1uTFC",table:"table___1Dois"}},24811:function(Z,C,e){"use strict";e.r(C),e.d(C,{default:function(){return Q}});var ie=e(20228),U=e(11382),le=e(66456),B=e(78587),ue=e(57663),W=e(71577),p=e(3182),oe=e(48736),J=e(27049),v=e(2824),P=e(94043),i=e.n(P),u=e(67294),Y=e(39236),y=e.n(Y),z=e(76570),b=e(25592),I=e(5894),K=e(64317),T=e(11849),A=e(25377);function H(d){return N.apply(this,arguments)}function N(){return N=(0,p.Z)(i().mark(function d(o){return i().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,A.WY)("/api/skyflying/getUserNameAnomalyDetectionInfo",(0,T.Z)({method:"GET"},o||{})));case 1:case"end":return l.stop()}},d)})),N.apply(this,arguments)}function L(d,o){return j.apply(this,arguments)}function j(){return j=(0,p.Z)(i().mark(function d(o,h){return i().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,A.WY)("/api/skyflying/getAnomalyDetectionInfo",(0,T.Z)({method:"GET",params:o||{}},h||{})));case 1:case"end":return m.stop()}},d)})),j.apply(this,arguments)}var a=e(85893),M=function(){var o=(0,u.useRef)(),h=(0,u.useState)([]),l=(0,v.Z)(h,2),m=l[0],V=l[1],X=(0,u.useState)([]),D=(0,v.Z)(X,2),k=D[0],E=D[1],q=(0,u.useState)(0),O=(0,v.Z)(q,2),_=O[0],ee=O[1],ne=(0,u.useState)(!1),w=(0,v.Z)(ne,2),ae=w[0],F=w[1],te=(0,u.useState)({pageNo:1,pageSize:20}),$=(0,v.Z)(te,2),c=$[0],G=$[1],re=[{title:"\u7528\u6237\u540D",dataIndex:"userName",key:"userName",width:"250px",align:"center"},{title:"\u5168\u5C40\u94FE\u8DEF\u8FFD\u8E2AID",dataIndex:"globalTraceId",key:"globalTraceId",align:"center"},{title:"\u62A5\u8B66\u5185\u5BB9",dataIndex:"alarmContent",key:"alarmContent",align:"center"}];function S(r){var t=r?Object.assign(c,r):c;L(t).then(function(n){var g=n.data;if(F(!0),g){var s=JSON.parse(g);if(ee(s.total),s){var R=JSON.parse(s.rows);E(R.map(function(f,x){return f.id=x,f}))}else E([])}F(!1)})}var se=function(t){t&&Object.keys(t).length>0&&G(function(n){return{pageSize:n.pageSize,pageNo:n.pageNo,total:n.total,userName:t.userName}}),S(t)};return(0,u.useEffect)(function(){H().then(function(r){var t=r.data,n=JSON.parse(t);V(n)}),S()},[]),(0,a.jsxs)("div",{className:y().warning,children:[(0,a.jsxs)("div",{className:y()["warning__form-wrap"],children:[(0,a.jsx)(J.Z,{orientation:"left",plain:!0,children:(0,a.jsx)(z.Z,{})}),(0,a.jsx)(I.A,{layout:"inline",formRef:o,size:"small",onFinish:function(){var r=(0,p.Z)(i().mark(function t(n){return i().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:se(n);case 1:case"end":return s.stop()}},t)}));return function(t){return r.apply(this,arguments)}}(),submitter:{render:function(){return[(0,a.jsx)(W.Z,{type:"primary",htmlType:"submit",icon:(0,a.jsx)(z.Z,{}),className:"br-5 w-80 fs-12",children:"\u67E5\u8BE2"},"edit"),(0,a.jsx)(W.Z,{htmlType:"button",icon:(0,a.jsx)(b.Z,{}),onClick:function(){var n;(n=o.current)===null||n===void 0||n.resetFields(),S({pageNo:c.pageNo,pageSize:c.pageSize})},className:"br-5 w-80 fs-12",children:"\u91CD\u7F6E"},"reset")]}},children:(0,a.jsx)(I.A.Group,{children:(0,a.jsx)(K.Z,{options:m,placeholder:"\u7528\u6237\u540D",name:"userName",filedConfig:{},fieldProps:{}},"value")})})]}),(0,a.jsx)("div",{className:y().table,children:(0,a.jsx)(U.Z,{spinning:ae,children:(0,a.jsx)(B.Z,{columns:re,dataSource:k,rowKey:"id",size:"middle",pagination:{current:c.pageNo,pageSize:c.pageSize,total:_,onChange:function(){var r=(0,p.Z)(i().mark(function n(g,s){return i().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,G(function(x){return{pageSize:s,pageNo:g,userName:x.userName}});case 2:S({pageNo:g,pageSize:s,userName:c.userName});case 3:case"end":return f.stop()}},n)}));function t(n,g){return r.apply(this,arguments)}return t}()}})})})]})},Q=M}}]);
