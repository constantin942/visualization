(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[126],{37174:function(me){me.exports={alarm:"alarm___12xQi",salesRank:"salesRank___-5oIk",rankingList:"rankingList___rxbMU",rankingItemNumber:"rankingItemNumber___3eh0u",active:"active___3KjTZ",rankingItemTitle:"rankingItemTitle___3gCS2","alarm-data":"alarm-data___17B2L",alarmDetail:"alarmDetail___9Lz5b"}},52953:function(){},44887:function(){},26723:function(me,te,e){"use strict";e.r(te),e.d(te,{default:function(){return Ue}});var R=e(20228),z=e(11382),g=e(66456),b=e(78587),j=e(3182),F=e(11849),p=e(2824),de=e(94043),H=e.n(de),t=e(67294),ne=e(37174),ve=e.n(ne),Y=e(48606),S=e(71194),T=e(50146),Q=e(62350),D=e(75443),A=e(77576),he=e(12028),je=e(17462),ge=e(76772),s=e(38663),fe=e(52953),L=e(96156),E=e(28481),B=e(90484),pe=e(94184),J=e.n(pe),Oe=e(50344),G=e(24308),Se=e(21687),Ze=e(65632),_=e(22122);function re(a){return a!=null}var Ie=function(n){var r=n.itemPrefixCls,o=n.component,l=n.span,u=n.className,c=n.style,C=n.labelStyle,Z=n.contentStyle,I=n.bordered,v=n.label,h=n.content,$=n.colon,P=o;if(I){var d;return t.createElement(P,{className:J()((d={},(0,L.Z)(d,"".concat(r,"-item-label"),re(v)),(0,L.Z)(d,"".concat(r,"-item-content"),re(h)),d),u),style:c,colSpan:l},re(v)&&t.createElement("span",{style:C},v),re(h)&&t.createElement("span",{style:Z},h))}return t.createElement(P,{className:J()("".concat(r,"-item"),u),style:c,colSpan:l},t.createElement("div",{className:"".concat(r,"-item-container")},(v||v===0)&&t.createElement("span",{className:J()("".concat(r,"-item-label"),(0,L.Z)({},"".concat(r,"-item-no-colon"),!$)),style:C},v),(h||h===0)&&t.createElement("span",{className:J()("".concat(r,"-item-content")),style:Z},h)))},Ee=Ie;function se(a,n,r){var o=n.colon,l=n.prefixCls,u=n.bordered,c=r.component,C=r.type,Z=r.showLabel,I=r.showContent,v=r.labelStyle,h=r.contentStyle;return a.map(function($,P){var d=$.props,K=d.label,w=d.children,N=d.prefixCls,M=N===void 0?l:N,x=d.className,f=d.style,oe=d.labelStyle,X=d.contentStyle,ie=d.span,le=ie===void 0?1:ie,k=$.key;return typeof c=="string"?t.createElement(Ee,{key:"".concat(C,"-").concat(k||P),className:x,style:f,labelStyle:(0,_.Z)((0,_.Z)({},v),oe),contentStyle:(0,_.Z)((0,_.Z)({},h),X),span:le,colon:o,component:c,itemPrefixCls:M,bordered:u,label:Z?K:null,content:I?w:null}):[t.createElement(Ee,{key:"label-".concat(k||P),className:x,style:(0,_.Z)((0,_.Z)((0,_.Z)({},v),f),oe),span:1,colon:o,component:c[0],itemPrefixCls:M,bordered:u,label:K}),t.createElement(Ee,{key:"content-".concat(k||P),className:x,style:(0,_.Z)((0,_.Z)((0,_.Z)({},h),f),X),span:le*2-1,component:c[1],itemPrefixCls:M,bordered:u,content:w})]})}var Me=function(n){var r=t.useContext(_e),o=n.prefixCls,l=n.vertical,u=n.row,c=n.index,C=n.bordered;return l?t.createElement(t.Fragment,null,t.createElement("tr",{key:"label-".concat(c),className:"".concat(o,"-row")},se(u,n,(0,_.Z)({component:"th",type:"label",showLabel:!0},r))),t.createElement("tr",{key:"content-".concat(c),className:"".concat(o,"-row")},se(u,n,(0,_.Z)({component:"td",type:"content",showContent:!0},r)))):t.createElement("tr",{key:c,className:"".concat(o,"-row")},se(u,n,(0,_.Z)({component:C?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},r)))},ae=Me,be=function(n){var r=n.children;return r},Te=be,De=e(96159),_e=t.createContext({}),Pe={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function Ne(a,n){if(typeof a=="number")return a;if((0,B.Z)(a)==="object")for(var r=0;r<G.c4.length;r++){var o=G.c4[r];if(n[o]&&a[o]!==void 0)return a[o]||Pe[o]}return 3}function xe(a,n,r){var o=a;return(n===void 0||n>r)&&(o=(0,De.Tm)(a,{span:r}),(0,Se.Z)(n===void 0,"Descriptions","Sum of column `span` in a line not match `column` of Descriptions.")),o}function U(a,n){var r=(0,Oe.Z)(a).filter(function(c){return c}),o=[],l=[],u=n;return r.forEach(function(c,C){var Z,I=(Z=c.props)===null||Z===void 0?void 0:Z.span,v=I||1;if(C===r.length-1){l.push(xe(c,I,u)),o.push(l);return}v<u?(u-=v,l.push(c)):(l.push(xe(c,v,u)),o.push(l),u=n,l=[])}),o}function i(a){var n,r=a.prefixCls,o=a.title,l=a.extra,u=a.column,c=u===void 0?Pe:u,C=a.colon,Z=C===void 0?!0:C,I=a.bordered,v=a.layout,h=a.children,$=a.className,P=a.style,d=a.size,K=a.labelStyle,w=a.contentStyle,N=t.useContext(Ze.E_),M=N.getPrefixCls,x=N.direction,f=M("descriptions",r),oe=t.useState({}),X=(0,E.Z)(oe,2),ie=X[0],le=X[1],k=Ne(c,ie);t.useEffect(function(){var Ce=G.ZP.subscribe(function(O){(0,B.Z)(c)==="object"&&le(O)});return function(){G.ZP.unsubscribe(Ce)}},[]);var Ke=U(h,k),ye=t.useMemo(function(){return{labelStyle:K,contentStyle:w}},[K,w]);return t.createElement(_e.Provider,{value:ye},t.createElement("div",{className:J()(f,(n={},(0,L.Z)(n,"".concat(f,"-").concat(d),d&&d!=="default"),(0,L.Z)(n,"".concat(f,"-bordered"),!!I),(0,L.Z)(n,"".concat(f,"-rtl"),x==="rtl"),n),$),style:P},(o||l)&&t.createElement("div",{className:"".concat(f,"-header")},o&&t.createElement("div",{className:"".concat(f,"-title")},o),l&&t.createElement("div",{className:"".concat(f,"-extra")},l)),t.createElement("div",{className:"".concat(f,"-view")},t.createElement("table",null,t.createElement("tbody",null,Ke.map(function(Ce,O){return t.createElement(ae,{key:O,index:O,colon:Z,prefixCls:f,vertical:v==="vertical",bordered:I,row:Ce})}))))))}i.Item=Te;var m=i,V=e(74379),Re=e(38648),y=e(85893);function Ae(a,n){var r=(0,t.useState)({}),o=(0,p.Z)(r,2),l=o[0],u=o[1],c=(0,t.useState)(!1),C=(0,p.Z)(c,2),Z=C[0],I=C[1],v=(0,t.useState)(!1),h=(0,p.Z)(v,2),$=h[0],P=h[1],d=(0,t.useState)(!1),K=(0,p.Z)(d,2),w=K[0],N=K[1];return(0,t.useImperativeHandle)(n,function(){return{setInitValues:function(x){u(x)}}}),(0,y.jsxs)(T.Z,{width:600,afterClose:function(){N(!1),I(!1)},destroyOnClose:!0,title:"".concat(l==null?void 0:l.userName,"\uFF08\u544A\u8B66\u5904\u7F6E\uFF09"),visible:a.handleVisible,onCancel:function(){a.setVisible(!1),N(!1)},onOk:function(){Z&&(0,Y.QD)({id:l.id,matchRuleId:l.matchRuleId,originalTime:l.originalTime,userName:l.userName,alarmContent:l.alarmContent,flag:w?"update":"delete"}).then(function(x){console.log(x),a.refresh(),N(!1),Re.Z.info({message:"\u63D0\u793A",description:"\u64CD\u4F5C\u6210\u529F!"})})},children:[(0,y.jsxs)(m,{layout:"horizontal",column:2,children:[(0,y.jsx)(m.Item,{label:"\u8BB0\u5F55\u4EA7\u751F\u65F6\u95F4",children:l==null?void 0:l.originalTime}),(0,y.jsx)(m.Item,{label:"\u89C4\u5219ID",children:l==null?void 0:l.matchRuleId})]}),(0,y.jsx)(ge.Z,{message:l==null?void 0:l.alarmContent,className:"text-c",type:"warning"}),(0,y.jsxs)("div",{className:"flex-x-sb mt-20",children:[(0,y.jsx)("div",{}),(0,y.jsx)("div",{children:(0,y.jsx)(D.Z,{title:"\u662F\u5426\u66F4\u65B0\u753B\u50CF\uFF1F",visible:$,onConfirm:function(){P(!1),N(!0)},onCancel:function(){return P(!1)},okText:"\u66F4\u65B0",cancelText:"\u4E0D\u66F4\u65B0",children:(0,y.jsx)(he.Z,{checkedChildren:"\u5FFD\u7565\u544A\u8B66",unCheckedChildren:"\u4E0D\u5904\u7F6E",onChange:function(x){I(x),P(x)}})})})]})]})}var Le=(0,t.forwardRef)(Ae),Be=function(n){var r=(0,t.useState)([]),o=(0,p.Z)(r,2),l=o[0],u=o[1],c=(0,t.useState)(0),C=(0,p.Z)(c,2),Z=C[0],I=C[1],v=(0,t.useState)(!1),h=(0,p.Z)(v,2),$=h[0],P=h[1],d=(0,t.useState)(!1),K=(0,p.Z)(d,2),w=K[0],N=K[1],M=(0,t.useState)({pageNo:1,pageSize:20}),x=(0,p.Z)(M,2),f=x[0],oe=x[1],X=(0,t.useRef)(),ie=(0,t.useState)({}),le=(0,p.Z)(ie,2),k=le[0],Ke=le[1];function ye(O){(0,Y.cD)(O).then(function(ce){var W=ce.data;if(P(!0),W){var q=JSON.parse(W);if(I(q.total),q){var ee=JSON.parse(q.rows);u(ee.map(function(We,ue){return We.id=ue,We}))}else u([])}P(!1)})}var Ce=[{title:"\u7528\u6237\u540D",dataIndex:"userName",key:"userName",width:"250px",align:"center"},{title:"\u8BB0\u5F55\u4EA7\u751F\u7684\u65F6\u95F4",dataIndex:"originalTime\uFF1A",key:"originalTime\uFF1A",width:"250px",align:"center",render:function(ce,W){return W.originalTime||"-"}},{title:"\u89C4\u5219ID",dataIndex:"matchRuleId\uFF1A",key:"matchRuleId\uFF1A",width:"250px",align:"center",render:function(ce,W){return W.matchRuleId||"-"}},{title:"\u62A5\u8B66\u5185\u5BB9",dataIndex:"alarmContent",key:"alarmContent",align:"center"},{title:"\u5904\u7F6E",width:"150px",align:"center",render:function(ce,W){return[(0,y.jsx)("a",{onClick:function(){var ee;N(!0),(ee=X.current)===null||ee===void 0||ee.setInitValues(W)},children:"\u5904\u7F6E"},"handle")]}}];return(0,t.useEffect)(function(){var O=n.location.query;Ke(O),ye((0,F.Z)((0,F.Z)({},O),f))},[]),(0,y.jsxs)("div",{className:ve().alarmDetail,children:[(0,y.jsx)(z.Z,{spinning:$,children:(0,y.jsx)(b.Z,{columns:Ce,dataSource:l,rowKey:"id",size:"middle",pagination:{current:f.pageNo,pageSize:f.pageSize,total:Z,onChange:function(){var O=(0,j.Z)(H().mark(function W(q,ee){return H().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,oe(function(){return{pageSize:ee,pageNo:q}});case 2:ye((0,F.Z)({pageNo:q,pageSize:ee},k));case 3:case"end":return ue.stop()}},W)}));function ce(W,q){return O.apply(this,arguments)}return ce}()}})}),(0,y.jsx)(Le,{refresh:function(){ye((0,F.Z)((0,F.Z)({},f),k))},setVisible:N,handleVisible:w,ref:X})]})},Ue=Be},48606:function(me,te,e){"use strict";e.d(te,{Hp:function(){return F},CI:function(){return de},cD:function(){return t},QD:function(){return ve}});var R=e(11849),z=e(3182),g=e(94043),b=e.n(g),j=e(21704);function F(S){return p.apply(this,arguments)}function p(){return p=(0,z.Z)(b().mark(function S(T){return b().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",(0,j.WY)("/api/skyflying/getAlarmData",(0,R.Z)({method:"GET"},T||{})));case 1:case"end":return D.stop()}},S)})),p.apply(this,arguments)}function de(S){return H.apply(this,arguments)}function H(){return H=(0,z.Z)(b().mark(function S(T){return b().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",(0,j.WY)("/api/skyflying/getUserAlarmData",(0,R.Z)({method:"GET"},T||{})));case 1:case"end":return D.stop()}},S)})),H.apply(this,arguments)}function t(S,T){return ne.apply(this,arguments)}function ne(){return ne=(0,z.Z)(b().mark(function S(T,Q){return b().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",(0,j.WY)("/api/skyflying/getAllAlarmInfoDetailByUserName",(0,R.Z)({method:"GET",params:T||{}},Q||{})));case 1:case"end":return A.stop()}},S)})),ne.apply(this,arguments)}function ve(S,T){return Y.apply(this,arguments)}function Y(){return Y=(0,z.Z)(b().mark(function S(T,Q){return b().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",(0,j.WY)("/api/skyflying/updateAnomalyDetectionInfo",(0,R.Z)({method:"GET",params:T||{}},Q||{})));case 1:case"end":return A.stop()}},S)})),Y.apply(this,arguments)}},75443:function(me,te,e){"use strict";var R=e(22122),z=e(28481),g=e(67294),b=e(94184),j=e.n(b),F=e(21770),p=e(68855),de=e(15105),H=e(61580),t=e(71577),ne=e(73839),ve=e(42051),Y=e(85636),S=e(65632),T=e(81643),Q=e(96159),D=e(33603),A=e(86743),he=void 0,je=function(s,fe){var L={};for(var E in s)Object.prototype.hasOwnProperty.call(s,E)&&fe.indexOf(E)<0&&(L[E]=s[E]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var B=0,E=Object.getOwnPropertySymbols(s);B<E.length;B++)fe.indexOf(E[B])<0&&Object.prototype.propertyIsEnumerable.call(s,E[B])&&(L[E[B]]=s[E[B]]);return L},ge=g.forwardRef(function(s,fe){var L=g.useContext(S.E_),E=L.getPrefixCls,B=(0,F.Z)(!1,{value:s.visible,defaultValue:s.defaultVisible}),pe=(0,z.Z)(B,2),J=pe[0],Oe=pe[1],G=function(i,m){var V;Oe(i,!0),(V=s.onVisibleChange)===null||V===void 0||V.call(s,i,m)},Se=function(i){G(!1,i)},Ze=function(i){var m;return(m=s.onConfirm)===null||m===void 0?void 0:m.call(he,i)},_=function(i){var m;G(!1,i),(m=s.onCancel)===null||m===void 0||m.call(he,i)},re=function(i){i.keyCode===de.Z.ESC&&J&&G(!1,i)},Ie=function(i){var m=s.disabled;m||G(i)},Ee=function(i,m){var V=s.okButtonProps,Re=s.cancelButtonProps,y=s.title,Ae=s.cancelText,Le=s.okText,Be=s.okType,Ue=s.icon,a=s.showCancel,n=a===void 0?!0:a;return g.createElement("div",{className:"".concat(i,"-inner-content")},g.createElement("div",{className:"".concat(i,"-message")},Ue,g.createElement("div",{className:"".concat(i,"-message-title")},(0,T.Z)(y))),g.createElement("div",{className:"".concat(i,"-buttons")},n&&g.createElement(t.Z,(0,R.Z)({onClick:_,size:"small"},Re),Ae||m.cancelText),g.createElement(A.Z,{buttonProps:(0,R.Z)((0,R.Z)({size:"small"},(0,ne.n)(Be)),V),actionFn:Ze,close:Se,prefixCls:E("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},Le||m.okText)))},se=s.prefixCls,Me=s.placement,ae=s.children,be=s.overlayClassName,Te=je(s,["prefixCls","placement","children","overlayClassName"]),De=E("popover",se),_e=E("popconfirm",se),Pe=j()(_e,be),Ne=g.createElement(ve.Z,{componentName:"Popconfirm",defaultLocale:Y.Z.Popconfirm},function(U){return Ee(De,U)}),xe=E();return g.createElement(H.Z,(0,R.Z)({},Te,{prefixCls:De,placement:Me,onVisibleChange:Ie,visible:J,overlay:Ne,overlayClassName:Pe,ref:fe,transitionName:(0,D.mL)(xe,"zoom-big",s.transitionName)}),(0,Q.Tm)(ae,{onKeyDown:function(i){var m,V;g.isValidElement(ae)&&((V=ae==null?void 0:(m=ae.props).onKeyDown)===null||V===void 0||V.call(m,i)),re(i)}}))});ge.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:g.createElement(p.Z,null),disabled:!1},te.Z=ge},62350:function(me,te,e){"use strict";var R=e(38663),z=e.n(R),g=e(20136),b=e(57663),j=e(44887),F=e.n(j)}}]);
