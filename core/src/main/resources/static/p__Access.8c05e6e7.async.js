(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[488],{85181:function(V){V.exports={access:"access___2mohw","access__form-wrap":"access__form-wrap___1eq08",table:"table___VxJab"}},46247:function(V,B,e){"use strict";e.r(B),e.d(B,{default:function(){return F}});var Z=e(66456),E=e(78587),P=e(3182),m=e(48736),b=e(27049),G=e(57663),v=e(71577),z=e(74379),C=e(38648),R=e(2824),j=e(94043),c=e.n(j),p=e(67294),D=e(85181),g=e.n(D),r=e(76570),a=e(25592),l=e(5894),d=e(64317),t=e(11849),M=e(25377);function k(S){return _.apply(this,arguments)}function _(){return _=(0,P.Z)(c().mark(function S(T){return c().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,M.WY)("/api/skyflying/getAllUserNamePortraitByVisitedTime",(0,t.Z)({method:"GET"},T||{})));case 1:case"end":return h.stop()}},S)})),_.apply(this,arguments)}function K(S,T){return O.apply(this,arguments)}function O(){return O=(0,P.Z)(c().mark(function S(T,N){return c().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.abrupt("return",(0,M.WY)("/api/skyflying/getAllUserPortraitByVisitedTime",(0,t.Z)({method:"GET",params:T||{}},N||{})));case 1:case"end":return U.stop()}},S)})),O.apply(this,arguments)}var Y=e(59975),s=e(85893),L=function(){var T=(0,p.useRef)(),N=(0,p.useState)([]),h=(0,R.Z)(N,2),U=h[0],J=h[1],H=(0,p.useState)([]),W=(0,R.Z)(H,2),Q=W[0],X=W[1],q=(0,p.useState)({pageNo:1,pageSize:20,total:0}),w=(0,R.Z)(q,2),x=w[0],I=w[1],ee=[{title:"\u7528\u6237\u540D",dataIndex:"userName",key:"userName",align:"center"},{title:"\u4E0A\u5348\u8BBF\u95EE\u6B21\u6570",dataIndex:"forenoonCount",key:"forenoonCount",align:"center"},{title:"\u4E0B\u5348\u8BBF\u95EE\u6B21\u6570",dataIndex:"afternoonCount",key:"afternoonCount",align:"center"},{title:"\u665A\u4E0A\u8BBF\u95EE\u6B21\u6570",dataIndex:"nightCount",key:"nightCount",align:"center"},{title:"\u64CD\u4F5C",key:"action",align:"center",width:150,render:function(n){return(0,s.jsx)(v.Z,{size:"small",type:"link",danger:n.isDelete===0,onClick:function(){console.log(n),(0,Y.yb)({ruleId:n.id,isDelete:n.isDelete===0?1:0}).then(function(f){var u=f.code;u==="0000"&&(C.Z.success({message:"\u64CD\u4F5C\u6210\u529F!",placement:"top"}),A())})},children:n.isDelete===0?"\u7981\u7528":"\u542F\u7528"})}}];function A(o){var n=o||x;K(n).then(function(i){var f=i.data;if(f){var u=JSON.parse(f);if(I(function(y){return{total:u.total,pageNo:y.pageNo,pageSize:y.pageSize}}),u){var $=JSON.parse(u.rows);X($.map(function(y){return y}))}}})}var te=function(n){A(n)};return(0,p.useEffect)(function(){k().then(function(o){var n=o.data,i=JSON.parse(n);J(i)}),A()},[]),(0,s.jsxs)("div",{className:g().access,children:[(0,s.jsxs)("div",{className:g()["access__form-wrap"],children:[(0,s.jsx)(b.Z,{orientation:"left",plain:!0,children:(0,s.jsx)(r.Z,{})}),(0,s.jsx)(l.A,{layout:"inline",formRef:T,size:"small",onFinish:function(){var o=(0,P.Z)(c().mark(function n(i){return c().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:te(i);case 1:case"end":return u.stop()}},n)}));return function(n){return o.apply(this,arguments)}}(),submitter:{render:function(){return[(0,s.jsx)(v.Z,{type:"primary",htmlType:"submit",icon:(0,s.jsx)(r.Z,{}),className:"br-5 w-80 fs-12",children:"\u67E5\u8BE2"},"edit"),(0,s.jsx)(v.Z,{type:"ghost",htmlType:"button",icon:(0,s.jsx)(a.Z,{}),onClick:function(){var i;(i=T.current)===null||i===void 0||i.resetFields(),A()},className:"br-5 w-80 fs-12",children:"\u91CD\u7F6E"},"reset")]}},children:(0,s.jsx)(l.A.Group,{children:(0,s.jsx)(d.Z,{options:U,placeholder:"userName",name:"userName",filedConfig:{},fieldProps:{}},"value")})})]}),(0,s.jsx)("div",{className:g().table,children:(0,s.jsx)(E.Z,{columns:ee,dataSource:Q,rowKey:"id",size:"middle",pagination:{current:x.pageNo,pageSize:x.pageSize,total:x.total,onChange:function(){var o=(0,P.Z)(c().mark(function i(f,u){return c().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,I(function(re){return{pageSize:u,pageNo:f,total:re.total}});case 2:setTimeout(function(){A({pageNo:f,pageSize:u})},200);case 3:case"end":return y.stop()}},i)}));function n(i,f){return o.apply(this,arguments)}return n}()}})})]})},F=L},59975:function(V,B,e){"use strict";e.d(B,{f2:function(){return G},MN:function(){return R},yb:function(){return c},ny:function(){return D}});var Z=e(11849),E=e(3182),P=e(94043),m=e.n(P),b=e(25377);function G(r,a){return v.apply(this,arguments)}function v(){return v=(0,E.Z)(m().mark(function r(a,l){return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,b.WY)("/api/skyflying/addUserPortraitByVisitedTableEverydayRule",(0,Z.Z)({method:"GET",params:a},l||{})));case 1:case"end":return t.stop()}},r)})),v.apply(this,arguments)}function z(r){return C.apply(this,arguments)}function C(){return C=_asyncToGenerator(_regeneratorRuntime.mark(function r(a){return _regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",request("/api/skyflying/updateUserPortraitByVisitedTimeRule",_objectSpread({method:"GET"},a||{})));case 1:case"end":return d.stop()}},r)})),C.apply(this,arguments)}function R(r,a){return j.apply(this,arguments)}function j(){return j=(0,E.Z)(m().mark(function r(a,l){return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,b.WY)("/api/skyflying/addUserPortraitByVisitedTtimeRule",(0,Z.Z)({method:"GET",params:a},l||{})));case 1:case"end":return t.stop()}},r)})),j.apply(this,arguments)}function c(r,a){return p.apply(this,arguments)}function p(){return p=(0,E.Z)(m().mark(function r(a,l){return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,b.WY)("/api/skyflying/updateUserPortraitByVisitedTimeRule",(0,Z.Z)({method:"GET",params:a},l||{})));case 1:case"end":return t.stop()}},r)})),p.apply(this,arguments)}function D(r,a){return g.apply(this,arguments)}function g(){return g=(0,E.Z)(m().mark(function r(a,l){return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,b.WY)("/api/skyflying/updateUserPortraitByVisitedTableEverydayRule",(0,Z.Z)({method:"GET",params:a},l||{})));case 1:case"end":return t.stop()}},r)})),g.apply(this,arguments)}}}]);
