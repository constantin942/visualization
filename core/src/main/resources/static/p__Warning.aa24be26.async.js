(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[142],{39236:function(Z){Z.exports={warning:"warning___3CjcC","warning__form-wrap":"warning__form-wrap___1uTFC",table:"table___1Dois"}},24811:function(Z,C,e){"use strict";e.r(C),e.d(C,{default:function(){return K}});var ne=e(66456),$=e(78587),ae=e(57663),W=e(71577),p=e(3182),te=e(48736),G=e(27049),v=e(2824),R=e(94043),i=e.n(R),f=e(67294),U=e(39236),S=e.n(U),z=e(76570),B=e(25592),I=e(5894),J=e(64317),T=e(11849),A=e(25377);function P(d){return N.apply(this,arguments)}function N(){return N=(0,p.Z)(i().mark(function d(l){return i().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,A.WY)("/api/skyflying/getUserNameAnomalyDetectionInfo",(0,T.Z)({method:"GET"},l||{})));case 1:case"end":return u.stop()}},d)})),N.apply(this,arguments)}function b(d,l){return j.apply(this,arguments)}function j(){return j=(0,p.Z)(i().mark(function d(l,h){return i().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,A.WY)("/api/skyflying/getAnomalyDetectionInfo",(0,T.Z)({method:"GET",params:l||{}},h||{})));case 1:case"end":return m.stop()}},d)})),j.apply(this,arguments)}var t=e(85893),Y=function(){var l=(0,f.useRef)(),h=(0,f.useState)([]),u=(0,v.Z)(h,2),m=u[0],H=u[1],L=(0,f.useState)([]),w=(0,v.Z)(L,2),M=w[0],Q=w[1],V=(0,f.useState)(0),D=(0,v.Z)(V,2),X=D[0],k=D[1],q=(0,f.useState)({pageNo:1,pageSize:20}),E=(0,v.Z)(q,2),o=E[0],O=E[1],_=[{title:"\u7528\u6237\u540D",dataIndex:"userName",key:"userName",width:"250px",align:"center"},{title:"\u5168\u5C40\u94FE\u8DEF\u8FFD\u8E2AID",dataIndex:"globalTraceId",key:"globalTraceId",align:"center"},{title:"\u62A5\u8B66\u5185\u5BB9",dataIndex:"alarmContent",key:"alarmContent",align:"center"}];function y(r){var a=r?Object.assign(r,o):o;b(a).then(function(n){var c=n.data;if(c){var s=JSON.parse(c);if(k(s.total),s){var F=JSON.parse(s.rows);Q(F.map(function(g,x){return g.id=x,g}))}}})}var ee=function(a){a&&Object.keys(a).length>0&&O(function(n){return{pageSize:n.pageSize,pageNo:n.pageNo,total:n.total,userName:a.userName}}),y(a)};return(0,f.useEffect)(function(){P().then(function(r){var a=r.data,n=JSON.parse(a);H(n)}),y()},[]),(0,t.jsxs)("div",{className:S().warning,children:[(0,t.jsxs)("div",{className:S()["warning__form-wrap"],children:[(0,t.jsx)(G.Z,{orientation:"left",plain:!0,children:(0,t.jsx)(z.Z,{})}),(0,t.jsx)(I.A,{layout:"inline",formRef:l,size:"small",onFinish:function(){var r=(0,p.Z)(i().mark(function a(n){return i().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:ee(n);case 1:case"end":return s.stop()}},a)}));return function(a){return r.apply(this,arguments)}}(),submitter:{render:function(){return[(0,t.jsx)(W.Z,{type:"primary",htmlType:"submit",icon:(0,t.jsx)(z.Z,{}),className:"br-5 w-80 fs-12",children:"\u67E5\u8BE2"},"edit"),(0,t.jsx)(W.Z,{htmlType:"button",icon:(0,t.jsx)(B.Z,{}),onClick:function(){var n;(n=l.current)===null||n===void 0||n.resetFields(),y({pageNo:o.pageNo,pageSize:o.pageSize})},className:"br-5 w-80 fs-12",children:"\u91CD\u7F6E"},"reset")]}},children:(0,t.jsx)(I.A.Group,{children:(0,t.jsx)(J.Z,{options:m,placeholder:"\u7528\u6237\u540D",name:"userName",filedConfig:{},fieldProps:{}},"value")})})]}),(0,t.jsx)("div",{className:S().table,children:(0,t.jsx)($.Z,{columns:_,dataSource:M,rowKey:"id",size:"middle",pagination:{current:o.pageNo,pageSize:o.pageSize,total:X,onChange:function(){var r=(0,p.Z)(i().mark(function n(c,s){return i().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,O(function(x){return{pageSize:s,pageNo:c,userName:x.userName}});case 2:y({pageNo:c,pageSize:s,userName:o.userName});case 3:case"end":return g.stop()}},n)}));function a(n,c){return r.apply(this,arguments)}return a}()}})})]})},K=Y}}]);
