(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[990],{49027:function(W){W.exports={portrait:"portrait___2weew","portrait__form-wrap":"portrait__form-wrap___2wsdq",table:"table___95yq2"}},72686:function(W,R,r){"use strict";r.r(R),r.d(R,{default:function(){return he}});var be=r(66456),J=r(25887),De=r(57663),Y=r(71577),g=r(3182),Ae=r(48736),K=r(27049),C=r(2824),H=r(94043),p=r.n(H),a=r(67294),X=r(49027),N=r.n(X),w=r(76570),q=r(25592),y=r(22122),h=r(28991),Z=r(81253),x=r(64837),T=r(66758),_=["proFieldProps","fieldProps"],z="date",ee=a.forwardRef(function(e,o){var s=e.proFieldProps,t=e.fieldProps,i=(0,Z.Z)(e,_),c=(0,a.useContext)(T.Z);return a.createElement(x.Z,(0,y.Z)({ref:o,mode:"edit",valueType:z,fieldProps:(0,h.Z)({getPopupContainer:c.getPopupContainer},t),proFieldProps:s,filedConfig:{valueType:z,customLightMode:!0}},i))}),re=ee,te=["proFieldProps","fieldProps"],U="dateWeek",ae=a.forwardRef(function(e,o){var s=e.proFieldProps,t=e.fieldProps,i=(0,Z.Z)(e,te),c=(0,a.useContext)(T.Z);return a.createElement(x.Z,(0,y.Z)({ref:o,mode:"edit",valueType:U,fieldProps:(0,h.Z)({getPopupContainer:c.getPopupContainer},t),proFieldProps:s,filedConfig:{valueType:U,customLightMode:!0}},i))}),oe=ae,ne=["proFieldProps","fieldProps"],G="dateMonth",ie=a.forwardRef(function(e,o){var s=e.proFieldProps,t=e.fieldProps,i=(0,Z.Z)(e,ne),c=(0,a.useContext)(T.Z);return a.createElement(x.Z,(0,y.Z)({ref:o,mode:"edit",valueType:G,fieldProps:(0,h.Z)({getPopupContainer:c.getPopupContainer},t),proFieldProps:s,filedConfig:{valueType:G,customLightMode:!0}},i))}),se=ie,le=["fieldProps"],O="dateQuarter",ue=a.forwardRef(function(e,o){var s=e.fieldProps,t=(0,Z.Z)(e,le),i=(0,a.useContext)(T.Z);return a.createElement(x.Z,(0,y.Z)({ref:o,mode:"edit",valueType:O,fieldProps:(0,h.Z)({getPopupContainer:i.getPopupContainer},s),filedConfig:{valueType:O,customLightMode:!0}},t))}),de=ue,pe=["proFieldProps","fieldProps"],Q="dateYear",ve=a.forwardRef(function(e,o){var s=e.proFieldProps,t=e.fieldProps,i=(0,Z.Z)(e,pe),c=(0,a.useContext)(T.Z);return a.createElement(x.Z,(0,y.Z)({ref:o,mode:"edit",valueType:Q,fieldProps:(0,h.Z)({getPopupContainer:c.getPopupContainer},t),proFieldProps:s,filedConfig:{valueType:Q,customLightMode:!0}},i))}),ce=ve,m=re;m.Week=oe,m.Month=se,m.Quarter=de,m.Year=ce,m.displayName="ProFormComponent";var fe=m,S=r(5894),V=r(64317),k=r(11849),E=r(25377);function Pe(e){return b.apply(this,arguments)}function b(){return b=(0,g.Z)(p().mark(function e(o){return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,E.WY)("/api/skyflying/getAllUserNameUserPortraitByVisitedTableEveryday",(0,k.Z)({method:"GET"},o||{})));case 1:case"end":return t.stop()}},e)})),b.apply(this,arguments)}function me(e){return D.apply(this,arguments)}function D(){return D=(0,g.Z)(p().mark(function e(o){return p().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,E.WY)("/api/skyflying/getAllVisitedTablePortraitByVisitedTableEveryday",(0,k.Z)({method:"GET"},o||{})));case 1:case"end":return t.stop()}},e)})),D.apply(this,arguments)}function ge(e,o){return A.apply(this,arguments)}function A(){return A=(0,g.Z)(p().mark(function e(o,s){return p().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,E.WY)("/api/skyflying/getUserPortraitByVisitedTableEveryday",(0,k.Z)({method:"GET",params:o||{}},s||{})));case 1:case"end":return i.stop()}},e)})),A.apply(this,arguments)}var n=r(85893),ye=function(){var o=(0,a.useRef)(),s=(0,a.useState)([]),t=(0,C.Z)(s,2),i=t[0],c=t[1],Ze=(0,a.useState)([]),$=(0,C.Z)(Ze,2),xe=$[0],Te=$[1],Ce=(0,a.useState)([]),I=(0,C.Z)(Ce,2),Se=I[0],Fe=I[1],je=(0,a.useState)({pageNo:1,pageSize:20,total:0}),L=(0,C.Z)(je,2),F=L[0],B=L[1],Ne=[{title:"\u7528\u6237\u540D",dataIndex:"userName",key:"userName",align:"center"},{title:"\u8BBF\u95EE\u65E5\u671F\uFF08\u6309\u7167\u5929\u8BA1\u7B97\uFF09",dataIndex:"visitedDate",key:"visitedDate",align:"center"},{title:"\u8BBF\u95EE\u6B21\u6570",dataIndex:"visitedCount",key:"visitedCount",align:"center"},{title:"\u8BBF\u95EE\u8868",dataIndex:"visitedTable",key:"visitedTable",align:"center"},{title:"\u64CD\u4F5C\u7C7B\u578B",dataIndex:"dbType",key:"dbType",align:"center"}];function j(d){var u=d||F;ge(u).then(function(l){var f=l.data;if(f){var v=JSON.parse(f);if(B(function(P){return{total:v.total,pageNo:P.pageNo,pageSize:P.pageSize}}),v){var M=JSON.parse(v.rows);console.log(M),Fe(M)}}})}var ke=function(u){j(u)};return(0,a.useEffect)(function(){Pe().then(function(d){var u=d.data,l=JSON.parse(u);c(l)}),me().then(function(d){var u=d.data,l=JSON.parse(u);Te(l)}),j()},[]),(0,n.jsxs)("div",{className:N().portrait,children:[(0,n.jsxs)("div",{className:N()["portrait__form-wrap"],children:[(0,n.jsx)(K.Z,{orientation:"left",plain:!0,children:(0,n.jsx)(w.Z,{})}),(0,n.jsxs)(S.A,{layout:"inline",formRef:o,size:"small",onFinish:function(){var d=(0,g.Z)(p().mark(function u(l){return p().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:ke(l);case 1:case"end":return v.stop()}},u)}));return function(u){return d.apply(this,arguments)}}(),submitter:{render:function(){return[(0,n.jsx)(Y.Z,{type:"primary",htmlType:"submit",icon:(0,n.jsx)(w.Z,{}),className:"br-5 w-80 fs-12",children:"\u67E5\u8BE2"},"edit"),(0,n.jsx)(Y.Z,{type:"ghost",htmlType:"button",icon:(0,n.jsx)(q.Z,{}),onClick:function(){var l;(l=o.current)===null||l===void 0||l.resetFields(),j()},className:"br-5 w-80 fs-12",children:"\u91CD\u7F6E"},"reset")]}},children:[(0,n.jsx)(S.A.Group,{children:(0,n.jsx)(V.Z,{options:i,placeholder:"userName",name:"userName",filedConfig:{},fieldProps:{}},"value")}),(0,n.jsx)(S.A.Group,{children:(0,n.jsx)(V.Z,{options:xe,width:"sm",placeholder:"visitedTable",name:"visitedTable",filedConfig:{},fieldProps:{}},"value")}),(0,n.jsx)(S.A.Group,{children:(0,n.jsx)(fe,{width:"sm",fieldProps:{bordered:!0,placeholder:"visitedDate"},name:"visitedDate"})})]})]}),(0,n.jsx)("div",{className:N().table,children:(0,n.jsx)(J.Z,{columns:Ne,dataSource:Se,rowKey:"id",size:"middle",pagination:{current:F.pageNo,pageSize:F.pageSize,total:F.total,onChange:function(){var d=(0,g.Z)(p().mark(function l(f,v){return p().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,B(function(Ee){return{pageSize:v,pageNo:f,total:Ee.total}});case 2:setTimeout(function(){j({pageNo:f,pageSize:v})},200);case 3:case"end":return P.stop()}},l)}));function u(l,f){return d.apply(this,arguments)}return u}()}})})]})},he=ye}}]);
