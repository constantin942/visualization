(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[284],{37174:function(G){G.exports={alarm:"alarm___12xQi",salesRank:"salesRank___-5oIk",rankingList:"rankingList___rxbMU",rankingItemNumber:"rankingItemNumber___3eh0u",active:"active___3KjTZ",rankingItemTitle:"rankingItemTitle___3gCS2","alarm-data":"alarm-data___17B2L"}},70347:function(){},12541:function(G,k,o){"use strict";o.r(k),o.d(k,{default:function(){return ee}});var E=o(3182),O=o(57663),n=o(71577),b=o(2824),F=o(94043),g=o.n(F),p=o(67294),y=o(37174),u=o.n(y),S=o(13062),e=o(71230),t=o(89032),i=o(15746),l=o(58024),a=o(39144),r=o(13254),f=o(14277),m=o(39004),d=o(85893),_=function(P){return(0,p.useEffect)(function(){var A=new m.kL({container:"AlarmDistributionPie",autoFit:!0,height:280});A.data(P.alarmDataRanking),A.legend(!1),A.coordinate("theta",{radius:.75,innerRadius:.6}),A.tooltip({showTitle:!1,showMarkers:!1,itemTpl:'<li class="g2-tooltip-list-item"><span style="background-color:{color};" class="g2-tooltip-marker"></span>{alarmName}: {value}</li>'}),A.annotation().text({position:["50%","50%"],content:"\u89E6\u53D1",style:{fontSize:14,fill:"#8c8c8c",textAlign:"center"},offsetY:-20}).text({position:["50%","50%"],content:function(W){return""},style:{fontSize:20,fill:"#8c8c8c",textAlign:"center"},offsetX:-10,offsetY:20}).text({position:["50%","50%"],content:"\u6B21",style:{fontSize:14,fill:"#8c8c8c",textAlign:"center"},offsetY:20,offsetX:20}),A.interval().adjust("stack").position("percent").color("item").label("percent",function(N){return{content:function(te){return"".concat(te.item,": ").concat(N*100,"\u6B21")}}}).tooltip("item*percent",function(N,W){return W=W*100+"\u6B21",{name:N,value:W}}),A.interaction("element-active"),A.render()},[]),(0,d.jsx)("div",{id:"AlarmDistributionPie"})},M=_,c=o(92077),h=o.n(c),x=function(P){return(0,d.jsxs)(e.Z,{gutter:10,className:"",children:[(0,d.jsx)(i.Z,{span:8,children:(0,d.jsx)(a.Z,{size:"default",title:"\u544A\u8B66\u6570\u636E",bordered:!1,bodyStyle:{padding:"10px 20px"},children:(0,d.jsxs)("div",{className:u().salesRank,children:[P.alarmDataRanking.length===0&&(0,d.jsx)(f.Z,{description:"\u6682\u65E0\u544A\u8B66\u6570\u636E",style:{marginTop:"20px"}}),P.alarmDataRanking.length!==0&&(0,d.jsx)("ul",{className:u().rankingList,children:P.alarmDataRanking.map(function(A,N){return(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:"".concat(u().rankingItemNumber," ").concat(N<3?u().active:""),children:N+1}),(0,d.jsx)("span",{className:u().rankingItemTitle,title:A.item,children:A.item}),(0,d.jsxs)("span",{className:u().rankingItemCount,children:[h()(A.count).format("0,0"),"\u6B21"]})]},N+1)})})]})})}),(0,d.jsx)(i.Z,{span:8,children:(0,d.jsx)(a.Z,{size:"default",title:"\u9AD8\u5371\u7528\u6237",bordered:!1,bodyStyle:{padding:"10px 20px"},children:(0,d.jsxs)("div",{className:u().salesRank,children:[P.alarmUserRanking.length===0&&(0,d.jsx)(f.Z,{description:"\u6682\u65E0\u544A\u8B66\u5206\u5E03\u6570\u636E",style:{marginTop:"20px"}}),P.alarmUserRanking.length!==0&&(0,d.jsx)("ul",{className:u().rankingList,children:P.alarmUserRanking.map(function(A,N){return(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:"".concat(u().rankingItemNumber," ").concat(N<3?u().active:""),children:N+1}),(0,d.jsx)("span",{className:u().rankingItemTitle,title:A.userName,children:A.userName}),(0,d.jsxs)("span",{className:u().rankingItemCount,children:[h()(A.alarmCount).format("0,0"),"\u6B21"]})]},N+1)})})]})})}),(0,d.jsx)(i.Z,{span:8,children:(0,d.jsx)(a.Z,{size:"default",title:"\u544A\u8B66\u5206\u5E03",bordered:!1,bodyStyle:{padding:"10px 20px"},children:P.alarmDataRanking.length>0?(0,d.jsx)(M,{alarmDataRanking:P.alarmDataRanking}):(0,d.jsx)("div",{className:u().salesRank,children:(0,d.jsx)(f.Z,{style:{marginTop:"20px"}})})})})]})},s=x,v=o(23210),Y=o(11849),$=o(21704);function H(w){return D.apply(this,arguments)}function D(){return D=(0,E.Z)(g().mark(function w(P){return g().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.abrupt("return",(0,$.WY)("/api/skyflying/getAlarmData",(0,Y.Z)({method:"GET"},P||{})));case 1:case"end":return N.stop()}},w)})),D.apply(this,arguments)}function C(w){return Z.apply(this,arguments)}function Z(){return Z=(0,E.Z)(g().mark(function w(P){return g().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.abrupt("return",(0,$.WY)("/api/skyflying/getUserAlarmData",(0,Y.Z)({method:"GET"},P||{})));case 1:case"end":return N.stop()}},w)})),Z.apply(this,arguments)}var J=o(2335),B=o(24480),K=function(){var P=(0,p.useState)([]),A=(0,b.Z)(P,2),N=A[0],W=A[1],te=(0,p.useState)([]),ie=(0,b.Z)(te,2),se=ie[0],oe=ie[1],ne=(0,p.useState)(0),V=(0,b.Z)(ne,2),ge=V[0],ce=V[1],he=(0,p.useState)([]),ue=(0,b.Z)(he,2),ve=ue[0],fe=ue[1],pe=(0,p.useState)({pageNo:1,pageSize:30}),de=(0,b.Z)(pe,2),T=de[0],be=de[1],I=[{title:"\u7528\u6237",dataIndex:"userName",key:"address",align:"center",search:!1},{title:"\u547D\u4E2D\u89C4\u5219ID",dataIndex:"matchRuleId",key:"matchRuleId",search:!1,align:"center"},{title:"\u89E6\u53D1\u6B21\u6570",dataIndex:"matchCount",key:"age",search:!1,align:"center",render:function(j,R){return(0,d.jsx)("div",{className:"danger",children:R.matchCount})}},{title:"\u6700\u540E\u89E6\u53D1\u65F6\u95F4",dataIndex:"originalTime",key:"address",search:!1,align:"center"},{title:"\u64CD\u4F5C",key:"action",align:"center",search:!1,render:function(){return[(0,d.jsx)(n.Z,{type:"link",size:"small",onClick:function(){},children:"\u5904\u7F6E"},"management")]}}],ye=function(){var U=(0,E.Z)(g().mark(function j(){var R,L,Q;return g().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,H();case 2:R=X.sent,L=R.data,Q=L.map(function(re){return{item:re.alarmName,count:parseInt(re.alarmData),percent:parseInt(re.alarmData)/100}}),W(Q);case 6:case"end":return X.stop()}},j)}));return function(){return U.apply(this,arguments)}}();function ae(U){(0,J.sF)(U).then(function(j){var R=j.data,L=JSON.parse(R);if(L){ce(L.total);var Q=JSON.parse(L.rows);fe(Q.map(function(z){return z.id=B.Z.uuid(),z}))}})}var _e=function(){var U=(0,E.Z)(g().mark(function j(){var R,L;return g().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,C();case 2:R=z.sent,L=R.data,oe(L);case 5:case"end":return z.stop()}},j)}));return function(){return U.apply(this,arguments)}}();return(0,p.useEffect)(function(){ye().then(),_e().then(),ae(T)},[]),(0,d.jsxs)("div",{className:u().alarm,children:[(0,d.jsx)(s,{alarmDataRanking:N,alarmUserRanking:se}),(0,d.jsx)(v.ZP,{headerTitle:"\u544A\u8B66\u4FE1\u606F\u5217\u8868",className:"mt-10",columns:I,rowKey:"key",search:!1,pagination:{showSizeChanger:!1,pageSize:T.pageSize,current:T.pageNo,total:ge,onChange:function(j,R){be({pageNo:j,pageSize:R}),ae({pageNo:j,pageSize:R})}},dataSource:ve})]})},ee=K},2335:function(G,k,o){"use strict";o.d(k,{cD:function(){return y},sF:function(){return S}});var E=o(11849),O=o(3182),n=o(94043),b=o.n(n),F=o(32773);function g(t){return p.apply(this,arguments)}function p(){return p=_asyncToGenerator(_regeneratorRuntime.mark(function t(i){return _regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/skyflying/getUserNameAnomalyDetectionInfo",_objectSpread({method:"GET"},i||{})));case 1:case"end":return a.stop()}},t)})),p.apply(this,arguments)}function y(t,i){return u.apply(this,arguments)}function u(){return u=(0,O.Z)(b().mark(function t(i,l){return b().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,F.WY)("/api/skyflying/getAllAlarmInfoDetailByUserName",(0,E.Z)({method:"GET",params:i||{}},l||{})));case 1:case"end":return r.stop()}},t)})),u.apply(this,arguments)}function S(t,i){return e.apply(this,arguments)}function e(){return e=(0,O.Z)(b().mark(function t(i,l){return b().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,F.WY)("/api/skyflying/getAnomalyDetectionInfoByGroupByUserName",(0,E.Z)({method:"GET",params:i||{}},l||{})));case 1:case"end":return r.stop()}},t)})),e.apply(this,arguments)}},24480:function(G,k,o){"use strict";o.d(k,{Z:function(){return n}});var E=o(69610),O=o(54941),n=function(){function b(){(0,E.Z)(this,b)}return(0,O.Z)(b,null,[{key:"timeStampToTime",value:function(g){var p=new Date(parseInt(g));return p.toJSON().substring(0,10).replace("T","")}},{key:"getLocalTime",value:function(g){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY-mm-dd HH:MM:SS",y,u={"Y+":g.getFullYear().toString(),"m+":(g.getMonth()+1).toString(),"d+":g.getDate().toString(),"H+":g.getHours().toString(),"M+":g.getMinutes().toString(),"S+":g.getSeconds().toString()},S=p;for(var e in u)y=new RegExp("("+e+")").exec(p),y&&(S=S.replace(y[1],y[1].length==1?u[e]:u[e].padStart(y[1].length,"0")));return S}},{key:"uuid",value:function(){for(var g=[],p="0123456789abcdef",y=0;y<36;y++)g[y]=p.substr(Math.floor(Math.random()*16),1);return g[14]="4",g[19]=p.substr(g[19]&3|8,1),g[8]=g[13]=g[18]=g[23]="-",g.join("").replace(new RegExp(/(-)/g),"")}},{key:"getRangeTime",value:function(g,p){for(var y=[],u=g-1;u>=0;u--){var S=void 0;u===g-1?S=new Date(Date.now()-u*24*60*60*1e3).setHours(0,0,1,0):S=new Date(Date.now()-u*24*60*60*1e3).setHours(23,59,59,999),p?y.push(b.getLocalTime(new Date(S),p)):y.push(S)}return y}},{key:"getRangeStartAndEndTime",value:function(g,p){for(var y=[],u=g-1;u>=0;u--){var S=void 0;u===g-1?S=new Date(Date.now()-u*24*60*60*1e3).setHours(0,0,0,0):u===0?S=new Date(Date.now()-(u-1)*24*60*60*1e3).setHours(0,0,0,0):S=new Date(Date.now()-u*24*60*60*1e3).setHours(23,59,59,999),p?y.push(b.getLocalTime(new Date(S),p)):y.push(S)}return[y[0],y[g-1]]}}]),b}();n.arrayDeDuplication=function(b){return Array.from(new Set(b))}},39144:function(G,k,o){"use strict";o.d(k,{Z:function(){return M}});var E=o(96156),O=o(22122),n=o(67294),b=o(94184),F=o.n(b),g=o(98423),p=o(65632),y=function(c,h){var x={};for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&h.indexOf(s)<0&&(x[s]=c[s]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,s=Object.getOwnPropertySymbols(c);v<s.length;v++)h.indexOf(s[v])<0&&Object.prototype.propertyIsEnumerable.call(c,s[v])&&(x[s[v]]=c[s[v]]);return x},u=function(h){var x=h.prefixCls,s=h.className,v=h.hoverable,Y=v===void 0?!0:v,$=y(h,["prefixCls","className","hoverable"]);return n.createElement(p.C,null,function(H){var D=H.getPrefixCls,C=D("card",x),Z=F()("".concat(C,"-grid"),s,(0,E.Z)({},"".concat(C,"-grid-hoverable"),Y));return n.createElement("div",(0,O.Z)({},$,{className:Z}))})},S=u,e=function(c,h){var x={};for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&h.indexOf(s)<0&&(x[s]=c[s]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,s=Object.getOwnPropertySymbols(c);v<s.length;v++)h.indexOf(s[v])<0&&Object.prototype.propertyIsEnumerable.call(c,s[v])&&(x[s[v]]=c[s[v]]);return x},t=function(h){return n.createElement(p.C,null,function(x){var s=x.getPrefixCls,v=h.prefixCls,Y=h.className,$=h.avatar,H=h.title,D=h.description,C=e(h,["prefixCls","className","avatar","title","description"]),Z=s("card",v),J=F()("".concat(Z,"-meta"),Y),B=$?n.createElement("div",{className:"".concat(Z,"-meta-avatar")},$):null,K=H?n.createElement("div",{className:"".concat(Z,"-meta-title")},H):null,ee=D?n.createElement("div",{className:"".concat(Z,"-meta-description")},D):null,w=K||ee?n.createElement("div",{className:"".concat(Z,"-meta-detail")},K,ee):null;return n.createElement("div",(0,O.Z)({},C,{className:J}),B,w)})},i=t,l=o(51752),a=o(71230),r=o(15746),f=o(97647),m=function(c,h){var x={};for(var s in c)Object.prototype.hasOwnProperty.call(c,s)&&h.indexOf(s)<0&&(x[s]=c[s]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,s=Object.getOwnPropertySymbols(c);v<s.length;v++)h.indexOf(s[v])<0&&Object.prototype.propertyIsEnumerable.call(c,s[v])&&(x[s[v]]=c[s[v]]);return x};function d(c){var h=c.map(function(x,s){return n.createElement("li",{style:{width:"".concat(100/c.length,"%")},key:"action-".concat(s)},n.createElement("span",null,x))});return h}var _=n.forwardRef(function(c,h){var x,s,v=n.useContext(p.E_),Y=v.getPrefixCls,$=v.direction,H=n.useContext(f.Z),D=function(me){var q;(q=c.onTabChange)===null||q===void 0||q.call(c,me)},C=function(){var me;return n.Children.forEach(c.children,function(q){q&&q.type&&q.type===S&&(me=!0)}),me},Z=c.prefixCls,J=c.className,B=c.extra,K=c.headStyle,ee=K===void 0?{}:K,w=c.bodyStyle,P=w===void 0?{}:w,A=c.title,N=c.loading,W=c.bordered,te=W===void 0?!0:W,ie=c.size,se=c.type,oe=c.cover,ne=c.actions,V=c.tabList,ge=c.children,ce=c.activeTabKey,he=c.defaultActiveTabKey,ue=c.tabBarExtraContent,ve=c.hoverable,fe=c.tabProps,pe=fe===void 0?{}:fe,de=m(c,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),T=Y("card",Z),be=P.padding===0||P.padding==="0px"?{padding:24}:void 0,I=n.createElement("div",{className:"".concat(T,"-loading-block")}),ye=n.createElement("div",{className:"".concat(T,"-loading-content"),style:be},n.createElement(a.Z,{gutter:8},n.createElement(r.Z,{span:22},I)),n.createElement(a.Z,{gutter:8},n.createElement(r.Z,{span:8},I),n.createElement(r.Z,{span:15},I)),n.createElement(a.Z,{gutter:8},n.createElement(r.Z,{span:6},I),n.createElement(r.Z,{span:18},I)),n.createElement(a.Z,{gutter:8},n.createElement(r.Z,{span:13},I),n.createElement(r.Z,{span:9},I)),n.createElement(a.Z,{gutter:8},n.createElement(r.Z,{span:4},I),n.createElement(r.Z,{span:3},I),n.createElement(r.Z,{span:16},I))),ae=ce!==void 0,_e=(0,O.Z)((0,O.Z)({},pe),(x={},(0,E.Z)(x,ae?"activeKey":"defaultActiveKey",ae?ce:he),(0,E.Z)(x,"tabBarExtraContent",ue),x)),U,j=V&&V.length?n.createElement(l.Z,(0,O.Z)({size:"large"},_e,{className:"".concat(T,"-head-tabs"),onChange:D}),V.map(function(le){return n.createElement(l.Z.TabPane,{tab:le.tab,disabled:le.disabled,key:le.key})})):null;(A||B||j)&&(U=n.createElement("div",{className:"".concat(T,"-head"),style:ee},n.createElement("div",{className:"".concat(T,"-head-wrapper")},A&&n.createElement("div",{className:"".concat(T,"-head-title")},A),B&&n.createElement("div",{className:"".concat(T,"-extra")},B)),j));var R=oe?n.createElement("div",{className:"".concat(T,"-cover")},oe):null,L=n.createElement("div",{className:"".concat(T,"-body"),style:P},N?ye:ge),Q=ne&&ne.length?n.createElement("ul",{className:"".concat(T,"-actions")},d(ne)):null,z=(0,g.Z)(de,["onTabChange"]),X=ie||H,re=F()(T,(s={},(0,E.Z)(s,"".concat(T,"-loading"),N),(0,E.Z)(s,"".concat(T,"-bordered"),te),(0,E.Z)(s,"".concat(T,"-hoverable"),ve),(0,E.Z)(s,"".concat(T,"-contain-grid"),C()),(0,E.Z)(s,"".concat(T,"-contain-tabs"),V&&V.length),(0,E.Z)(s,"".concat(T,"-").concat(X),X),(0,E.Z)(s,"".concat(T,"-type-").concat(se),!!se),(0,E.Z)(s,"".concat(T,"-rtl"),$==="rtl"),s),J);return n.createElement("div",(0,O.Z)({ref:h},z,{className:re}),U,R,L,Q)});_.Grid=S,_.Meta=i;var M=_},58024:function(G,k,o){"use strict";var E=o(38663),O=o.n(E),n=o(70347),b=o.n(n),F=o(18106),g=o(13062),p=o(89032)},92077:function(G,k,o){var E,O;/*! @preserve
* numeral.js
* version : 2.0.6
* author : Adam Draper
* license : MIT
* http://adamwdraper.github.com/Numeral-js/
*/(function(n,b){E=b,O=typeof E=="function"?E.call(k,o,k,G):E,O!==void 0&&(G.exports=O)})(this,function(){var n,b,F="2.0.6",g={},p={},y={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:y.currentLocale,zeroFormat:y.zeroFormat,nullFormat:y.nullFormat,defaultFormat:y.defaultFormat,scalePercentBy100:y.scalePercentBy100};function S(e,t){this._input=e,this._value=t}return n=function(e){var t,i,l,a;if(n.isNumeral(e))t=e.value();else if(e===0||typeof e=="undefined")t=0;else if(e===null||b.isNaN(e))t=null;else if(typeof e=="string")if(u.zeroFormat&&e===u.zeroFormat)t=0;else if(u.nullFormat&&e===u.nullFormat||!e.replace(/[^0-9]+/g,"").length)t=null;else{for(i in g)if(a=typeof g[i].regexps.unformat=="function"?g[i].regexps.unformat():g[i].regexps.unformat,a&&e.match(a)){l=g[i].unformat;break}l=l||n._.stringToNumber,t=l(e)}else t=Number(e)||null;return new S(e,t)},n.version=F,n.isNumeral=function(e){return e instanceof S},n._=b={numberToFormat:function(e,t,i){var l=p[n.options.currentLocale],a=!1,r=!1,f=0,m="",d=1e12,_=1e9,M=1e6,c=1e3,h="",x=!1,s,v,Y,$,H,D,C,Z,J,B;if(e=e||0,v=Math.abs(e),n._.includes(t,"(")?(a=!0,t=t.replace(/[\(|\)]/g,"")):(n._.includes(t,"+")||n._.includes(t,"-"))&&(Z=n._.includes(t,"+")?t.indexOf("+"):e<0?t.indexOf("-"):-1,t=t.replace(/[\+|\-]/g,"")),n._.includes(t,"a")&&(s=t.match(/a(k|m|b|t)?/),s=s?s[1]:!1,n._.includes(t," a")&&(m=" "),t=t.replace(new RegExp(m+"a[kmbt]?"),""),v>=d&&!s||s==="t"?(m+=l.abbreviations.trillion,e=e/d):v<d&&v>=_&&!s||s==="b"?(m+=l.abbreviations.billion,e=e/_):v<_&&v>=M&&!s||s==="m"?(m+=l.abbreviations.million,e=e/M):(v<M&&v>=c&&!s||s==="k")&&(m+=l.abbreviations.thousand,e=e/c)),n._.includes(t,"[.]")&&(r=!0,t=t.replace("[.]",".")),D=e.toString().split(".")[0],C=t.split(".")[1],J=t.indexOf(","),f=(t.split(".")[0].split(",")[0].match(/0/g)||[]).length,C?(n._.includes(C,"[")?(C=C.replace("]",""),C=C.split("["),h=n._.toFixed(e,C[0].length+C[1].length,i,C[1].length)):h=n._.toFixed(e,C.length,i),D=h.split(".")[0],n._.includes(h,".")?h=l.delimiters.decimal+h.split(".")[1]:h="",r&&Number(h.slice(1))===0&&(h="")):D=n._.toFixed(e,0,i),m&&!s&&Number(D)>=1e3&&m!==l.abbreviations.trillion)switch(D=String(Number(D)/1e3),m){case l.abbreviations.thousand:m=l.abbreviations.million;break;case l.abbreviations.million:m=l.abbreviations.billion;break;case l.abbreviations.billion:m=l.abbreviations.trillion;break}if(n._.includes(D,"-")&&(D=D.slice(1),x=!0),D.length<f)for(var K=f-D.length;K>0;K--)D="0"+D;return J>-1&&(D=D.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+l.delimiters.thousands)),t.indexOf(".")===0&&(D=""),B=D+h+(m||""),a?B=(a&&x?"(":"")+B+(a&&x?")":""):Z>=0?B=Z===0?(x?"-":"+")+B:B+(x?"-":"+"):x&&(B="-"+B),B},stringToNumber:function(e){var t=p[u.currentLocale],i=e,l={thousand:3,million:6,billion:9,trillion:12},a,r,f,m;if(u.zeroFormat&&e===u.zeroFormat)r=0;else if(u.nullFormat&&e===u.nullFormat||!e.replace(/[^0-9]+/g,"").length)r=null;else{r=1,t.delimiters.decimal!=="."&&(e=e.replace(/\./g,"").replace(t.delimiters.decimal,"."));for(a in l)if(m=new RegExp("[^a-zA-Z]"+t.abbreviations[a]+"(?:\\)|(\\"+t.currency.symbol+")?(?:\\))?)?$"),i.match(m)){r*=Math.pow(10,l[a]);break}r*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),r*=Number(e)}return r},isNaN:function(e){return typeof e=="number"&&isNaN(e)},includes:function(e,t){return e.indexOf(t)!==-1},insert:function(e,t,i){return e.slice(0,i)+t+e.slice(i)},reduce:function(e,t){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof t!="function")throw new TypeError(t+" is not a function");var i=Object(e),l=i.length>>>0,a=0,r;if(arguments.length===3)r=arguments[2];else{for(;a<l&&!(a in i);)a++;if(a>=l)throw new TypeError("Reduce of empty array with no initial value");r=i[a++]}for(;a<l;a++)a in i&&(r=t(r,i[a],a,i));return r},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(t,i){var l=b.multiplier(i);return t>l?t:l},1)},toFixed:function(e,t,i,l){var a=e.toString().split("."),r=t-(l||0),f,m,d,_;return a.length===2?f=Math.min(Math.max(a[1].length,r),t):f=r,d=Math.pow(10,f),_=(i(e+"e+"+f)/d).toFixed(f),l>t-f&&(m=new RegExp("\\.?0{1,"+(l-(t-f))+"}$"),_=_.replace(m,"")),_}},n.options=u,n.formats=g,n.locales=p,n.locale=function(e){return e&&(u.currentLocale=e.toLowerCase()),u.currentLocale},n.localeData=function(e){if(!e)return p[u.currentLocale];if(e=e.toLowerCase(),!p[e])throw new Error("Unknown locale : "+e);return p[e]},n.reset=function(){for(var e in y)u[e]=y[e]},n.zeroFormat=function(e){u.zeroFormat=typeof e=="string"?e:null},n.nullFormat=function(e){u.nullFormat=typeof e=="string"?e:null},n.defaultFormat=function(e){u.defaultFormat=typeof e=="string"?e:"0.0"},n.register=function(e,t,i){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=i,i},n.validate=function(e,t){var i,l,a,r,f,m,d,_;if(typeof e!="string"&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),e=e.trim(),e.match(/^\d+$/))return!0;if(e==="")return!1;try{d=n.localeData(t)}catch(M){d=n.localeData(n.locale())}return a=d.currency.symbol,f=d.abbreviations,i=d.delimiters.decimal,d.delimiters.thousands==="."?l="\\.":l=d.delimiters.thousands,_=e.match(/^[^\d]+/),_!==null&&(e=e.substr(1),_[0]!==a)||(_=e.match(/[^\d]+$/),_!==null&&(e=e.slice(0,-1),_[0]!==f.thousand&&_[0]!==f.million&&_[0]!==f.billion&&_[0]!==f.trillion))?!1:(m=new RegExp(l+"{2}"),e.match(/[^\d.,]/g)?!1:(r=e.split(i),r.length>2?!1:r.length<2?!!r[0].match(/^\d+.*\d$/)&&!r[0].match(m):r[0].length===1?!!r[0].match(/^\d+$/)&&!r[0].match(m)&&!!r[1].match(/^\d+$/):!!r[0].match(/^\d+.*\d$/)&&!r[0].match(m)&&!!r[1].match(/^\d+$/)))},n.fn=S.prototype={clone:function(){return n(this)},format:function(e,t){var i=this._value,l=e||u.defaultFormat,a,r,f;if(t=t||Math.round,i===0&&u.zeroFormat!==null)r=u.zeroFormat;else if(i===null&&u.nullFormat!==null)r=u.nullFormat;else{for(a in g)if(l.match(g[a].regexps.format)){f=g[a].format;break}f=f||n._.numberToFormat,r=f(i,l,t)}return r},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var t=b.correctionFactor.call(null,this._value,e);function i(l,a,r,f){return l+Math.round(t*a)}return this._value=b.reduce([this._value,e],i,0)/t,this},subtract:function(e){var t=b.correctionFactor.call(null,this._value,e);function i(l,a,r,f){return l-Math.round(t*a)}return this._value=b.reduce([e],i,Math.round(this._value*t))/t,this},multiply:function(e){function t(i,l,a,r){var f=b.correctionFactor(i,l);return Math.round(i*f)*Math.round(l*f)/Math.round(f*f)}return this._value=b.reduce([this._value,e],t,1),this},divide:function(e){function t(i,l,a,r){var f=b.correctionFactor(i,l);return Math.round(i*f)/Math.round(l*f)}return this._value=b.reduce([this._value,e],t),this},difference:function(e){return Math.abs(n(this._value).subtract(e).value())}},n.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return~~(e%100/10)==1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"},currency:{symbol:"$"}}),function(){n.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,t,i){var l=n._.includes(t," BPS")?" ":"",a;return e=e*1e4,t=t.replace(/\s?BPS/,""),a=n._.numberToFormat(e,t,i),n._.includes(a,")")?(a=a.split(""),a.splice(-1,0,l+"BPS"),a=a.join("")):a=a+l+"BPS",a},unformat:function(e){return+(n._.stringToNumber(e)*1e-4).toFixed(15)}})}(),function(){var e={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},t={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},i=e.suffixes.concat(t.suffixes.filter(function(a){return e.suffixes.indexOf(a)<0})),l=i.join("|");l="("+l.replace("B","B(?!PS)")+")",n.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(l)},format:function(a,r,f){var m,d=n._.includes(r,"ib")?t:e,_=n._.includes(r," b")||n._.includes(r," ib")?" ":"",M,c,h;for(r=r.replace(/\s?i?b/,""),M=0;M<=d.suffixes.length;M++)if(c=Math.pow(d.base,M),h=Math.pow(d.base,M+1),a===null||a===0||a>=c&&a<h){_+=d.suffixes[M],c>0&&(a=a/c);break}return m=n._.numberToFormat(a,r,f),m+_},unformat:function(a){var r=n._.stringToNumber(a),f,m;if(r){for(f=e.suffixes.length-1;f>=0;f--){if(n._.includes(a,e.suffixes[f])){m=Math.pow(e.base,f);break}if(n._.includes(a,t.suffixes[f])){m=Math.pow(t.base,f);break}}r*=m||1}return r}})}(),function(){n.register("format","currency",{regexps:{format:/(\$)/},format:function(e,t,i){var l=n.locales[n.options.currentLocale],a={before:t.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:t.match(/([\+|\-|\)|\s|\$]*)$/)[0]},r,f,m;for(t=t.replace(/\s?\$\s?/,""),r=n._.numberToFormat(e,t,i),e>=0?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):e<0&&!n._.includes(a.before,"-")&&!n._.includes(a.before,"(")&&(a.before="-"+a.before),m=0;m<a.before.length;m++)switch(f=a.before[m],f){case"$":r=n._.insert(r,l.currency.symbol,m);break;case" ":r=n._.insert(r," ",m+l.currency.symbol.length-1);break}for(m=a.after.length-1;m>=0;m--)switch(f=a.after[m],f){case"$":r=m===a.after.length-1?r+l.currency.symbol:n._.insert(r,l.currency.symbol,-(a.after.length-(1+m)));break;case" ":r=m===a.after.length-1?r+" ":n._.insert(r," ",-(a.after.length-(1+m)+l.currency.symbol.length-1));break}return r}})}(),function(){n.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,t,i){var l,a=typeof e=="number"&&!n._.isNaN(e)?e.toExponential():"0e+0",r=a.split("e");return t=t.replace(/e[\+|\-]{1}0/,""),l=n._.numberToFormat(Number(r[0]),t,i),l+"e"+r[1]},unformat:function(e){var t=n._.includes(e,"e+")?e.split("e+"):e.split("e-"),i=Number(t[0]),l=Number(t[1]);l=n._.includes(e,"e-")?l*=-1:l;function a(r,f,m,d){var _=n._.correctionFactor(r,f),M=r*_*(f*_)/(_*_);return M}return n._.reduce([i,Math.pow(10,l)],a,1)}})}(),function(){n.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,t,i){var l=n.locales[n.options.currentLocale],a,r=n._.includes(t," o")?" ":"";return t=t.replace(/\s?o/,""),r+=l.ordinal(e),a=n._.numberToFormat(e,t,i),a+r}})}(),function(){n.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,t,i){var l=n._.includes(t," %")?" ":"",a;return n.options.scalePercentBy100&&(e=e*100),t=t.replace(/\s?\%/,""),a=n._.numberToFormat(e,t,i),n._.includes(a,")")?(a=a.split(""),a.splice(-1,0,l+"%"),a=a.join("")):a=a+l+"%",a},unformat:function(e){var t=n._.stringToNumber(e);return n.options.scalePercentBy100?t*.01:t}})}(),function(){n.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,i){var l=Math.floor(e/60/60),a=Math.floor((e-l*60*60)/60),r=Math.round(e-l*60*60-a*60);return l+":"+(a<10?"0"+a:a)+":"+(r<10?"0"+r:r)},unformat:function(e){var t=e.split(":"),i=0;return t.length===3?(i=i+Number(t[0])*60*60,i=i+Number(t[1])*60,i=i+Number(t[2])):t.length===2&&(i=i+Number(t[0])*60,i=i+Number(t[1])),Number(i)}})}(),n})}}]);
