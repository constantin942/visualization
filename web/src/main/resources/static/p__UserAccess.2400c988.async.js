(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[462],{33599:function(re){re.exports={userAccess:"userAccess___1UdBc","detail-wrap":"detail-wrap___2mcEh","tabs-wrap":"tabs-wrap___3PPX8","content-wrap":"content-wrap___2U6yp",visitedData:"visitedData___1KcWz",visitedCount:"visitedCount___Z0bCy"}},99210:function(){},9578:function(re,M,t){"use strict";t.r(M),t.d(M,{default:function(){return _}});var d=t(3182),x=t(57663),w=t(71577),a=t(34792),U=t(48086),P=t(86582),b=t(2824),oe=t(94043),S=t.n(oe),E=t(67294),H=t(33599),de=t.n(H),$=t(24480),ie=t(84674),X=t(84437),I=t(6650),J=t(13062),le=t(71230),G=t(89032),q=t(15746),ue=t(22385),r=t(61580),i=t(90387),v=t(9536),F=t(69886),e=t(85893),n=function(s){var p=(0,E.useCallback)(function(){var u=new F.by("ActionPie".concat(s.id),{autoFit:!0,height:250,appendPadding:10,data:s.types,angleField:"value",colorField:"type",radius:.75,label:{type:"spider",labelHeight:28,content:`{name}
{percentage}`},interactions:[{type:"element-selected"},{type:"element-active"}]});u.update({theme:{styleSheet:{brandColor:"#025DF4",paletteQualitative10:["#025DF4","#DB6BCF","#2498D1","#BBBDE6","#4045B2","#21A97A","#FF745A","#007E99","#FFA8A8","#2391FF"],paletteQualitative20:["#025DF4","#DB6BCF","#2498D1","#BBBDE6","#4045B2","#21A97A","#FF745A","#007E99","#FFA8A8","#2391FF","#FFC328","#A0DC2C","#946DFF","#626681","#EB4185","#CD8150","#36BCCB","#327039","#803488","#83BC99"]}}}),u.render()},[]);return(0,E.useEffect)(function(){p()},[p]),(0,e.jsx)("div",{id:"ActionPie"+s.id})},m=n,f=function(s){var p=(0,E.useState)(null),u=(0,b.Z)(p,2),c=u[0],T=u[1],g=(0,E.useCallback)(function(){if(c!==null){c.update();return}var D=new F.by("VisibleTimePie"+s.id,{autoFit:!0,height:250,appendPadding:10,data:s.intervals,angleField:"value",colorField:"type",radius:.75,tooltip:{formatter:function(B){return{name:B.type,value:"".concat(B.value/10," %")}}},label:{type:"spider",labelHeight:28,content:`{name}
{percentage}`},interactions:[{type:"element-selected"},{type:"element-active"}]});T(D),D.update({theme:{styleSheet:{brandColor:"#FF6B3B",paletteQualitative10:["#FF6B3B","#626681","#FFC100","#9FB40F","#76523B","#DAD5B5","#0E8E89","#E19348","#F383A2","#247FEA"],paletteQualitative20:["#FF6B3B","#626681","#FFC100","#9FB40F","#76523B","#DAD5B5","#0E8E89","#E19348","#F383A2","#247FEA","#2BCB95","#B1ABF4","#1D42C2","#1D9ED1","#D64BC0","#255634","#8C8C47","#8CDAE5","#8E283B","#791DC9"]}}}),D.render()},[s.intervals,s.id]);return(0,E.useEffect)(function(){g()},[g]),(0,e.jsx)("div",{id:"VisibleTimePie"+s.id})},y=f,C=t(39004),K=function(s){var p=(0,E.useCallback)(function(){var u=new C.kL({container:"RecentlyLine".concat(s.id),autoFit:!0,height:200});u.data(s.ranges),u.scale({value:{min:0,nice:!1},year:{range:[0,1]}}),u.tooltip({showNil:!1,showCrosshairs:!1,title:function(T,g){return"".concat(T,"\uFF1A").concat(g.value," \u6B21")},itemTpl:`<div class="g2-tooltip">
  <div class="g2-tooltip-title">Language</div>
  <ul class="g2-tooltip-list">
    <li class="g2-tooltip-list-item">
      <span class="g2-tooltip-marker"></span>
      <span class="g2-tooltip-name">a</span>:<span class="g2-tooltip-value">70</span>
    </li>
    <li class="g2-tooltip-list-item">
      <span class="g2-tooltip-marker"></span>
      <span class="g2-tooltip-name">b</span>:<span class="g2-tooltip-value">50</span>
    </li>
  </ul>
</div>`}),u.axis("value",{label:{}}),u.area().position("year*value"),u.line().position("year*value"),u.render()},[]);return(0,E.useEffect)(function(){p()},[p]),(0,e.jsx)("div",{id:"RecentlyLine"+s.id})},L=K,V=[{label:"\u7ECF\u5E38\u8BBF\u95EE\u7684\u6570\u636E",value:"higher"},{label:"\u4E0D\u5E38\u8BBF\u95EE\u7684\u6570\u636E",value:"lower"}],ee=function(s){var p,u,c,T=(0,E.useState)(V[0].value),g=(0,b.Z)(T,2),D=g[0],ae=g[1];return(0,e.jsxs)(le.Z,{className:s.style["detail-wrap"],children:[(0,e.jsxs)(q.Z,{span:8,className:s.style["tabs-wrap"],children:[(0,e.jsx)(v.Z,{block:!0,options:V,value:D,onChange:ae}),(0,e.jsx)("div",{className:s.style["content-wrap"],children:(p=s.details)===null||p===void 0||(u=p.higherOrLower)===null||u===void 0||(c=u[D])===null||c===void 0?void 0:c.map(function(B){return(0,e.jsxs)("div",{className:"flex-x-sb",children:[(0,e.jsx)(r.Z,{title:B.visitedData,children:(0,e.jsx)("span",{id:"visitedData",className:s.style.visitedData,children:B.visitedData})}),(0,e.jsxs)("span",{className:s.style.visitedCount,children:[B.visitedCount," \u6B21"]})]},B.visitedData)})})]}),(0,e.jsxs)(q.Z,{span:16,className:"pl-10 pr-20",children:[(0,e.jsxs)(le.Z,{children:[(0,e.jsxs)(q.Z,{span:12,className:"text-c",children:[(0,e.jsx)("h3",{children:"\u64CD\u4F5C\u884C\u4E3A\u5206\u5E03"}),(0,e.jsx)(m,{types:s.details.types,id:s.id})]}),(0,e.jsxs)(q.Z,{span:12,className:"text-c",children:[(0,e.jsx)("h3",{children:"\u8BBF\u95EE\u65F6\u6BB5\u5206\u5E03"}),(0,e.jsx)(y,{intervals:s.details.intervals,id:s.id})]})]}),(0,e.jsxs)("div",{className:"text-c mt-15 mb-20",children:[(0,e.jsx)("h3",{children:"\u8FD1\u4E03\u5929\u8BBF\u95EE\u6570\u636E\u7EDF\u8BA1"}),(0,e.jsx)(L,{ranges:s.details.ranges,id:s.id})]})]})]})},te=ee,z=function(){var s=(0,E.useState)(),p=(0,b.Z)(s,2),u=p[0],c=p[1],T=(0,E.useState)(""),g=(0,b.Z)(T,2),D=g[0],ae=g[1],B=(0,E.useState)({types:[],intervals:[],ranges:[],higherOrLower:{higher:[],lower:[]}}),O=(0,b.Z)(B,2),Ce=O[0],fe=O[1],he=[{title:"\u7528\u6237\u540D",dataIndex:"userName",key:"applicationUserName",align:"center",initialValue:""},{title:"\u8BBF\u95EE\u6B21\u6570",dataIndex:"visitedCount",key:"visitedCount",search:!1,width:100,align:"center"},{title:"\u5E38\u7528\u6570\u636E",dataIndex:"usualVisitedData",key:"usualVisitedData",align:"center",search:!1},{title:"\u6700\u540E\u8BBF\u95EE\u65F6\u95F4",dataIndex:"lastVisitedDate",key:"lastVisitedDate",search:!1,align:"center"},{title:"\u64CD\u4F5C",key:"action",align:"center",search:!1,render:function(W,l){return[(0,e.jsx)(w.Z,{type:"link",size:"small",onClick:function(){if(D===l.id){ae(""),fe({types:[],intervals:[],ranges:[],higherOrLower:{higher:[],lower:[]}});return}if(l.visitedCount!==0){var N=l.usualVisitedData,ge=$.Z.getRangeStartAndEndTime(7,"YYYY-mm-dd HH:MM:SS"),pe=$.Z.getRangeTime(7,"YYYY-mm-dd HH:MM:SS");(0,I.Xd)({applicationUserName:l.userName,startTime:ge[0],endTime:ge[1],tableName:N}).then(function(Ee){var ve=Ee.data;if(ve&&ve.length>0){var De=ve.map(function(o,h){return{year:pe[h],value:o}}),ye=(0,P.Z)(ie.q);(0,I.FP)({userName:l.userName}).then(function(o){o.data&&o.data.length>0&&ye.forEach(function(h){o.data.forEach(function(Z){var Q=JSON.parse(Z),se=Q.dbType,j=Q.dbTypeTimes;h.type===se&&(h.value=parseInt(j))})})});var ce=(0,P.Z)(ie.Q);(0,I.mt)(l.userName).then(function(o){var h=o.data,Z=h.afternoon,Q=h.morning,se=h.night;Z&&(ce[0].value=Q*1e3|0,ce[1].value=Z*1e3|0,ce[2].value=se*1e3|0),(0,I.Bx)({applicationUserName:l.userName}).then(function(j){j.data&&(j.data.high.forEach(function(Y){var me=Y.visitedData.split("#");return Y.visitedData=me[me.length-1],Y}),j.data.low.forEach(function(Y){var me=Y.visitedData.split("#");return Y.visitedData=me[me.length-1],Y}),fe(function(){return{types:ye,intervals:ce,ranges:De,higherOrLower:{higher:j.data.high,lower:j.data.low}}}),ae(l.id))})})}})}else U.ZP.info("".concat(l.userName,"\u7528\u6237\u8BBF\u95EE\u6B21\u6570\u4E3A0\uFF0C\u6682\u65E0\u8BE6\u60C5\u6570\u636E")).then()},children:"\u8BE6\u60C5"},"action")]}}],k=function(W){(0,I.F$)(W).then(function(l){var ne=l.data;ne&&ne.length>0?c(ne.map(function(N){return N.id=$.Z.uuid(),N})):c([])})};return(0,E.useEffect)(function(){k()},[]),(0,e.jsx)("div",{className:de().userAccess,children:(0,e.jsx)(X.Z,{headerTitle:"\u7528\u6237\u8BBF\u95EE\u884C\u4E3A\u7EDF\u8BA1\u5217\u8868",columns:he,rowKey:"id",search:{searchText:"\u67E5\u8BE2",resetText:"\u91CD\u7F6E"},onReset:(0,d.Z)(S().mark(function R(){return S().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:k();case 1:case"end":return l.stop()}},R)})),pagination:!1,options:!1,onSubmit:function(){var R=(0,d.Z)(S().mark(function W(l){return S().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:Object.keys(l).length>0?(console.log(l),k({username:l.applicationUserName})):k();case 1:case"end":return N.stop()}},W)}));return function(W){return R.apply(this,arguments)}}(),expandable:{expandedRowRender:function(W,l){return(0,e.jsx)(te,{details:Ce,id:l,style:de()},l)},expandIcon:function(){return!1},expandedRowKeys:[D]},dataSource:u})})},_=z},84674:function(re,M,t){"use strict";t.d(M,{q:function(){return d},Q:function(){return x}});var d=[{type:"insert",value:0},{type:"delete",value:0},{type:"update",value:0},{type:"select",value:0}],x=[{type:"\u4E0A\u5348",value:0},{type:"\u4E0B\u5348",value:0},{type:"\u665A\u4E0A",value:0}]},6650:function(re,M,t){"use strict";t.d(M,{F$:function(){return P},Xd:function(){return oe},mt:function(){return E},et:function(){return ie},FP:function(){return I},Bx:function(){return le}});var d=t(11849),x=t(3182),w=t(94043),a=t.n(w),U=t(25377);function P(r,i){return b.apply(this,arguments)}function b(){return b=(0,x.Z)(a().mark(function r(i,v){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,U.WY)("/api/skyflying/getCoarseCountsOfUsers",(0,d.Z)({method:"GET",params:i},v||{})));case 1:case"end":return e.stop()}},r)})),b.apply(this,arguments)}function oe(r,i){return S.apply(this,arguments)}function S(){return S=(0,x.Z)(a().mark(function r(i,v){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,U.WY)("/api/skyflying/getCountsOfUserRecentSevenDays",(0,d.Z)({method:"GET",params:i},v||{})));case 1:case"end":return e.stop()}},r)})),S.apply(this,arguments)}function E(r,i){return H.apply(this,arguments)}function H(){return H=(0,x.Z)(a().mark(function r(i,v){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,U.WY)("/api/skyflying/getVisitRate",(0,d.Z)({method:"GET",params:{username:i}},v||{})));case 1:case"end":return e.stop()}},r)})),H.apply(this,arguments)}function de(r,i){return $.apply(this,arguments)}function $(){return $=_asyncToGenerator(_regeneratorRuntime.mark(function r(i,v){return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/skyflying/getCountsOfAllRecentSevenDays",_objectSpread({method:"GET",params:i},v||{})));case 1:case"end":return e.stop()}},r)})),$.apply(this,arguments)}function ie(r,i){return X.apply(this,arguments)}function X(){return X=(0,x.Z)(a().mark(function r(i,v){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,U.WY)("/api/skyflying/getCountsOfUser",(0,d.Z)({method:"GET",params:i},v||{})));case 1:case"end":return e.stop()}},r)})),X.apply(this,arguments)}function I(r,i){return J.apply(this,arguments)}function J(){return J=(0,x.Z)(a().mark(function r(i,v){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,U.WY)("/api/skyflying/getUserOperationTypeCount",(0,d.Z)({method:"GET",params:i},v||{})));case 1:case"end":return e.stop()}},r)})),J.apply(this,arguments)}function le(r,i){return G.apply(this,arguments)}function G(){return G=(0,x.Z)(a().mark(function r(i,v){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,U.WY)("/api/skyflying/getUserUsualAndUnusualData",(0,d.Z)({method:"GET",params:i},v||{})));case 1:case"end":return e.stop()}},r)})),G.apply(this,arguments)}function q(r,i){return ue.apply(this,arguments)}function ue(){return ue=_asyncToGenerator(_regeneratorRuntime.mark(function r(i,v){return _regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/api/skyflying/getCoarseCountsOfOneUser",_objectSpread({method:"GET",params:i||{}},v||{})));case 1:case"end":return e.stop()}},r)})),ue.apply(this,arguments)}},9536:function(re,M,t){"use strict";t.d(M,{Z:function(){return F}});var d=t(96156),x=t(22122),w=t(90484),a=t(67294),U=t(94184),P=t.n(U),b=t(28481),oe=t(81253),S=t(28991),E=t(63441),H=t(21770),de=t(42550),$=t(98423),ie=["prefixCls","direction","options","disabled","defaultValue","value","onChange","className","motionName"];function X(e){if(typeof e.title!="undefined")return e.title;if((0,w.Z)(e.label)!=="object"){var n;return(n=e.label)===null||n===void 0?void 0:n.toString()}}function I(e){return e.map(function(n){if((0,w.Z)(n)==="object"&&n!==null){var m=X(n);return(0,S.Z)((0,S.Z)({},n),{},{title:m})}return{label:n==null?void 0:n.toString(),title:n==null?void 0:n.toString(),value:n}})}var J=function(n){return{transform:"translateX(".concat(n.offsetLeft,"px)"),width:n.clientWidth}},le=function(n){var m=n.prefixCls,f=n.className,y=n.disabled,C=n.checked,K=n.label,L=n.title,V=n.value,ee=n.onChange,te=function(_){y||ee(_,V)};return a.createElement("label",{className:P()(f,(0,d.Z)({},"".concat(m,"-item-disabled"),y))},a.createElement("input",{className:"".concat(m,"-item-input"),type:"radio",disabled:y,checked:C,onChange:te}),a.createElement("div",{className:"".concat(m,"-item-label"),title:L},K))},G=a.forwardRef(function(e,n){var m,f,y=e.prefixCls,C=y===void 0?"rc-segmented":y,K=e.direction,L=e.options,V=e.disabled,ee=e.defaultValue,te=e.value,z=e.onChange,_=e.className,A=_===void 0?"":_,s=e.motionName,p=s===void 0?"thumb-motion":s,u=(0,oe.Z)(e,ie),c=a.useRef(null),T=(0,de.sQ)(c,n),g=a.useRef({from:null,to:null}),D=a.useMemo(function(){return I(L)},[L]),ae=(0,H.Z)((m=D[0])===null||m===void 0?void 0:m.value,{value:e.value,defaultValue:ee}),B=(0,b.Z)(ae,2),O=B[0],Ce=B[1],fe=a.useState(O),he=(0,b.Z)(fe,2),k=he[0],R=he[1],W=a.useState(!1),l=(0,b.Z)(W,2),ne=l[0],N=l[1],ge=a.useCallback(function(o){var h,Z=D.findIndex(function(Y){return Y.value===o});if(!(Z<0)){var Q=(h=c.current)===null||h===void 0?void 0:h.querySelector(".".concat(C,"-item:nth-child(").concat(Z+1,")"));if(Q){var se,j=(se=c.current)===null||se===void 0?void 0:se.querySelector(".".concat(C,"-item-selected"));j&&Q&&g.current&&(g.current.from=J(j),g.current.to=J(Q),N(!0))}}},[C,D]),pe=a.useRef(k);a.useEffect(function(){pe.current=k}),a.useEffect(function(){(typeof O=="string"||typeof O=="number")&&O!==pe.current&&ge(O)},[O]);var Ee=function(h,Z){V||(Ce(Z),z==null||z(Z))},ve=function(){var h=g.current.from;if(h)return R(void 0),h},De=function(){var h=g.current.to;if(h)return h},ye=function(){N(!1),R(O),g.current&&(g.current={from:null,to:null})},ce=(0,$.Z)(u,["children"]);return a.createElement("div",(0,S.Z)((0,S.Z)({},ce),{},{className:P()(C,(f={},(0,d.Z)(f,"".concat(C,"-rtl"),K==="rtl"),(0,d.Z)(f,"".concat(C,"-disabled"),V),f),A),ref:T}),a.createElement(E.Z,{visible:ne,motionName:"".concat(C,"-").concat(p),motionDeadline:300,onEnterStart:ve,onEnterActive:De,onEnterEnd:ye},function(o){var h=o.className,Z=o.style;return a.createElement("div",{style:Z,className:P()("".concat(C,"-thumb"),h)})}),D.map(function(o){return a.createElement(le,(0,S.Z)({key:o.value,prefixCls:C,className:P()(o.className,"".concat(C,"-item"),(0,d.Z)({},"".concat(C,"-item-selected"),o.value===k)),checked:o.value===O,onChange:Ee},o))}))});G.displayName="Segmented",G.defaultProps={options:[]};var q=G,ue=t(65632),r=t(97647),i=function(e,n){var m={};for(var f in e)Object.prototype.hasOwnProperty.call(e,f)&&n.indexOf(f)<0&&(m[f]=e[f]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var y=0,f=Object.getOwnPropertySymbols(e);y<f.length;y++)n.indexOf(f[y])<0&&Object.prototype.propertyIsEnumerable.call(e,f[y])&&(m[f[y]]=e[f[y]]);return m},v=a.forwardRef(function(e,n){var m,f=e.prefixCls,y=e.className,C=e.block,K=e.options,L=e.size,V=L===void 0?"middle":L,ee=i(e,["prefixCls","className","block","options","size"]),te=a.useContext(ue.E_),z=te.getPrefixCls,_=te.direction,A=z("segmented",f),s=a.useContext(r.Z),p=V||s,u=a.useMemo(function(){return K.map(function(c){if((0,w.Z)(c)==="object"&&(c==null?void 0:c.icon)){var T=c.icon,g=c.label,D=i(c,["icon","label"]);return(0,x.Z)((0,x.Z)({},D),{label:a.createElement(a.Fragment,null,a.createElement("span",{className:"".concat(A,"-item-icon")},T),a.createElement("span",null,g))})}return c})},[K,A]);return a.createElement(q,(0,x.Z)({},ee,{className:P()(y,(m={},(0,d.Z)(m,"".concat(A,"-block"),C),(0,d.Z)(m,"".concat(A,"-sm"),p==="small"),(0,d.Z)(m,"".concat(A,"-lg"),p==="large"),m)),options:u,ref:n,prefixCls:A,direction:_}))});v.displayName="Segmented",v.defaultProps={options:[]};var F=v},90387:function(re,M,t){"use strict";var d=t(38663),x=t.n(d),w=t(99210),a=t.n(w)}}]);
