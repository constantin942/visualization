(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[284],{37174:function(W){W.exports={alarm:"alarm___12xQi",salesRank:"salesRank___-5oIk",rankingList:"rankingList___rxbMU",rankingItemNumber:"rankingItemNumber___3eh0u",active:"active___3KjTZ",rankingItemTitle:"rankingItemTitle___3gCS2","alarm-data":"alarm-data___17B2L",alarmDetail:"alarmDetail___9Lz5b"}},70347:function(){},87261:function(W,w,o){"use strict";o.r(w),o.d(w,{default:function(){return H}});var y=o(3182),D=o(57663),a=o(71577),g=o(22385),T=o(61580),E=o(2824),C=o(94043),B=o.n(C),f=o(67294),L=o(37174),e=o.n(L),t=o(13062),i=o(71230),l=o(89032),n=o(15746),r=o(58024),s=o(39144),d=o(13254),_=o(14277),v=o(69886),m=o(85893),u=function(P){return(0,f.useEffect)(function(){var Z=new v.by("AlarmDistributionPie",{appendPadding:10,data:P.alarmDataRanking,height:210,angleField:"value",colorField:"type",radius:1,innerRadius:.65,meta:{value:{formatter:function(R){return"".concat(R,"\u6B21")}}},legend:{position:"bottom",itemHeight:20},label:{type:"spider",formatter:function(R){var J=R.percent;return"".concat((J*100).toFixed(2),"%")}},statistic:{title:{offsetY:8,style:{fontSize:"12px",whiteSpace:"pre-wrap",lineHeight:"1",padding:"9px 6px"},formatter:function(R){return(R==null?void 0:R.type)||"\u89E6\u53D1\u6B21\u6570"}},content:{style:{textAlign:"center",fontSize:"12px",fontWeight:"500",marginTop:"10px"},offsetY:6}},interactions:[{type:"element-selected"},{type:"element-active"},{type:"pie-statistic-active",cfg:{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"},{trigger:"legend-item:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"},{trigger:"legend-item:mouseleave",action:"pie-statistic:reset"}]}}]});Z.render()},[]),(0,m.jsx)("div",{id:"AlarmDistributionPie"})},h=u,b=o(92077),c=o.n(b),p=function(P){return(0,m.jsxs)(i.Z,{gutter:10,className:"",children:[(0,m.jsx)(n.Z,{span:8,children:(0,m.jsx)(s.Z,{size:"default",title:"\u544A\u8B66\u6570\u636E",bordered:!1,bodyStyle:{padding:"10px 20px"},children:(0,m.jsxs)("div",{className:e().salesRank,children:[P.alarmDataRanking.length===0&&(0,m.jsx)(_.Z,{description:"\u6682\u65E0\u544A\u8B66\u6570\u636E",style:{marginTop:"20px"}}),P.alarmDataRanking.length!==0&&(0,m.jsx)("ul",{className:e().rankingList,children:P.alarmDataRanking.map(function(Z,S){return(0,m.jsxs)("li",{children:[(0,m.jsx)("span",{className:"".concat(e().rankingItemNumber," ").concat(S<3?e().active:""),children:S+1}),(0,m.jsx)("span",{className:e().rankingItemTitle,title:Z.type,children:Z.type}),(0,m.jsxs)("span",{className:e().rankingItemCount,children:[c()(Z.value).format("0,0"),"\u6B21"]})]},Z.value)})})]})})}),(0,m.jsx)(n.Z,{span:8,children:(0,m.jsx)(s.Z,{size:"default",title:"\u9AD8\u5371\u7528\u6237",bordered:!1,bodyStyle:{padding:"10px 20px"},children:(0,m.jsxs)("div",{className:e().salesRank,children:[P.alarmUserRanking.length===0&&(0,m.jsx)(_.Z,{description:"\u6682\u65E0\u544A\u8B66\u5206\u5E03\u6570\u636E",style:{marginTop:"20px"}}),P.alarmUserRanking.length!==0&&(0,m.jsx)("ul",{className:e().rankingList,children:P.alarmUserRanking.map(function(Z,S){return(0,m.jsxs)("li",{children:[(0,m.jsx)("span",{className:"".concat(e().rankingItemNumber," ").concat(S<3?e().active:""),children:S+1}),(0,m.jsx)("span",{className:e().rankingItemTitle,title:Z.userName,children:Z.userName}),(0,m.jsxs)("span",{className:e().rankingItemCount,children:[c()(Z.alarmCount).format("0,0"),"\u6B21"]})]},Z.userName)})})]})})}),(0,m.jsx)(n.Z,{span:8,children:(0,m.jsx)(s.Z,{size:"default",title:"\u544A\u8B66\u5206\u5E03",bordered:!1,bodyStyle:{padding:"40px 20px",height:"300px"},children:P.alarmDataRanking.length>0?(0,m.jsx)(h,{alarmDataRanking:P.alarmDataRanking}):(0,m.jsx)("div",{className:e().salesRank,children:(0,m.jsx)(_.Z,{style:{marginTop:"20px"}})})})})]})},Y=p,G=o(60355),z=o(48606),x=o(2335),O=o(24480),M=function(P){var Z=(0,f.useState)([]),S=(0,E.Z)(Z,2),R=S[0],J=S[1],se=(0,f.useState)([]),ee=(0,E.Z)(se,2),fe=ee[0],he=ee[1],oe=(0,f.useState)(0),te=(0,E.Z)(oe,2),ae=te[0],V=te[1],pe=(0,f.useState)([]),ne=(0,E.Z)(pe,2),ge=ne[0],ve=ne[1],be=(0,f.useState)({pageNo:1,pageSize:10}),re=(0,E.Z)(be,2),ce=re[0],ye=re[1],A=[{title:"\u7528\u6237",dataIndex:"userName",key:"address",align:"center",search:!1},{title:"\u547D\u4E2D\u89C4\u5219ID",dataIndex:"matchRuleId",key:"matchRuleId",search:!1,align:"center",render:function(F,N){var k=R.find(function(U){return U.matchRuleId===N.matchRuleId});return(0,m.jsx)(T.Z,{color:"blue",title:function(){return k?k.type:N.matchRuleId},children:N.matchRuleId})}},{title:"\u89E6\u53D1\u6B21\u6570",dataIndex:"matchCount",key:"age",search:!1,align:"center",render:function(F,N){return(0,m.jsx)("div",{className:"danger",children:N.matchCount})}},{title:"\u6700\u540E\u89E6\u53D1\u65F6\u95F4",dataIndex:"original_time",key:"address",search:!1,align:"center"},{title:"\u64CD\u4F5C",key:"action",align:"center",search:!1,render:function(F,N){return[(0,m.jsx)(a.Z,{type:"link",size:"small",onClick:function(){P.history.push({pathname:"/alarm-detail",query:{userName:N.userName,matchRuleId:N.matchRuleId}})},children:"\u8BE6\u60C5"},"management")]}}],ue=(0,f.useCallback)((0,y.Z)(B().mark(function $(){var F,N,k;return B().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,(0,z.Hp)();case 2:F=K.sent,N=F.data,k=N.map(function(X){var le,q;return{type:X.alarmName,value:parseInt((le=X.alarmInfo)!==null&&le!==void 0?le:0),percent:parseInt((q=X.alarmInfo)!==null&&q!==void 0?q:0)/100,matchRuleId:X.matchRuleId}}),J(k);case 6:case"end":return K.stop()}},$)})),[]),j=(0,f.useCallback)(function($){(0,x.sF)($).then(function(F){var N=F.data,k=JSON.parse(N);if(k){V(k.total);var U=JSON.parse(k.rows);ve(U.map(function(K){return K.id=O.Z.uuid(),K}))}})},[]),de=(0,f.useCallback)((0,y.Z)(B().mark(function $(){var F,N;return B().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,z.CI)();case 2:F=U.sent,N=F.data,he(N);case 5:case"end":return U.stop()}},$)})),[]);return(0,f.useEffect)(function(){ue().then(),de().then(),j()},[ue,de,j]),(0,m.jsxs)("div",{className:e().alarm,children:[(0,m.jsx)(Y,{alarmDataRanking:R,alarmUserRanking:fe}),(0,m.jsx)(G.ZP,{headerTitle:"\u544A\u8B66\u4FE1\u606F\u5217\u8868",className:"mt-10",columns:A,rowKey:"id",search:!1,options:!1,pagination:{showSizeChanger:!1,pageSize:ce.pageSize,current:ce.pageNo,total:ae,onChange:function(F,N){ye({pageNo:F,pageSize:N}),j({pageNo:F,pageSize:N})}},dataSource:ge})]})},H=M},48606:function(W,w,o){"use strict";o.d(w,{Hp:function(){return E},CI:function(){return B},cD:function(){return L},QD:function(){return t}});var y=o(11849),D=o(3182),a=o(94043),g=o.n(a),T=o(25377);function E(l){return C.apply(this,arguments)}function C(){return C=(0,D.Z)(g().mark(function l(n){return g().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,T.WY)("/api/skyflying/getAlarmData",(0,y.Z)({method:"GET"},n||{})));case 1:case"end":return s.stop()}},l)})),C.apply(this,arguments)}function B(l){return f.apply(this,arguments)}function f(){return f=(0,D.Z)(g().mark(function l(n){return g().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,T.WY)("/api/skyflying/getUserAlarmData",(0,y.Z)({method:"GET"},n||{})));case 1:case"end":return s.stop()}},l)})),f.apply(this,arguments)}function L(l,n){return e.apply(this,arguments)}function e(){return e=(0,D.Z)(g().mark(function l(n,r){return g().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,T.WY)("/api/skyflying/getAllAlarmInfoDetailByUserName",(0,y.Z)({method:"GET",params:n||{}},r||{})));case 1:case"end":return d.stop()}},l)})),e.apply(this,arguments)}function t(l,n){return i.apply(this,arguments)}function i(){return i=(0,D.Z)(g().mark(function l(n,r){return g().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,T.WY)("/api/skyflying/updateAnomalyDetectionInfo",(0,y.Z)({method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8;"},data:JSON.stringify(n||{})},r||{})));case 1:case"end":return d.stop()}},l)})),i.apply(this,arguments)}},2335:function(W,w,o){"use strict";o.d(w,{rO:function(){return E},cD:function(){return B},sF:function(){return L}});var y=o(11849),D=o(3182),a=o(94043),g=o.n(a),T=o(25377);function E(t){return C.apply(this,arguments)}function C(){return C=(0,D.Z)(g().mark(function t(i){return g().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,T.WY)("/api/skyflying/getUserNameAnomalyDetectionInfo",(0,y.Z)({method:"GET"},i||{})));case 1:case"end":return n.stop()}},t)})),C.apply(this,arguments)}function B(t,i){return f.apply(this,arguments)}function f(){return f=(0,D.Z)(g().mark(function t(i,l){return g().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,T.WY)("/api/skyflying/getAllAlarmInfoDetailByUserName",(0,y.Z)({method:"GET",params:i||{}},l||{})));case 1:case"end":return r.stop()}},t)})),f.apply(this,arguments)}function L(t,i){return e.apply(this,arguments)}function e(){return e=(0,D.Z)(g().mark(function t(i,l){return g().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,T.WY)("/api/skyflying/getAnomalyDetectionInfoByGroupByUserName",(0,y.Z)({method:"GET",params:i||{}},l||{})));case 1:case"end":return r.stop()}},t)})),e.apply(this,arguments)}},39144:function(W,w,o){"use strict";o.d(w,{Z:function(){return m}});var y=o(96156),D=o(22122),a=o(67294),g=o(94184),T=o.n(g),E=o(98423),C=o(65632),B=function(u,h){var b={};for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&h.indexOf(c)<0&&(b[c]=u[c]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,c=Object.getOwnPropertySymbols(u);p<c.length;p++)h.indexOf(c[p])<0&&Object.prototype.propertyIsEnumerable.call(u,c[p])&&(b[c[p]]=u[c[p]]);return b},f=function(h){var b=h.prefixCls,c=h.className,p=h.hoverable,Y=p===void 0?!0:p,G=B(h,["prefixCls","className","hoverable"]);return a.createElement(C.C,null,function(z){var x=z.getPrefixCls,O=x("card",b),M=T()("".concat(O,"-grid"),c,(0,y.Z)({},"".concat(O,"-grid-hoverable"),Y));return a.createElement("div",(0,D.Z)({},G,{className:M}))})},L=f,e=function(u,h){var b={};for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&h.indexOf(c)<0&&(b[c]=u[c]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,c=Object.getOwnPropertySymbols(u);p<c.length;p++)h.indexOf(c[p])<0&&Object.prototype.propertyIsEnumerable.call(u,c[p])&&(b[c[p]]=u[c[p]]);return b},t=function(h){return a.createElement(C.C,null,function(b){var c=b.getPrefixCls,p=h.prefixCls,Y=h.className,G=h.avatar,z=h.title,x=h.description,O=e(h,["prefixCls","className","avatar","title","description"]),M=c("card",p),H=T()("".concat(M,"-meta"),Y),I=G?a.createElement("div",{className:"".concat(M,"-meta-avatar")},G):null,P=z?a.createElement("div",{className:"".concat(M,"-meta-title")},z):null,Z=x?a.createElement("div",{className:"".concat(M,"-meta-description")},x):null,S=P||Z?a.createElement("div",{className:"".concat(M,"-meta-detail")},P,Z):null;return a.createElement("div",(0,D.Z)({},O,{className:H}),I,S)})},i=t,l=o(51752),n=o(71230),r=o(15746),s=o(97647),d=function(u,h){var b={};for(var c in u)Object.prototype.hasOwnProperty.call(u,c)&&h.indexOf(c)<0&&(b[c]=u[c]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,c=Object.getOwnPropertySymbols(u);p<c.length;p++)h.indexOf(c[p])<0&&Object.prototype.propertyIsEnumerable.call(u,c[p])&&(b[c[p]]=u[c[p]]);return b};function _(u){var h=u.map(function(b,c){return a.createElement("li",{style:{width:"".concat(100/u.length,"%")},key:"action-".concat(c)},a.createElement("span",null,b))});return h}var v=a.forwardRef(function(u,h){var b,c,p=a.useContext(C.E_),Y=p.getPrefixCls,G=p.direction,z=a.useContext(s.Z),x=function(me){var Q;(Q=u.onTabChange)===null||Q===void 0||Q.call(u,me)},O=function(){var me;return a.Children.forEach(u.children,function(Q){Q&&Q.type&&Q.type===L&&(me=!0)}),me},M=u.prefixCls,H=u.className,I=u.extra,P=u.headStyle,Z=P===void 0?{}:P,S=u.bodyStyle,R=S===void 0?{}:S,J=u.title,se=u.loading,ee=u.bordered,fe=ee===void 0?!0:ee,he=u.size,oe=u.type,te=u.cover,ae=u.actions,V=u.tabList,pe=u.children,ne=u.activeTabKey,ge=u.defaultActiveTabKey,ve=u.tabBarExtraContent,be=u.hoverable,re=u.tabProps,ce=re===void 0?{}:re,ye=d(u,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),A=Y("card",M),ue=R.padding===0||R.padding==="0px"?{padding:24}:void 0,j=a.createElement("div",{className:"".concat(A,"-loading-block")}),de=a.createElement("div",{className:"".concat(A,"-loading-content"),style:ue},a.createElement(n.Z,{gutter:8},a.createElement(r.Z,{span:22},j)),a.createElement(n.Z,{gutter:8},a.createElement(r.Z,{span:8},j),a.createElement(r.Z,{span:15},j)),a.createElement(n.Z,{gutter:8},a.createElement(r.Z,{span:6},j),a.createElement(r.Z,{span:18},j)),a.createElement(n.Z,{gutter:8},a.createElement(r.Z,{span:13},j),a.createElement(r.Z,{span:9},j)),a.createElement(n.Z,{gutter:8},a.createElement(r.Z,{span:4},j),a.createElement(r.Z,{span:3},j),a.createElement(r.Z,{span:16},j))),$=ne!==void 0,F=(0,D.Z)((0,D.Z)({},ce),(b={},(0,y.Z)(b,$?"activeKey":"defaultActiveKey",$?ne:ge),(0,y.Z)(b,"tabBarExtraContent",ve),b)),N,k=V&&V.length?a.createElement(l.Z,(0,D.Z)({size:"large"},F,{className:"".concat(A,"-head-tabs"),onChange:x}),V.map(function(ie){return a.createElement(l.Z.TabPane,{tab:ie.tab,disabled:ie.disabled,key:ie.key})})):null;(J||I||k)&&(N=a.createElement("div",{className:"".concat(A,"-head"),style:Z},a.createElement("div",{className:"".concat(A,"-head-wrapper")},J&&a.createElement("div",{className:"".concat(A,"-head-title")},J),I&&a.createElement("div",{className:"".concat(A,"-extra")},I)),k));var U=te?a.createElement("div",{className:"".concat(A,"-cover")},te):null,K=a.createElement("div",{className:"".concat(A,"-body"),style:R},se?de:pe),X=ae&&ae.length?a.createElement("ul",{className:"".concat(A,"-actions")},_(ae)):null,le=(0,E.Z)(ye,["onTabChange"]),q=he||z,_e=T()(A,(c={},(0,y.Z)(c,"".concat(A,"-loading"),se),(0,y.Z)(c,"".concat(A,"-bordered"),fe),(0,y.Z)(c,"".concat(A,"-hoverable"),be),(0,y.Z)(c,"".concat(A,"-contain-grid"),O()),(0,y.Z)(c,"".concat(A,"-contain-tabs"),V&&V.length),(0,y.Z)(c,"".concat(A,"-").concat(q),q),(0,y.Z)(c,"".concat(A,"-type-").concat(oe),!!oe),(0,y.Z)(c,"".concat(A,"-rtl"),G==="rtl"),c),H);return a.createElement("div",(0,D.Z)({ref:h},le,{className:_e}),N,U,K,X)});v.Grid=L,v.Meta=i;var m=v},58024:function(W,w,o){"use strict";var y=o(38663),D=o.n(y),a=o(70347),g=o.n(a),T=o(18106),E=o(13062),C=o(89032)},92077:function(W,w,o){var y,D;/*! @preserve
* numeral.js
* version : 2.0.6
* author : Adam Draper
* license : MIT
* http://adamwdraper.github.com/Numeral-js/
*/(function(a,g){y=g,D=typeof y=="function"?y.call(w,o,w,W):y,D!==void 0&&(W.exports=D)})(this,function(){var a,g,T="2.0.6",E={},C={},B={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},f={currentLocale:B.currentLocale,zeroFormat:B.zeroFormat,nullFormat:B.nullFormat,defaultFormat:B.defaultFormat,scalePercentBy100:B.scalePercentBy100};function L(e,t){this._input=e,this._value=t}return a=function(e){var t,i,l,n;if(a.isNumeral(e))t=e.value();else if(e===0||typeof e=="undefined")t=0;else if(e===null||g.isNaN(e))t=null;else if(typeof e=="string")if(f.zeroFormat&&e===f.zeroFormat)t=0;else if(f.nullFormat&&e===f.nullFormat||!e.replace(/[^0-9]+/g,"").length)t=null;else{for(i in E)if(n=typeof E[i].regexps.unformat=="function"?E[i].regexps.unformat():E[i].regexps.unformat,n&&e.match(n)){l=E[i].unformat;break}l=l||a._.stringToNumber,t=l(e)}else t=Number(e)||null;return new L(e,t)},a.version=T,a.isNumeral=function(e){return e instanceof L},a._=g={numberToFormat:function(e,t,i){var l=C[a.options.currentLocale],n=!1,r=!1,s=0,d="",_=1e12,v=1e9,m=1e6,u=1e3,h="",b=!1,c,p,Y,G,z,x,O,M,H,I;if(e=e||0,p=Math.abs(e),a._.includes(t,"(")?(n=!0,t=t.replace(/[\(|\)]/g,"")):(a._.includes(t,"+")||a._.includes(t,"-"))&&(M=a._.includes(t,"+")?t.indexOf("+"):e<0?t.indexOf("-"):-1,t=t.replace(/[\+|\-]/g,"")),a._.includes(t,"a")&&(c=t.match(/a(k|m|b|t)?/),c=c?c[1]:!1,a._.includes(t," a")&&(d=" "),t=t.replace(new RegExp(d+"a[kmbt]?"),""),p>=_&&!c||c==="t"?(d+=l.abbreviations.trillion,e=e/_):p<_&&p>=v&&!c||c==="b"?(d+=l.abbreviations.billion,e=e/v):p<v&&p>=m&&!c||c==="m"?(d+=l.abbreviations.million,e=e/m):(p<m&&p>=u&&!c||c==="k")&&(d+=l.abbreviations.thousand,e=e/u)),a._.includes(t,"[.]")&&(r=!0,t=t.replace("[.]",".")),x=e.toString().split(".")[0],O=t.split(".")[1],H=t.indexOf(","),s=(t.split(".")[0].split(",")[0].match(/0/g)||[]).length,O?(a._.includes(O,"[")?(O=O.replace("]",""),O=O.split("["),h=a._.toFixed(e,O[0].length+O[1].length,i,O[1].length)):h=a._.toFixed(e,O.length,i),x=h.split(".")[0],a._.includes(h,".")?h=l.delimiters.decimal+h.split(".")[1]:h="",r&&Number(h.slice(1))===0&&(h="")):x=a._.toFixed(e,0,i),d&&!c&&Number(x)>=1e3&&d!==l.abbreviations.trillion)switch(x=String(Number(x)/1e3),d){case l.abbreviations.thousand:d=l.abbreviations.million;break;case l.abbreviations.million:d=l.abbreviations.billion;break;case l.abbreviations.billion:d=l.abbreviations.trillion;break}if(a._.includes(x,"-")&&(x=x.slice(1),b=!0),x.length<s)for(var P=s-x.length;P>0;P--)x="0"+x;return H>-1&&(x=x.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+l.delimiters.thousands)),t.indexOf(".")===0&&(x=""),I=x+h+(d||""),n?I=(n&&b?"(":"")+I+(n&&b?")":""):M>=0?I=M===0?(b?"-":"+")+I:I+(b?"-":"+"):b&&(I="-"+I),I},stringToNumber:function(e){var t=C[f.currentLocale],i=e,l={thousand:3,million:6,billion:9,trillion:12},n,r,s,d;if(f.zeroFormat&&e===f.zeroFormat)r=0;else if(f.nullFormat&&e===f.nullFormat||!e.replace(/[^0-9]+/g,"").length)r=null;else{r=1,t.delimiters.decimal!=="."&&(e=e.replace(/\./g,"").replace(t.delimiters.decimal,"."));for(n in l)if(d=new RegExp("[^a-zA-Z]"+t.abbreviations[n]+"(?:\\)|(\\"+t.currency.symbol+")?(?:\\))?)?$"),i.match(d)){r*=Math.pow(10,l[n]);break}r*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),r*=Number(e)}return r},isNaN:function(e){return typeof e=="number"&&isNaN(e)},includes:function(e,t){return e.indexOf(t)!==-1},insert:function(e,t,i){return e.slice(0,i)+t+e.slice(i)},reduce:function(e,t){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof t!="function")throw new TypeError(t+" is not a function");var i=Object(e),l=i.length>>>0,n=0,r;if(arguments.length===3)r=arguments[2];else{for(;n<l&&!(n in i);)n++;if(n>=l)throw new TypeError("Reduce of empty array with no initial value");r=i[n++]}for(;n<l;n++)n in i&&(r=t(r,i[n],n,i));return r},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(t,i){var l=g.multiplier(i);return t>l?t:l},1)},toFixed:function(e,t,i,l){var n=e.toString().split("."),r=t-(l||0),s,d,_,v;return n.length===2?s=Math.min(Math.max(n[1].length,r),t):s=r,_=Math.pow(10,s),v=(i(e+"e+"+s)/_).toFixed(s),l>t-s&&(d=new RegExp("\\.?0{1,"+(l-(t-s))+"}$"),v=v.replace(d,"")),v}},a.options=f,a.formats=E,a.locales=C,a.locale=function(e){return e&&(f.currentLocale=e.toLowerCase()),f.currentLocale},a.localeData=function(e){if(!e)return C[f.currentLocale];if(e=e.toLowerCase(),!C[e])throw new Error("Unknown locale : "+e);return C[e]},a.reset=function(){for(var e in B)f[e]=B[e]},a.zeroFormat=function(e){f.zeroFormat=typeof e=="string"?e:null},a.nullFormat=function(e){f.nullFormat=typeof e=="string"?e:null},a.defaultFormat=function(e){f.defaultFormat=typeof e=="string"?e:"0.0"},a.register=function(e,t,i){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=i,i},a.validate=function(e,t){var i,l,n,r,s,d,_,v;if(typeof e!="string"&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),e=e.trim(),e.match(/^\d+$/))return!0;if(e==="")return!1;try{_=a.localeData(t)}catch(m){_=a.localeData(a.locale())}return n=_.currency.symbol,s=_.abbreviations,i=_.delimiters.decimal,_.delimiters.thousands==="."?l="\\.":l=_.delimiters.thousands,v=e.match(/^[^\d]+/),v!==null&&(e=e.substr(1),v[0]!==n)||(v=e.match(/[^\d]+$/),v!==null&&(e=e.slice(0,-1),v[0]!==s.thousand&&v[0]!==s.million&&v[0]!==s.billion&&v[0]!==s.trillion))?!1:(d=new RegExp(l+"{2}"),e.match(/[^\d.,]/g)?!1:(r=e.split(i),r.length>2?!1:r.length<2?!!r[0].match(/^\d+.*\d$/)&&!r[0].match(d):r[0].length===1?!!r[0].match(/^\d+$/)&&!r[0].match(d)&&!!r[1].match(/^\d+$/):!!r[0].match(/^\d+.*\d$/)&&!r[0].match(d)&&!!r[1].match(/^\d+$/)))},a.fn=L.prototype={clone:function(){return a(this)},format:function(e,t){var i=this._value,l=e||f.defaultFormat,n,r,s;if(t=t||Math.round,i===0&&f.zeroFormat!==null)r=f.zeroFormat;else if(i===null&&f.nullFormat!==null)r=f.nullFormat;else{for(n in E)if(l.match(E[n].regexps.format)){s=E[n].format;break}s=s||a._.numberToFormat,r=s(i,l,t)}return r},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var t=g.correctionFactor.call(null,this._value,e);function i(l,n,r,s){return l+Math.round(t*n)}return this._value=g.reduce([this._value,e],i,0)/t,this},subtract:function(e){var t=g.correctionFactor.call(null,this._value,e);function i(l,n,r,s){return l-Math.round(t*n)}return this._value=g.reduce([e],i,Math.round(this._value*t))/t,this},multiply:function(e){function t(i,l,n,r){var s=g.correctionFactor(i,l);return Math.round(i*s)*Math.round(l*s)/Math.round(s*s)}return this._value=g.reduce([this._value,e],t,1),this},divide:function(e){function t(i,l,n,r){var s=g.correctionFactor(i,l);return Math.round(i*s)/Math.round(l*s)}return this._value=g.reduce([this._value,e],t),this},difference:function(e){return Math.abs(a(this._value).subtract(e).value())}},a.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return~~(e%100/10)==1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"},currency:{symbol:"$"}}),function(){a.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,t,i){var l=a._.includes(t," BPS")?" ":"",n;return e=e*1e4,t=t.replace(/\s?BPS/,""),n=a._.numberToFormat(e,t,i),a._.includes(n,")")?(n=n.split(""),n.splice(-1,0,l+"BPS"),n=n.join("")):n=n+l+"BPS",n},unformat:function(e){return+(a._.stringToNumber(e)*1e-4).toFixed(15)}})}(),function(){var e={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},t={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},i=e.suffixes.concat(t.suffixes.filter(function(n){return e.suffixes.indexOf(n)<0})),l=i.join("|");l="("+l.replace("B","B(?!PS)")+")",a.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(l)},format:function(n,r,s){var d,_=a._.includes(r,"ib")?t:e,v=a._.includes(r," b")||a._.includes(r," ib")?" ":"",m,u,h;for(r=r.replace(/\s?i?b/,""),m=0;m<=_.suffixes.length;m++)if(u=Math.pow(_.base,m),h=Math.pow(_.base,m+1),n===null||n===0||n>=u&&n<h){v+=_.suffixes[m],u>0&&(n=n/u);break}return d=a._.numberToFormat(n,r,s),d+v},unformat:function(n){var r=a._.stringToNumber(n),s,d;if(r){for(s=e.suffixes.length-1;s>=0;s--){if(a._.includes(n,e.suffixes[s])){d=Math.pow(e.base,s);break}if(a._.includes(n,t.suffixes[s])){d=Math.pow(t.base,s);break}}r*=d||1}return r}})}(),function(){a.register("format","currency",{regexps:{format:/(\$)/},format:function(e,t,i){var l=a.locales[a.options.currentLocale],n={before:t.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:t.match(/([\+|\-|\)|\s|\$]*)$/)[0]},r,s,d;for(t=t.replace(/\s?\$\s?/,""),r=a._.numberToFormat(e,t,i),e>=0?(n.before=n.before.replace(/[\-\(]/,""),n.after=n.after.replace(/[\-\)]/,"")):e<0&&!a._.includes(n.before,"-")&&!a._.includes(n.before,"(")&&(n.before="-"+n.before),d=0;d<n.before.length;d++)switch(s=n.before[d],s){case"$":r=a._.insert(r,l.currency.symbol,d);break;case" ":r=a._.insert(r," ",d+l.currency.symbol.length-1);break}for(d=n.after.length-1;d>=0;d--)switch(s=n.after[d],s){case"$":r=d===n.after.length-1?r+l.currency.symbol:a._.insert(r,l.currency.symbol,-(n.after.length-(1+d)));break;case" ":r=d===n.after.length-1?r+" ":a._.insert(r," ",-(n.after.length-(1+d)+l.currency.symbol.length-1));break}return r}})}(),function(){a.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,t,i){var l,n=typeof e=="number"&&!a._.isNaN(e)?e.toExponential():"0e+0",r=n.split("e");return t=t.replace(/e[\+|\-]{1}0/,""),l=a._.numberToFormat(Number(r[0]),t,i),l+"e"+r[1]},unformat:function(e){var t=a._.includes(e,"e+")?e.split("e+"):e.split("e-"),i=Number(t[0]),l=Number(t[1]);l=a._.includes(e,"e-")?l*=-1:l;function n(r,s,d,_){var v=a._.correctionFactor(r,s),m=r*v*(s*v)/(v*v);return m}return a._.reduce([i,Math.pow(10,l)],n,1)}})}(),function(){a.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,t,i){var l=a.locales[a.options.currentLocale],n,r=a._.includes(t," o")?" ":"";return t=t.replace(/\s?o/,""),r+=l.ordinal(e),n=a._.numberToFormat(e,t,i),n+r}})}(),function(){a.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,t,i){var l=a._.includes(t," %")?" ":"",n;return a.options.scalePercentBy100&&(e=e*100),t=t.replace(/\s?\%/,""),n=a._.numberToFormat(e,t,i),a._.includes(n,")")?(n=n.split(""),n.splice(-1,0,l+"%"),n=n.join("")):n=n+l+"%",n},unformat:function(e){var t=a._.stringToNumber(e);return a.options.scalePercentBy100?t*.01:t}})}(),function(){a.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,i){var l=Math.floor(e/60/60),n=Math.floor((e-l*60*60)/60),r=Math.round(e-l*60*60-n*60);return l+":"+(n<10?"0"+n:n)+":"+(r<10?"0"+r:r)},unformat:function(e){var t=e.split(":"),i=0;return t.length===3?(i=i+Number(t[0])*60*60,i=i+Number(t[1])*60,i=i+Number(t[2])):t.length===2&&(i=i+Number(t[0])*60,i=i+Number(t[1])),Number(i)}})}(),a})}}]);
