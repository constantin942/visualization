(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[886],{92008:function(Wr,cr,Rt){"use strict";Rt.d(cr,{VM:function(){return se}});var Xt=Rt(41694),wt=0,d=1/2,c=1/2,Ee=.05,Tt=function(){function et(P){var C=P.xField,L=P.yField,k=P.adjustNames,T=k===void 0?["x","y"]:k,R=P.dimValuesMap;this.adjustNames=T,this.xField=C,this.yField=L,this.dimValuesMap=R}return et.prototype.isAdjust=function(P){return this.adjustNames.indexOf(P)>=0},et.prototype.getAdjustRange=function(P,C,L){var k=this.yField,T=L.indexOf(C),R=L.length,j,tt;return!k&&this.isAdjust("y")?(j=0,tt=1):R>1?(j=L[T===0?0:T-1],tt=L[T===R-1?R-1:T+1],T!==0?j+=(C-j)/2:j-=(tt-C)/2,T!==R-1?tt-=(tt-C)/2:tt+=(C-L[R-2])/2):(j=C===0?0:C-.5,tt=C===0?1:C+.5),{pre:j,next:tt}},et.prototype.adjustData=function(P,C){var L=this,k=this.getDimValues(C);Xt.S6(P,function(T,R){Xt.S6(k,function(j,tt){L.adjustDim(tt,j,T,R)})})},et.prototype.groupData=function(P,C){return Xt.S6(P,function(L){L[C]===void 0&&(L[C]=wt)}),Xt.vM(P,C)},et.prototype.adjustDim=function(P,C,L,k){},et.prototype.getDimValues=function(P){var C=this,L=C.xField,k=C.yField,T=Xt.f0({},this.dimValuesMap),R=[];if(L&&this.isAdjust("x")&&R.push(L),k&&this.isAdjust("y")&&R.push(k),R.forEach(function(tt){T&&T[tt]||(T[tt]=Xt.I(P,tt).sort(function(st,Bt){return st-Bt}))}),!k&&this.isAdjust("y")){var j="y";T[j]=[wt,1]}return T},et}(),Ae=Tt,pe={},se=function(et){return pe[et.toLowerCase()]},Ye=function(et,P){if(se(et))throw new Error("Adjust type '"+et+"' existed.");pe[et.toLowerCase()]=P};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Be=function(P,C){return Be=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,k){L.__proto__=k}||function(L,k){for(var T in k)k.hasOwnProperty(T)&&(L[T]=k[T])},Be(P,C)};function Ct(et,P){Be(et,P);function C(){this.constructor=et}et.prototype=P===null?Object.create(P):(C.prototype=P.prototype,new C)}var rt=function(){return rt=Object.assign||function(C){for(var L,k=1,T=arguments.length;k<T;k++){L=arguments[k];for(var R in L)Object.prototype.hasOwnProperty.call(L,R)&&(C[R]=L[R])}return C},rt.apply(this,arguments)};function Jt(et,P){var C={};for(var L in et)Object.prototype.hasOwnProperty.call(et,L)&&P.indexOf(L)<0&&(C[L]=et[L]);if(et!=null&&typeof Object.getOwnPropertySymbols=="function")for(var k=0,L=Object.getOwnPropertySymbols(et);k<L.length;k++)P.indexOf(L[k])<0&&Object.prototype.propertyIsEnumerable.call(et,L[k])&&(C[L[k]]=et[L[k]]);return C}function fe(et,P,C,L){var k=arguments.length,T=k<3?P:L===null?L=Object.getOwnPropertyDescriptor(P,C):L,R;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(et,P,C,L);else for(var j=et.length-1;j>=0;j--)(R=et[j])&&(T=(k<3?R(T):k>3?R(P,C,T):R(P,C))||T);return k>3&&T&&Object.defineProperty(P,C,T),T}function ke(et,P){return function(C,L){P(C,L,et)}}function Pe(et,P){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(et,P)}function Me(et,P,C,L){function k(T){return T instanceof C?T:new C(function(R){R(T)})}return new(C||(C=Promise))(function(T,R){function j(Bt){try{st(L.next(Bt))}catch(qt){R(qt)}}function tt(Bt){try{st(L.throw(Bt))}catch(qt){R(qt)}}function st(Bt){Bt.done?T(Bt.value):k(Bt.value).then(j,tt)}st((L=L.apply(et,P||[])).next())})}function _e(et,P){var C={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},L,k,T,R;return R={next:j(0),throw:j(1),return:j(2)},typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function j(st){return function(Bt){return tt([st,Bt])}}function tt(st){if(L)throw new TypeError("Generator is already executing.");for(;C;)try{if(L=1,k&&(T=st[0]&2?k.return:st[0]?k.throw||((T=k.return)&&T.call(k),0):k.next)&&!(T=T.call(k,st[1])).done)return T;switch(k=0,T&&(st=[st[0]&2,T.value]),st[0]){case 0:case 1:T=st;break;case 4:return C.label++,{value:st[1],done:!1};case 5:C.label++,k=st[1],st=[0];continue;case 7:st=C.ops.pop(),C.trys.pop();continue;default:if(T=C.trys,!(T=T.length>0&&T[T.length-1])&&(st[0]===6||st[0]===2)){C=0;continue}if(st[0]===3&&(!T||st[1]>T[0]&&st[1]<T[3])){C.label=st[1];break}if(st[0]===6&&C.label<T[1]){C.label=T[1],T=st;break}if(T&&C.label<T[2]){C.label=T[2],C.ops.push(st);break}T[2]&&C.ops.pop(),C.trys.pop();continue}st=P.call(et,C)}catch(Bt){st=[6,Bt],k=0}finally{L=T=0}if(st[0]&5)throw st[1];return{value:st[0]?st[1]:void 0,done:!0}}}function Nt(et,P,C,L){L===void 0&&(L=C),et[L]=P[C]}function Ht(et,P){for(var C in et)C!=="default"&&!P.hasOwnProperty(C)&&(P[C]=et[C])}function be(et){var P=typeof Symbol=="function"&&Symbol.iterator,C=P&&et[P],L=0;if(C)return C.call(et);if(et&&typeof et.length=="number")return{next:function(){return et&&L>=et.length&&(et=void 0),{value:et&&et[L++],done:!et}}};throw new TypeError(P?"Object is not iterable.":"Symbol.iterator is not defined.")}function Se(et,P){var C=typeof Symbol=="function"&&et[Symbol.iterator];if(!C)return et;var L=C.call(et),k,T=[],R;try{for(;(P===void 0||P-- >0)&&!(k=L.next()).done;)T.push(k.value)}catch(j){R={error:j}}finally{try{k&&!k.done&&(C=L.return)&&C.call(L)}finally{if(R)throw R.error}}return T}function Ne(){for(var et=[],P=0;P<arguments.length;P++)et=et.concat(Se(arguments[P]));return et}function lr(){for(var et=0,P=0,C=arguments.length;P<C;P++)et+=arguments[P].length;for(var L=Array(et),k=0,P=0;P<C;P++)for(var T=arguments[P],R=0,j=T.length;R<j;R++,k++)L[k]=T[R];return L}function fr(et){return this instanceof fr?(this.v=et,this):new fr(et)}function Yt(et,P,C){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var L=C.apply(et,P||[]),k,T=[];return k={},R("next"),R("throw"),R("return"),k[Symbol.asyncIterator]=function(){return this},k;function R(Qt){L[Qt]&&(k[Qt]=function(me){return new Promise(function(He,J){T.push([Qt,me,He,J])>1||j(Qt,me)})})}function j(Qt,me){try{tt(L[Qt](me))}catch(He){qt(T[0][3],He)}}function tt(Qt){Qt.value instanceof fr?Promise.resolve(Qt.value.v).then(st,Bt):qt(T[0][2],Qt)}function st(Qt){j("next",Qt)}function Bt(Qt){j("throw",Qt)}function qt(Qt,me){Qt(me),T.shift(),T.length&&j(T[0][0],T[0][1])}}function xt(et){var P,C;return P={},L("next"),L("throw",function(k){throw k}),L("return"),P[Symbol.iterator]=function(){return this},P;function L(k,T){P[k]=et[k]?function(R){return(C=!C)?{value:fr(et[k](R)),done:k==="return"}:T?T(R):R}:T}}function Lt(et){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P=et[Symbol.asyncIterator],C;return P?P.call(et):(et=typeof be=="function"?be(et):et[Symbol.iterator](),C={},L("next"),L("throw"),L("return"),C[Symbol.asyncIterator]=function(){return this},C);function L(T){C[T]=et[T]&&function(R){return new Promise(function(j,tt){R=et[T](R),k(j,tt,R.done,R.value)})}}function k(T,R,j,tt){Promise.resolve(tt).then(function(st){T({value:st,done:j})},R)}}function It(et,P){return Object.defineProperty?Object.defineProperty(et,"raw",{value:P}):et.raw=P,et}function Ft(et){if(et&&et.__esModule)return et;var P={};if(et!=null)for(var C in et)Object.hasOwnProperty.call(et,C)&&(P[C]=et[C]);return P.default=et,P}function At(et){return et&&et.__esModule?et:{default:et}}function B(et,P){if(!P.has(et))throw new TypeError("attempted to get private field on non-instance");return P.get(et)}function K(et,P,C){if(!P.has(et))throw new TypeError("attempted to set private field on non-instance");return P.set(et,C),C}var Pt=function(et){Ct(P,et);function P(C){var L=et.call(this,C)||this;L.cacheMap={},L.adjustDataArray=[],L.mergeData=[];var k=C.marginRatio,T=k===void 0?d:k,R=C.dodgeRatio,j=R===void 0?c:R,tt=C.dodgeBy,st=C.intervalPadding,Bt=C.dodgePadding,qt=C.xDimensionLength,Qt=C.groupNum,me=C.defaultSize,He=C.maxColumnWidth,J=C.minColumnWidth,lt=C.columnWidthRatio,yt=C.customOffset;return L.marginRatio=T,L.dodgeRatio=j,L.dodgeBy=tt,L.intervalPadding=st,L.dodgePadding=Bt,L.xDimensionLegenth=qt,L.groupNum=Qt,L.defaultSize=me,L.maxColumnWidth=He,L.minColumnWidth=J,L.columnWidthRatio=lt,L.customOffset=yt,L}return P.prototype.process=function(C){var L=Xt.d9(C),k=Xt.xH(L),T=this.dodgeBy,R=T?Xt.ru(k,T):L;return this.cacheMap={},this.adjustDataArray=R,this.mergeData=k,this.adjustData(R,k),this.adjustDataArray=[],this.mergeData=[],L},P.prototype.adjustDim=function(C,L,k,T){var R=this,j=this.customOffset,tt=this.getDistribution(C),st=this.groupData(k,C);return Xt.S6(st,function(Bt,qt){var Qt;L.length===1?Qt={pre:L[0]-1,next:L[0]+1}:Qt=R.getAdjustRange(C,parseFloat(qt),L),Xt.S6(Bt,function(me){var He=me[C],J=tt[He],lt=J.indexOf(T);if(Xt.UM(j))me[C]=R.getDodgeOffset(Qt,lt,J.length);else{var yt=Qt.pre,Dt=Qt.next;me[C]=Xt.mf(j)?j(me,Qt):(yt+Dt)/2+j}})}),[]},P.prototype.getDodgeOffset=function(C,L,k){var T=this,R=T.dodgeRatio,j=T.marginRatio,tt=T.intervalPadding,st=T.dodgePadding,Bt=C.pre,qt=C.next,Qt=qt-Bt,me;if(!Xt.UM(tt)&&Xt.UM(st)&&tt>=0){var He=this.getIntervalOnlyOffset(k,L);me=Bt+He}else if(!Xt.UM(st)&&Xt.UM(tt)&&st>=0){var He=this.getDodgeOnlyOffset(k,L);me=Bt+He}else if(!Xt.UM(tt)&&!Xt.UM(st)&&tt>=0&&st>=0){var He=this.getIntervalAndDodgeOffset(k,L);me=Bt+He}else{var J=Qt*R/k,lt=j*J,He=1/2*(Qt-k*J-(k-1)*lt)+((L+1)*J+L*lt)-1/2*J-1/2*Qt;me=(Bt+qt)/2+He}return me},P.prototype.getIntervalOnlyOffset=function(C,L){var k=this,T=k.defaultSize,R=k.intervalPadding,j=k.xDimensionLegenth,tt=k.groupNum,st=k.dodgeRatio,Bt=k.maxColumnWidth,qt=k.minColumnWidth,Qt=k.columnWidthRatio,me=R/j,He=(1-(tt-1)*me)/tt*st/(C-1),J=((1-me*(tt-1))/tt-He*(C-1))/C;if(J=Xt.UM(Qt)?J:1/tt/C*Qt,!Xt.UM(Bt)){var lt=Bt/j;J=Math.min(J,lt)}if(!Xt.UM(qt)){var yt=qt/j;J=Math.max(J,yt)}J=T?T/j:J,He=((1-(tt-1)*me)/tt-C*J)/(C-1);var Dt=((1/2+L)*J+L*He+1/2*me)*tt-me/2;return Dt},P.prototype.getDodgeOnlyOffset=function(C,L){var k=this,T=k.defaultSize,R=k.dodgePadding,j=k.xDimensionLegenth,tt=k.groupNum,st=k.marginRatio,Bt=k.maxColumnWidth,qt=k.minColumnWidth,Qt=k.columnWidthRatio,me=R/j,He=1*st/(tt-1),J=((1-He*(tt-1))/tt-me*(C-1))/C;if(J=Qt?1/tt/C*Qt:J,!Xt.UM(Bt)){var lt=Bt/j;J=Math.min(J,lt)}if(!Xt.UM(qt)){var yt=qt/j;J=Math.max(J,yt)}J=T?T/j:J,He=(1-(J*C+me*(C-1))*tt)/(tt-1);var Dt=((1/2+L)*J+L*me+1/2*He)*tt-He/2;return Dt},P.prototype.getIntervalAndDodgeOffset=function(C,L){var k=this,T=k.intervalPadding,R=k.dodgePadding,j=k.xDimensionLegenth,tt=k.groupNum,st=T/j,Bt=R/j,qt=((1-st*(tt-1))/tt-Bt*(C-1))/C,Qt=((1/2+L)*qt+L*Bt+1/2*st)*tt-st/2;return Qt},P.prototype.getDistribution=function(C){var L=this.adjustDataArray,k=this.cacheMap,T=k[C];return T||(T={},Xt.S6(L,function(R,j){var tt=Xt.I(R,C);tt.length||tt.push(0),Xt.S6(tt,function(st){T[st]||(T[st]=[]),T[st].push(j)})}),k[C]=T),T},P}(Ae),xe=Pt;function oe(et,P){return(P-et)*Math.random()+et}var Ve=function(et){Ct(P,et);function P(){return et!==null&&et.apply(this,arguments)||this}return P.prototype.process=function(C){var L=Xt.d9(C),k=Xt.xH(L);return this.adjustData(L,k),L},P.prototype.adjustDim=function(C,L,k){var T=this,R=this.groupData(k,C);return Xt.S6(R,function(j,tt){return T.adjustGroup(j,C,parseFloat(tt),L)})},P.prototype.getAdjustOffset=function(C){var L=C.pre,k=C.next,T=(k-L)*Ee;return oe(L+T,k-T)},P.prototype.adjustGroup=function(C,L,k,T){var R=this,j=this.getAdjustRange(L,k,T);return Xt.S6(C,function(tt){tt[L]=R.getAdjustOffset(j)}),C},P}(Ae),Xe=Ve,Re=Xt.Ct,Ke=function(et){Ct(P,et);function P(C){var L=et.call(this,C)||this,k=C.adjustNames,T=k===void 0?["y"]:k,R=C.height,j=R===void 0?NaN:R,tt=C.size,st=tt===void 0?10:tt,Bt=C.reverseOrder,qt=Bt===void 0?!1:Bt;return L.adjustNames=T,L.height=j,L.size=st,L.reverseOrder=qt,L}return P.prototype.process=function(C){var L=this,k=L.yField,T=L.reverseOrder,R=k?this.processStack(C):this.processOneDimStack(C);return T?this.reverse(R):R},P.prototype.reverse=function(C){return C.slice(0).reverse()},P.prototype.processStack=function(C){var L=this,k=L.xField,T=L.yField,R=L.reverseOrder,j=R?this.reverse(C):C,tt=new Re,st=new Re;return j.map(function(Bt){return Bt.map(function(qt){var Qt,me=Xt.U2(qt,k,0),He=Xt.U2(qt,[T]),J=me.toString();if(He=Xt.kJ(He)?He[1]:He,!Xt.UM(He)){var lt=He>=0?tt:st;lt.has(J)||lt.set(J,0);var yt=lt.get(J),Dt=He+yt;return lt.set(J,Dt),rt(rt({},qt),(Qt={},Qt[T]=[yt,Dt],Qt))}return qt})})},P.prototype.processOneDimStack=function(C){var L=this,k=this,T=k.xField,R=k.height,j=k.reverseOrder,tt="y",st=j?this.reverse(C):C,Bt=new Re;return st.map(function(qt){return qt.map(function(Qt){var me,He=L.size,J=Qt[T],lt=He*2/R;Bt.has(J)||Bt.set(J,lt/2);var yt=Bt.get(J);return Bt.set(J,yt+lt),rt(rt({},Qt),(me={},me[tt]=yt,me))})})},P}(Ae),we=Ke,or=function(et){Ct(P,et);function P(){return et!==null&&et.apply(this,arguments)||this}return P.prototype.process=function(C){var L=Xt.xH(C),k=this,T=k.xField,R=k.yField,j=this.getXValuesMaxMap(L),tt=Math.max.apply(Math,Object.keys(j).map(function(st){return j[st]}));return Xt.UI(C,function(st){return Xt.UI(st,function(Bt){var qt,Qt,me=Bt[R],He=Bt[T];if(Xt.kJ(me)){var J=(tt-j[He])/2;return rt(rt({},Bt),(qt={},qt[R]=Xt.UI(me,function(yt){return J+yt}),qt))}var lt=(tt-me)/2;return rt(rt({},Bt),(Qt={},Qt[R]=[lt,me+lt],Qt))})})},P.prototype.getXValuesMaxMap=function(C){var L=this,k=this,T=k.xField,R=k.yField,j=Xt.vM(C,function(tt){return tt[T]});return Xt.Q8(j,function(tt){return L.getDimMaxValue(tt,R)})},P.prototype.getDimMaxValue=function(C,L){var k=Xt.UI(C,function(R){return Xt.U2(R,L,[])}),T=Xt.xH(k);return Math.max.apply(Math,T)},P}(Ae),Vt=or;Ye("Dodge",xe),Ye("Jitter",Xe),Ye("Stack",we),Ye("Symmetric",Vt)},46262:function(Wr,cr,Rt){"use strict";Rt.d(cr,{IL:function(){return we}});var Xt=Rt(41694),wt=function(Vt,et){return(0,Xt.HD)(et)?et:Vt.invert(Vt.scale(et))},d=function(){function Vt(et){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(et)}return Vt.prototype.mapping=function(){for(var et=this,P=[],C=0;C<arguments.length;C++)P[C]=arguments[C];var L=P.map(function(k,T){return et._toOriginParam(k,et.scales[T])});return this.callback.apply(this,L)},Vt.prototype.getLinearValue=function(et){var P=this.values.length-1,C=Math.floor(P*et),L=P*et-C,k=this.values[C],T=C===P?k:this.values[C+1];return k+(T-k)*L},Vt.prototype.getNames=function(){for(var et=this.scales,P=this.names,C=Math.min(et.length,P.length),L=[],k=0;k<C;k+=1)L.push(P[k]);return L},Vt.prototype.getFields=function(){return this.scales.map(function(et){return et.field})},Vt.prototype.getScale=function(et){return this.scales[this.names.indexOf(et)]},Vt.prototype.defaultCallback=function(){for(var et=this,P=[],C=0;C<arguments.length;C++)P[C]=arguments[C];return P.length===0?this.values:P.map(function(L,k){var T=et.scales[k];return T.type==="identity"?T.values[0]:et._getAttributeValue(T,L)})},Vt.prototype._parseCfg=function(et){var P=this,C=et.type,L=C===void 0?"base":C,k=et.names,T=k===void 0?[]:k,R=et.scales,j=R===void 0?[]:R,tt=et.values,st=tt===void 0?[]:tt,Bt=et.callback;this.type=L,this.scales=j,this.values=st,this.names=T,this.callback=function(){for(var qt=[],Qt=0;Qt<arguments.length;Qt++)qt[Qt]=arguments[Qt];if(Bt){var me=Bt.apply(void 0,qt);if(!(0,Xt.UM)(me))return[me]}return P.defaultCallback.apply(P,qt)}},Vt.prototype._getAttributeValue=function(et,P){if(et.isCategory&&!this.linear){var C=et.translate(P);return this.values[C%this.values.length]}var L=et.scale(P);return this.getLinearValue(L)},Vt.prototype._toOriginParam=function(et,P){return P.isLinear?et:(0,Xt.kJ)(et)?et.map(function(C){return wt(P,C)}):wt(P,et)},Vt}(),c=d;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ee=function(et,P){return Ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,L){C.__proto__=L}||function(C,L){for(var k in L)L.hasOwnProperty(k)&&(C[k]=L[k])},Ee(et,P)};function Tt(Vt,et){Ee(Vt,et);function P(){this.constructor=Vt}Vt.prototype=et===null?Object.create(et):(P.prototype=et.prototype,new P)}var Ae=function(){return Ae=Object.assign||function(P){for(var C,L=1,k=arguments.length;L<k;L++){C=arguments[L];for(var T in C)Object.prototype.hasOwnProperty.call(C,T)&&(P[T]=C[T])}return P},Ae.apply(this,arguments)};function pe(Vt,et){var P={};for(var C in Vt)Object.prototype.hasOwnProperty.call(Vt,C)&&et.indexOf(C)<0&&(P[C]=Vt[C]);if(Vt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,C=Object.getOwnPropertySymbols(Vt);L<C.length;L++)et.indexOf(C[L])<0&&Object.prototype.propertyIsEnumerable.call(Vt,C[L])&&(P[C[L]]=Vt[C[L]]);return P}function se(Vt,et,P,C){var L=arguments.length,k=L<3?et:C===null?C=Object.getOwnPropertyDescriptor(et,P):C,T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(Vt,et,P,C);else for(var R=Vt.length-1;R>=0;R--)(T=Vt[R])&&(k=(L<3?T(k):L>3?T(et,P,k):T(et,P))||k);return L>3&&k&&Object.defineProperty(et,P,k),k}function Ye(Vt,et){return function(P,C){et(P,C,Vt)}}function Be(Vt,et){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Vt,et)}function Ct(Vt,et,P,C){function L(k){return k instanceof P?k:new P(function(T){T(k)})}return new(P||(P=Promise))(function(k,T){function R(st){try{tt(C.next(st))}catch(Bt){T(Bt)}}function j(st){try{tt(C.throw(st))}catch(Bt){T(Bt)}}function tt(st){st.done?k(st.value):L(st.value).then(R,j)}tt((C=C.apply(Vt,et||[])).next())})}function rt(Vt,et){var P={label:0,sent:function(){if(k[0]&1)throw k[1];return k[1]},trys:[],ops:[]},C,L,k,T;return T={next:R(0),throw:R(1),return:R(2)},typeof Symbol=="function"&&(T[Symbol.iterator]=function(){return this}),T;function R(tt){return function(st){return j([tt,st])}}function j(tt){if(C)throw new TypeError("Generator is already executing.");for(;P;)try{if(C=1,L&&(k=tt[0]&2?L.return:tt[0]?L.throw||((k=L.return)&&k.call(L),0):L.next)&&!(k=k.call(L,tt[1])).done)return k;switch(L=0,k&&(tt=[tt[0]&2,k.value]),tt[0]){case 0:case 1:k=tt;break;case 4:return P.label++,{value:tt[1],done:!1};case 5:P.label++,L=tt[1],tt=[0];continue;case 7:tt=P.ops.pop(),P.trys.pop();continue;default:if(k=P.trys,!(k=k.length>0&&k[k.length-1])&&(tt[0]===6||tt[0]===2)){P=0;continue}if(tt[0]===3&&(!k||tt[1]>k[0]&&tt[1]<k[3])){P.label=tt[1];break}if(tt[0]===6&&P.label<k[1]){P.label=k[1],k=tt;break}if(k&&P.label<k[2]){P.label=k[2],P.ops.push(tt);break}k[2]&&P.ops.pop(),P.trys.pop();continue}tt=et.call(Vt,P)}catch(st){tt=[6,st],L=0}finally{C=k=0}if(tt[0]&5)throw tt[1];return{value:tt[0]?tt[1]:void 0,done:!0}}}function Jt(Vt,et,P,C){C===void 0&&(C=P),Vt[C]=et[P]}function fe(Vt,et){for(var P in Vt)P!=="default"&&!et.hasOwnProperty(P)&&(et[P]=Vt[P])}function ke(Vt){var et=typeof Symbol=="function"&&Symbol.iterator,P=et&&Vt[et],C=0;if(P)return P.call(Vt);if(Vt&&typeof Vt.length=="number")return{next:function(){return Vt&&C>=Vt.length&&(Vt=void 0),{value:Vt&&Vt[C++],done:!Vt}}};throw new TypeError(et?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pe(Vt,et){var P=typeof Symbol=="function"&&Vt[Symbol.iterator];if(!P)return Vt;var C=P.call(Vt),L,k=[],T;try{for(;(et===void 0||et-- >0)&&!(L=C.next()).done;)k.push(L.value)}catch(R){T={error:R}}finally{try{L&&!L.done&&(P=C.return)&&P.call(C)}finally{if(T)throw T.error}}return k}function Me(){for(var Vt=[],et=0;et<arguments.length;et++)Vt=Vt.concat(Pe(arguments[et]));return Vt}function _e(){for(var Vt=0,et=0,P=arguments.length;et<P;et++)Vt+=arguments[et].length;for(var C=Array(Vt),L=0,et=0;et<P;et++)for(var k=arguments[et],T=0,R=k.length;T<R;T++,L++)C[L]=k[T];return C}function Nt(Vt){return this instanceof Nt?(this.v=Vt,this):new Nt(Vt)}function Ht(Vt,et,P){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C=P.apply(Vt,et||[]),L,k=[];return L={},T("next"),T("throw"),T("return"),L[Symbol.asyncIterator]=function(){return this},L;function T(qt){C[qt]&&(L[qt]=function(Qt){return new Promise(function(me,He){k.push([qt,Qt,me,He])>1||R(qt,Qt)})})}function R(qt,Qt){try{j(C[qt](Qt))}catch(me){Bt(k[0][3],me)}}function j(qt){qt.value instanceof Nt?Promise.resolve(qt.value.v).then(tt,st):Bt(k[0][2],qt)}function tt(qt){R("next",qt)}function st(qt){R("throw",qt)}function Bt(qt,Qt){qt(Qt),k.shift(),k.length&&R(k[0][0],k[0][1])}}function be(Vt){var et,P;return et={},C("next"),C("throw",function(L){throw L}),C("return"),et[Symbol.iterator]=function(){return this},et;function C(L,k){et[L]=Vt[L]?function(T){return(P=!P)?{value:Nt(Vt[L](T)),done:L==="return"}:k?k(T):T}:k}}function Se(Vt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et=Vt[Symbol.asyncIterator],P;return et?et.call(Vt):(Vt=typeof ke=="function"?ke(Vt):Vt[Symbol.iterator](),P={},C("next"),C("throw"),C("return"),P[Symbol.asyncIterator]=function(){return this},P);function C(k){P[k]=Vt[k]&&function(T){return new Promise(function(R,j){T=Vt[k](T),L(R,j,T.done,T.value)})}}function L(k,T,R,j){Promise.resolve(j).then(function(tt){k({value:tt,done:R})},T)}}function Ne(Vt,et){return Object.defineProperty?Object.defineProperty(Vt,"raw",{value:et}):Vt.raw=et,Vt}function lr(Vt){if(Vt&&Vt.__esModule)return Vt;var et={};if(Vt!=null)for(var P in Vt)Object.hasOwnProperty.call(Vt,P)&&(et[P]=Vt[P]);return et.default=Vt,et}function fr(Vt){return Vt&&Vt.__esModule?Vt:{default:Vt}}function Yt(Vt,et){if(!et.has(Vt))throw new TypeError("attempted to get private field on non-instance");return et.get(Vt)}function xt(Vt,et,P){if(!et.has(Vt))throw new TypeError("attempted to set private field on non-instance");return et.set(Vt,P),P}var Lt=Rt(55223),It=function(Vt){Tt(et,Vt);function et(P){var C=Vt.call(this,P)||this;return C.type="color",C.names=["color"],(0,Xt.HD)(C.values)&&(C.linear=!0),C.gradient=Lt.Z.gradient(C.values),C}return et.prototype.getLinearValue=function(P){return this.gradient(P)},et}(c),Ft=It,At=function(Vt){Tt(et,Vt);function et(P){var C=Vt.call(this,P)||this;return C.type="opacity",C.names=["opacity"],C}return et}(c),B=At,K=function(Vt){Tt(et,Vt);function et(P){var C=Vt.call(this,P)||this;return C.names=["x","y"],C.type="position",C}return et.prototype.mapping=function(P,C){var L=this.scales,k=L[0],T=L[1];return(0,Xt.UM)(P)||(0,Xt.UM)(C)?[]:[(0,Xt.kJ)(P)?P.map(function(R){return k.scale(R)}):k.scale(P),(0,Xt.kJ)(C)?C.map(function(R){return T.scale(R)}):T.scale(C)]},et}(c),Pt=K,xe=function(Vt){Tt(et,Vt);function et(P){var C=Vt.call(this,P)||this;return C.type="shape",C.names=["shape"],C}return et.prototype.getLinearValue=function(P){var C=Math.round((this.values.length-1)*P);return this.values[C]},et}(c),oe=xe,Ve=function(Vt){Tt(et,Vt);function et(P){var C=Vt.call(this,P)||this;return C.type="size",C.names=["size"],C}return et}(c),Xe=Ve,Re=Rt(86429),Ke={},we=function(Vt){return Ke[Vt.toLowerCase()]},or=function(Vt,et){if(we(Vt))throw new Error("Attribute type '"+Vt+"' existed.");Ke[Vt.toLowerCase()]=et};or("Color",Ft),or("Opacity",B),or("Position",Pt),or("Shape",oe),or("Size",Xe)},55223:function(Wr,cr,Rt){"use strict";var Xt=Rt(41694),wt=/rgba?\(([\s.,0-9]+)\)/,d=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,c=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Ee=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,Tt=function(Pe){return/^[r,R,L,l]{1}[\s]*\(/.test(Pe)},Ae=function(){var Pe=document.createElement("i");return Pe.title="Web Colour Picker",Pe.style.display="none",document.body.appendChild(Pe),Pe},pe=function(Pe,Me,_e,Nt){return Pe[Nt]+(Me[Nt]-Pe[Nt])*_e};function se(Pe){return"#"+Be(Pe[0])+Be(Pe[1])+Be(Pe[2])}var Ye=function(Pe){return[parseInt(Pe.substr(1,2),16),parseInt(Pe.substr(3,2),16),parseInt(Pe.substr(5,2),16)]},Be=function(Pe){var Me=Math.round(Pe).toString(16);return Me.length===1?"0"+Me:Me},Ct=function(Pe,Me){var _e=isNaN(Number(Me))||Me<0?0:Me>1?1:Number(Me),Nt=Pe.length-1,Ht=Math.floor(Nt*_e),be=Nt*_e-Ht,Se=Pe[Ht],Ne=Ht===Nt?Se:Pe[Ht+1];return se([pe(Se,Ne,be,0),pe(Se,Ne,be,1),pe(Se,Ne,be,2)])},rt,Jt=function(Pe){if(Pe[0]==="#"&&Pe.length===7)return Pe;rt||(rt=Ae()),rt.style.color=Pe;var Me=document.defaultView.getComputedStyle(rt,"").getPropertyValue("color"),_e=wt.exec(Me),Nt=_e[1].split(/\s*,\s*/).map(function(Ht){return Number(Ht)});return Me=se(Nt),Me},fe=function(Pe){var Me=(0,Xt.HD)(Pe)?Pe.split("-"):Pe,_e=(0,Xt.UI)(Me,function(Nt){return Ye(Nt.indexOf("#")===-1?Jt(Nt):Nt)});return function(Nt){return Ct(_e,Nt)}},ke=function(Pe){if(Tt(Pe)){var Me,_e=void 0;if(Pe[0]==="l"){var Nt=d.exec(Pe),Ht=+Nt[1]+90;_e=Nt[2],Me="linear-gradient("+Ht+"deg, "}else if(Pe[0]==="r"){Me="radial-gradient(";var Nt=c.exec(Pe);_e=Nt[4]}var be=_e.match(Ee);return(0,Xt.S6)(be,function(Se,Ne){var lr=Se.split(":");Me+=lr[1]+" "+lr[0]*100+"%",Ne!==be.length-1&&(Me+=", ")}),Me+=")",Me}return Pe};cr.Z={rgb2arr:Ye,gradient:fe,toRGB:(0,Xt.HP)(Jt),toCSSGradient:ke}},62079:function(Wr,cr,Rt){"use strict";Rt.d(cr,{q6:function(){return Xt},RD:function(){return Tt},YS:function(){return Ae},rj:function(){return pe},De:function(){return se},LW:function(){return In},iR:function(){return ir},LP:function(){return Ye},u:function(){return Be},Es:function(){return fe}});var Xt={};Rt.r(Xt),Rt.d(Xt,{Arc:function(){return nr},DataMarker:function(){return Qe},DataRegion:function(){return Mt},Html:function(){return jn},Image:function(){return hr},Line:function(){return de},Region:function(){return er},RegionFilter:function(){return N},Shape:function(){return St},Text:function(){return Ge}});var wt={};Rt.r(wt),Rt.d(wt,{ellipsisHead:function(){return di},ellipsisMiddle:function(){return H},ellipsisTail:function(){return ot},getDefault:function(){return yi}});var d={};Rt.r(d),Rt.d(d,{equidistance:function(){return ze},equidistanceWithReverseBoth:function(){return vr},getDefault:function(){return Ut},reserveBoth:function(){return Je},reserveFirst:function(){return Oe},reserveLast:function(){return je}});var c={};Rt.r(c),Rt.d(c,{fixedAngle:function(){return Mn},getDefault:function(){return an},unfixedAngle:function(){return ln}});var Ee={};Rt.r(Ee),Rt.d(Ee,{autoEllipsis:function(){return wt},autoHide:function(){return d},autoRotate:function(){return c}});var Tt={};Rt.r(Tt),Rt.d(Tt,{Cd:function(){return Dn},x1:function(){return yn}});var Ae={};Rt.r(Ae),Rt.d(Ae,{Base:function(){return wn},Circle:function(){return ft},Html:function(){return sr},Line:function(){return Z}});var pe={};Rt.r(pe),Rt.d(pe,{Cd:function(){return Tn},x1:function(){return On}});var se={};Rt.r(se),Rt.d(se,{WD:function(){return Er},Vc:function(){return Mi}});var Ye={};Rt.r(Ye),Rt.d(Ye,{CONTAINER_CLASS:function(){return Jr},CROSSHAIR_X:function(){return Pi},CROSSHAIR_Y:function(){return Gi},LIST_CLASS:function(){return bi},LIST_ITEM_CLASS:function(){return ki},MARKER_CLASS:function(){return hi},NAME_CLASS:function(){return ca},TITLE_CLASS:function(){return oi},VALUE_CLASS:function(){return Vi}});var Be={};Rt.r(Be),Rt.d(Be,{V:function(){return La}});var Ct=Rt(70655),rt=Rt(41694),Jt=Rt(3232);function fe(G,A,f){var g=new Jt.ju(A,f);g.target=G,g.propagationPath.push(G),G.emitDelegation(A,g);for(var b=G.getParent();b;)b.emitDelegation(A,g),g.propagationPath.push(b),b=b.getParent()}var ke=Rt(31506),Pe=Rt(77160),Me=Rt(31437),_e=[1,0,0,0,1,0,0,0,1];function Nt(G,A,f){if(f===void 0&&(f=_e),!A)return null;var g=ke.vs(f,[["t",-G.x,-G.y],["r",A],["t",G.x,G.y]]);return g}function Ht(G,A){return!G.x&&!G.y?null:ke.vs(A||_e,[["t",G.x,G.y]])}function be(G){var A=[1,0,0],f=[0,0,0];return Pe.kK(f,A,G),Math.atan2(f[1],f[0])}function Se(G,A){var f=[0,0];return Me.kK(f,A,G),f}function Ne(G,A){var f=Se(G,[A.minX,A.minY]),g=Se(G,[A.maxX,A.minY]),b=Se(G,[A.minX,A.maxY]),F=Se(G,[A.maxX,A.maxY]),z=Math.min(f[0],g[0],b[0],F[0]),W=Math.max(f[0],g[0],b[0],F[0]),at=Math.min(f[1],g[1],b[1],F[1]),vt=Math.max(f[1],g[1],b[1],F[1]);return{x:z,y:at,minX:z,minY:at,maxX:W,maxY:vt,width:W-z,height:vt-at}}function lr(G,A,f,g){if(A){var b=Nt({x:f,y:g},A,G.getMatrix());G.setMatrix(b)}}function fr(G,A,f){var g=Ht({x:A,y:f});G.attr("matrix",g)}function Yt(G){var A=0,f=0,g=0,b=0;return(0,rt.hj)(G)?A=f=g=b=G:(0,rt.kJ)(G)&&(A=G[0],g=(0,rt.UM)(G[1])?G[0]:G[1],b=(0,rt.UM)(G[2])?G[0]:G[2],f=(0,rt.UM)(G[3])?g:G[3]),[A,g,b,f]}function xt(G){for(var A=G.childNodes,f=A.length,g=f-1;g>=0;g--)G.removeChild(A[g])}function Lt(G,A){return!!G.className.match(new RegExp("(\\s|^)"+A+"(\\s|$)"))}function It(G){var A=G.start,f=G.end,g=Math.min(A.x,f.x),b=Math.min(A.y,f.y),F=Math.max(A.x,f.x),z=Math.max(A.y,f.y);return{x:g,y:b,minX:g,minY:b,maxX:F,maxY:z,width:F-g,height:z-b}}function Ft(G){var A=G.map(function(W){return W.x}),f=G.map(function(W){return W.y}),g=Math.min.apply(Math,A),b=Math.min.apply(Math,f),F=Math.max.apply(Math,A),z=Math.max.apply(Math,f);return{x:g,y:b,minX:g,minY:b,maxX:F,maxY:z,width:F-g,height:z-b}}function At(G,A,f,g){var b=G+f,F=A+g;return{x:G,y:A,width:f,height:g,minX:G,minY:A,maxX:isNaN(b)?0:b,maxY:isNaN(F)?0:F}}function B(G,A,f){return(1-f)*G+A*f}function K(G,A,f){return{x:G.x+Math.cos(f)*A,y:G.y+Math.sin(f)*A}}function Pt(G,A){var f=A.x-G.x,g=A.y-G.y;return Math.sqrt(f*f+g*g)}var xe=function(G){return new Promise(function(A){setTimeout(A,G)})},oe=function(G,A,f){return f===void 0&&(f=Math.pow(Number.EPSILON,.5)),[G,A].includes(Infinity)?Math.abs(G)===Math.abs(A):Math.abs(G-A)<f};function Ve(G,A){var f=Math.max(G.minX,A.minX),g=Math.max(G.minY,A.minY),b=Math.min(G.maxX,A.maxX),F=Math.min(G.maxY,A.maxY);return At(f,g,b-f,F-g)}function Xe(G,A){var f=Math.min(G.minX,A.minX),g=Math.min(G.minY,A.minY),b=Math.max(G.maxX,A.maxX),F=Math.max(G.maxY,A.maxY);return At(f,g,b-f,F-g)}function Re(G){var A=G.getClip(),f=A&&A.getBBox(),g;if(!G.isGroup())g=G.getBBox();else{var b=Infinity,F=-Infinity,z=Infinity,W=-Infinity,at=G.getChildren();at.length>0?(0,rt.S6)(at,function(vt){if(vt.get("visible")){if(vt.isGroup()&&vt.get("children").length===0)return!0;var bt=Re(vt),kt=vt.applyToMatrix([bt.minX,bt.minY,1]),jt=vt.applyToMatrix([bt.minX,bt.maxY,1]),he=vt.applyToMatrix([bt.maxX,bt.minY,1]),qe=vt.applyToMatrix([bt.maxX,bt.maxY,1]),ur=Math.min(kt[0],jt[0],he[0],qe[0]),Cr=Math.max(kt[0],jt[0],he[0],qe[0]),kr=Math.min(kt[1],jt[1],he[1],qe[1]),Ur=Math.max(kt[1],jt[1],he[1],qe[1]);ur<b&&(b=ur),Cr>F&&(F=Cr),kr<z&&(z=kr),Ur>W&&(W=Ur)}}):(b=0,F=0,z=0,W=0),g=At(b,z,F-b,W-z)}return f?Ve(g,f):g}function Ke(G,A){if(!(!G.getClip()&&!A.getClip())){var f=A.getClip();if(!f){G.setClip(null);return}var g={type:f.get("type"),attrs:f.attr()};G.setClip(g)}}function we(G){return G+"px"}function or(G,A,f,g){var b=Pt(G,A),F=g/b,z=0;return f==="start"?z=0-F:f==="end"&&(z=1+F),{x:B(G.x,A.x,z),y:B(G.y,A.y,z)}}var Vt={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},et=function(G){(0,Ct.ZT)(A,G);function A(f){var g=G.call(this,f)||this;return g.initCfg(),g}return A.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},A.prototype.clear=function(){},A.prototype.update=function(f){var g=this,b=this.get("defaultCfg")||{};(0,rt.S6)(f,function(F,z){var W=g.get(z),at=F;W!==F&&((0,rt.Kn)(F)&&b[z]&&(at=(0,rt.b$)({},b[z],F)),g.set(z,at))}),this.updateInner(f),this.afterUpdate(f)},A.prototype.updateInner=function(f){},A.prototype.afterUpdate=function(f){(0,rt.wH)(f,"visible")&&(f.visible?this.show():this.hide()),(0,rt.wH)(f,"capture")&&this.setCapture(f.capture)},A.prototype.getLayoutBBox=function(){return this.getBBox()},A.prototype.getLocationType=function(){return this.get("locationType")},A.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},A.prototype.setOffset=function(f,g){this.update({offsetX:f,offsetY:g})},A.prototype.setLocation=function(f){var g=(0,Ct.pi)({},f);this.update(g)},A.prototype.getLocation=function(){var f=this,g={},b=this.get("locationType"),F=Vt[b];return(0,rt.S6)(F,function(z){g[z]=f.get(z)}),g},A.prototype.isList=function(){return!1},A.prototype.isSlider=function(){return!1},A.prototype.init=function(){},A.prototype.initCfg=function(){var f=this,g=this.get("defaultCfg");(0,rt.S6)(g,function(b,F){var z=f.get(F);if((0,rt.Kn)(z)){var W=(0,rt.b$)({},b,z);f.set(F,W)}})},A}(Jt.XY),P=et,C="update_status",L=["visible","tip","delegateObject"],k=["container","group","shapesMap","isRegister","isUpdating","destroyed"],T=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},A.prototype.remove=function(){this.clear();var f=this.get("group");f.remove()},A.prototype.clear=function(){var f=this.get("group");f.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},A.prototype.getChildComponentById=function(f){var g=this.getElementById(f),b=g&&g.get("component");return b},A.prototype.getElementById=function(f){return this.get("shapesMap")[f]},A.prototype.getElementByLocalId=function(f){var g=this.getElementId(f);return this.getElementById(g)},A.prototype.getElementsByName=function(f){var g=[];return(0,rt.S6)(this.get("shapesMap"),function(b){b.get("name")===f&&g.push(b)}),g},A.prototype.getContainer=function(){return this.get("container")},A.prototype.updateInner=function(f){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},A.prototype.render=function(){var f=this.get("offScreenGroup");f||(f=this.offScreenRender());var g=this.get("group");this.updateElements(f,g),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},A.prototype.show=function(){var f=this.get("group");f.show(),this.set("visible",!0)},A.prototype.hide=function(){var f=this.get("group");f.hide(),this.set("visible",!1)},A.prototype.setCapture=function(f){var g=this.get("group");g.set("capture",f),this.set("capture",f)},A.prototype.destroy=function(){this.removeEvent(),this.remove(),G.prototype.destroy.call(this)},A.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},A.prototype.getLayoutBBox=function(){var f=this.get("group"),g=this.getInnerLayoutBBox(),b=f.getTotalMatrix();return b&&(g=Ne(b,g)),g},A.prototype.on=function(f,g,b){var F=this.get("group");return F.on(f,g,b),this},A.prototype.off=function(f,g){var b=this.get("group");return b&&b.off(f,g),this},A.prototype.emit=function(f,g){var b=this.get("group");b.emit(f,g)},A.prototype.init=function(){G.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},A.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},A.prototype.delegateEmit=function(f,g){var b=this.get("group");g.target=b,b.emit(f,g),fe(b,f,g)},A.prototype.createOffScreenGroup=function(){var f=this.get("group"),g=f.getGroupBase(),b=new g({delegateObject:this.getDelegateObject()});return b},A.prototype.applyOffset=function(){var f=this.get("offsetX"),g=this.get("offsetY");this.moveElementTo(this.get("group"),{x:f,y:g})},A.prototype.initGroup=function(){var f=this.get("container");this.set("group",f.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},A.prototype.offScreenRender=function(){this.clearOffScreenCache();var f=this.createOffScreenGroup();return this.renderInner(f),this.set("offScreenGroup",f),this.set("offScreenBBox",Re(f)),f},A.prototype.addGroup=function(f,g){this.appendDelegateObject(f,g);var b=f.addGroup(g);return this.get("isRegister")&&this.registerElement(b),b},A.prototype.addShape=function(f,g){this.appendDelegateObject(f,g);var b=f.addShape(g);return this.get("isRegister")&&this.registerElement(b),b},A.prototype.addComponent=function(f,g){var b=g.id,F=g.component,z=(0,Ct._T)(g,["id","component"]),W=new F((0,Ct.pi)((0,Ct.pi)({},z),{id:b,container:f,updateAutoRender:this.get("updateAutoRender")}));return W.init(),W.render(),this.get("isRegister")&&this.registerElement(W.get("group")),W},A.prototype.initEvent=function(){},A.prototype.removeEvent=function(){var f=this.get("group");f.off()},A.prototype.getElementId=function(f){var g=this.get("id"),b=this.get("name");return g+"-"+b+"-"+f},A.prototype.registerElement=function(f){var g=f.get("id");this.get("shapesMap")[g]=f},A.prototype.unregisterElement=function(f){var g=f.get("id");delete this.get("shapesMap")[g]},A.prototype.moveElementTo=function(f,g){var b=Ht(g);f.attr("matrix",b)},A.prototype.addAnimation=function(f,g,b){var F=g.attr("opacity");(0,rt.UM)(F)&&(F=1),g.attr("opacity",0),g.animate({opacity:F},b)},A.prototype.removeAnimation=function(f,g,b){g.animate({opacity:0},b)},A.prototype.updateAnimation=function(f,g,b,F){g.animate(b,F)},A.prototype.updateElements=function(f,g){var b=this,F=this.get("animate"),z=this.get("animateOption"),W=f.getChildren().slice(0),at;(0,rt.S6)(W,function(vt){var bt=vt.get("id"),kt=b.getElementById(bt),jt=vt.get("name");if(kt)if(vt.get("isComponent")){var he=vt.get("component"),qe=kt.get("component"),ur=(0,rt.ei)(he.cfg,(0,rt.e5)((0,rt.XP)(he.cfg),k));qe.update(ur),kt.set(C,"update")}else{var Cr=b.getReplaceAttrs(kt,vt);F&&z.update?b.updateAnimation(jt,kt,Cr,z.update):kt.attr(Cr),vt.isGroup()&&b.updateElements(vt,kt),(0,rt.S6)(L,function(on){kt.set(on,vt.get(on))}),Ke(kt,vt),at=kt,kt.set(C,"update")}else{g.add(vt);var kr=g.getChildren();if(kr.splice(kr.length-1,1),at){var Ur=kr.indexOf(at);kr.splice(Ur+1,0,vt)}else kr.unshift(vt);if(b.registerElement(vt),vt.set(C,"add"),vt.get("isComponent")){var he=vt.get("component");he.set("container",g)}else vt.isGroup()&&b.registerNewGroup(vt);if(at=vt,F){var cn=b.get("isInit")?z.appear:z.enter;cn&&b.addAnimation(jt,vt,cn)}}})},A.prototype.clearUpdateStatus=function(f){var g=f.getChildren();(0,rt.S6)(g,function(b){b.set(C,null)})},A.prototype.clearOffScreenCache=function(){var f=this.get("offScreenGroup");f&&f.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},A.prototype.getDelegateObject=function(){var f,g=this.get("name"),b=(f={},f[g]=this,f.component=this,f);return b},A.prototype.appendDelegateObject=function(f,g){var b=f.get("delegateObject");g.delegateObject||(g.delegateObject={}),(0,rt.CD)(g.delegateObject,b)},A.prototype.getReplaceAttrs=function(f,g){var b=f.attr(),F=g.attr();return(0,rt.S6)(b,function(z,W){F[W]===void 0&&(F[W]=void 0)}),F},A.prototype.registerNewGroup=function(f){var g=this,b=f.getChildren();(0,rt.S6)(b,function(F){g.registerElement(F),F.set(C,"add"),F.isGroup()&&g.registerNewGroup(F)})},A.prototype.deleteElements=function(){var f=this,g=this.get("shapesMap"),b=[];(0,rt.S6)(g,function(W,at){!W.get(C)||W.destroyed?b.push([at,W]):W.set(C,null)});var F=this.get("animate"),z=this.get("animateOption");(0,rt.S6)(b,function(W){var at=W[0],vt=W[1];if(!vt.destroyed){var bt=vt.get("name");if(F&&z.leave){var kt=(0,rt.CD)({callback:function(){f.removeElement(vt)}},z.leave);f.removeAnimation(bt,vt,kt)}else f.removeElement(vt)}delete g[at]})},A.prototype.removeElement=function(f){if(f.get("isGroup")){var g=f.get("component");g&&g.destroy()}f.remove()},A}(P),R=T,j="\u2026";function tt(G){for(var A=0,f=0;f<G.length;f++)A+=st(G,f);return A}function st(G,A){return G.charCodeAt(A)>0&&G.charCodeAt(A)<128?1:2}function Bt(G,A,f){f===void 0&&(f="tail");var g=G.length,b="";if(f==="tail"){for(var F=0,z=0;F<A;){var W=st(G,z);if(F+W<=A)b+=G[z],F+=st(G,z),z++;else break}b+=j}else if(f==="head"){for(var F=0,z=g-1;F<A;){var W=st(G,z);if(F+W<=A)b+=G[z],F+=st(G,z),z--;else break}b=j+b}else{for(var at="",vt="",F=0,bt=0,kt=g-1;F<A;){var jt=st(G,bt),he=!1;jt+F<=A&&(at+=G[bt],bt++,F+=jt,he=!0);var qe=st(G,kt);if(qe+F<=A&&(vt=G[kt]+vt,F+=qe,kt--,he=!0),!he)break}b=at+j+vt}return b}var qt="\u2026",Qt=2,me=400;function He(G){for(var A=G.map(function(at){var vt=at.attr("text");return(0,rt.UM)(vt)?"":""+vt}),f=0,g=0,b=0;b<A.length;b+=1){for(var F=0,z=0;z<=A[b].length;z+=1){var W=A[b].charCodeAt(z);W>=19968&&W<=40869?F+=2:F+=1}F>f&&(f=F,g=b)}return G[g].getBBox().width}function J(G){if(G.length>me)return He(G);var A=0;return(0,rt.S6)(G,function(f){var g=f.getBBox(),b=g.width;A<b&&(A=b)}),A}function lt(G,A){var f=A.getCanvasBBox();return G?f.width:f.height}function yt(G,A){return G.getBBox().width<A}function Dt(G,A,f,g){var b;g===void 0&&(g="tail");var F=(b=A.attr("text"))!==null&&b!==void 0?b:"";if(g==="tail"){var z=(0,rt.ei)(A.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),W=(0,rt.Lo)(F,f,z,"\u2026");return F!==W?(A.attr("text",W),A.set("tip",F),!0):(A.set("tip",null),!1)}var at=lt(G,A),vt=tt(F),bt=!1;if(f<at){var kt=Math.floor(f/at*vt)-Qt,jt=void 0;kt>=0?jt=Bt(F,kt,g):jt=qt,jt&&(A.attr("text",jt),bt=!0)}return bt?A.set("tip",F):A.set("tip",null),bt}function te(G,A){var f=A.x,g=A.y,b=A.content,F=A.style,z=A.id,W=A.name,at=A.rotate,vt=A.maxLength,bt=A.autoEllipsis,kt=A.isVertical,jt=A.ellipsisPosition,he=A.background,qe=G.addGroup({id:z+"-group",name:W+"-group",attrs:{x:f,y:g}}),ur=qe.addShape({type:"text",id:z,name:W,attrs:(0,Ct.pi)({x:0,y:0,text:b},F)}),Cr=Yt((0,rt.U2)(he,"padding",0));if(vt&&bt){var kr=vt-(Cr[1]+Cr[3]);Dt(!kt,ur,kr,jt)}if(he){var Ur=(0,rt.U2)(he,"style",{}),cn=ur.getCanvasBBox(),on=cn.minX,Ln=cn.minY,kn=cn.width,Bn=cn.height,pi=qe.addShape("rect",{id:z+"-bg",name:z+"-bg",attrs:(0,Ct.pi)({x:on-Cr[3],y:Ln-Cr[0],width:kn+Cr[1]+Cr[3],height:Bn+Cr[0]+Cr[2]},Ur)});pi.toBack()}fr(qe,f,g),lr(qe,at,f,g)}var Zt={fontFamily:`
  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4,descriptionIconStroke:"#fff",descriptionIconFill:"rgba(58, 73, 101, .25)"},ue=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:Zt.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:Zt.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:Zt.lineColor,lineWidth:1}}}})},A.prototype.renderInner=function(f){this.renderLine(f),this.get("text")&&this.renderLabel(f)},A.prototype.renderLine=function(f){var g=this.get("start"),b=this.get("end"),F=this.get("style");this.addShape(f,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,Ct.pi)({x1:g.x,y1:g.y,x2:b.x,y2:b.y},F)})},A.prototype.getLabelPoint=function(f,g,b){var F;return b==="start"?F=0:b==="center"?F=.5:(0,rt.HD)(b)&&b.indexOf("%")!==-1?F=parseInt(b,10)/100:(0,rt.hj)(b)?F=b:F=1,(F>1||F<0)&&(F=1),{x:B(f.x,g.x,F),y:B(f.y,g.y,F)}},A.prototype.renderLabel=function(f){var g=this.get("text"),b=this.get("start"),F=this.get("end"),z=g.position,W=g.content,at=g.style,vt=g.offsetX,bt=g.offsetY,kt=g.autoRotate,jt=g.maxLength,he=g.autoEllipsis,qe=g.ellipsisPosition,ur=g.background,Cr=g.isVertical,kr=Cr===void 0?!1:Cr,Ur=this.getLabelPoint(b,F,z),cn=Ur.x+vt,on=Ur.y+bt,Ln={id:this.getElementId("line-text"),name:"annotation-line-text",x:cn,y:on,content:W,style:at,maxLength:jt,autoEllipsis:he,ellipsisPosition:qe,background:ur,isVertical:kr};if(kt){var kn=[F.x-b.x,F.y-b.y];Ln.rotate=Math.atan2(kn[1],kn[0])}te(f,Ln)},A}(R),de=ue,ee=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:Zt.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:Zt.fontFamily}}})},A.prototype.setLocation=function(f){this.set("x",f.x),this.set("y",f.y),this.resetLocation()},A.prototype.renderInner=function(f){var g=this.getLocation(),b=g.x,F=g.y,z=this.get("content"),W=this.get("style"),at=this.getElementId("text"),vt=this.get("name")+"-text",bt=this.get("maxLength"),kt=this.get("autoEllipsis"),jt=this.get("isVertical"),he=this.get("ellipsisPosition"),qe=this.get("background"),ur=this.get("rotate"),Cr={id:at,name:vt,x:b,y:F,content:z,style:W,maxLength:bt,autoEllipsis:kt,isVertical:jt,ellipsisPosition:he,background:qe,rotate:ur};te(f,Cr)},A.prototype.resetLocation=function(){var f=this.getElementByLocalId("text-group");if(f){var g=this.getLocation(),b=g.x,F=g.y,z=this.get("rotate");fr(f,b,F),lr(f,z,b,F)}},A}(R),Ge=ee,Te=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},A.prototype.renderInner=function(f){this.renderArc(f)},A.prototype.getArcPath=function(){var f=this.getLocation(),g=f.center,b=f.radius,F=f.startAngle,z=f.endAngle,W=K(g,b,F),at=K(g,b,z),vt=z-F>Math.PI?1:0,bt=[["M",W.x,W.y]];if(z-F==Math.PI*2){var kt=K(g,b,F+Math.PI);bt.push(["A",b,b,0,vt,1,kt.x,kt.y]),bt.push(["A",b,b,0,vt,1,at.x,at.y])}else bt.push(["A",b,b,0,vt,1,at.x,at.y]);return bt},A.prototype.renderArc=function(f){var g=this.getArcPath(),b=this.get("style");this.addShape(f,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,Ct.pi)({path:g},b)})},A}(R),nr=Te,wr=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:Zt.regionColor,opacity:.4}}})},A.prototype.renderInner=function(f){this.renderRegion(f)},A.prototype.renderRegion=function(f){var g=this.get("start"),b=this.get("end"),F=this.get("style"),z=It({start:g,end:b});this.addShape(f,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,Ct.pi)({x:z.x,y:z.y,width:z.width,height:z.height},F)})},A}(R),er=wr,De=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},A.prototype.renderInner=function(f){this.renderImage(f)},A.prototype.getImageAttrs=function(){var f=this.get("start"),g=this.get("end"),b=this.get("style"),F=It({start:f,end:g}),z=this.get("src");return(0,Ct.pi)({x:F.x,y:F.y,img:z,width:F.width,height:F.height},b)},A.prototype.renderImage=function(f){this.addShape(f,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},A}(R),hr=De,Mr=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:Zt.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:Zt.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:Zt.fontFamily}}}})},A.prototype.renderInner=function(f){(0,rt.U2)(this.get("line"),"display")&&this.renderLine(f),(0,rt.U2)(this.get("text"),"display")&&this.renderText(f),(0,rt.U2)(this.get("point"),"display")&&this.renderPoint(f),this.get("autoAdjust")&&this.autoAdjust(f)},A.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},A.prototype.renderPoint=function(f){var g=this.getShapeAttrs().point;this.addShape(f,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:g})},A.prototype.renderLine=function(f){var g=this.getShapeAttrs().line;this.addShape(f,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:g})},A.prototype.renderText=function(f){var g=this.getShapeAttrs().text,b=g.x,F=g.y,z=g.text,W=(0,Ct._T)(g,["x","y","text"]),at=this.get("text"),vt=at.background,bt=at.maxLength,kt=at.autoEllipsis,jt=at.isVertival,he=at.ellipsisPosition,qe={x:b,y:F,id:this.getElementId("text"),name:"annotation-text",content:z,style:W,background:vt,maxLength:bt,autoEllipsis:kt,isVertival:jt,ellipsisPosition:he};te(f,qe)},A.prototype.autoAdjust=function(f){var g=this.get("direction"),b=this.get("x"),F=this.get("y"),z=(0,rt.U2)(this.get("line"),"length",0),W=this.get("coordinateBBox"),at=f.getBBox(),vt=at.minX,bt=at.maxX,kt=at.minY,jt=at.maxY,he=f.findById(this.getElementId("text-group")),qe=f.findById(this.getElementId("text")),ur=f.findById(this.getElementId("line"));if(!!W){if(he){if(b+vt<=W.minX){var Cr=W.minX-(b+vt);fr(he,he.attr("x")+Cr,he.attr("y"))}if(b+bt>=W.maxX){var Cr=b+bt-W.maxX;fr(he,he.attr("x")-Cr,he.attr("y"))}}if(g==="upward"&&F+kt<=W.minY||g!=="upward"&&F+jt>=W.maxY){var kr=void 0,Ur=void 0;g==="upward"&&F+kt<=W.minY?(kr="top",Ur=1):(kr="bottom",Ur=-1),qe.attr("textBaseline",kr),ur&&ur.attr("path",[["M",0,0],["L",0,z*Ur]]),fr(he,he.attr("x"),(z+2)*Ur)}}},A.prototype.getShapeAttrs=function(){var f=(0,rt.U2)(this.get("line"),"display"),g=(0,rt.U2)(this.get("point"),"style",{}),b=(0,rt.U2)(this.get("line"),"style",{}),F=(0,rt.U2)(this.get("text"),"style",{}),z=this.get("direction"),W=f?(0,rt.U2)(this.get("line"),"length",0):0,at=z==="upward"?-1:1;return{point:(0,Ct.pi)({x:0,y:0},g),line:(0,Ct.pi)({path:[["M",0,0],["L",0,W*at]]},b),text:(0,Ct.pi)({x:0,y:(W+2)*at,text:(0,rt.U2)(this.get("text"),"content",""),textBaseline:z==="upward"?"bottom":"top"},F)}},A}(R),Qe=Mr,yr=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:Zt.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:Zt.textColor,fontFamily:Zt.fontFamily}}}})},A.prototype.renderInner=function(f){var g=(0,rt.U2)(this.get("region"),"style",{}),b=(0,rt.U2)(this.get("text"),"style",{}),F=this.get("lineLength")||0,z=this.get("points");if(!!z.length){var W=Ft(z),at=[];at.push(["M",z[0].x,W.minY-F]),z.forEach(function(bt){at.push(["L",bt.x,bt.y])}),at.push(["L",z[z.length-1].x,z[z.length-1].y-F]),this.addShape(f,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,Ct.pi)({path:at},g)});var vt=(0,Ct.pi)({id:this.getElementId("text"),name:"annotation-text",x:(W.minX+W.maxX)/2,y:W.minY-F},this.get("text"));te(f,vt)}},A}(R),Mt=yr,it=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},A.prototype.renderInner=function(f){var g=this,b=this.get("start"),F=this.get("end"),z=this.addGroup(f,{id:this.getElementId("region-filter"),capture:!1});(0,rt.S6)(this.get("shapes"),function(at,vt){var bt=at.get("type"),kt=(0,rt.d9)(at.attr());g.adjustShapeAttrs(kt),g.addShape(z,{id:g.getElementId("shape-"+bt+"-"+vt),capture:!1,type:bt,attrs:kt})});var W=It({start:b,end:F});z.setClip({type:"rect",attrs:{x:W.minX,y:W.minY,width:W.width,height:W.height}})},A.prototype.adjustShapeAttrs=function(f){var g=this.get("color");f.fill&&(f.fill=f.fillStyle=g),f.stroke=f.strokeStyle=g},A}(R),N=it,ct=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"annotation",type:"shape",draw:rt.ZT})},A.prototype.renderInner=function(f){var g=this.get("render");(0,rt.mf)(g)&&g(f)},A}(R),St=ct,$t=Rt(6056);function ne(G,A,f){var g;try{g=window.getComputedStyle?window.getComputedStyle(G,null)[A]:G.style[A]}catch(b){}finally{g=g===void 0?f:g}return g}function ge(G,A){var f=ne(G,"width",A);return f==="auto"&&(f=G.offsetWidth),parseFloat(f)}function Ie(G,A){var f=ge(G,A),g=parseFloat(ne(G,"borderLeftWidth"))||0,b=parseFloat(ne(G,"paddingLeft"))||0,F=parseFloat(ne(G,"paddingRight"))||0,z=parseFloat(ne(G,"borderRightWidth"))||0,W=parseFloat(ne(G,"marginRight"))||0,at=parseFloat(ne(G,"marginLeft"))||0;return f+g+z+b+F+at+W}function zr(G,A){var f=ne(G,"height",A);return f==="auto"&&(f=G.offsetHeight),parseFloat(f)}function Xr(G,A){var f=zr(G,A),g=parseFloat(ne(G,"borderTopWidth"))||0,b=parseFloat(ne(G,"paddingTop"))||0,F=parseFloat(ne(G,"paddingBottom"))||0,z=parseFloat(ne(G,"borderBottomWidth"))||0,W=parseFloat(ne(G,"marginTop"))||0,at=parseFloat(ne(G,"marginBottom"))||0;return f+g+z+b+F+W+at}var Nr=Rt(45442),Sn=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},A.prototype.getContainer=function(){return this.get("container")},A.prototype.show=function(){var f=this.get("container");f.style.display="",this.set("visible",!0)},A.prototype.hide=function(){var f=this.get("container");f.style.display="none",this.set("visible",!1)},A.prototype.setCapture=function(f){var g=this.getContainer(),b=f?"auto":"none";g.style.pointerEvents=b,this.set("capture",f)},A.prototype.getBBox=function(){var f=this.getContainer(),g=parseFloat(f.style.left)||0,b=parseFloat(f.style.top)||0;return At(g,b,f.clientWidth,f.clientHeight)},A.prototype.clear=function(){var f=this.get("container");xt(f)},A.prototype.destroy=function(){this.removeEvent(),this.removeDom(),G.prototype.destroy.call(this)},A.prototype.init=function(){G.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},A.prototype.initCapture=function(){this.setCapture(this.get("capture"))},A.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},A.prototype.initDom=function(){},A.prototype.initContainer=function(){var f=this.get("container");if((0,rt.UM)(f)){f=this.createDom();var g=this.get("parent");(0,rt.HD)(g)&&(g=document.getElementById(g),this.set("parent",g)),g.appendChild(f),this.get("containerId")&&f.setAttribute("id",this.get("containerId")),this.set("container",f)}else(0,rt.HD)(f)&&(f=document.getElementById(f),this.set("container",f));this.get("parent")||this.set("parent",f.parentNode)},A.prototype.resetStyles=function(){var f=this.get("domStyles"),g=this.get("defaultStyles");f?f=(0,rt.b$)({},g,f):f=g,this.set("domStyles",f)},A.prototype.applyStyles=function(){var f=this.get("domStyles");if(!!f){var g=this.getContainer();this.applyChildrenStyles(g,f);var b=this.get("containerClassName");if(b&&Lt(g,b)){var F=f[b];(0,Nr.Z)(g,F)}}},A.prototype.applyChildrenStyles=function(f,g){(0,rt.S6)(g,function(b,F){var z=f.getElementsByClassName(F);(0,rt.S6)(z,function(W){(0,Nr.Z)(W,b)})})},A.prototype.applyStyle=function(f,g){var b=this.get("domStyles");(0,Nr.Z)(g,b[f])},A.prototype.createDom=function(){var f=this.get("containerTpl");return(0,$t.Z)(f)},A.prototype.initEvent=function(){},A.prototype.removeDom=function(){var f=this.get("container");f&&f.parentNode&&f.parentNode.removeChild(f)},A.prototype.removeEvent=function(){},A.prototype.updateInner=function(f){(0,rt.wH)(f,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},A.prototype.resetPosition=function(){},A}(P),Vr=Sn,Kn=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},A.prototype.render=function(){var f=this.getContainer(),g=this.get("html");xt(f);var b=(0,rt.mf)(g)?g(f):g;if((0,rt.kK)(b))f.appendChild(b);else if((0,rt.HD)(b)||(0,rt.hj)(b)){var F=(0,$t.Z)(""+b);F&&f.appendChild(F)}this.resetPosition()},A.prototype.resetPosition=function(){var f=this.getContainer(),g=this.getLocation(),b=g.x,F=g.y,z=this.get("alignX"),W=this.get("alignY"),at=this.get("offsetX"),vt=this.get("offsetY"),bt=Ie(f),kt=Xr(f),jt={x:b,y:F};z==="middle"?jt.x-=Math.round(bt/2):z==="right"&&(jt.x-=Math.round(bt)),W==="middle"?jt.y-=Math.round(kt/2):W==="bottom"&&(jt.y-=Math.round(kt)),at&&(jt.x+=at),vt&&(jt.y+=vt),(0,Nr.Z)(f,{position:"absolute",left:jt.x+"px",top:jt.y+"px",zIndex:this.get("zIndex")})},A}(Vr),jn=Kn;function Vn(G,A,f){var g=A+"Style",b=null;return(0,rt.S6)(f,function(F,z){G[z]&&F[g]&&(b||(b={}),(0,rt.CD)(b,F[g]))}),b}var ci=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:Zt.lineColor}},tickLine:{style:{lineWidth:1,stroke:Zt.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:Zt.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:Zt.textColor,fontFamily:Zt.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:Zt.textColor,textBaseline:"middle",fontFamily:Zt.fontFamily,textAlign:"center"},iconStyle:{fill:Zt.descriptionIconFill,stroke:Zt.descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:Zt.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},A.prototype.renderInner=function(f){this.get("line")&&this.drawLine(f),this.drawTicks(f),this.get("title")&&this.drawTitle(f)},A.prototype.isList=function(){return!0},A.prototype.getItems=function(){return this.get("ticks")},A.prototype.setItems=function(f){this.update({ticks:f})},A.prototype.updateItem=function(f,g){(0,rt.CD)(f,g),this.clear(),this.render()},A.prototype.clearItems=function(){var f=this.getElementByLocalId("label-group");f&&f.clear()},A.prototype.setItemState=function(f,g,b){f[g]=b,this.updateTickStates(f)},A.prototype.hasState=function(f,g){return!!f[g]},A.prototype.getItemStates=function(f){var g=this.get("tickStates"),b=[];return(0,rt.S6)(g,function(F,z){f[z]&&b.push(z)}),b},A.prototype.clearItemsState=function(f){var g=this,b=this.getItemsByState(f);(0,rt.S6)(b,function(F){g.setItemState(F,f,!1)})},A.prototype.getItemsByState=function(f){var g=this,b=this.getItems();return(0,rt.hX)(b,function(F){return g.hasState(F,f)})},A.prototype.getSidePoint=function(f,g){var b=this,F=b.getSideVector(g,f);return{x:f.x+F[0],y:f.y+F[1]}},A.prototype.getTextAnchor=function(f){var g;return(0,rt.vQ)(f[0],0)?g="center":f[0]>0?g="start":f[0]<0&&(g="end"),g},A.prototype.getTextBaseline=function(f){var g;return(0,rt.vQ)(f[1],0)?g="middle":f[1]>0?g="top":f[1]<0&&(g="bottom"),g},A.prototype.processOverlap=function(f){},A.prototype.drawLine=function(f){var g=this.getLinePath(),b=this.get("line");this.addShape(f,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,rt.CD)({path:g},b.style)})},A.prototype.getTickLineItems=function(f){var g=this,b=[],F=this.get("tickLine"),z=F.alignTick,W=F.length,at=1,vt=f.length;return vt>=2&&(at=f[1].value-f[0].value),(0,rt.S6)(f,function(bt){var kt=bt.point;z||(kt=g.getTickPoint(bt.value-at/2));var jt=g.getSidePoint(kt,W);b.push({startPoint:kt,tickValue:bt.value,endPoint:jt,tickId:bt.id,id:"tickline-"+bt.id})}),b},A.prototype.getSubTickLineItems=function(f){var g=[],b=this.get("subTickLine"),F=b.count,z=f.length;if(z>=2)for(var W=0;W<z-1;W++)for(var at=f[W],vt=f[W+1],bt=0;bt<F;bt++){var kt=(bt+1)/(F+1),jt=(1-kt)*at.tickValue+kt*vt.tickValue,he=this.getTickPoint(jt),qe=this.getSidePoint(he,b.length);g.push({startPoint:he,endPoint:qe,tickValue:jt,id:"sub-"+at.id+"-"+bt})}return g},A.prototype.getTickLineAttrs=function(f,g,b,F){var z=this.get(g).style,W={points:[f.startPoint,f.endPoint]},at=(0,rt.U2)(this.get("theme"),["tickLine","style"],{});z=(0,rt.mf)(z)?(0,rt.CD)({},at,z(W,b,F)):z;var vt=f.startPoint,bt=f.endPoint;return(0,Ct.pi)({x1:vt.x,y1:vt.y,x2:bt.x,y2:bt.y},z)},A.prototype.drawTick=function(f,g,b,F,z){this.addShape(g,{type:"line",id:this.getElementId(f.id),name:"axis-"+b,attrs:this.getTickLineAttrs(f,b,F,z)})},A.prototype.drawTickLines=function(f){var g=this,b=this.get("ticks"),F=this.get("subTickLine"),z=this.getTickLineItems(b),W=this.addGroup(f,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),at=this.get("tickLine");if((0,rt.S6)(z,function(bt,kt){if(at.displayWithLabel){var jt=g.getElementId("label-"+bt.tickId);f.findById(jt)&&g.drawTick(bt,W,"tickLine",kt,z)}else g.drawTick(bt,W,"tickLine",kt,z)}),F){var vt=this.getSubTickLineItems(z);(0,rt.S6)(vt,function(bt,kt){g.drawTick(bt,W,"subTickLine",kt,vt)})}},A.prototype.processTicks=function(){var f=this,g=this.get("ticks");(0,rt.S6)(g,function(b){b.point=f.getTickPoint(b.value),(0,rt.UM)(b.id)&&(b.id=b.name)})},A.prototype.drawTicks=function(f){var g=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(f),this.get("tickLine")&&this.drawTickLines(f);var b=this.get("ticks");(0,rt.S6)(b,function(F){g.applyTickStates(F,f)})},A.prototype.optimizeTicks=function(){var f=this.get("optimize"),g=this.get("ticks");if(f&&f.enable&&f.threshold>0){var b=(0,rt.dp)(g);if(b>f.threshold){var F=Math.ceil(b/f.threshold),z=g.filter(function(W,at){return at%F==0});this.set("ticks",z),this.set("originalTicks",g)}}},A.prototype.getLabelAttrs=function(f,g,b){var F=this.get("label"),z=F.offset,W=F.offsetX,at=F.offsetY,vt=F.rotate,bt=F.formatter,kt=this.getSidePoint(f.point,z),jt=this.getSideVector(z,kt),he=bt?bt(f.name,f,g):f.name,qe=F.style;qe=(0,rt.mf)(qe)?(0,rt.U2)(this.get("theme"),["label","style"],{}):qe;var ur=(0,rt.CD)({x:kt.x+W,y:kt.y+at,text:he,textAlign:this.getTextAnchor(jt),textBaseline:this.getTextBaseline(jt)},qe);return vt&&(ur.matrix=Nt(kt,vt)),ur},A.prototype.drawLabels=function(f){var g=this,b=this.get("ticks"),F=this.addGroup(f,{name:"axis-label-group",id:this.getElementId("label-group")});(0,rt.S6)(b,function(jt,he){g.addShape(F,{type:"text",name:"axis-label",id:g.getElementId("label-"+jt.id),attrs:g.getLabelAttrs(jt,he,b),delegateObject:{tick:jt,item:jt,index:he}})}),this.processOverlap(F);var z=F.getChildren(),W=(0,rt.U2)(this.get("theme"),["label","style"],{}),at=this.get("label"),vt=at.style,bt=at.formatter;if((0,rt.mf)(vt)){var kt=z.map(function(jt){return(0,rt.U2)(jt.get("delegateObject"),"tick")});(0,rt.S6)(z,function(jt,he){var qe=jt.get("delegateObject").tick,ur=bt?bt(qe.name,qe,he):qe.name,Cr=(0,rt.CD)({},W,vt(ur,he,kt));jt.attr(Cr)})}},A.prototype.getTitleAttrs=function(){var f=this.get("title"),g=f.style,b=f.position,F=f.offset,z=f.spacing,W=z===void 0?0:z,at=f.autoRotate,vt=g.fontSize,bt=.5;b==="start"?bt=0:b==="end"&&(bt=1);var kt=this.getTickPoint(bt),jt=this.getSidePoint(kt,F||W+vt/2),he=(0,rt.CD)({x:jt.x,y:jt.y,text:f.text},g),qe=f.rotate,ur=qe;if((0,rt.UM)(qe)&&at){var Cr=this.getAxisVector(kt),kr=[1,0];ur=ke.Dg(Cr,kr,!0)}if(ur){var Ur=Nt(jt,ur);he.matrix=Ur}return he},A.prototype.drawTitle=function(f){var g,b=this.getTitleAttrs(),F=this.addShape(f,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:b});((g=this.get("title"))===null||g===void 0?void 0:g.description)&&this.drawDescriptionIcon(f,F,b.matrix)},A.prototype.drawDescriptionIcon=function(f,g,b){var F=this.addGroup(f,{name:"axis-description",id:this.getElementById("description")}),z=g.getBBox(),W=z.maxX,at=z.maxY,vt=z.height,bt=this.get("title").iconStyle,kt=4,jt=vt/2,he=jt/6,qe=W+kt,ur=at-vt/2,Cr=[qe+jt,ur-jt],kr=Cr[0],Ur=Cr[1],cn=[kr+jt,Ur+jt],on=cn[0],Ln=cn[1],kn=[kr,Ln+jt],Bn=kn[0],pi=kn[1],Cn=[qe,Ur+jt],ti=Cn[0],Ci=Cn[1],mi=[qe+jt,ur-vt/4],Nn=mi[0],en=mi[1],ya=[Nn,en+he],Xa=ya[0],Wi=ya[1],Zi=[Xa,Wi+he],ma=Zi[0],lo=Zi[1],xi=[ma,lo+jt*3/4],Ki=xi[0],Qi=xi[1];this.addShape(F,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:(0,Ct.pi)({path:[["M",kr,Ur],["A",jt,jt,0,0,1,on,Ln],["A",jt,jt,0,0,1,Bn,pi],["A",jt,jt,0,0,1,ti,Ci],["A",jt,jt,0,0,1,kr,Ur],["M",Nn,en],["L",Xa,Wi],["M",ma,lo],["L",Ki,Qi]],lineWidth:he,matrix:b},bt)}),this.addShape(F,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:qe,y:ur-vt/2,width:vt,height:vt,stroke:"#000",fill:"#000",opacity:0,matrix:b,cursor:"pointer"}})},A.prototype.applyTickStates=function(f,g){var b=this.getItemStates(f);if(b.length){var F=this.get("tickStates"),z=this.getElementId("label-"+f.id),W=g.findById(z);if(W){var at=Vn(f,"label",F);at&&W.attr(at)}var vt=this.getElementId("tickline-"+f.id),bt=g.findById(vt);if(bt){var kt=Vn(f,"tickLine",F);kt&&bt.attr(kt)}}},A.prototype.updateTickStates=function(f){var g=this.getItemStates(f),b=this.get("tickStates"),F=this.get("label"),z=this.getElementByLocalId("label-"+f.id),W=this.get("tickLine"),at=this.getElementByLocalId("tickline-"+f.id);if(g.length){if(z){var vt=Vn(f,"label",b);vt&&z.attr(vt)}if(at){var bt=Vn(f,"tickLine",b);bt&&at.attr(bt)}}else z&&z.attr(F.style),at&&at.attr(W.style)},A}(R),$n=ci;function Sr(G,A,f,g){var b=A.getChildren(),F=!1;return(0,rt.S6)(b,function(z){var W=Dt(G,z,f,g);F=F||W}),F}function yi(){return ot}function di(G,A,f){return Sr(G,A,f,"head")}function ot(G,A,f){return Sr(G,A,f,"tail")}function H(G,A,f){return Sr(G,A,f,"middle")}function I(G){var A=G.attr("matrix");return A&&A[0]!==1}function V(G){var A=I(G)?be(G.attr("matrix")):0;return A%360}function $(G,A,f,g){var b=!1,F=V(A),z=Math.abs(G?f.attr("y")-A.attr("y"):f.attr("x")-A.attr("x")),W=(G?f.attr("y")>A.attr("y"):f.attr("x")>A.attr("x"))?A.getBBox():f.getBBox();if(G){var at=Math.abs(Math.cos(F));oe(at,0,Math.PI/180)?b=W.width+g>z:b=W.height/at+g>z}else{var at=Math.abs(Math.sin(F));oe(at,0,Math.PI/180)?b=W.width+g>z:b=W.height/at+g>z}return b}function gt(G,A,f,g){var b=(g==null?void 0:g.minGap)||0,F=A.getChildren().slice().filter(function(qe){return qe.get("visible")});if(!F.length)return!1;var z=!1;f&&F.reverse();for(var W=F.length,at=F[0],vt=at,bt=1;bt<W;bt++){var kt=F[bt],jt=kt.getBBox(),he=$(G,vt,kt,b);he?(kt.hide(),z=!0):vt=kt}return z}function Et(G,A,f){var g=(f==null?void 0:f.minGap)||0,b=A.getChildren().slice();if(b.length<2)return!1;var F=!1,z=b[0],W=z.getBBox(),at=b[1],vt=b.length,bt=V(z),kt=Math.abs(G?at.attr("y")-z.attr("y"):at.attr("x")-z.attr("x")),jt=0;if(G){var he=Math.abs(Math.cos(bt));if(oe(he,0,Math.PI/180)){var qe=J(b);jt=(qe+g)/kt}else jt=(W.height/he+g)/kt}else{var he=Math.abs(Math.sin(bt));if(oe(he,0,Math.PI/180)){var qe=J(b);jt=(qe+g)/kt}else jt=(W.height/he+g)/kt}if(jt>1){jt=Math.ceil(jt);for(var ur=0;ur<vt;ur++)ur%jt!=0&&(b[ur].hide(),F=!0)}return F}function Ut(){return ze}function Oe(G,A,f,g){return gt(G,A,!1,g)}function je(G,A,f,g){return gt(G,A,!0,g)}function Je(G,A,f,g){var b=(g==null?void 0:g.minGap)||0,F=A.getChildren().slice();if(F.length<=2)return!1;for(var z=!1,W=F.length,at=F[0],vt=F[W-1],bt=at,kt=1;kt<W-1;kt++){var jt=F[kt],he=jt.getBBox(),qe=$(G,bt,jt,b);qe?(jt.hide(),z=!0):bt=jt}var ur=$(G,bt,vt,b);return ur&&(bt.hide(),z=!0),z}function ze(G,A,f,g){var b=Et(G,A,g);return gt(G,A,!1)&&(b=!0),b}function vr(G,A,f,g){var b=A.getChildren().slice(),F=Et(G,A,g);if(b.length>2){var z=b[0],W=b[b.length-1];z.get("visible")||(z.show(),gt(G,A,!1,g)&&(F=!0)),W.get("visible")||(W.show(),gt(G,A,!0,g)&&(F=!0))}return F}function Lr(G,A){(0,rt.S6)(G,function(f){var g=f.attr("x"),b=f.attr("y"),F=Nt({x:g,y:b},A);f.attr("matrix",F)})}function $r(G,A,f,g){var b=A.getChildren();if(!b.length||!G&&b.length<2)return!1;var F=J(b),z=!1;if(G)z=!!f&&F>f;else{var W=Math.abs(b[1].attr("x")-b[0].attr("x"));z=F>W}if(z){var at=g(f,F);Lr(b,at)}return z}function an(){return Mn}function Mn(G,A,f,g){return $r(G,A,f,function(){return(0,rt.hj)(g)?g:G?Zt.verticalAxisRotate:Zt.horizontalAxisRotate})}function ln(G,A,f){return $r(G,A,f,function(g,b){if(!g)return G?Zt.verticalAxisRotate:Zt.horizontalAxisRotate;if(G)return-Math.acos(g/b);var F=0;return g>b?F=Math.PI/4:(F=Math.asin(g/b),F>Math.PI/4&&(F=Math.PI/4)),F})}var En=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{type:"line",locationType:"region",start:null,end:null})},A.prototype.getLinePath=function(){var f=this.get("start"),g=this.get("end"),b=[];return b.push(["M",f.x,f.y]),b.push(["L",g.x,g.y]),b},A.prototype.getInnerLayoutBBox=function(){var f=this.get("start"),g=this.get("end"),b=G.prototype.getInnerLayoutBBox.call(this),F=Math.min(f.x,g.x,b.x),z=Math.min(f.y,g.y,b.y),W=Math.max(f.x,g.x,b.maxX),at=Math.max(f.y,g.y,b.maxY);return{x:F,y:z,minX:F,minY:z,maxX:W,maxY:at,width:W-F,height:at-z}},A.prototype.isVertical=function(){var f=this.get("start"),g=this.get("end");return(0,rt.vQ)(f.x,g.x)},A.prototype.isHorizontal=function(){var f=this.get("start"),g=this.get("end");return(0,rt.vQ)(f.y,g.y)},A.prototype.getTickPoint=function(f){var g=this,b=g.get("start"),F=g.get("end"),z=F.x-b.x,W=F.y-b.y;return{x:b.x+z*f,y:b.y+W*f}},A.prototype.getSideVector=function(f){var g=this.getAxisVector(),b=Me.Fv([0,0],g),F=this.get("verticalFactor"),z=[b[1],b[0]*-1];return Me.bA([0,0],z,f*F)},A.prototype.getAxisVector=function(){var f=this.get("start"),g=this.get("end");return[g.x-f.x,g.y-f.y]},A.prototype.processOverlap=function(f){var g=this,b=this.isVertical(),F=this.isHorizontal();if(!(!b&&!F)){var z=this.get("label"),W=this.get("title"),at=this.get("verticalLimitLength"),vt=z.offset,bt=at,kt=0,jt=0;W&&(kt=W.style.fontSize,jt=W.spacing),bt&&(bt=bt-vt-jt-kt);var he=this.get("overlapOrder");if((0,rt.S6)(he,function(Cr){z[Cr]&&g.canProcessOverlap(Cr)&&g.autoProcessOverlap(Cr,z[Cr],f,bt)}),W&&(0,rt.UM)(W.offset)){var qe=f.getCanvasBBox(),ur=b?qe.width:qe.height;W.offset=vt+ur+jt+kt/2}}},A.prototype.canProcessOverlap=function(f){var g=this.get("label");return f==="autoRotate"?(0,rt.UM)(g.rotate):!0},A.prototype.autoProcessOverlap=function(f,g,b,F){var z=this,W=this.isVertical(),at=!1,vt=Ee[f];if(g===!0){var bt=this.get("label");at=vt.getDefault()(W,b,F)}else if((0,rt.mf)(g))at=g(W,b,F);else if((0,rt.Kn)(g)){var kt=g;vt[kt.type]&&(at=vt[kt.type](W,b,F,kt.cfg))}else vt[g]&&(at=vt[g](W,b,F));if(f==="autoRotate"){if(at){var jt=b.getChildren(),he=this.get("verticalFactor");(0,rt.S6)(jt,function(ur){var Cr=ur.attr("textAlign");if(Cr==="center"){var kr=he>0?"end":"start";ur.attr("textAlign",kr)}})}}else if(f==="autoHide"){var qe=b.getChildren().slice(0);(0,rt.S6)(qe,function(ur){ur.get("visible")||(z.get("isRegister")&&z.unregisterElement(ur),ur.remove())})}},A}($n),yn=En,tn=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},A.prototype.getLinePath=function(){var f=this.get("center"),g=f.x,b=f.y,F=this.get("radius"),z=F,W=this.get("startAngle"),at=this.get("endAngle"),vt=[];if(Math.abs(at-W)===Math.PI*2)vt=[["M",g,b-z],["A",F,z,0,1,1,g,b+z],["A",F,z,0,1,1,g,b-z],["Z"]];else{var bt=this.getCirclePoint(W),kt=this.getCirclePoint(at),jt=Math.abs(at-W)>Math.PI?1:0,he=W>at?0:1;vt=[["M",g,b],["L",bt.x,bt.y],["A",F,z,0,jt,he,kt.x,kt.y],["L",g,b]]}return vt},A.prototype.getTickPoint=function(f){var g=this.get("startAngle"),b=this.get("endAngle"),F=g+(b-g)*f;return this.getCirclePoint(F)},A.prototype.getSideVector=function(f,g){var b=this.get("center"),F=[g.x-b.x,g.y-b.y],z=this.get("verticalFactor"),W=Me.kE(F);return Me.bA(F,F,z*f/W),F},A.prototype.getAxisVector=function(f){var g=this.get("center"),b=[f.x-g.x,f.y-g.y];return[b[1],-1*b[0]]},A.prototype.getCirclePoint=function(f,g){var b=this.get("center");return g=g||this.get("radius"),{x:b.x+Math.cos(f)*g,y:b.y+Math.sin(f)*g}},A.prototype.canProcessOverlap=function(f){var g=this.get("label");return f==="autoRotate"?(0,rt.UM)(g.rotate):!0},A.prototype.processOverlap=function(f){var g=this,b=this.get("label"),F=this.get("title"),z=this.get("verticalLimitLength"),W=b.offset,at=z,vt=0,bt=0;F&&(vt=F.style.fontSize,bt=F.spacing),at&&(at=at-W-bt-vt);var kt=this.get("overlapOrder");if((0,rt.S6)(kt,function(he){b[he]&&g.canProcessOverlap(he)&&g.autoProcessOverlap(he,b[he],f,at)}),F&&(0,rt.UM)(F.offset)){var jt=f.getCanvasBBox().height;F.offset=W+jt+bt+vt/2}},A.prototype.autoProcessOverlap=function(f,g,b,F){var z=this,W=!1,at=Ee[f];if(F>0)if(g===!0)W=at.getDefault()(!1,b,F);else if((0,rt.mf)(g))W=g(!1,b,F);else if((0,rt.Kn)(g)){var vt=g;at[vt.type]&&(W=at[vt.type](!1,b,F,vt.cfg))}else at[g]&&(W=at[g](!1,b,F));if(f==="autoRotate"){if(W){var bt=b.getChildren(),kt=this.get("verticalFactor");(0,rt.S6)(bt,function(he){var qe=he.attr("textAlign");if(qe==="center"){var ur=kt>0?"end":"start";he.attr("textAlign",ur)}})}}else if(f==="autoHide"){var jt=b.getChildren().slice(0);(0,rt.S6)(jt,function(he){he.get("visible")||(z.get("isRegister")&&z.unregisterElement(he),he.remove())})}},A}($n),Dn=tn,hn=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:Zt.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:Zt.textColor,textAlign:"center",textBaseline:"middle",fontFamily:Zt.fontFamily}},textBackground:{padding:5,style:{stroke:Zt.lineColor}}}})},A.prototype.renderInner=function(f){this.get("line")&&this.renderLine(f),this.get("text")&&(this.renderText(f),this.renderBackground(f))},A.prototype.renderText=function(f){var g=this.get("text"),b=g.style,F=g.autoRotate,z=g.content;if(!(0,rt.UM)(z)){var W=this.getTextPoint(),at=null;if(F){var vt=this.getRotateAngle();at=Nt(W,vt)}this.addShape(f,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,Ct.pi)((0,Ct.pi)((0,Ct.pi)({},W),{text:z,matrix:at}),b)})}},A.prototype.renderLine=function(f){var g=this.getLinePath(),b=this.get("line"),F=b.style;this.addShape(f,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,Ct.pi)({path:g},F)})},A.prototype.renderBackground=function(f){var g=this.getElementId("text"),b=f.findById(g),F=this.get("textBackground");if(F&&b){var z=b.getBBox(),W=Yt(F.padding),at=F.style,vt=this.addShape(f,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,Ct.pi)({x:z.x-W[3],y:z.y-W[0],width:z.width+W[1]+W[3],height:z.height+W[0]+W[2],matrix:b.attr("matrix")},at)});vt.toBack()}},A}(R),wn=hn,fi=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{type:"line",locationType:"region",start:null,end:null})},A.prototype.getRotateAngle=function(){var f=this.getLocation(),g=f.start,b=f.end,F=this.get("text").position,z=Math.atan2(b.y-g.y,b.x-g.x),W=F==="start"?z-Math.PI/2:z+Math.PI/2;return W},A.prototype.getTextPoint=function(){var f=this.getLocation(),g=f.start,b=f.end,F=this.get("text"),z=F.position,W=F.offset;return or(g,b,z,W)},A.prototype.getLinePath=function(){var f=this.getLocation(),g=f.start,b=f.end;return[["M",g.x,g.y],["L",b.x,b.y]]},A}(wn),Z=fi,nt=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},A.prototype.getRotateAngle=function(){var f=this.getLocation(),g=f.startAngle,b=f.endAngle,F=this.get("text").position,z=F==="start"?g+Math.PI/2:b-Math.PI/2;return z},A.prototype.getTextPoint=function(){var f=this.get("text"),g=f.position,b=f.offset,F=this.getLocation(),z=F.center,W=F.radius,at=F.startAngle,vt=F.endAngle,bt=g==="start"?at:vt,kt=this.getRotateAngle()-Math.PI,jt=K(z,W,bt),he=Math.cos(kt)*b,qe=Math.sin(kt)*b;return{x:jt.x+he,y:jt.y+qe}},A.prototype.getLinePath=function(){var f=this.getLocation(),g=f.center,b=f.radius,F=f.startAngle,z=f.endAngle,W=null;if(z-F==Math.PI*2){var at=g.x,vt=g.y;W=[["M",at,vt-b],["A",b,b,0,1,1,at,vt+b],["A",b,b,0,1,1,at,vt-b],["Z"]]}else{var bt=K(g,b,F),kt=K(g,b,z),jt=Math.abs(z-F)>Math.PI?1:0,he=F>z?0:1;W=[["M",bt.x,bt.y],["A",b,b,0,jt,he,kt.x,kt.y]]}return W},A}(wn),ft=nt,_t="g2-crosshair",Ot=_t+"-line",re=_t+"-text",Ue,$e=(Ue={},Ue[""+_t]={position:"relative"},Ue[""+Ot]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},Ue[""+re]={position:"absolute",color:Zt.textColor,fontFamily:Zt.fontFamily},Ue),pr=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+_t+'"></div>',crosshairTpl:'<div class="'+Ot+'"></div>',textTpl:'<span class="'+re+'">{content}</span>',domStyles:null,containerClassName:_t,defaultStyles:$e,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},A.prototype.render=function(){this.resetText(),this.resetPosition()},A.prototype.initCrossHair=function(){var f=this.getContainer(),g=this.get("crosshairTpl"),b=(0,$t.Z)(g);f.appendChild(b),this.applyStyle(Ot,b),this.set("crosshairEl",b)},A.prototype.getTextPoint=function(){var f=this.getLocation(),g=f.start,b=f.end,F=this.get("text"),z=F.position,W=F.offset;return or(g,b,z,W)},A.prototype.resetText=function(){var f=this.get("text"),g=this.get("textEl");if(f){var b=f.content;if(!g){var F=this.getContainer(),z=(0,rt.ng)(this.get("textTpl"),f);g=(0,$t.Z)(z),F.appendChild(g),this.applyStyle(re,g),this.set("textEl",g)}g.innerHTML=b}else g&&g.remove()},A.prototype.isVertical=function(f,g){return f.x===g.x},A.prototype.resetPosition=function(){var f=this.get("crosshairEl");f||(this.initCrossHair(),f=this.get("crosshairEl"));var g=this.get("start"),b=this.get("end"),F=Math.min(g.x,b.x),z=Math.min(g.y,b.y);this.isVertical(g,b)?(0,Nr.Z)(f,{width:"1px",height:we(Math.abs(b.y-g.y))}):(0,Nr.Z)(f,{height:"1px",width:we(Math.abs(b.x-g.x))}),(0,Nr.Z)(f,{top:we(z),left:we(F)}),this.alignText()},A.prototype.alignText=function(){var f=this.get("textEl");if(f){var g=this.get("text").align,b=f.clientWidth,F=this.getTextPoint();switch(g){case"center":F.x=F.x-b/2;break;case"right":F.x=F.x-b;case"left":break}(0,Nr.Z)(f,{top:we(F.y),left:we(F.x)})}},A.prototype.updateInner=function(f){(0,rt.wH)(f,"text")&&this.resetText(),G.prototype.updateInner.call(this,f)},A}(Vr),sr=pr,Ar=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:Zt.lineColor}}}})},A.prototype.getLineType=function(){var f=this.get("line")||this.get("defaultCfg").line;return f.type},A.prototype.renderInner=function(f){this.drawGrid(f)},A.prototype.getAlternatePath=function(f,g){var b=this.getGridPath(f),F=g.slice(0).reverse(),z=this.getGridPath(F,!0),W=this.get("closed");return W?b=b.concat(z):(z[0][0]="L",b=b.concat(z),b.push(["Z"])),b},A.prototype.getPathStyle=function(){return this.get("line").style},A.prototype.drawGrid=function(f){var g=this,b=this.get("line"),F=this.get("items"),z=this.get("alternateColor"),W=null;(0,rt.S6)(F,function(at,vt){var bt=at.id||vt;if(b){var kt=g.getPathStyle();kt=(0,rt.mf)(kt)?kt(at,vt,F):kt;var jt=g.getElementId("line-"+bt),he=g.getGridPath(at.points);g.addShape(f,{type:"path",name:"grid-line",id:jt,attrs:(0,rt.CD)({path:he},kt)})}if(z&&vt>0){var qe=g.getElementId("region-"+bt),ur=vt%2==0;if((0,rt.HD)(z))ur&&g.drawAlternateRegion(qe,f,W.points,at.points,z);else{var Cr=ur?z[1]:z[0];g.drawAlternateRegion(qe,f,W.points,at.points,Cr)}}W=at})},A.prototype.drawAlternateRegion=function(f,g,b,F,z){var W=this.getAlternatePath(b,F);this.addShape(g,{type:"path",id:f,name:"grid-region",attrs:{path:W,fill:z}})},A}(R),fn=Ar;function qr(G,A,f,g){var b=f-G,F=g-A;return Math.sqrt(b*b+F*F)}var xn=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{type:"circle",center:null,closed:!0})},A.prototype.getGridPath=function(f,g){var b=this.getLineType(),F=this.get("closed"),z=[];if(f.length)if(b==="circle"){var W=this.get("center"),at=f[0],vt=qr(W.x,W.y,at.x,at.y),bt=g?0:1;F?(z.push(["M",W.x,W.y-vt]),z.push(["A",vt,vt,0,0,bt,W.x,W.y+vt]),z.push(["A",vt,vt,0,0,bt,W.x,W.y-vt]),z.push(["Z"])):(0,rt.S6)(f,function(kt,jt){jt===0?z.push(["M",kt.x,kt.y]):z.push(["A",vt,vt,0,0,bt,kt.x,kt.y])})}else(0,rt.S6)(f,function(kt,jt){jt===0?z.push(["M",kt.x,kt.y]):z.push(["L",kt.x,kt.y])}),F&&z.push(["Z"]);return z},A}(fn),Tn=xn,Gn=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{type:"line"})},A.prototype.getGridPath=function(f){var g=[];return(0,rt.S6)(f,function(b,F){F===0?g.push(["M",b.x,b.y]):g.push(["L",b.x,b.y])}),g},A}(fn),On=Gn,ri=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},A.prototype.getLayoutBBox=function(){var f=G.prototype.getLayoutBBox.call(this),g=this.get("maxWidth"),b=this.get("maxHeight"),F=f.width,z=f.height;return g&&(F=Math.min(F,g)),b&&(z=Math.min(z,b)),At(f.minX,f.minY,F,z)},A.prototype.setLocation=function(f){this.set("x",f.x),this.set("y",f.y),this.resetLocation()},A.prototype.resetLocation=function(){var f=this.get("x"),g=this.get("y"),b=this.get("offsetX"),F=this.get("offsetY");this.moveElementTo(this.get("group"),{x:f+b,y:g+F})},A.prototype.applyOffset=function(){this.resetLocation()},A.prototype.getDrawPoint=function(){return this.get("currentPoint")},A.prototype.setDrawPoint=function(f){return this.set("currentPoint",f)},A.prototype.renderInner=function(f){this.resetDraw(),this.get("title")&&this.drawTitle(f),this.drawLegendContent(f),this.get("background")&&this.drawBackground(f)},A.prototype.drawBackground=function(f){var g=this.get("background"),b=f.getBBox(),F=Yt(g.padding),z=(0,Ct.pi)({x:0,y:0,width:b.width+F[1]+F[3],height:b.height+F[0]+F[2]},g.style),W=this.addShape(f,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:z});W.toBack()},A.prototype.drawTitle=function(f){var g=this.get("currentPoint"),b=this.get("title"),F=b.spacing,z=b.style,W=b.text,at=this.addShape(f,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,Ct.pi)({text:W,x:g.x,y:g.y},z)}),vt=at.getBBox();this.set("currentPoint",{x:g.x,y:vt.maxY+F})},A.prototype.resetDraw=function(){var f=this.get("background"),g={x:0,y:0};if(f){var b=Yt(f.padding);g.x=b[3],g.y=b[0]}this.set("currentPoint",g)},A}(R),_n=ri,ai={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},mn={fill:Zt.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:Zt.fontFamily,fontWeight:"normal",lineHeight:12},Un="navigation-arrow-right",ni="navigation-arrow-left",Hn={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},Yn=function(G){(0,Ct.ZT)(A,G);function A(){var f=G!==null&&G.apply(this,arguments)||this;return f.currentPageIndex=1,f.totalPagesCnt=1,f.pageWidth=0,f.pageHeight=0,f.startX=0,f.startY=0,f.onNavigationBack=function(){var g=f.getElementByLocalId("item-group");if(f.currentPageIndex>1){f.currentPageIndex-=1,f.updateNavigation();var b=f.getCurrentNavigationMatrix();f.get("animate")?g.animate({matrix:b},100):g.attr({matrix:b})}},f.onNavigationAfter=function(){var g=f.getElementByLocalId("item-group");if(f.currentPageIndex<f.totalPagesCnt){f.currentPageIndex+=1,f.updateNavigation();var b=f.getCurrentNavigationMatrix();f.get("animate")?g.animate({matrix:b},100):g.attr({matrix:b})}},f}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:Zt.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:Zt.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:ai,itemName:{spacing:16,style:mn},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:mn,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:Zt.uncheckedColor},markerStyle:{fill:Zt.uncheckedColor,stroke:Zt.uncheckedColor}},inactive:{nameStyle:{fill:Zt.uncheckedColor},markerStyle:{opacity:.2}}}}})},A.prototype.isList=function(){return!0},A.prototype.getItems=function(){return this.get("items")},A.prototype.setItems=function(f){this.update({items:f})},A.prototype.updateItem=function(f,g){(0,rt.CD)(f,g),this.clear(),this.render()},A.prototype.clearItems=function(){var f=this.getElementByLocalId("item-group");f&&f.clear()},A.prototype.setItemState=function(f,g,b){f[g]=b;var F=this.getElementByLocalId("item-"+f.id);if(F){var z=this.getItems(),W=z.indexOf(f),at=this.createOffScreenGroup(),vt=this.drawItem(f,W,this.getItemHeight(),at);this.updateElements(vt,F),this.clearUpdateStatus(F)}},A.prototype.hasState=function(f,g){return!!f[g]},A.prototype.getItemStates=function(f){var g=this.get("itemStates"),b=[];return(0,rt.S6)(g,function(F,z){f[z]&&b.push(z)}),b},A.prototype.clearItemsState=function(f){var g=this,b=this.getItemsByState(f);(0,rt.S6)(b,function(F){g.setItemState(F,f,!1)})},A.prototype.getItemsByState=function(f){var g=this,b=this.getItems();return(0,rt.hX)(b,function(F){return g.hasState(F,f)})},A.prototype.drawLegendContent=function(f){this.processItems(),this.drawItems(f)},A.prototype.processItems=function(){var f=this.get("items");(0,rt.S6)(f,function(g){g.id||(g.id=g.name)})},A.prototype.drawItems=function(f){var g=this,b=this.addGroup(f,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),F=this.addGroup(b,{id:this.getElementId("item-group"),name:"legend-item-group"}),z=this.getItemHeight(),W=this.get("itemWidth"),at=this.get("itemSpacing"),vt=this.get("itemMarginBottom"),bt=this.get("currentPoint"),kt=bt.x,jt=bt.y,he=this.get("layout"),qe=this.get("items"),ur=!1,Cr=0,kr=this.get("maxWidth"),Ur=this.get("maxHeight");(0,rt.S6)(qe,function(cn,on){var Ln=g.drawItem(cn,on,z,F),kn=Ln.getBBox(),Bn=W||kn.width;Bn>Cr&&(Cr=Bn),he==="horizontal"?(kr&&kr<bt.x+Bn-kt&&(ur=!0,bt.x=kt,bt.y+=z+vt),g.moveElementTo(Ln,bt),bt.x+=Bn+at):(Ur&&Ur<bt.y+z+vt-jt&&(ur=!0,bt.x+=Cr+at,bt.y=jt,Cr=0),g.moveElementTo(Ln,bt),bt.y+=z+vt)}),ur&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=kt,this.startY=jt,this.adjustNavigation(f,F))},A.prototype.getItemHeight=function(){var f=this.get("itemHeight");if(!f){var g=(this.get("itemName")||{}).style;if((0,rt.mf)(g)){var b=this.getItems();b.forEach(function(F,z){var W=(0,Ct.pi)((0,Ct.pi)({},mn),g(F,z,b)).fontSize;f<W&&(f=W)})}else g&&(f=g.fontSize)}return f},A.prototype.drawMarker=function(f,g,b,F){var z=(0,Ct.pi)((0,Ct.pi)((0,Ct.pi)({x:0,y:F/2},g.style),{symbol:(0,rt.U2)(b.marker,"symbol","circle")}),(0,rt.U2)(b.marker,"style",{})),W=this.addShape(f,{type:"marker",id:this.getElementId("item-"+b.id+"-marker"),name:"legend-item-marker",attrs:z}),at=W.getBBox();W.attr("x",at.width/2);var vt=W.attr(),bt=vt.stroke,kt=vt.fill;return bt&&W.set("isStroke",!0),kt&&W.set("isFill",!0),W},A.prototype.drawItemText=function(f,g,b,F,z,W,at){var vt=b.formatter,bt=b.style,kt=(0,Ct.pi)((0,Ct.pi)({x:W,y:z/2,text:vt?vt(F[g],F,at):F[g]},mn),(0,rt.mf)(bt)?bt(F,at,this.getItems()):bt);return this.addShape(f,{type:"text",id:this.getElementId("item-"+F.id+"-"+g),name:"legend-item-"+g,attrs:kt})},A.prototype.drawRadio=function(f,g,b,F,z){var W,at,vt=g.style||{},bt=(W=vt.r)!==null&&W!==void 0?W:F/2,kt=bt*3.6/8,jt=[z+bt,F/2-bt],he=jt[0],qe=jt[1],ur=[he+bt,qe+bt],Cr=ur[0],kr=ur[1],Ur=[he,kr+bt],cn=Ur[0],on=Ur[1],Ln=[z,qe+bt],kn=Ln[0],Bn=Ln[1],pi=b.showRadio,Cn=(0,Ct.pi)((0,Ct.pi)({path:[["M",he,qe],["A",bt,bt,0,0,1,Cr,kr],["L",Cr-kt,kr],["L",Cr,kr],["A",bt,bt,0,0,1,cn,on],["L",cn,on-kt],["L",cn,on],["A",bt,bt,0,0,1,kn,Bn],["L",kn+kt,Bn],["L",kn,Bn],["A",bt,bt,0,0,1,he,qe],["L",he,qe+kt]],stroke:"#000000",fill:"#ffffff"},vt),{opacity:pi?(at=vt==null?void 0:vt.opacity)!==null&&at!==void 0?at:.45:0}),ti=this.addShape(f,{type:"path",id:this.getElementId("item-"+b.id+"-radio"),name:"legend-item-radio",attrs:Cn});return ti.set("tip",g.tip),ti},A.prototype.drawItem=function(f,g,b,F){var z="item-"+f.id,W=this.addGroup(F,{name:"legend-item-container",id:this.getElementId("item-container-"+z),delegateObject:{item:f,index:g}}),at=this.addGroup(W,{name:"legend-item",id:this.getElementId(z),delegateObject:{item:f,index:g}}),vt=this.get("marker"),bt=this.get("itemName"),kt=this.get("itemValue"),jt=this.get("itemBackground"),he=this.get("radio"),qe=this.getLimitItemWidth(),ur=0;if(vt){var Cr=this.drawMarker(at,vt,f,b),kr=vt.spacing,Ur=(0,rt.U2)(f,["marker","spacing"]);(0,rt.hj)(Ur)&&(kr=Ur),ur=Cr.getBBox().maxX+kr}if(bt){var cn=this.drawItemText(at,"name",bt,f,b,ur,g);qe&&Dt(!0,cn,(0,rt.uZ)(qe-ur,0,qe)),ur=cn.getBBox().maxX+bt.spacing}if(kt){var on=this.drawItemText(at,"value",kt,f,b,ur,g);qe&&(kt.alignRight?(on.attr({textAlign:"right",x:qe}),Dt(!0,on,(0,rt.uZ)(qe-ur,0,qe),"head")):Dt(!0,on,(0,rt.uZ)(qe-ur,0,qe))),ur=on.getBBox().maxX+kt.spacing}if(he&&this.drawRadio(at,he,f,b,ur),jt){var Ln=at.getBBox(),kn=this.addShape(at,{type:"rect",name:"legend-item-background",id:this.getElementId(z+"-background"),attrs:(0,Ct.pi)({x:0,y:0,width:Ln.width,height:b},jt.style)});kn.toBack()}return this.applyItemStates(f,at),at},A.prototype.adjustNavigation=function(f,g){var b=this,F=this.startX,z=this.startY,W=this.get("layout"),at=g.findAll(function(ti){return ti.get("name")==="legend-item"}),vt=this.get("maxWidth"),bt=this.get("maxHeight"),kt=this.get("itemWidth"),jt=this.get("itemSpacing"),he=this.getItemHeight(),qe=(0,rt.b$)({},ai,this.get("pageNavigator")),ur=this.drawNavigation(f,W,"00/00",qe),Cr=ur.getBBox(),kr={x:F,y:z},Ur=1,cn=0,on=0,Ln=0,kn=this.get("itemMarginBottom");if(W==="horizontal"){var Bn=this.get("maxRow")||1,pi=he+(Bn===1?0:kn);this.pageHeight=pi*Bn,(0,rt.S6)(at,function(ti){var Ci=ti.getBBox(),mi=kt||Ci.width;(cn&&cn<kr.x+mi+jt||vt<kr.x+mi+jt+Cr.width)&&(Ur===1&&(cn=kr.x+jt,b.pageWidth=cn,b.moveElementTo(ur,{x:vt-jt-Cr.width-Cr.minX,y:kr.y+he/2-Cr.height/2-Cr.minY})),Ur+=1,kr.x=F,kr.y+=pi),b.moveElementTo(ti,kr),ti.getParent().setClip({type:"rect",attrs:{x:kr.x,y:kr.y,width:mi+jt,height:he}}),kr.x+=mi+jt})}else{(0,rt.S6)(at,function(ti){var Ci=ti.getBBox();Ci.width>on&&(on=Ci.width)}),Ln=on,on+=jt,vt&&(on=Math.min(vt,on),Ln=Math.min(vt,Ln)),this.pageWidth=on,this.pageHeight=bt-Math.max(Cr.height,he+kn);var Cn=Math.floor(this.pageHeight/(he+kn));(0,rt.S6)(at,function(ti,Ci){Ci!==0&&Ci%Cn==0&&(Ur+=1,kr.x+=on,kr.y=z),b.moveElementTo(ti,kr),ti.getParent().setClip({type:"rect",attrs:{x:kr.x,y:kr.y,width:on,height:he}}),kr.y+=he+kn}),this.totalPagesCnt=Ur,this.moveElementTo(ur,{x:F+Ln/2-Cr.width/2-Cr.minX,y:bt-Cr.height-Cr.minY})}this.pageHeight&&this.pageWidth&&g.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),W==="horizontal"&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(Ur/this.get("maxRow")):this.totalPagesCnt=Ur,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(ur),g.attr("matrix",this.getCurrentNavigationMatrix())},A.prototype.drawNavigation=function(f,g,b,F){var z={x:0,y:0},W=this.addGroup(f,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),at=(0,rt.U2)(F.marker,"style",{}),vt=at.size,bt=vt===void 0?12:vt,kt=(0,Ct._T)(at,["size"]),jt=this.drawArrow(W,z,ni,g==="horizontal"?"up":"left",bt,kt);jt.on("click",this.onNavigationBack);var he=jt.getBBox();z.x+=he.width+2;var qe=this.addShape(W,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:(0,Ct.pi)({x:z.x,y:z.y+bt/2,text:b,textBaseline:"middle"},(0,rt.U2)(F.text,"style"))}),ur=qe.getBBox();z.x+=ur.width+2;var Cr=this.drawArrow(W,z,Un,g==="horizontal"?"down":"right",bt,kt);return Cr.on("click",this.onNavigationAfter),W},A.prototype.updateNavigation=function(f){var g=(0,rt.b$)({},ai,this.get("pageNavigator")),b=g.marker.style,F=b.fill,z=b.opacity,W=b.inactiveFill,at=b.inactiveOpacity,vt=this.currentPageIndex+"/"+this.totalPagesCnt,bt=f?f.getChildren()[1]:this.getElementByLocalId("navigation-text"),kt=f?f.findById(this.getElementId(ni)):this.getElementByLocalId(ni),jt=f?f.findById(this.getElementId(Un)):this.getElementByLocalId(Un);bt.attr("text",vt),kt.attr("opacity",this.currentPageIndex===1?at:z),kt.attr("fill",this.currentPageIndex===1?W:F),kt.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),jt.attr("opacity",this.currentPageIndex===this.totalPagesCnt?at:z),jt.attr("fill",this.currentPageIndex===this.totalPagesCnt?W:F),jt.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var he=kt.getBBox().maxX+2;bt.attr("x",he),he+=bt.getBBox().width+2,this.updateArrowPath(jt,{x:he,y:0})},A.prototype.drawArrow=function(f,g,b,F,z,W){var at=g.x,vt=g.y,bt=this.addShape(f,{type:"path",id:this.getElementId(b),name:b,attrs:(0,Ct.pi)({size:z,direction:F,path:[["M",at+z/2,vt],["L",at,vt+z],["L",at+z,vt+z],["Z"]],cursor:"pointer"},W)});return bt.attr("matrix",Nt({x:at+z/2,y:vt+z/2},Hn[F])),bt},A.prototype.updateArrowPath=function(f,g){var b=g.x,F=g.y,z=f.attr(),W=z.size,at=z.direction,vt=Nt({x:b+W/2,y:F+W/2},Hn[at]);f.attr("path",[["M",b+W/2,F],["L",b,F+W],["L",b+W,F+W],["Z"]]),f.attr("matrix",vt)},A.prototype.getCurrentNavigationMatrix=function(){var f=this,g=f.currentPageIndex,b=f.pageWidth,F=f.pageHeight,z=this.get("layout"),W=z==="horizontal"?{x:0,y:F*(1-g)}:{x:b*(1-g),y:0};return Ht(W)},A.prototype.applyItemStates=function(f,g){var b=this.getItemStates(f),F=b.length>0;if(F){var z=g.getChildren(),W=this.get("itemStates");(0,rt.S6)(z,function(at){var vt=at.get("name"),bt=vt.split("-")[2],kt=Vn(f,bt,W);kt&&(at.attr(kt),bt==="marker"&&!(at.get("isStroke")&&at.get("isFill"))&&(at.get("isStroke")&&at.attr("fill",null),at.get("isFill")&&at.attr("stroke",null)))})}},A.prototype.getLimitItemWidth=function(){var f=this.get("itemWidth"),g=this.get("maxItemWidth");return g?f&&(g=f<=g?f:g):f&&(g=f),g},A}(_n),Er=Yn,Ni=1.4,bn=.4,Li=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:Zt.textColor,textBaseline:"middle",fontFamily:Zt.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:Zt.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},A.prototype.isSlider=function(){return!0},A.prototype.getValue=function(){return this.getCurrentValue()},A.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},A.prototype.setRange=function(f,g){this.update({min:f,max:g})},A.prototype.setValue=function(f){var g=this.getValue();this.set("value",f);var b=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(b),this.delegateEmit("valuechanged",{originValue:g,value:f})},A.prototype.initEvent=function(){var f=this.get("group");this.bindSliderEvent(f),this.bindRailEvent(f),this.bindTrackEvent(f)},A.prototype.drawLegendContent=function(f){this.drawRail(f),this.drawLabels(f),this.fixedElements(f),this.resetTrack(f),this.resetTrackClip(f),this.get("slidable")&&this.resetHandlers(f)},A.prototype.bindSliderEvent=function(f){this.bindHandlersEvent(f)},A.prototype.bindHandlersEvent=function(f){var g=this;f.on("legend-handler-min:drag",function(b){var F=g.getValueByCanvasPoint(b.x,b.y),z=g.getCurrentValue(),W=z[1];W<F&&(W=F),g.setValue([F,W])}),f.on("legend-handler-max:drag",function(b){var F=g.getValueByCanvasPoint(b.x,b.y),z=g.getCurrentValue(),W=z[0];W>F&&(W=F),g.setValue([W,F])})},A.prototype.bindRailEvent=function(f){},A.prototype.bindTrackEvent=function(f){var g=this,b=null;f.on("legend-track:dragstart",function(F){b={x:F.x,y:F.y}}),f.on("legend-track:drag",function(F){if(!!b){var z=g.getValueByCanvasPoint(b.x,b.y),W=g.getValueByCanvasPoint(F.x,F.y),at=g.getCurrentValue(),vt=at[1]-at[0],bt=g.getRange(),kt=W-z;kt<0?at[0]+kt>bt.min?g.setValue([at[0]+kt,at[1]+kt]):g.setValue([bt.min,bt.min+vt]):kt>0&&(kt>0&&at[1]+kt<bt.max?g.setValue([at[0]+kt,at[1]+kt]):g.setValue([bt.max-vt,bt.max])),b={x:F.x,y:F.y}}}),f.on("legend-track:dragend",function(F){b=null})},A.prototype.drawLabels=function(f){this.drawLabel("min",f),this.drawLabel("max",f)},A.prototype.drawLabel=function(f,g){var b=this.get("label"),F=b.style,z=b.align,W=b.formatter,at=this.get(f),vt=this.getLabelAlignAttrs(f,z),bt="label-"+f;this.addShape(g,{type:"text",id:this.getElementId(bt),name:"legend-label-"+f,attrs:(0,Ct.pi)((0,Ct.pi)({x:0,y:0,text:(0,rt.mf)(W)?W(at):at},F),vt)})},A.prototype.getLabelAlignAttrs=function(f,g){var b=this.isVertical(),F="center",z="middle";return b?(F="start",g!=="rail"?f==="min"?z="top":z="bottom":z="top"):g!=="rail"?(z="top",f==="min"?F="start":F="end"):(F="start",z="middle"),{textAlign:F,textBaseline:z}},A.prototype.getRailPath=function(f,g,b,F){var z=this.get("rail"),W=z.size,at=z.defaultLength,vt=z.type,bt=this.isVertical(),kt=at,jt=b,he=F;jt||(jt=bt?W:kt),he||(he=bt?kt:W);var qe=[];return vt==="color"?(qe.push(["M",f,g]),qe.push(["L",f+jt,g]),qe.push(["L",f+jt,g+he]),qe.push(["L",f,g+he]),qe.push(["Z"])):(qe.push(["M",f+jt,g]),qe.push(["L",f+jt,g+he]),qe.push(["L",f,g+he]),qe.push(["Z"])),qe},A.prototype.drawRail=function(f){var g=this.get("rail"),b=g.style;this.addShape(f,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,Ct.pi)({path:this.getRailPath(0,0)},b)})},A.prototype.getTrackColor=function(f){var g=f.length;if(!g)return null;if(g===1)return f[0];var b;this.isVertical()?b="l(90)":b="l(0)";for(var F=0;F<g;F++){var z=F/(g-1);b+=" "+z+":"+f[F]}return b},A.prototype.getTrackPath=function(f){var g=this.getRailShape(f),b=g.attr("path");return(0,rt.d9)(b)},A.prototype.getClipTrackAttrs=function(f){var g=this.getCurrentValue(),b=g[0],F=g[1],z=this.getRailBBox(f),W=this.getPointByValue(b,f),at=this.getPointByValue(F,f),vt=this.isVertical(),bt,kt,jt,he;return vt?(bt=z.minX,kt=W.y,jt=z.width,he=at.y-W.y):(bt=W.x,kt=z.minY,jt=at.x-W.x,he=z.height),{x:bt,y:kt,width:jt,height:he}},A.prototype.getTrackAttrs=function(f){var g=this.get("track"),b=this.get("colors"),F=this.getTrackPath(f);return(0,rt.CD)({path:F,fill:this.getTrackColor(b)},g.style)},A.prototype.resetTrackClip=function(f){var g=f||this.get("group"),b=this.getElementId("track"),F=g.findById(b),z=F.getClip(),W=this.getClipTrackAttrs(f);z?z.attr(W):F.setClip({type:"rect",attrs:W})},A.prototype.resetTrack=function(f){var g=this.getElementId("track"),b=f.findById(g),F=this.getTrackAttrs(f);b?b.attr(F):this.addShape(f,{type:"path",id:g,draggable:this.get("slidable"),name:"legend-track",attrs:F})},A.prototype.getPointByValue=function(f,g){var b=this.getRange(),F=b.min,z=b.max,W=(f-F)/(z-F),at=this.getRailBBox(g),vt=this.isVertical(),bt={x:0,y:0};return vt?(bt.x=at.minX+at.width/2,bt.y=B(at.minY,at.maxY,W)):(bt.x=B(at.minX,at.maxX,W),bt.y=at.minY+at.height/2),bt},A.prototype.getRailShape=function(f){var g=f||this.get("group");return g.findById(this.getElementId("rail"))},A.prototype.getRailBBox=function(f){var g=this.getRailShape(f),b=g.getBBox();return b},A.prototype.getRailCanvasBBox=function(){var f=this.get("group"),g=f.findById(this.getElementId("rail")),b=g.getCanvasBBox();return b},A.prototype.isVertical=function(){return this.get("layout")==="vertical"},A.prototype.getValueByCanvasPoint=function(f,g){var b=this.getRange(),F=b.min,z=b.max,W=this.getRailCanvasBBox(),at=this.isVertical(),vt=this.get("step"),bt;at?bt=(g-W.minY)/W.height:bt=(f-W.minX)/W.width;var kt=B(F,z,bt);if(vt){var jt=Math.round((kt-F)/vt);kt=F+jt*vt}return kt>z&&(kt=z),kt<F&&(kt=F),kt},A.prototype.getCurrentValue=function(){var f=this.get("value");if(!f){var g=this.get("values");return g?[Math.max(Math.min.apply(Math,(0,Ct.pr)(g,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,(0,Ct.pr)(g,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return f},A.prototype.resetHandlers=function(f){var g=this.getCurrentValue(),b=g[0],F=g[1];this.resetHandler(f,"min",b),this.resetHandler(f,"max",F)},A.prototype.getHandlerPath=function(f,g){var b=this.isVertical(),F=[],z=f.size,W=g.x,at=g.y,vt=z*Ni,bt=z/2,kt=z/6;if(b){var jt=W+vt*bn;F.push(["M",W,at]),F.push(["L",jt,at+bt]),F.push(["L",W+vt,at+bt]),F.push(["L",W+vt,at-bt]),F.push(["L",jt,at-bt]),F.push(["Z"]),F.push(["M",jt,at+kt]),F.push(["L",W+vt-2,at+kt]),F.push(["M",jt,at-kt]),F.push(["L",W+vt-2,at-kt])}else{var he=at+vt*bn;F.push(["M",W,at]),F.push(["L",W-bt,he]),F.push(["L",W-bt,at+vt]),F.push(["L",W+bt,at+vt]),F.push(["L",W+bt,he]),F.push(["Z"]),F.push(["M",W-kt,he]),F.push(["L",W-kt,at+vt-2]),F.push(["M",W+kt,he]),F.push(["L",W+kt,at+vt-2])}return F},A.prototype.resetHandler=function(f,g,b){var F=this.getPointByValue(b,f),z=this.get("handler"),W=this.getHandlerPath(z,F),at=this.getElementId("handler-"+g),vt=f.findById(at),bt=this.isVertical();vt?vt.attr("path",W):this.addShape(f,{type:"path",name:"legend-handler-"+g,draggable:!0,id:at,attrs:(0,Ct.pi)((0,Ct.pi)({path:W},z.style),{cursor:bt?"ns-resize":"ew-resize"})})},A.prototype.fixedElements=function(f){var g=f.findById(this.getElementId("rail")),b=f.findById(this.getElementId("label-min")),F=f.findById(this.getElementId("label-max")),z=this.getDrawPoint();this.isVertical()?this.fixedVertail(b,F,g,z):this.fixedHorizontal(b,F,g,z)},A.prototype.fitRailLength=function(f,g,b,F){var z=this.isVertical(),W=z?"height":"width",at=this.get("label"),vt=at.align,bt=at.spacing,kt=this.get("max"+(0,rt.jC)(W));if(kt){var jt=vt==="rail"?b[W]+f[W]+g[W]+bt*2:b[W],he=jt-kt;he>0&&this.changeRailLength(F,W,b[W]-he)}},A.prototype.changeRailLength=function(f,g,b){var F=f.getBBox(),z;g==="height"?z=this.getRailPath(F.x,F.y,F.width,b):z=this.getRailPath(F.x,F.y,b,F.height),f.attr("path",z)},A.prototype.changeRailPosition=function(f,g,b){var F=f.getBBox(),z=this.getRailPath(g,b,F.width,F.height);f.attr("path",z)},A.prototype.fixedHorizontal=function(f,g,b,F){var z=this.get("label"),W=z.align,at=z.spacing,vt=b.getBBox(),bt=f.getBBox(),kt=g.getBBox(),jt=vt.height;this.fitRailLength(bt,kt,vt,b),vt=b.getBBox(),W==="rail"?(f.attr({x:F.x,y:F.y+jt/2}),this.changeRailPosition(b,F.x+bt.width+at,F.y),g.attr({x:F.x+bt.width+vt.width+at*2,y:F.y+jt/2})):W==="top"?(f.attr({x:F.x,y:F.y}),g.attr({x:F.x+vt.width,y:F.y}),this.changeRailPosition(b,F.x,F.y+bt.height+at)):(this.changeRailPosition(b,F.x,F.y),f.attr({x:F.x,y:F.y+vt.height+at}),g.attr({x:F.x+vt.width,y:F.y+vt.height+at}))},A.prototype.fixedVertail=function(f,g,b,F){var z=this.get("label"),W=z.align,at=z.spacing,vt=b.getBBox(),bt=f.getBBox(),kt=g.getBBox();if(this.fitRailLength(bt,kt,vt,b),vt=b.getBBox(),W==="rail")f.attr({x:F.x,y:F.y}),this.changeRailPosition(b,F.x,F.y+bt.height+at),g.attr({x:F.x,y:F.y+bt.height+vt.height+at*2});else if(W==="right")f.attr({x:F.x+vt.width+at,y:F.y}),this.changeRailPosition(b,F.x,F.y),g.attr({x:F.x+vt.width+at,y:F.y+vt.height});else{var jt=Math.max(bt.width,kt.width);f.attr({x:F.x,y:F.y}),this.changeRailPosition(b,F.x+jt+at,F.y),g.attr({x:F.x,y:F.y+vt.height})}},A}(_n),Mi=Li,zi=Rt(55223),Jr="g2-tooltip",oi="g2-tooltip-title",bi="g2-tooltip-list",ki="g2-tooltip-list-item",hi="g2-tooltip-marker",Vi="g2-tooltip-value",ca="g2-tooltip-name",Pi="g2-tooltip-crosshair-x",Gi="g2-tooltip-crosshair-y",Qn,Di=(Qn={},Qn[""+Jr]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:Zt.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Qn[""+oi]={marginBottom:"4px"},Qn[""+bi]={margin:"0px",listStyleType:"none",padding:"0px"},Qn[""+ki]={listStyleType:"none",marginBottom:"4px"},Qn[""+hi]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},Qn[""+Vi]={display:"inline-block",float:"right",marginLeft:"30px"},Qn[""+Pi]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Qn[""+Gi]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Qn);function fa(G,A,f,g,b){var F={left:G<b.x,right:G+f>b.x+b.width,top:A<b.y,bottom:A+g>b.y+b.height};return F}function Ia(G,A,f,g,b,F){var z=G,W=A;switch(F){case"left":z=G-g-f,W=A-b/2;break;case"right":z=G+f,W=A-b/2;break;case"top":z=G-g/2,W=A-b-f;break;case"bottom":z=G-g/2,W=A+f;break;default:z=G+f,W=A-b-f;break}return{x:z,y:W}}function za(G,A,f,g,b,F,z){var W=Ia(G,A,f,g,b,F);if(z){var at=fa(W.x,W.y,g,b,z);F==="auto"?(at.right&&(W.x=Math.max(0,G-g-f)),at.top&&(W.y=Math.max(0,A-b-f))):F==="top"||F==="bottom"?(at.left&&(W.x=z.x),at.right&&(W.x=z.x+z.width-g),F==="top"&&at.top&&(W.y=A+f),F==="bottom"&&at.bottom&&(W.y=A-b-f)):(at.top&&(W.y=z.y),at.bottom&&(W.y=z.y+z.height-b),F==="left"&&at.left&&(W.x=G+f),F==="right"&&at.right&&(W.x=G-g-f))}return W}function ha(G,A){var f=!1;return(0,rt.S6)(A,function(g){if((0,rt.wH)(G,g))return f=!0,!1}),f}var vi=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+Jr+'"><div class="'+oi+'"></div><ul class="'+bi+'"></ul></div>',itemTpl:'<li class="'+ki+`" data-index={index}>
          <span class="`+hi+`" style="background:{color}"></span>
          <span class="`+ca+`">{name}</span>:
          <span class="`+Vi+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+Pi+'"></div>',yCrosshairTpl:'<div class="'+Gi+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:Jr,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:Di})},A.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},A.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},A.prototype.show=function(){var f=this.getContainer();!f||this.destroyed||(this.set("visible",!0),(0,Nr.Z)(f,{visibility:"visible"}),this.setCrossHairsVisible(!0))},A.prototype.hide=function(){var f=this.getContainer();!f||this.destroyed||(this.set("visible",!1),(0,Nr.Z)(f,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},A.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},A.prototype.setLocation=function(f){this.set("x",f.x),this.set("y",f.y),this.resetPosition()},A.prototype.setCrossHairsVisible=function(f){var g=f?"":"none",b=this.get("xCrosshairDom"),F=this.get("yCrosshairDom");b&&(0,Nr.Z)(b,{display:g}),F&&(0,Nr.Z)(F,{display:g})},A.prototype.initContainer=function(){if(G.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var f=this.getHtmlContentNode();this.get("parent").appendChild(f),this.set("container",f),this.resetStyles(),this.applyStyles()}},A.prototype.updateInner=function(f){this.get("customContent")?this.renderCustomContent():(ha(f,["title","showTitle"])&&this.resetTitle(),(0,rt.wH)(f,"items")&&this.renderItems()),G.prototype.updateInner.call(this,f)},A.prototype.initDom=function(){this.cacheDoms()},A.prototype.removeDom=function(){G.prototype.removeDom.call(this),this.clearCrosshairs()},A.prototype.resetPosition=function(){var f=this.get("x"),g=this.get("y"),b=this.get("offset"),F=this.getOffset(),z=F.offsetX,W=F.offsetY,at=this.get("position"),vt=this.get("region"),bt=this.getContainer(),kt=this.getBBox(),jt=kt.width,he=kt.height,qe;vt&&(qe=It(vt));var ur=za(f,g,b,jt,he,at,qe);(0,Nr.Z)(bt,{left:we(ur.x+z),top:we(ur.y+W)}),this.resetCrosshairs()},A.prototype.renderCustomContent=function(){var f=this.getHtmlContentNode(),g=this.get("parent"),b=this.get("container");b&&b.parentNode===g?g.replaceChild(f,b):g.appendChild(f),this.set("container",f),this.resetStyles(),this.applyStyles()},A.prototype.getHtmlContentNode=function(){var f,g=this.get("customContent");if(g){var b=g(this.get("title"),this.get("items"));(0,rt.kK)(b)?f=b:f=(0,$t.Z)(b)}return f},A.prototype.cacheDoms=function(){var f=this.getContainer(),g=f.getElementsByClassName(oi)[0],b=f.getElementsByClassName(bi)[0];this.set("titleDom",g),this.set("listDom",b)},A.prototype.resetTitle=function(){var f=this.get("title"),g=this.get("showTitle");g&&f?this.setTitle(f):this.setTitle("")},A.prototype.setTitle=function(f){var g=this.get("titleDom");g&&(g.innerText=f)},A.prototype.resetCrosshairs=function(){var f=this.get("crosshairsRegion"),g=this.get("crosshairs");if(!f||!g)this.clearCrosshairs();else{var b=It(f),F=this.get("xCrosshairDom"),z=this.get("yCrosshairDom");g==="x"?(this.resetCrosshair("x",b),z&&(z.remove(),this.set("yCrosshairDom",null))):g==="y"?(this.resetCrosshair("y",b),F&&(F.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",b),this.resetCrosshair("y",b)),this.setCrossHairsVisible(this.get("visible"))}},A.prototype.resetCrosshair=function(f,g){var b=this.checkCrosshair(f),F=this.get(f);f==="x"?(0,Nr.Z)(b,{left:we(F),top:we(g.y),height:we(g.height)}):(0,Nr.Z)(b,{top:we(F),left:we(g.x),width:we(g.width)})},A.prototype.checkCrosshair=function(f){var g=f+"CrosshairDom",b=f+"CrosshairTpl",F="CROSSHAIR_"+f.toUpperCase(),z=Ye[F],W=this.get(g),at=this.get("parent");return W||(W=(0,$t.Z)(this.get(b)),this.applyStyle(z,W),at.appendChild(W),this.set(g,W)),W},A.prototype.renderItems=function(){this.clearItemDoms();var f=this.get("items"),g=this.get("itemTpl"),b=this.get("listDom");b&&((0,rt.S6)(f,function(F){var z=zi.Z.toCSSGradient(F.color),W=(0,Ct.pi)((0,Ct.pi)({},F),{color:z}),at=(0,rt.ng)(g,W),vt=(0,$t.Z)(at);b.appendChild(vt)}),this.applyChildrenStyles(b,this.get("domStyles")))},A.prototype.clearItemDoms=function(){this.get("listDom")&&xt(this.get("listDom"))},A.prototype.clearCrosshairs=function(){var f=this.get("xCrosshairDom"),g=this.get("yCrosshairDom");f&&f.remove(),g&&g.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},A}(Vr),La=vi,Va={opacity:0},va={stroke:"#C5C5C5",strokeOpacity:.85},Ga={fill:"#CACED4",opacity:.85},Ua=Rt(80389),Ui=Rt(86429);function Hi(G){return(0,rt.UI)(G,function(A,f){var g=f===0?"M":"L",b=A[0],F=A[1];return[g,b,F]})}function pa(G){return Hi(G)}function Yi(G){if(G.length<=2)return pa(G);var A=[];(0,rt.S6)(G,function(z){(0,rt.Xy)(z,A.slice(A.length-2))||A.push(z[0],z[1])});var f=(0,Ua.e9)(A,!1),g=(0,rt.YM)(G),b=g[0],F=g[1];return f.unshift(["M",b,F]),f}function da(G,A,f,g){g===void 0&&(g=!0);var b=new Ui.bJ({values:G}),F=new Ui.WD({values:(0,rt.UI)(G,function(W,at){return at})}),z=(0,rt.UI)(G,function(W,at){return[F.scale(at)*A,f-b.scale(W)*f]});return g?Yi(z):pa(z)}function Ha(G,A){var f=new Ui.bJ({values:G}),g=f.max<0?f.max:Math.max(0,f.min);return A-f.scale(g)*A}function Ya(G,A,f,g){var b=(0,Ct.pr)(G),F=Ha(g,f);return b.push(["L",A,F]),b.push(["L",0,F]),b.push(["Z"]),b}var ga=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:Va,lineStyle:va,areaStyle:Ga})},A.prototype.renderInner=function(f){var g=this.cfg,b=g.width,F=g.height,z=g.data,W=g.smooth,at=g.isArea,vt=g.backgroundStyle,bt=g.lineStyle,kt=g.areaStyle;this.addShape(f,{id:this.getElementId("background"),type:"rect",attrs:(0,Ct.pi)({x:0,y:0,width:b,height:F},vt)});var jt=da(z,b,F,W);if(this.addShape(f,{id:this.getElementId("line"),type:"path",attrs:(0,Ct.pi)({path:jt},bt)}),at){var he=Ya(jt,b,F,z);this.addShape(f,{id:this.getElementId("area"),type:"path",attrs:(0,Ct.pi)({path:he},kt)})}},A.prototype.applyOffset=function(){var f=this.cfg,g=f.x,b=f.y;this.moveElementTo(this.get("group"),{x:g,y:b})},A}(R),Oi=null,ii={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},Ji=function(G){(0,Ct.ZT)(A,G);function A(){return G!==null&&G.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"handler",x:0,y:0,width:10,height:24,style:ii})},A.prototype.renderInner=function(f){var g=this.cfg,b=g.width,F=g.height,z=g.style,W=z.fill,at=z.stroke,vt=z.radius,bt=z.opacity,kt=z.cursor;this.addShape(f,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:b,height:F,fill:W,stroke:at,radius:vt,opacity:bt,cursor:kt}});var jt=1/3*b,he=2/3*b,qe=1/4*F,ur=3/4*F;this.addShape(f,{id:this.getElementId("line-left"),type:"line",attrs:{x1:jt,y1:qe,x2:jt,y2:ur,stroke:at,cursor:kt}}),this.addShape(f,{id:this.getElementId("line-right"),type:"line",attrs:{x1:he,y1:qe,x2:he,y2:ur,stroke:at,cursor:kt}})},A.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},A.prototype.initEvent=function(){this.bindEvents()},A.prototype.bindEvents=function(){var f=this;this.get("group").on("mouseenter",function(){var g=f.get("style").highLightFill;f.getElementByLocalId("background").attr("fill",g),f.draw()}),this.get("group").on("mouseleave",function(){var g=f.get("style").fill;f.getElementByLocalId("background").attr("fill",g),f.draw()})},A.prototype.draw=function(){var f=this.get("container").get("canvas");f&&f.draw()},A}(R),so=null,Xi={fill:"#416180",opacity:.05},Y={fill:"#5B8FF9",opacity:.15,cursor:"move"},mt=10,zt={width:mt,height:24},Gt={textBaseline:"middle",fill:"#000",opacity:.45},Ce="sliderchange",ir=function(G){(0,Ct.ZT)(A,G);function A(){var f=G!==null&&G.apply(this,arguments)||this;return f.onMouseDown=function(g){return function(b){f.currentTarget=g;var F=b.originalEvent;F.stopPropagation(),F.preventDefault(),f.prevX=(0,rt.U2)(F,"touches.0.pageX",F.pageX),f.prevY=(0,rt.U2)(F,"touches.0.pageY",F.pageY);var z=f.getContainerDOM();z.addEventListener("mousemove",f.onMouseMove),z.addEventListener("mouseup",f.onMouseUp),z.addEventListener("mouseleave",f.onMouseUp),z.addEventListener("touchmove",f.onMouseMove),z.addEventListener("touchend",f.onMouseUp),z.addEventListener("touchcancel",f.onMouseUp)}},f.onMouseMove=function(g){var b=f.cfg.width,F=[f.get("start"),f.get("end")];g.stopPropagation(),g.preventDefault();var z=(0,rt.U2)(g,"touches.0.pageX",g.pageX),W=(0,rt.U2)(g,"touches.0.pageY",g.pageY),at=z-f.prevX,vt=f.adjustOffsetRange(at/b);f.updateStartEnd(vt),f.updateUI(f.getElementByLocalId("foreground"),f.getElementByLocalId("minText"),f.getElementByLocalId("maxText")),f.prevX=z,f.prevY=W,f.draw(),f.emit(Ce,[f.get("start"),f.get("end")].sort()),f.delegateEmit("valuechanged",{originValue:F,value:[f.get("start"),f.get("end")]})},f.onMouseUp=function(){f.currentTarget&&(f.currentTarget=void 0);var g=f.getContainerDOM();g&&(g.removeEventListener("mousemove",f.onMouseMove),g.removeEventListener("mouseup",f.onMouseUp),g.removeEventListener("mouseleave",f.onMouseUp),g.removeEventListener("touchmove",f.onMouseMove),g.removeEventListener("touchend",f.onMouseUp),g.removeEventListener("touchcancel",f.onMouseUp))},f}return A.prototype.setRange=function(f,g){this.set("minLimit",f),this.set("maxLimit",g);var b=this.get("start"),F=this.get("end"),z=(0,rt.uZ)(b,f,g),W=(0,rt.uZ)(F,f,g);!this.get("isInit")&&(b!==z||F!==W)&&this.setValue([z,W])},A.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},A.prototype.setValue=function(f){var g=this.getRange();if((0,rt.kJ)(f)&&f.length===2){var b=[this.get("start"),this.get("end")];this.update({start:(0,rt.uZ)(f[0],g.min,g.max),end:(0,rt.uZ)(f[1],g.min,g.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:b,value:f})}},A.prototype.getValue=function(){return[this.get("start"),this.get("end")]},A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:Xi,foregroundStyle:Y,handlerStyle:zt,textStyle:Gt}})},A.prototype.update=function(f){var g=f.start,b=f.end,F=(0,Ct.pi)({},f);(0,rt.UM)(g)||(F.start=(0,rt.uZ)(g,0,1)),(0,rt.UM)(b)||(F.end=(0,rt.uZ)(b,0,1)),G.prototype.update.call(this,F),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},A.prototype.init=function(){this.set("start",(0,rt.uZ)(this.get("start"),0,1)),this.set("end",(0,rt.uZ)(this.get("end"),0,1)),G.prototype.init.call(this)},A.prototype.render=function(){G.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},A.prototype.renderInner=function(f){var g=this.cfg,b=g.start,F=g.end,z=g.width,W=g.height,at=g.trendCfg,vt=at===void 0?{}:at,bt=g.minText,kt=g.maxText,jt=g.backgroundStyle,he=jt===void 0?{}:jt,qe=g.foregroundStyle,ur=qe===void 0?{}:qe,Cr=g.textStyle,kr=Cr===void 0?{}:Cr,Ur=(0,rt.b$)({},ii,this.cfg.handlerStyle),cn=b*z,on=F*z;(0,rt.dp)((0,rt.U2)(vt,"data"))&&(this.trend=this.addComponent(f,(0,Ct.pi)({component:ga,id:this.getElementId("trend"),x:0,y:0,width:z,height:W},vt))),this.addShape(f,{id:this.getElementId("background"),type:"rect",attrs:(0,Ct.pi)({x:0,y:0,width:z,height:W},he)});var Ln=this.addShape(f,{id:this.getElementId("minText"),type:"text",attrs:(0,Ct.pi)({y:W/2,textAlign:"right",text:bt,silent:!1},kr)}),kn=this.addShape(f,{id:this.getElementId("maxText"),type:"text",attrs:(0,Ct.pi)({y:W/2,textAlign:"left",text:kt,silent:!1},kr)}),Bn=this.addShape(f,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,Ct.pi)({y:0,height:W},ur)}),pi=(0,rt.U2)(Ur,"width",mt),Cn=(0,rt.U2)(Ur,"height",24);this.minHandler=this.addComponent(f,{component:Ji,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(W-Cn)/2,width:pi,height:Cn,cursor:"ew-resize",style:Ur}),this.maxHandler=this.addComponent(f,{component:Ji,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(W-Cn)/2,width:pi,height:Cn,cursor:"ew-resize",style:Ur})},A.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},A.prototype.initEvent=function(){this.bindEvents()},A.prototype.updateUI=function(f,g,b){var F=this.cfg,z=F.start,W=F.end,at=F.width,vt=F.minText,bt=F.maxText,kt=F.handlerStyle,jt=F.height,he=z*at,qe=W*at;this.trend&&(this.trend.update({width:at,height:jt}),this.get("updateAutoRender")||this.trend.render()),f.attr("x",he),f.attr("width",qe-he);var ur=(0,rt.U2)(kt,"width",mt);g.attr("text",vt),b.attr("text",bt);var Cr=this._dodgeText([he,qe],g,b),kr=Cr[0],Ur=Cr[1];this.minHandler&&(this.minHandler.update({x:he-ur/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,rt.S6)(kr,function(cn,on){return g.attr(on,cn)}),this.maxHandler&&(this.maxHandler.update({x:qe-ur/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,rt.S6)(Ur,function(cn,on){return b.attr(on,cn)})},A.prototype.bindEvents=function(){var f=this.get("group");f.on("handler-min:mousedown",this.onMouseDown("minHandler")),f.on("handler-min:touchstart",this.onMouseDown("minHandler")),f.on("handler-max:mousedown",this.onMouseDown("maxHandler")),f.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var g=f.findById(this.getElementId("foreground"));g.on("mousedown",this.onMouseDown("foreground")),g.on("touchstart",this.onMouseDown("foreground"))},A.prototype.adjustOffsetRange=function(f){var g=this.cfg,b=g.start,F=g.end;switch(this.currentTarget){case"minHandler":{var z=0-b,W=1-b;return Math.min(W,Math.max(z,f))}case"maxHandler":{var z=0-F,W=1-F;return Math.min(W,Math.max(z,f))}case"foreground":{var z=0-b,W=1-F;return Math.min(W,Math.max(z,f))}}},A.prototype.updateStartEnd=function(f){var g=this.cfg,b=g.start,F=g.end;switch(this.currentTarget){case"minHandler":b+=f;break;case"maxHandler":F+=f;break;case"foreground":b+=f,F+=f;break}this.set("start",b),this.set("end",F)},A.prototype._dodgeText=function(f,g,b){var F,z,W=this.cfg,at=W.handlerStyle,vt=W.width,bt=2,kt=(0,rt.U2)(at,"width",mt),jt=f[0],he=f[1],qe=!1;jt>he&&(F=[he,jt],jt=F[0],he=F[1],z=[b,g],g=z[0],b=z[1],qe=!0);var ur=g.getBBox(),Cr=b.getBBox(),kr=ur.width>jt-bt?{x:jt+kt/2+bt,textAlign:"left"}:{x:jt-kt/2-bt,textAlign:"right"},Ur=Cr.width>vt-he-bt?{x:he-kt/2-bt,textAlign:"right"}:{x:he+kt/2+bt,textAlign:"left"};return qe?[Ur,kr]:[kr,Ur]},A.prototype.draw=function(){var f=this.get("container"),g=f&&f.get("canvas");g&&g.draw()},A.prototype.getContainerDOM=function(){var f=this.get("container"),g=f&&f.get("canvas");return g&&g.get("container")},A}(R),Fr=null;function Kr(G,A,f){if(G){if(typeof G.addEventListener=="function")return G.addEventListener(A,f,!1),{remove:function(){G.removeEventListener(A,f,!1)}};if(typeof G.attachEvent=="function")return G.attachEvent("on"+A,f),{remove:function(){G.detachEvent("on"+A,f)}}}}var Jn={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},Xn={default:Jn,hover:{thumbColor:"rgba(0,0,0,0.2)"}},In=function(G){(0,Ct.ZT)(A,G);function A(){var f=G!==null&&G.apply(this,arguments)||this;return f.clearEvents=rt.ZT,f.onStartEvent=function(g){return function(b){f.isMobile=g,b.originalEvent.preventDefault();var F=g?(0,rt.U2)(b.originalEvent,"touches.0.clientX"):b.clientX,z=g?(0,rt.U2)(b.originalEvent,"touches.0.clientY"):b.clientY;f.startPos=f.cfg.isHorizontal?F:z,f.bindLaterEvent()}},f.bindLaterEvent=function(){var g=f.getContainerDOM(),b=[];f.isMobile?b=[Kr(g,"touchmove",f.onMouseMove),Kr(g,"touchend",f.onMouseUp),Kr(g,"touchcancel",f.onMouseUp)]:b=[Kr(g,"mousemove",f.onMouseMove),Kr(g,"mouseup",f.onMouseUp),Kr(g,"mouseleave",f.onMouseUp)],f.clearEvents=function(){b.forEach(function(F){F.remove()})}},f.onMouseMove=function(g){var b=f.cfg,F=b.isHorizontal,z=b.thumbOffset;g.preventDefault();var W=f.isMobile?(0,rt.U2)(g,"touches.0.clientX"):g.clientX,at=f.isMobile?(0,rt.U2)(g,"touches.0.clientY"):g.clientY,vt=F?W:at,bt=vt-f.startPos;f.startPos=vt,f.updateThumbOffset(z+bt)},f.onMouseUp=function(g){g.preventDefault(),f.clearEvents()},f.onTrackClick=function(g){var b=f.cfg,F=b.isHorizontal,z=b.x,W=b.y,at=b.thumbLen,vt=f.getContainerDOM(),bt=vt.getBoundingClientRect(),kt=g.clientX,jt=g.clientY,he=F?kt-bt.left-z-at/2:jt-bt.top-W-at/2,qe=f.validateRange(he);f.updateThumbOffset(qe)},f.onThumbMouseOver=function(){var g=f.cfg.theme.hover.thumbColor;f.getElementByLocalId("thumb").attr("stroke",g),f.draw()},f.onThumbMouseOut=function(){var g=f.cfg.theme.default.thumbColor;f.getElementByLocalId("thumb").attr("stroke",g),f.draw()},f}return A.prototype.setRange=function(f,g){this.set("minLimit",f),this.set("maxLimit",g);var b=this.getValue(),F=(0,rt.uZ)(b,f,g);b!==F&&!this.get("isInit")&&this.setValue(F)},A.prototype.getRange=function(){var f=this.get("minLimit")||0,g=this.get("maxLimit")||1;return{min:f,max:g}},A.prototype.setValue=function(f){var g=this.getRange(),b=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,rt.uZ)(f,g.min,g.max)}),this.delegateEmit("valuechange",{originalValue:b,value:this.getValue()})},A.prototype.getValue=function(){return(0,rt.uZ)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},A.prototype.getDefaultCfg=function(){var f=G.prototype.getDefaultCfg.call(this);return(0,Ct.pi)((0,Ct.pi)({},f),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:Xn})},A.prototype.renderInner=function(f){this.renderTrackShape(f),this.renderThumbShape(f)},A.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},A.prototype.initEvent=function(){this.bindEvents()},A.prototype.renderTrackShape=function(f){var g=this.cfg,b=g.trackLen,F=g.theme,z=F===void 0?{default:{}}:F,W=(0,rt.b$)({},Xn,z).default,at=W.lineCap,vt=W.trackColor,bt=W.size,kt=(0,rt.U2)(this.cfg,"size",bt),jt=this.get("isHorizontal")?{x1:0+kt/2,y1:kt/2,x2:b-kt/2,y2:kt/2,lineWidth:kt,stroke:vt,lineCap:at}:{x1:kt/2,y1:0+kt/2,x2:kt/2,y2:b-kt/2,lineWidth:kt,stroke:vt,lineCap:at};return this.addShape(f,{id:this.getElementId("track"),name:"track",type:"line",attrs:jt})},A.prototype.renderThumbShape=function(f){var g=this.cfg,b=g.thumbOffset,F=g.thumbLen,z=g.theme,W=(0,rt.b$)({},Xn,z).default,at=W.size,vt=W.lineCap,bt=W.thumbColor,kt=(0,rt.U2)(this.cfg,"size",at),jt=this.get("isHorizontal")?{x1:b+kt/2,y1:kt/2,x2:b+F-kt/2,y2:kt/2,lineWidth:kt,stroke:bt,lineCap:vt,cursor:"default"}:{x1:kt/2,y1:b+kt/2,x2:kt/2,y2:b+F-kt/2,lineWidth:kt,stroke:bt,lineCap:vt,cursor:"default"};return this.addShape(f,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:jt})},A.prototype.bindEvents=function(){var f=this.get("group");f.on("mousedown",this.onStartEvent(!1)),f.on("mouseup",this.onMouseUp),f.on("touchstart",this.onStartEvent(!0)),f.on("touchend",this.onMouseUp);var g=f.findById(this.getElementId("track"));g.on("click",this.onTrackClick);var b=f.findById(this.getElementId("thumb"));b.on("mouseover",this.onThumbMouseOver),b.on("mouseout",this.onThumbMouseOut)},A.prototype.getContainerDOM=function(){var f=this.get("container"),g=f&&f.get("canvas");return g&&g.get("container")},A.prototype.validateRange=function(f){var g=this.cfg,b=g.thumbLen,F=g.trackLen,z=f;return f+b>F?z=F-b:f+b<b&&(z=0),z},A.prototype.draw=function(){var f=this.get("container"),g=f&&f.get("canvas");g&&g.draw()},A.prototype.updateThumbOffset=function(f){var g=this.cfg,b=g.thumbOffset,F=g.isHorizontal,z=g.thumbLen,W=g.size,at=this.validateRange(f);if(at!==b){var vt=this.getElementByLocalId("thumb");F?vt.attr({x1:at+W/2,x2:at+z-W/2}):vt.attr({y1:at+W/2,y2:at+z-W/2}),this.emitOffsetChange(at)}},A.prototype.emitOffsetChange=function(f){var g=this.cfg,b=g.thumbOffset,F=g.trackLen,z=g.thumbLen;this.cfg.thumbOffset=f,this.emit("scrollchange",{thumbOffset:f,ratio:(0,rt.uZ)(f/(F-z),0,1)}),this.delegateEmit("valuechange",{originalValue:b,value:f})},A}(R)},13541:function(Wr,cr,Rt){"use strict";Rt.d(cr,{c7:function(){return Ae},FY:function(){return ke}});var Xt=Rt(70655),wt=Rt(77160),d=Rt(35600),c=Rt(31506),Ee=Rt(41694),Tt=function(){function Me(_e){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var Nt=_e.start,Ht=_e.end,be=_e.matrix,Se=be===void 0?[1,0,0,0,1,0,0,0,1]:be,Ne=_e.isTransposed,lr=Ne===void 0?!1:Ne;this.start=Nt,this.end=Ht,this.matrix=Se,this.originalMatrix=(0,Xt.ev)([],Se),this.isTransposed=lr}return Me.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},Me.prototype.update=function(_e){(0,Ee.f0)(this,_e),this.initial()},Me.prototype.convertDim=function(_e,Nt){var Ht,be=this[Nt],Se=be.start,Ne=be.end;return this.isReflect(Nt)&&(Ht=[Ne,Se],Se=Ht[0],Ne=Ht[1]),Se+_e*(Ne-Se)},Me.prototype.invertDim=function(_e,Nt){var Ht,be=this[Nt],Se=be.start,Ne=be.end;return this.isReflect(Nt)&&(Ht=[Ne,Se],Se=Ht[0],Ne=Ht[1]),(_e-Se)/(Ne-Se)},Me.prototype.applyMatrix=function(_e,Nt,Ht){Ht===void 0&&(Ht=0);var be=this.matrix,Se=[_e,Nt,Ht];return wt.kK(Se,Se,be),Se},Me.prototype.invertMatrix=function(_e,Nt,Ht){Ht===void 0&&(Ht=0);var be=this.matrix,Se=d.U_([0,0,0,0,0,0,0,0,0],be),Ne=[_e,Nt,Ht];return Se&&wt.kK(Ne,Ne,Se),Ne},Me.prototype.convert=function(_e){var Nt=this.convertPoint(_e),Ht=Nt.x,be=Nt.y,Se=this.applyMatrix(Ht,be,1);return{x:Se[0],y:Se[1]}},Me.prototype.invert=function(_e){var Nt=this.invertMatrix(_e.x,_e.y,1);return this.invertPoint({x:Nt[0],y:Nt[1]})},Me.prototype.rotate=function(_e){var Nt=this.matrix,Ht=this.center;return c.m$(Nt,Nt,[-Ht.x,-Ht.y]),c.zu(Nt,Nt,_e),c.m$(Nt,Nt,[Ht.x,Ht.y]),this},Me.prototype.reflect=function(_e){return _e==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},Me.prototype.scale=function(_e,Nt){var Ht=this.matrix,be=this.center;return c.m$(Ht,Ht,[-be.x,-be.y]),c.lh(Ht,Ht,[_e,Nt]),c.m$(Ht,Ht,[be.x,be.y]),this},Me.prototype.translate=function(_e,Nt){var Ht=this.matrix;return c.m$(Ht,Ht,[_e,Nt]),this},Me.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},Me.prototype.getCenter=function(){return this.center},Me.prototype.getWidth=function(){return this.width},Me.prototype.getHeight=function(){return this.height},Me.prototype.getRadius=function(){return this.radius},Me.prototype.isReflect=function(_e){return _e==="x"?this.isReflectX:this.isReflectY},Me.prototype.resetMatrix=function(_e){this.matrix=_e||(0,Xt.ev)([],this.originalMatrix)},Me}(),Ae=Tt,pe=function(Me){(0,Xt.ZT)(_e,Me);function _e(Nt){var Ht=Me.call(this,Nt)||this;return Ht.isRect=!0,Ht.type="cartesian",Ht.initial(),Ht}return _e.prototype.initial=function(){Me.prototype.initial.call(this);var Nt=this.start,Ht=this.end;this.x={start:Nt.x,end:Ht.x},this.y={start:Nt.y,end:Ht.y}},_e.prototype.convertPoint=function(Nt){var Ht,be=Nt.x,Se=Nt.y;return this.isTransposed&&(Ht=[Se,be],be=Ht[0],Se=Ht[1]),{x:this.convertDim(be,"x"),y:this.convertDim(Se,"y")}},_e.prototype.invertPoint=function(Nt){var Ht,be=this.invertDim(Nt.x,"x"),Se=this.invertDim(Nt.y,"y");return this.isTransposed&&(Ht=[Se,be],be=Ht[0],Se=Ht[1]),{x:be,y:Se}},_e}(Ae),se=pe,Ye=Rt(31437),Be=function(Me){(0,Xt.ZT)(_e,Me);function _e(Nt){var Ht=Me.call(this,Nt)||this;Ht.isHelix=!0,Ht.type="helix";var be=Nt.startAngle,Se=be===void 0?1.25*Math.PI:be,Ne=Nt.endAngle,lr=Ne===void 0?7.25*Math.PI:Ne,fr=Nt.innerRadius,Yt=fr===void 0?0:fr,xt=Nt.radius;return Ht.startAngle=Se,Ht.endAngle=lr,Ht.innerRadius=Yt,Ht.radius=xt,Ht.initial(),Ht}return _e.prototype.initial=function(){Me.prototype.initial.call(this);var Nt=(this.endAngle-this.startAngle)/(2*Math.PI)+1,Ht=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(Ht=Ht*this.radius),this.d=Math.floor(Ht*(1-this.innerRadius)/Nt),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*Ht,end:this.innerRadius*Ht+this.d*.99}},_e.prototype.convertPoint=function(Nt){var Ht,be=Nt.x,Se=Nt.y;this.isTransposed&&(Ht=[Se,be],be=Ht[0],Se=Ht[1]);var Ne=this.convertDim(be,"x"),lr=this.a*Ne,fr=this.convertDim(Se,"y");return{x:this.center.x+Math.cos(Ne)*(lr+fr),y:this.center.y+Math.sin(Ne)*(lr+fr)}},_e.prototype.invertPoint=function(Nt){var Ht,be=this.d+this.y.start,Se=Ye.$X([0,0],[Nt.x,Nt.y],[this.center.x,this.center.y]),Ne=c.Dg(Se,[1,0],!0),lr=Ne*this.a;Ye.kE(Se)<lr&&(lr=Ye.kE(Se));var fr=Math.floor((Ye.kE(Se)-lr)/be);Ne=2*fr*Math.PI+Ne;var Yt=this.a*Ne,xt=Ye.kE(Se)-Yt;xt=(0,Ee.vQ)(xt,0)?0:xt;var Lt=this.invertDim(Ne,"x"),It=this.invertDim(xt,"y");return Lt=(0,Ee.vQ)(Lt,0)?0:Lt,It=(0,Ee.vQ)(It,0)?0:It,this.isTransposed&&(Ht=[It,Lt],Lt=Ht[0],It=Ht[1]),{x:Lt,y:It}},_e}(Ae),Ct=Be,rt=function(Me){(0,Xt.ZT)(_e,Me);function _e(Nt){var Ht=Me.call(this,Nt)||this;Ht.isPolar=!0,Ht.type="polar";var be=Nt.startAngle,Se=be===void 0?-Math.PI/2:be,Ne=Nt.endAngle,lr=Ne===void 0?Math.PI*3/2:Ne,fr=Nt.innerRadius,Yt=fr===void 0?0:fr,xt=Nt.radius;return Ht.startAngle=Se,Ht.endAngle=lr,Ht.innerRadius=Yt,Ht.radius=xt,Ht.initial(),Ht}return _e.prototype.initial=function(){for(Me.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var Nt=this.getOneBox(),Ht=Nt.maxX-Nt.minX,be=Nt.maxY-Nt.minY,Se=Math.abs(Nt.minX)/Ht,Ne=Math.abs(Nt.minY)/be,lr;this.height/be>this.width/Ht?(lr=this.width/Ht,this.circleCenter={x:this.center.x-(.5-Se)*this.width,y:this.center.y-(.5-Ne)*lr*be}):(lr=this.height/be,this.circleCenter={x:this.center.x-(.5-Se)*lr*Ht,y:this.center.y-(.5-Ne)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=lr*this.radius:(this.radius<=0||this.radius>lr)&&(this.polarRadius=lr):this.polarRadius=lr,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},_e.prototype.getRadius=function(){return this.polarRadius},_e.prototype.convertPoint=function(Nt){var Ht,be=this.getCenter(),Se=Nt.x,Ne=Nt.y;return this.isTransposed&&(Ht=[Ne,Se],Se=Ht[0],Ne=Ht[1]),Se=this.convertDim(Se,"x"),Ne=this.convertDim(Ne,"y"),{x:be.x+Math.cos(Se)*Ne,y:be.y+Math.sin(Se)*Ne}},_e.prototype.invertPoint=function(Nt){var Ht,be=this.getCenter(),Se=[Nt.x-be.x,Nt.y-be.y],Ne=this,lr=Ne.startAngle,fr=Ne.endAngle;this.isReflect("x")&&(Ht=[fr,lr],lr=Ht[0],fr=Ht[1]);var Yt=[1,0,0,0,1,0,0,0,1];c.zu(Yt,Yt,lr);var xt=[1,0,0];wt.kK(xt,xt,Yt);var Lt=[xt[0],xt[1]],It=c.Dg(Lt,Se,fr<lr);(0,Ee.vQ)(It,Math.PI*2)&&(It=0);var Ft=Ye.kE(Se),At=It/(fr-lr);At=fr-lr>0?At:-At;var B=this.invertDim(Ft,"y"),K={x:0,y:0};return K.x=this.isTransposed?B:At,K.y=this.isTransposed?At:B,K},_e.prototype.getCenter=function(){return this.circleCenter},_e.prototype.getOneBox=function(){var Nt=this.startAngle,Ht=this.endAngle;if(Math.abs(Ht-Nt)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var be=[0,Math.cos(Nt),Math.cos(Ht)],Se=[0,Math.sin(Nt),Math.sin(Ht)],Ne=Math.min(Nt,Ht);Ne<Math.max(Nt,Ht);Ne+=Math.PI/18)be.push(Math.cos(Ne)),Se.push(Math.sin(Ne));return{minX:Math.min.apply(Math,be),maxX:Math.max.apply(Math,be),minY:Math.min.apply(Math,Se),maxY:Math.max.apply(Math,Se)}},_e}(Ae),Jt=rt,fe={},ke=function(Me){return fe[Me.toLowerCase()]},Pe=function(Me,_e){fe[Me.toLowerCase()]=_e};Pe("rect",se),Pe("cartesian",se),Pe("polar",Jt),Pe("helix",Ct)},6056:function(Wr,cr,Rt){"use strict";Rt.d(cr,{Z:function(){return Tt}});var Xt,wt,d,c;function Ee(){Xt=document.createElement("table"),wt=document.createElement("tr"),d=/^\s*<(\w+|!)[^>]*>/,c={tr:document.createElement("tbody"),tbody:Xt,thead:Xt,tfoot:Xt,td:wt,th:wt,"*":document.createElement("div")}}function Tt(Ae){Xt||Ee();var pe=d.test(Ae)&&RegExp.$1;(!pe||!(pe in c))&&(pe="*");var se=c[pe];Ae=typeof Ae=="string"?Ae.replace(/(^\s*)|(\s*$)/g,""):Ae,se.innerHTML=""+Ae;var Ye=se.childNodes[0];return Ye&&se.contains(Ye)&&se.removeChild(Ye),Ye}},45442:function(Wr,cr,Rt){"use strict";Rt.d(cr,{Z:function(){return Xt}});function Xt(wt,d){if(wt)for(var c in d)d.hasOwnProperty(c)&&(wt.style[c]=d[c]);return wt}},90494:function(Wr,cr){"use strict";var Rt="*",Xt=function(){function wt(){this._events={}}return wt.prototype.on=function(d,c,Ee){return this._events[d]||(this._events[d]=[]),this._events[d].push({callback:c,once:!!Ee}),this},wt.prototype.once=function(d,c){return this.on(d,c,!0)},wt.prototype.emit=function(d){for(var c=this,Ee=[],Tt=1;Tt<arguments.length;Tt++)Ee[Tt-1]=arguments[Tt];var Ae=this._events[d]||[],pe=this._events[Rt]||[],se=function(Ye){for(var Be=Ye.length,Ct=0;Ct<Be;Ct++)if(!!Ye[Ct]){var rt=Ye[Ct],Jt=rt.callback,fe=rt.once;fe&&(Ye.splice(Ct,1),Ye.length===0&&delete c._events[d],Be--,Ct--),Jt.apply(c,Ee)}};se(Ae),se(pe)},wt.prototype.off=function(d,c){if(!d)this._events={};else if(!c)delete this._events[d];else{for(var Ee=this._events[d]||[],Tt=Ee.length,Ae=0;Ae<Tt;Ae++)Ee[Ae].callback===c&&(Ee.splice(Ae,1),Tt--,Ae--);Ee.length===0&&delete this._events[d]}return this},wt.prototype.getEvents=function(){return this._events},wt}();cr.Z=Xt},3232:function(Wr,cr,Rt){"use strict";Rt.d(cr,{$Z:function(){return Bn},pA:function(){return Cn},zr:function(){return Ci},XY:function(){return T},ju:function(){return we},Gk:function(){return Xt},$O:function(){return es},bj:function(){return en},LF:function(){return Qi},FE:function(){return ts},U_:function(){return Bt},pP:function(){return L},rG:function(){return st},WZ:function(){return Nn},CW:function(){return f}});var Xt={};Rt.r(Xt),Rt.d(Xt,{catmullRomToBezier:function(){return pe},fillPath:function(){return B},fillPathByDiff:function(){return oe},formatPath:function(){return Re},intersection:function(){return Lt},parsePathArray:function(){return ke},parsePathString:function(){return Ae},pathToAbsolute:function(){return Ye},pathToCurve:function(){return Jt},rectPath:function(){return be}});var wt={};Rt.r(wt),Rt.d(wt,{easeBack:function(){return Ce},easeBackIn:function(){return zt},easeBackInOut:function(){return Ce},easeBackOut:function(){return Gt},easeBounce:function(){return Xi},easeBounceIn:function(){return so},easeBounceInOut:function(){return Y},easeBounceOut:function(){return Xi},easeCircle:function(){return Ui},easeCircleIn:function(){return Ga},easeCircleInOut:function(){return Ui},easeCircleOut:function(){return Ua},easeCubic:function(){return Vi},easeCubicIn:function(){return ki},easeCubicInOut:function(){return Vi},easeCubicOut:function(){return hi},easeElastic:function(){return Xn},easeElasticIn:function(){return Jn},easeElasticInOut:function(){return In},easeElasticOut:function(){return Xn},easeExp:function(){return va},easeExpIn:function(){return La},easeExpInOut:function(){return va},easeExpOut:function(){return Va},easeLinear:function(){return zi},easePoly:function(){return Qn},easePolyIn:function(){return Pi},easePolyInOut:function(){return Qn},easePolyOut:function(){return Gi},easeQuad:function(){return bi},easeQuadIn:function(){return Jr},easeQuadInOut:function(){return bi},easeQuadOut:function(){return oi},easeSin:function(){return ha},easeSinIn:function(){return Ia},easeSinInOut:function(){return ha},easeSinOut:function(){return za}});var d=Rt(41694),c=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,Ee=new RegExp("([a-z])["+c+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+c+"]*,?["+c+"]*)+)","ig"),Tt=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+c+"]*,?["+c+"]*","ig"),Ae=function(w){if(!w)return null;if((0,d.kJ)(w))return w;var m={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},x=[];return String(w).replace(Ee,function(M,_,U){var ut=[],ht=_.toLowerCase();if(U.replace(Tt,function(dt,ce){ce&&ut.push(+ce)}),ht==="m"&&ut.length>2&&(x.push([_].concat(ut.splice(0,2))),ht="l",_=_==="m"?"l":"L"),ht==="o"&&ut.length===1&&x.push([_,ut[0]]),ht==="r")x.push([_].concat(ut));else for(;ut.length>=m[ht]&&(x.push([_].concat(ut.splice(0,m[ht]))),!!m[ht]););return w}),x},pe=function(w,m){for(var x=[],M=0,_=w.length;_-2*!m>M;M+=2){var U=[{x:+w[M-2],y:+w[M-1]},{x:+w[M],y:+w[M+1]},{x:+w[M+2],y:+w[M+3]},{x:+w[M+4],y:+w[M+5]}];m?M?_-4===M?U[3]={x:+w[0],y:+w[1]}:_-2===M&&(U[2]={x:+w[0],y:+w[1]},U[3]={x:+w[2],y:+w[3]}):U[0]={x:+w[_-2],y:+w[_-1]}:_-4===M?U[3]=U[2]:M||(U[0]={x:+w[M],y:+w[M+1]}),x.push(["C",(-U[0].x+6*U[1].x+U[2].x)/6,(-U[0].y+6*U[1].y+U[2].y)/6,(U[1].x+6*U[2].x-U[3].x)/6,(U[1].y+6*U[2].y-U[3].y)/6,U[2].x,U[2].y])}return x},se=function(w,m,x,M,_){var U=[];if(_===null&&M===null&&(M=x),w=+w,m=+m,x=+x,M=+M,_!==null){var ut=Math.PI/180,ht=w+x*Math.cos(-M*ut),dt=w+x*Math.cos(-_*ut),ce=m+x*Math.sin(-M*ut),le=m+x*Math.sin(-_*ut);U=[["M",ht,ce],["A",x,x,0,+(_-M>180),0,dt,le]]}else U=[["M",w,m],["m",0,-M],["a",x,M,0,1,1,0,2*M],["a",x,M,0,1,1,0,-2*M],["z"]];return U},Ye=function(w){if(w=Ae(w),!w||!w.length)return[["M",0,0]];var m=[],x=0,M=0,_=0,U=0,ut=0,ht,dt;w[0][0]==="M"&&(x=+w[0][1],M=+w[0][2],_=x,U=M,ut++,m[0]=["M",x,M]);for(var ce=w.length===3&&w[0][0]==="M"&&w[1][0].toUpperCase()==="R"&&w[2][0].toUpperCase()==="Z",le=void 0,ye=void 0,rr=ut,tr=w.length;rr<tr;rr++){if(m.push(le=[]),ye=w[rr],ht=ye[0],ht!==ht.toUpperCase())switch(le[0]=ht.toUpperCase(),le[0]){case"A":le[1]=ye[1],le[2]=ye[2],le[3]=ye[3],le[4]=ye[4],le[5]=ye[5],le[6]=+ye[6]+x,le[7]=+ye[7]+M;break;case"V":le[1]=+ye[1]+M;break;case"H":le[1]=+ye[1]+x;break;case"R":dt=[x,M].concat(ye.slice(1));for(var Le=2,Tr=dt.length;Le<Tr;Le++)dt[Le]=+dt[Le]+x,dt[++Le]=+dt[Le]+M;m.pop(),m=m.concat(pe(dt,ce));break;case"O":m.pop(),dt=se(x,M,ye[1],ye[2]),dt.push(dt[0]),m=m.concat(dt);break;case"U":m.pop(),m=m.concat(se(x,M,ye[1],ye[2],ye[3])),le=["U"].concat(m[m.length-1].slice(-2));break;case"M":_=+ye[1]+x,U=+ye[2]+M;break;default:for(var Le=1,Tr=ye.length;Le<Tr;Le++)le[Le]=+ye[Le]+(Le%2?x:M)}else if(ht==="R")dt=[x,M].concat(ye.slice(1)),m.pop(),m=m.concat(pe(dt,ce)),le=["R"].concat(ye.slice(-2));else if(ht==="O")m.pop(),dt=se(x,M,ye[1],ye[2]),dt.push(dt[0]),m=m.concat(dt);else if(ht==="U")m.pop(),m=m.concat(se(x,M,ye[1],ye[2],ye[3])),le=["U"].concat(m[m.length-1].slice(-2));else for(var Dr=0,br=ye.length;Dr<br;Dr++)le[Dr]=ye[Dr];if(ht=ht.toUpperCase(),ht!=="O")switch(le[0]){case"Z":x=+_,M=+U;break;case"H":x=le[1];break;case"V":M=le[1];break;case"M":_=le[le.length-2],U=le[le.length-1];break;default:x=le[le.length-2],M=le[le.length-1]}}return m},Be=function(w,m,x,M){return[w,m,x,M,x,M]},Ct=function(w,m,x,M,_,U){var ut=1/3,ht=2/3;return[ut*w+ht*x,ut*m+ht*M,ut*_+ht*x,ut*U+ht*M,_,U]},rt=function(w,m,x,M,_,U,ut,ht,dt,ce){x===M&&(x+=1);var le=Math.PI*120/180,ye=Math.PI/180*(+_||0),rr=[],tr,Le,Tr,Dr,br,Zr=function(ko,sl,Po){var ll=ko*Math.cos(Po)-sl*Math.sin(Po),ul=ko*Math.sin(Po)+sl*Math.cos(Po);return{x:ll,y:ul}};if(ce)Le=ce[0],Tr=ce[1],Dr=ce[2],br=ce[3];else{tr=Zr(w,m,-ye),w=tr.x,m=tr.y,tr=Zr(ht,dt,-ye),ht=tr.x,dt=tr.y,w===ht&&m===dt&&(ht+=1,dt+=1);var mr=(w-ht)/2,ar=(m-dt)/2,Hr=mr*mr/(x*x)+ar*ar/(M*M);Hr>1&&(Hr=Math.sqrt(Hr),x=Hr*x,M=Hr*M);var Fn=x*x,zn=M*M,ea=(U===ut?-1:1)*Math.sqrt(Math.abs((Fn*zn-Fn*ar*ar-zn*mr*mr)/(Fn*ar*ar+zn*mr*mr)));Dr=ea*x*ar/M+(w+ht)/2,br=ea*-M*mr/x+(m+dt)/2,Le=Math.asin(((m-br)/M).toFixed(9)),Tr=Math.asin(((dt-br)/M).toFixed(9)),Le=w<Dr?Math.PI-Le:Le,Tr=ht<Dr?Math.PI-Tr:Tr,Le<0&&(Le=Math.PI*2+Le),Tr<0&&(Tr=Math.PI*2+Tr),ut&&Le>Tr&&(Le=Le-Math.PI*2),!ut&&Tr>Le&&(Tr=Tr-Math.PI*2)}var co=Tr-Le;if(Math.abs(co)>le){var Pu=Tr,Du=ht,ol=dt;Tr=Le+le*(ut&&Tr>Le?1:-1),ht=Dr+x*Math.cos(Tr),dt=br+M*Math.sin(Tr),rr=rt(ht,dt,x,M,_,0,ut,Du,ol,[Tr,Pu,Dr,br])}co=Tr-Le;var si=Math.cos(Le),ra=Math.sin(Le),vn=Math.cos(Tr),Ai=Math.sin(Tr),is=Math.tan(co/4),as=4/3*x*is,os=4/3*M*is,ss=[w,m],xa=[w+as*ra,m-os*si],ls=[ht+as*Ai,dt-os*vn],us=[ht,dt];if(xa[0]=2*ss[0]-xa[0],xa[1]=2*ss[1]-xa[1],ce)return[xa,ls,us].concat(rr);rr=[xa,ls,us].concat(rr).join().split(",");for(var fo=[],na=0,ho=rr.length;na<ho;na++)fo[na]=na%2?Zr(rr[na-1],rr[na],ye).y:Zr(rr[na],rr[na+1],ye).x;return fo},Jt=function(w,m){var x=Ye(w),M=m&&Ye(m),_={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},U={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ut=[],ht=[],dt="",ce="",le,ye=function(mr,ar,Hr){var Fn,zn;if(!mr)return["C",ar.x,ar.y,ar.x,ar.y,ar.x,ar.y];switch(!(mr[0]in{T:1,Q:1})&&(ar.qx=ar.qy=null),mr[0]){case"M":ar.X=mr[1],ar.Y=mr[2];break;case"A":mr=["C"].concat(rt.apply(0,[ar.x,ar.y].concat(mr.slice(1))));break;case"S":Hr==="C"||Hr==="S"?(Fn=ar.x*2-ar.bx,zn=ar.y*2-ar.by):(Fn=ar.x,zn=ar.y),mr=["C",Fn,zn].concat(mr.slice(1));break;case"T":Hr==="Q"||Hr==="T"?(ar.qx=ar.x*2-ar.qx,ar.qy=ar.y*2-ar.qy):(ar.qx=ar.x,ar.qy=ar.y),mr=["C"].concat(Ct(ar.x,ar.y,ar.qx,ar.qy,mr[1],mr[2]));break;case"Q":ar.qx=mr[1],ar.qy=mr[2],mr=["C"].concat(Ct(ar.x,ar.y,mr[1],mr[2],mr[3],mr[4]));break;case"L":mr=["C"].concat(Be(ar.x,ar.y,mr[1],mr[2]));break;case"H":mr=["C"].concat(Be(ar.x,ar.y,mr[1],ar.y));break;case"V":mr=["C"].concat(Be(ar.x,ar.y,ar.x,mr[1]));break;case"Z":mr=["C"].concat(Be(ar.x,ar.y,ar.X,ar.Y));break;default:break}return mr},rr=function(mr,ar){if(mr[ar].length>7){mr[ar].shift();for(var Hr=mr[ar];Hr.length;)ut[ar]="A",M&&(ht[ar]="A"),mr.splice(ar++,0,["C"].concat(Hr.splice(0,6)));mr.splice(ar,1),le=Math.max(x.length,M&&M.length||0)}},tr=function(mr,ar,Hr,Fn,zn){mr&&ar&&mr[zn][0]==="M"&&ar[zn][0]!=="M"&&(ar.splice(zn,0,["M",Fn.x,Fn.y]),Hr.bx=0,Hr.by=0,Hr.x=mr[zn][1],Hr.y=mr[zn][2],le=Math.max(x.length,M&&M.length||0))};le=Math.max(x.length,M&&M.length||0);for(var Le=0;Le<le;Le++){x[Le]&&(dt=x[Le][0]),dt!=="C"&&(ut[Le]=dt,Le&&(ce=ut[Le-1])),x[Le]=ye(x[Le],_,ce),ut[Le]!=="A"&&dt==="C"&&(ut[Le]="C"),rr(x,Le),M&&(M[Le]&&(dt=M[Le][0]),dt!=="C"&&(ht[Le]=dt,Le&&(ce=ht[Le-1])),M[Le]=ye(M[Le],U,ce),ht[Le]!=="A"&&dt==="C"&&(ht[Le]="C"),rr(M,Le)),tr(x,M,_,U,Le),tr(M,x,U,_,Le);var Tr=x[Le],Dr=M&&M[Le],br=Tr.length,Zr=M&&Dr.length;_.x=Tr[br-2],_.y=Tr[br-1],_.bx=parseFloat(Tr[br-4])||_.x,_.by=parseFloat(Tr[br-3])||_.y,U.bx=M&&(parseFloat(Dr[Zr-4])||U.x),U.by=M&&(parseFloat(Dr[Zr-3])||U.y),U.x=M&&Dr[Zr-2],U.y=M&&Dr[Zr-1]}return M?[x,M]:x},fe=/,?([a-z]),?/gi,ke=function(w){return w.join(",").replace(fe,"$1")},Pe=function(w,m,x,M,_){var U=-3*m+9*x-9*M+3*_,ut=w*U+6*m-12*x+6*M;return w*ut-3*m+3*x},Me=function(w,m,x,M,_,U,ut,ht,dt){dt===null&&(dt=1),dt=dt>1?1:dt<0?0:dt;for(var ce=dt/2,le=12,ye=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],rr=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],tr=0,Le=0;Le<le;Le++){var Tr=ce*ye[Le]+ce,Dr=Pe(Tr,w,x,_,ut),br=Pe(Tr,m,M,U,ht),Zr=Dr*Dr+br*br;tr+=rr[Le]*Math.sqrt(Zr)}return ce*tr},_e=function(w,m,x,M,_,U,ut,ht){for(var dt=[],ce=[[],[]],le,ye,rr,tr,Le=0;Le<2;++Le){if(Le===0?(ye=6*w-12*x+6*_,le=-3*w+9*x-9*_+3*ut,rr=3*x-3*w):(ye=6*m-12*M+6*U,le=-3*m+9*M-9*U+3*ht,rr=3*M-3*m),Math.abs(le)<1e-12){if(Math.abs(ye)<1e-12)continue;tr=-rr/ye,tr>0&&tr<1&&dt.push(tr);continue}var Tr=ye*ye-4*rr*le,Dr=Math.sqrt(Tr);if(!(Tr<0)){var br=(-ye+Dr)/(2*le);br>0&&br<1&&dt.push(br);var Zr=(-ye-Dr)/(2*le);Zr>0&&Zr<1&&dt.push(Zr)}}for(var mr=dt.length,ar=mr,Hr;mr--;)tr=dt[mr],Hr=1-tr,ce[0][mr]=Hr*Hr*Hr*w+3*Hr*Hr*tr*x+3*Hr*tr*tr*_+tr*tr*tr*ut,ce[1][mr]=Hr*Hr*Hr*m+3*Hr*Hr*tr*M+3*Hr*tr*tr*U+tr*tr*tr*ht;return ce[0][ar]=w,ce[1][ar]=m,ce[0][ar+1]=ut,ce[1][ar+1]=ht,ce[0].length=ce[1].length=ar+2,{min:{x:Math.min.apply(0,ce[0]),y:Math.min.apply(0,ce[1])},max:{x:Math.max.apply(0,ce[0]),y:Math.max.apply(0,ce[1])}}},Nt=function(w,m,x,M,_,U,ut,ht){if(!(Math.max(w,x)<Math.min(_,ut)||Math.min(w,x)>Math.max(_,ut)||Math.max(m,M)<Math.min(U,ht)||Math.min(m,M)>Math.max(U,ht))){var dt=(w*M-m*x)*(_-ut)-(w-x)*(_*ht-U*ut),ce=(w*M-m*x)*(U-ht)-(m-M)*(_*ht-U*ut),le=(w-x)*(U-ht)-(m-M)*(_-ut);if(!!le){var ye=dt/le,rr=ce/le,tr=+ye.toFixed(2),Le=+rr.toFixed(2);if(!(tr<+Math.min(w,x).toFixed(2)||tr>+Math.max(w,x).toFixed(2)||tr<+Math.min(_,ut).toFixed(2)||tr>+Math.max(_,ut).toFixed(2)||Le<+Math.min(m,M).toFixed(2)||Le>+Math.max(m,M).toFixed(2)||Le<+Math.min(U,ht).toFixed(2)||Le>+Math.max(U,ht).toFixed(2)))return{x:ye,y:rr}}}},Ht=function(w,m,x){return m>=w.x&&m<=w.x+w.width&&x>=w.y&&x<=w.y+w.height},be=function(w,m,x,M,_){if(_)return[["M",+w+ +_,m],["l",x-_*2,0],["a",_,_,0,0,1,_,_],["l",0,M-_*2],["a",_,_,0,0,1,-_,_],["l",_*2-x,0],["a",_,_,0,0,1,-_,-_],["l",0,_*2-M],["a",_,_,0,0,1,_,-_],["z"]];var U=[["M",w,m],["l",x,0],["l",0,M],["l",-x,0],["z"]];return U.parsePathArray=ke,U},Se=function(w,m,x,M){return w===null&&(w=m=x=M=0),m===null&&(m=w.y,x=w.width,M=w.height,w=w.x),{x:w,y:m,width:x,w:x,height:M,h:M,x2:w+x,y2:m+M,cx:w+x/2,cy:m+M/2,r1:Math.min(x,M)/2,r2:Math.max(x,M)/2,r0:Math.sqrt(x*x+M*M)/2,path:be(w,m,x,M),vb:[w,m,x,M].join(" ")}},Ne=function(w,m){return w=Se(w),m=Se(m),Ht(m,w.x,w.y)||Ht(m,w.x2,w.y)||Ht(m,w.x,w.y2)||Ht(m,w.x2,w.y2)||Ht(w,m.x,m.y)||Ht(w,m.x2,m.y)||Ht(w,m.x,m.y2)||Ht(w,m.x2,m.y2)||(w.x<m.x2&&w.x>m.x||m.x<w.x2&&m.x>w.x)&&(w.y<m.y2&&w.y>m.y||m.y<w.y2&&m.y>w.y)},lr=function(w,m,x,M,_,U,ut,ht){(0,d.kJ)(w)||(w=[w,m,x,M,_,U,ut,ht]);var dt=_e.apply(null,w);return Se(dt.min.x,dt.min.y,dt.max.x-dt.min.x,dt.max.y-dt.min.y)},fr=function(w,m,x,M,_,U,ut,ht,dt){var ce=1-dt,le=Math.pow(ce,3),ye=Math.pow(ce,2),rr=dt*dt,tr=rr*dt,Le=le*w+ye*3*dt*x+ce*3*dt*dt*_+tr*ut,Tr=le*m+ye*3*dt*M+ce*3*dt*dt*U+tr*ht,Dr=w+2*dt*(x-w)+rr*(_-2*x+w),br=m+2*dt*(M-m)+rr*(U-2*M+m),Zr=x+2*dt*(_-x)+rr*(ut-2*_+x),mr=M+2*dt*(U-M)+rr*(ht-2*U+M),ar=ce*w+dt*x,Hr=ce*m+dt*M,Fn=ce*_+dt*ut,zn=ce*U+dt*ht,ea=90-Math.atan2(Dr-Zr,br-mr)*180/Math.PI;return{x:Le,y:Tr,m:{x:Dr,y:br},n:{x:Zr,y:mr},start:{x:ar,y:Hr},end:{x:Fn,y:zn},alpha:ea}},Yt=function(w,m,x){var M=lr(w),_=lr(m);if(!Ne(M,_))return x?0:[];for(var U=Me.apply(0,w),ut=Me.apply(0,m),ht=~~(U/8),dt=~~(ut/8),ce=[],le=[],ye={},rr=x?0:[],tr=0;tr<ht+1;tr++){var Le=fr.apply(0,w.concat(tr/ht));ce.push({x:Le.x,y:Le.y,t:tr/ht})}for(var tr=0;tr<dt+1;tr++){var Le=fr.apply(0,m.concat(tr/dt));le.push({x:Le.x,y:Le.y,t:tr/dt})}for(var tr=0;tr<ht;tr++)for(var Tr=0;Tr<dt;Tr++){var Dr=ce[tr],br=ce[tr+1],Zr=le[Tr],mr=le[Tr+1],ar=Math.abs(br.x-Dr.x)<.001?"y":"x",Hr=Math.abs(mr.x-Zr.x)<.001?"y":"x",Fn=Nt(Dr.x,Dr.y,br.x,br.y,Zr.x,Zr.y,mr.x,mr.y);if(Fn){if(ye[Fn.x.toFixed(4)]===Fn.y.toFixed(4))continue;ye[Fn.x.toFixed(4)]=Fn.y.toFixed(4);var zn=Dr.t+Math.abs((Fn[ar]-Dr[ar])/(br[ar]-Dr[ar]))*(br.t-Dr.t),ea=Zr.t+Math.abs((Fn[Hr]-Zr[Hr])/(mr[Hr]-Zr[Hr]))*(mr.t-Zr.t);zn>=0&&zn<=1&&ea>=0&&ea<=1&&(x?rr+=1:rr.push({x:Fn.x,y:Fn.y,t1:zn,t2:ea}))}}return rr},xt=function(w,m,x){w=Jt(w),m=Jt(m);for(var M,_,U,ut,ht,dt,ce,le,ye,rr,tr=x?0:[],Le=0,Tr=w.length;Le<Tr;Le++){var Dr=w[Le];if(Dr[0]==="M")M=ht=Dr[1],_=dt=Dr[2];else{Dr[0]==="C"?(ye=[M,_].concat(Dr.slice(1)),M=ye[6],_=ye[7]):(ye=[M,_,M,_,ht,dt,ht,dt],M=ht,_=dt);for(var br=0,Zr=m.length;br<Zr;br++){var mr=m[br];if(mr[0]==="M")U=ce=mr[1],ut=le=mr[2];else{mr[0]==="C"?(rr=[U,ut].concat(mr.slice(1)),U=rr[6],ut=rr[7]):(rr=[U,ut,U,ut,ce,le,ce,le],U=ce,ut=le);var ar=Yt(ye,rr,x);if(x)tr+=ar;else{for(var Hr=0,Fn=ar.length;Hr<Fn;Hr++)ar[Hr].segment1=Le,ar[Hr].segment2=br,ar[Hr].bez1=ye,ar[Hr].bez2=rr;tr=tr.concat(ar)}}}}}return tr},Lt=function(w,m){return xt(w,m)};function It(w,m){var x=[],M=[];function _(U,ut){if(U.length===1)x.push(U[0]),M.push(U[0]);else{for(var ht=[],dt=0;dt<U.length-1;dt++)dt===0&&x.push(U[0]),dt===U.length-2&&M.push(U[dt+1]),ht[dt]=[(1-ut)*U[dt][0]+ut*U[dt+1][0],(1-ut)*U[dt][1]+ut*U[dt+1][1]];_(ht,ut)}}return w.length&&_(w,m),{left:x,right:M.reverse()}}function Ft(w,m,x){var M=[[w[1],w[2]]];x=x||2;var _=[];m[0]==="A"?(M.push(m[6]),M.push(m[7])):m[0]==="C"?(M.push([m[1],m[2]]),M.push([m[3],m[4]]),M.push([m[5],m[6]])):m[0]==="S"||m[0]==="Q"?(M.push([m[1],m[2]]),M.push([m[3],m[4]])):M.push([m[1],m[2]]);for(var U=M,ut=1/x,ht=0;ht<x-1;ht++){var dt=ut/(1-ut*ht),ce=It(U,dt);_.push(ce.left),U=ce.right}_.push(U);var le=_.map(function(ye){var rr=[];return ye.length===4&&(rr.push("C"),rr=rr.concat(ye[2])),ye.length>=3&&(ye.length===3&&rr.push("Q"),rr=rr.concat(ye[1])),ye.length===2&&rr.push("L"),rr=rr.concat(ye[ye.length-1]),rr});return le}var At=function(w,m,x){if(x===1)return[[].concat(w)];var M=[];if(m[0]==="L"||m[0]==="C"||m[0]==="Q")M=M.concat(Ft(w,m,x));else{var _=[].concat(w);_[0]==="M"&&(_[0]="L");for(var U=0;U<=x-1;U++)M.push(_)}return M},B=function(w,m){if(w.length===1)return w;var x=w.length-1,M=m.length-1,_=x/M,U=[];if(w.length===1&&w[0][0]==="M"){for(var ut=0;ut<M-x;ut++)w.push(w[0]);return w}for(var ut=0;ut<M;ut++){var ht=Math.floor(_*ut);U[ht]=(U[ht]||0)+1}var dt=U.reduce(function(ce,le,ye){return ye===x?ce.concat(w[x]):ce.concat(At(w[ye],w[ye+1],le))},[]);return dt.unshift(w[0]),(m[M]==="Z"||m[M]==="z")&&dt.push("Z"),dt},K=function(w,m){if(w.length!==m.length)return!1;var x=!0;return(0,d.S6)(w,function(M,_){if(M!==m[_])return x=!1,!1}),x};function Pt(w,m,x){var M=null,_=x;return m<_&&(_=m,M="add"),w<_&&(_=w,M="del"),{type:M,min:_}}var xe=function(w,m){var x=w.length,M=m.length,_,U,ut=0;if(x===0||M===0)return null;for(var ht=[],dt=0;dt<=x;dt++)ht[dt]=[],ht[dt][0]={min:dt};for(var ce=0;ce<=M;ce++)ht[0][ce]={min:ce};for(var dt=1;dt<=x;dt++){_=w[dt-1];for(var ce=1;ce<=M;ce++){U=m[ce-1],K(_,U)?ut=0:ut=1;var le=ht[dt-1][ce].min+1,ye=ht[dt][ce-1].min+1,rr=ht[dt-1][ce-1].min+ut;ht[dt][ce]=Pt(le,ye,rr)}}return ht},oe=function(w,m){var x=xe(w,m),M=w.length,_=m.length,U=[],ut=1,ht=1;if(x[M][_].min!==M){for(var dt=1;dt<=M;dt++){var ce=x[dt][dt].min;ht=dt;for(var le=ut;le<=_;le++)x[dt][le].min<ce&&(ce=x[dt][le].min,ht=le);ut=ht,x[dt][ut].type&&U.push({index:dt-1,type:x[dt][ut].type})}for(var dt=U.length-1;dt>=0;dt--)ut=U[dt].index,U[dt].type==="add"?w.splice(ut,0,[].concat(w[ut])):w.splice(ut,1)}M=w.length;var ye=_-M;if(M<_)for(var dt=0;dt<ye;dt++)w[M-1][0]==="z"||w[M-1][0]==="Z"?w.splice(M-2,0,w[M-2]):w.push(w[M-1]),M+=1;return w};function Ve(w,m,x){for(var M=[].concat(w),_,U=1/(x+1),ut=Xe(m)[0],ht=1;ht<=x;ht++)U*=ht,_=Math.floor(w.length*U),_===0?M.unshift([ut[0]*U+w[_][0]*(1-U),ut[1]*U+w[_][1]*(1-U)]):M.splice(_,0,[ut[0]*U+w[_][0]*(1-U),ut[1]*U+w[_][1]*(1-U)]);return M}function Xe(w){var m=[];switch(w[0]){case"M":m.push([w[1],w[2]]);break;case"L":m.push([w[1],w[2]]);break;case"A":m.push([w[6],w[7]]);break;case"Q":m.push([w[3],w[4]]),m.push([w[1],w[2]]);break;case"T":m.push([w[1],w[2]]);break;case"C":m.push([w[5],w[6]]),m.push([w[1],w[2]]),m.push([w[3],w[4]]);break;case"S":m.push([w[3],w[4]]),m.push([w[1],w[2]]);break;case"H":m.push([w[1],w[1]]);break;case"V":m.push([w[1],w[1]]);break;default:}return m}var Re=function(w,m){if(w.length<=1)return w;for(var x,M=0;M<m.length;M++)if(w[M][0]!==m[M][0])switch(x=Xe(w[M]),m[M][0]){case"M":w[M]=["M"].concat(x[0]);break;case"L":w[M]=["L"].concat(x[0]);break;case"A":w[M]=[].concat(m[M]),w[M][6]=x[0][0],w[M][7]=x[0][1];break;case"Q":if(x.length<2)if(M>0)x=Ve(x,w[M-1],1);else{w[M]=m[M];break}w[M]=["Q"].concat(x.reduce(function(_,U){return _.concat(U)},[]));break;case"T":w[M]=["T"].concat(x[0]);break;case"C":if(x.length<3)if(M>0)x=Ve(x,w[M-1],2);else{w[M]=m[M];break}w[M]=["C"].concat(x.reduce(function(_,U){return _.concat(U)},[]));break;case"S":if(x.length<2)if(M>0)x=Ve(x,w[M-1],1);else{w[M]=m[M];break}w[M]=["S"].concat(x.reduce(function(_,U){return _.concat(U)},[]));break;default:w[M]=m[M]}return w},Ke=function(){function w(m,x){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=m,this.name=m,this.originalEvent=x,this.timeStamp=x.timeStamp}return w.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},w.prototype.stopPropagation=function(){this.propagationStopped=!0},w.prototype.toString=function(){var m=this.type;return"[Event (type="+m+")]"},w.prototype.save=function(){},w.prototype.restore=function(){},w}(),we=Ke,or=Rt(70655),Vt=Rt(90494);function et(w,m){var x=w.indexOf(m);x!==-1&&w.splice(x,1)}var P=typeof window!="undefined"&&typeof window.document!="undefined";function C(w,m){if(w.isCanvas())return!0;for(var x=m.getParent(),M=!1;x;){if(x===w){M=!0;break}x=x.getParent()}return M}function L(w){return w.cfg.visible&&w.cfg.capture}var k=function(w){(0,or.ZT)(m,w);function m(x){var M=w.call(this)||this;M.destroyed=!1;var _=M.getDefaultCfg();return M.cfg=(0,d.CD)(_,x),M}return m.prototype.getDefaultCfg=function(){return{}},m.prototype.get=function(x){return this.cfg[x]},m.prototype.set=function(x,M){this.cfg[x]=M},m.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},m}(Vt.Z),T=k,R=Rt(43631),j=Rt(31506);function tt(w,m){var x=[],M=w[0],_=w[1],U=w[2],ut=w[3],ht=w[4],dt=w[5],ce=w[6],le=w[7],ye=w[8],rr=m[0],tr=m[1],Le=m[2],Tr=m[3],Dr=m[4],br=m[5],Zr=m[6],mr=m[7],ar=m[8];return x[0]=rr*M+tr*ut+Le*ce,x[1]=rr*_+tr*ht+Le*le,x[2]=rr*U+tr*dt+Le*ye,x[3]=Tr*M+Dr*ut+br*ce,x[4]=Tr*_+Dr*ht+br*le,x[5]=Tr*U+Dr*dt+br*ye,x[6]=Zr*M+mr*ut+ar*ce,x[7]=Zr*_+mr*ht+ar*le,x[8]=Zr*U+mr*dt+ar*ye,x}function st(w,m){var x=[],M=m[0],_=m[1];return x[0]=w[0]*M+w[3]*_+w[6],x[1]=w[1]*M+w[4]*_+w[7],x}function Bt(w){var m=[],x=w[0],M=w[1],_=w[2],U=w[3],ut=w[4],ht=w[5],dt=w[6],ce=w[7],le=w[8],ye=le*ut-ht*ce,rr=-le*U+ht*dt,tr=ce*U-ut*dt,Le=x*ye+M*rr+_*tr;return Le?(Le=1/Le,m[0]=ye*Le,m[1]=(-le*M+_*ce)*Le,m[2]=(ht*M-_*ut)*Le,m[3]=rr*Le,m[4]=(le*x-_*dt)*Le,m[5]=(-ht*x+_*U)*Le,m[6]=tr*Le,m[7]=(-ce*x+M*dt)*Le,m[8]=(ut*x-M*U)*Le,m):null}var qt=j.vs,Qt="matrix",me=["zIndex","capture","visible","type"],He=["repeat"],J=":",lt="*";function yt(w){for(var m=[],x=0;x<w.length;x++)(0,d.kJ)(w[x])?m.push([].concat(w[x])):m.push(w[x]);return m}function Dt(w,m){var x={},M=m.attrs;for(var _ in w)x[_]=M[_];return x}function te(w,m){var x={},M=m.attr();return(0,d.S6)(w,function(_,U){He.indexOf(U)===-1&&!(0,d.Xy)(M[U],_)&&(x[U]=_)}),x}function Zt(w,m){if(m.onFrame)return w;var x=m.startTime,M=m.delay,_=m.duration,U=Object.prototype.hasOwnProperty;return(0,d.S6)(w,function(ut){x+M<ut.startTime+ut.delay+ut.duration&&_>ut.delay&&(0,d.S6)(m.toAttrs,function(ht,dt){U.call(ut.toAttrs,dt)&&(delete ut.toAttrs[dt],delete ut.fromAttrs[dt])})}),w}var ue=function(w){(0,or.ZT)(m,w);function m(x){var M=w.call(this,x)||this;M.attrs={};var _=M.getDefaultAttrs();return(0,d.CD)(_,x.attrs),M.attrs=_,M.initAttrs(_),M.initAnimate(),M}return m.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},m.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},m.prototype.onCanvasChange=function(x){},m.prototype.initAttrs=function(x){},m.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},m.prototype.isGroup=function(){return!1},m.prototype.getParent=function(){return this.get("parent")},m.prototype.getCanvas=function(){return this.get("canvas")},m.prototype.attr=function(){for(var x,M=[],_=0;_<arguments.length;_++)M[_]=arguments[_];var U=M[0],ut=M[1];if(!U)return this.attrs;if((0,d.Kn)(U)){for(var ht in U)this.setAttr(ht,U[ht]);return this.afterAttrsChange(U),this}return M.length===2?(this.setAttr(U,ut),this.afterAttrsChange((x={},x[U]=ut,x)),this):this.attrs[U]},m.prototype.isClipped=function(x,M){var _=this.getClip();return _&&!_.isHit(x,M)},m.prototype.setAttr=function(x,M){var _=this.attrs[x];_!==M&&(this.attrs[x]=M,this.onAttrChange(x,M,_))},m.prototype.onAttrChange=function(x,M,_){x==="matrix"&&this.set("totalMatrix",null)},m.prototype.afterAttrsChange=function(x){if(this.cfg.isClipShape){var M=this.cfg.applyTo;M&&M.onCanvasChange("clip")}else this.onCanvasChange("attr")},m.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},m.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},m.prototype.setZIndex=function(x){this.set("zIndex",x);var M=this.getParent();return M&&M.sort(),this},m.prototype.toFront=function(){var x=this.getParent();if(!!x){var M=x.getChildren(),_=this.get("el"),U=M.indexOf(this);M.splice(U,1),M.push(this),this.onCanvasChange("zIndex")}},m.prototype.toBack=function(){var x=this.getParent();if(!!x){var M=x.getChildren(),_=this.get("el"),U=M.indexOf(this);M.splice(U,1),M.unshift(this),this.onCanvasChange("zIndex")}},m.prototype.remove=function(x){x===void 0&&(x=!0);var M=this.getParent();M?(et(M.getChildren(),this),M.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),x&&this.destroy()},m.prototype.resetMatrix=function(){this.attr(Qt,this.getDefaultMatrix()),this.onCanvasChange("matrix")},m.prototype.getMatrix=function(){return this.attr(Qt)},m.prototype.setMatrix=function(x){this.attr(Qt,x),this.onCanvasChange("matrix")},m.prototype.getTotalMatrix=function(){var x=this.cfg.totalMatrix;if(!x){var M=this.attr("matrix"),_=this.cfg.parentMatrix;_&&M?x=tt(_,M):x=M||_,this.set("totalMatrix",x)}return x},m.prototype.applyMatrix=function(x){var M=this.attr("matrix"),_=null;x&&M?_=tt(x,M):_=M||x,this.set("totalMatrix",_),this.set("parentMatrix",x)},m.prototype.getDefaultMatrix=function(){return null},m.prototype.applyToMatrix=function(x){var M=this.attr("matrix");return M?st(M,x):x},m.prototype.invertFromMatrix=function(x){var M=this.attr("matrix");if(M){var _=Bt(M);if(_)return st(_,x)}return x},m.prototype.setClip=function(x){var M=this.getCanvas(),_=null;if(x){var U=this.getShapeBase(),ut=(0,d.jC)(x.type),ht=U[ut];ht&&(_=new ht({type:x.type,isClipShape:!0,applyTo:this,attrs:x.attrs,canvas:M}))}return this.set("clipShape",_),this.onCanvasChange("clip"),_},m.prototype.getClip=function(){var x=this.cfg.clipShape;return x||null},m.prototype.clone=function(){var x=this,M=this.attrs,_={};(0,d.S6)(M,function(ht,dt){(0,d.kJ)(M[dt])?_[dt]=yt(M[dt]):_[dt]=M[dt]});var U=this.constructor,ut=new U({attrs:_});return(0,d.S6)(me,function(ht){ut.set(ht,x.get(ht))}),ut},m.prototype.destroy=function(){var x=this.destroyed;x||(this.attrs={},w.prototype.destroy.call(this))},m.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},m.prototype.animate=function(){for(var x=[],M=0;M<arguments.length;M++)x[M]=arguments[M];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var _=this.get("timeline");_||(_=this.get("canvas").get("timeline"),this.set("timeline",_));var U=this.get("animations")||[];_.timer||_.initTimer();var ut=x[0],ht=x[1],dt=x[2],ce=dt===void 0?"easeLinear":dt,le=x[3],ye=le===void 0?d.ZT:le,rr=x[4],tr=rr===void 0?0:rr,Le,Tr,Dr,br,Zr;(0,d.mf)(ut)?(Le=ut,ut={}):(0,d.Kn)(ut)&&ut.onFrame&&(Le=ut.onFrame,Tr=ut.repeat),(0,d.Kn)(ht)?(Zr=ht,ht=Zr.duration,ce=Zr.easing||"easeLinear",tr=Zr.delay||0,Tr=Zr.repeat||Tr||!1,ye=Zr.callback||d.ZT,Dr=Zr.pauseCallback||d.ZT,br=Zr.resumeCallback||d.ZT):((0,d.hj)(ye)&&(tr=ye,ye=null),(0,d.mf)(ce)?(ye=ce,ce="easeLinear"):ce=ce||"easeLinear");var mr=te(ut,this),ar={fromAttrs:Dt(mr,this),toAttrs:mr,duration:ht,easing:ce,repeat:Tr,callback:ye,pauseCallback:Dr,resumeCallback:br,delay:tr,startTime:_.getTime(),id:(0,d.EL)(),onFrame:Le,pathFormatted:!1};U.length>0?U=Zt(U,ar):_.addAnimator(this),U.push(ar),this.set("animations",U),this.set("_pause",{isPaused:!1})}},m.prototype.stopAnimate=function(x){var M=this;x===void 0&&(x=!0);var _=this.get("animations");(0,d.S6)(_,function(U){x&&(U.onFrame?M.attr(U.onFrame(1)):M.attr(U.toAttrs)),U.callback&&U.callback()}),this.set("animating",!1),this.set("animations",[])},m.prototype.pauseAnimate=function(){var x=this.get("timeline"),M=this.get("animations"),_=x.getTime();return(0,d.S6)(M,function(U){U._paused=!0,U._pauseTime=_,U.pauseCallback&&U.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:_}),this},m.prototype.resumeAnimate=function(){var x=this.get("timeline"),M=x.getTime(),_=this.get("animations"),U=this.get("_pause").pauseTime;return(0,d.S6)(_,function(ut){ut.startTime=ut.startTime+(M-U),ut._paused=!1,ut._pauseTime=null,ut.resumeCallback&&ut.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",_),this},m.prototype.emitDelegation=function(x,M){var _=this,U=M.propagationPath,ut=this.getEvents(),ht;x==="mouseenter"?ht=M.fromShape:x==="mouseleave"&&(ht=M.toShape);for(var dt=function(rr){var tr=U[rr],Le=tr.get("name");if(Le){if((tr.isGroup()||tr.isCanvas&&tr.isCanvas())&&ht&&C(tr,ht))return"break";(0,d.kJ)(Le)?(0,d.S6)(Le,function(Tr){_.emitDelegateEvent(tr,Tr,M)}):ce.emitDelegateEvent(tr,Le,M)}},ce=this,le=0;le<U.length;le++){var ye=dt(le);if(ye==="break")break}},m.prototype.emitDelegateEvent=function(x,M,_){var U=this.getEvents(),ut=M+J+_.type;(U[ut]||U[lt])&&(_.name=ut,_.currentTarget=x,_.delegateTarget=this,_.delegateObject=x.get("delegateObject"),this.emit(ut,_))},m.prototype.translate=function(x,M){x===void 0&&(x=0),M===void 0&&(M=0);var _=this.getMatrix(),U=qt(_,[["t",x,M]]);return this.setMatrix(U),this},m.prototype.move=function(x,M){var _=this.attr("x")||0,U=this.attr("y")||0;return this.translate(x-_,M-U),this},m.prototype.moveTo=function(x,M){return this.move(x,M)},m.prototype.scale=function(x,M){var _=this.getMatrix(),U=qt(_,[["s",x,M||x]]);return this.setMatrix(U),this},m.prototype.rotate=function(x){var M=this.getMatrix(),_=qt(M,[["r",x]]);return this.setMatrix(_),this},m.prototype.rotateAtStart=function(x){var M=this.attr(),_=M.x,U=M.y,ut=this.getMatrix(),ht=qt(ut,[["t",-_,-U],["r",x],["t",_,U]]);return this.setMatrix(ht),this},m.prototype.rotateAtPoint=function(x,M,_){var U=this.getMatrix(),ut=qt(U,[["t",-x,-M],["r",_],["t",x,M]]);return this.setMatrix(ut),this},m}(T),de=ue,ee={},Ge="_INDEX";function Te(w,m){if(w.set("canvas",m),w.isGroup()){var x=w.get("children");x.length&&x.forEach(function(M){Te(M,m)})}}function nr(w,m){if(w.set("timeline",m),w.isGroup()){var x=w.get("children");x.length&&x.forEach(function(M){nr(M,m)})}}function wr(w,m){var x=w.getChildren();return x.indexOf(m)>=0}function er(w,m,x){x===void 0&&(x=!0),x?m.destroy():(m.set("parent",null),m.set("canvas",null)),et(w.getChildren(),m)}function De(w){return function(m,x){var M=w(m,x);return M===0?m[Ge]-x[Ge]:M}}var hr=function(w){(0,or.ZT)(m,w);function m(){return w!==null&&w.apply(this,arguments)||this}return m.prototype.isCanvas=function(){return!1},m.prototype.getBBox=function(){var x=Infinity,M=-Infinity,_=Infinity,U=-Infinity,ut=[],ht=[],dt=this.getChildren().filter(function(le){return le.get("visible")&&(!le.isGroup()||le.isGroup()&&le.getChildren().length>0)});dt.length>0?((0,d.S6)(dt,function(le){var ye=le.getBBox();ut.push(ye.minX,ye.maxX),ht.push(ye.minY,ye.maxY)}),x=(0,d.VV)(ut),M=(0,d.Fp)(ut),_=(0,d.VV)(ht),U=(0,d.Fp)(ht)):(x=0,M=0,_=0,U=0);var ce={x,y:_,minX:x,minY:_,maxX:M,maxY:U,width:M-x,height:U-_};return ce},m.prototype.getCanvasBBox=function(){var x=Infinity,M=-Infinity,_=Infinity,U=-Infinity,ut=[],ht=[],dt=this.getChildren().filter(function(le){return le.get("visible")&&(!le.isGroup()||le.isGroup()&&le.getChildren().length>0)});dt.length>0?((0,d.S6)(dt,function(le){var ye=le.getCanvasBBox();ut.push(ye.minX,ye.maxX),ht.push(ye.minY,ye.maxY)}),x=(0,d.VV)(ut),M=(0,d.Fp)(ut),_=(0,d.VV)(ht),U=(0,d.Fp)(ht)):(x=0,M=0,_=0,U=0);var ce={x,y:_,minX:x,minY:_,maxX:M,maxY:U,width:M-x,height:U-_};return ce},m.prototype.getDefaultCfg=function(){var x=w.prototype.getDefaultCfg.call(this);return x.children=[],x},m.prototype.onAttrChange=function(x,M,_){if(w.prototype.onAttrChange.call(this,x,M,_),x==="matrix"){var U=this.getTotalMatrix();this._applyChildrenMarix(U)}},m.prototype.applyMatrix=function(x){var M=this.getTotalMatrix();w.prototype.applyMatrix.call(this,x);var _=this.getTotalMatrix();_!==M&&this._applyChildrenMarix(_)},m.prototype._applyChildrenMarix=function(x){var M=this.getChildren();(0,d.S6)(M,function(_){_.applyMatrix(x)})},m.prototype.addShape=function(){for(var x=[],M=0;M<arguments.length;M++)x[M]=arguments[M];var _=x[0],U=x[1];(0,d.Kn)(_)?U=_:U.type=_;var ut=ee[U.type];ut||(ut=(0,d.jC)(U.type),ee[U.type]=ut);var ht=this.getShapeBase(),dt=new ht[ut](U);return this.add(dt),dt},m.prototype.addGroup=function(){for(var x=[],M=0;M<arguments.length;M++)x[M]=arguments[M];var _=x[0],U=x[1],ut;if((0,d.mf)(_))U?ut=new _(U):ut=new _({parent:this});else{var ht=_||{},dt=this.getGroupBase();ut=new dt(ht)}return this.add(ut),ut},m.prototype.getCanvas=function(){var x;return this.isCanvas()?x=this:x=this.get("canvas"),x},m.prototype.getShape=function(x,M,_){if(!L(this))return null;var U=this.getChildren(),ut;if(this.isCanvas())ut=this._findShape(U,x,M,_);else{var ht=[x,M,1];ht=this.invertFromMatrix(ht),this.isClipped(ht[0],ht[1])||(ut=this._findShape(U,ht[0],ht[1],_))}return ut},m.prototype._findShape=function(x,M,_,U){for(var ut=null,ht=x.length-1;ht>=0;ht--){var dt=x[ht];if(L(dt)&&(dt.isGroup()?ut=dt.getShape(M,_,U):dt.isHit(M,_)&&(ut=dt)),ut)break}return ut},m.prototype.add=function(x){var M=this.getCanvas(),_=this.getChildren(),U=this.get("timeline"),ut=x.getParent();ut&&er(ut,x,!1),x.set("parent",this),M&&Te(x,M),U&&nr(x,U),_.push(x),x.onCanvasChange("add"),this._applyElementMatrix(x)},m.prototype._applyElementMatrix=function(x){var M=this.getTotalMatrix();M&&x.applyMatrix(M)},m.prototype.getChildren=function(){return this.get("children")},m.prototype.sort=function(){var x=this.getChildren();(0,d.S6)(x,function(M,_){return M[Ge]=_,M}),x.sort(De(function(M,_){return M.get("zIndex")-_.get("zIndex")})),this.onCanvasChange("sort")},m.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var x=this.getChildren(),M=x.length-1;M>=0;M--)x[M].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},m.prototype.destroy=function(){this.get("destroyed")||(this.clear(),w.prototype.destroy.call(this))},m.prototype.getFirst=function(){return this.getChildByIndex(0)},m.prototype.getLast=function(){var x=this.getChildren();return this.getChildByIndex(x.length-1)},m.prototype.getChildByIndex=function(x){var M=this.getChildren();return M[x]},m.prototype.getCount=function(){var x=this.getChildren();return x.length},m.prototype.contain=function(x){var M=this.getChildren();return M.indexOf(x)>-1},m.prototype.removeChild=function(x,M){M===void 0&&(M=!0),this.contain(x)&&x.remove(M)},m.prototype.findAll=function(x){var M=[],_=this.getChildren();return(0,d.S6)(_,function(U){x(U)&&M.push(U),U.isGroup()&&(M=M.concat(U.findAll(x)))}),M},m.prototype.find=function(x){var M=null,_=this.getChildren();return(0,d.S6)(_,function(U){if(x(U)?M=U:U.isGroup()&&(M=U.find(x)),M)return!1}),M},m.prototype.findById=function(x){return this.find(function(M){return M.get("id")===x})},m.prototype.findByClassName=function(x){return this.find(function(M){return M.get("className")===x})},m.prototype.findAllByName=function(x){return this.findAll(function(M){return M.get("name")===x})},m}(de),Mr=hr,Qe=0,yr=0,Mt=0,it=1e3,N,ct,St=0,$t=0,ne=0,ge=typeof performance=="object"&&performance.now?performance:Date,Ie=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(w){setTimeout(w,17)};function zr(){return $t||(Ie(Xr),$t=ge.now()+ne)}function Xr(){$t=0}function Nr(){this._call=this._time=this._next=null}Nr.prototype=Sn.prototype={constructor:Nr,restart:function(w,m,x){if(typeof w!="function")throw new TypeError("callback is not a function");x=(x==null?zr():+x)+(m==null?0:+m),!this._next&&ct!==this&&(ct?ct._next=this:N=this,ct=this),this._call=w,this._time=x,ci()},stop:function(){this._call&&(this._call=null,this._time=Infinity,ci())}};function Sn(w,m,x){var M=new Nr;return M.restart(w,m,x),M}function Vr(){zr(),++Qe;for(var w=N,m;w;)(m=$t-w._time)>=0&&w._call.call(null,m),w=w._next;--Qe}function Kn(){$t=(St=ge.now())+ne,Qe=yr=0;try{Vr()}finally{Qe=0,Vn(),$t=0}}function jn(){var w=ge.now(),m=w-St;m>it&&(ne-=m,St=w)}function Vn(){for(var w,m=N,x,M=Infinity;m;)m._call?(M>m._time&&(M=m._time),w=m,m=m._next):(x=m._next,m._next=null,m=w?w._next=x:N=x);ct=w,ci(M)}function ci(w){if(!Qe){yr&&(yr=clearTimeout(yr));var m=w-$t;m>24?(w<Infinity&&(yr=setTimeout(Kn,w-ge.now()-ne)),Mt&&(Mt=clearInterval(Mt))):(Mt||(St=ge.now(),Mt=setInterval(jn,it)),Qe=1,Ie(Kn))}}function $n(w,m,x){w.prototype=m.prototype=x,x.constructor=w}function Sr(w,m){var x=Object.create(w.prototype);for(var M in m)x[M]=m[M];return x}function yi(){}var di=.7,ot=1/di,H="\\s*([+-]?\\d+)\\s*",I="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",V="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$=/^#([0-9a-f]{3,8})$/,gt=new RegExp("^rgb\\("+[H,H,H]+"\\)$"),Et=new RegExp("^rgb\\("+[V,V,V]+"\\)$"),Ut=new RegExp("^rgba\\("+[H,H,H,I]+"\\)$"),Oe=new RegExp("^rgba\\("+[V,V,V,I]+"\\)$"),je=new RegExp("^hsl\\("+[I,V,V]+"\\)$"),Je=new RegExp("^hsla\\("+[I,V,V,I]+"\\)$"),ze={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$n(yi,an,{copy:function(w){return Object.assign(new this.constructor,this,w)},displayable:function(){return this.rgb().displayable()},hex:vr,formatHex:vr,formatHsl:Lr,formatRgb:$r,toString:$r});function vr(){return this.rgb().formatHex()}function Lr(){return Z(this).formatHsl()}function $r(){return this.rgb().formatRgb()}function an(w){var m,x;return w=(w+"").trim().toLowerCase(),(m=$.exec(w))?(x=m[1].length,m=parseInt(m[1],16),x===6?Mn(m):x===3?new tn(m>>8&15|m>>4&240,m>>4&15|m&240,(m&15)<<4|m&15,1):x===8?ln(m>>24&255,m>>16&255,m>>8&255,(m&255)/255):x===4?ln(m>>12&15|m>>8&240,m>>8&15|m>>4&240,m>>4&15|m&240,((m&15)<<4|m&15)/255):null):(m=gt.exec(w))?new tn(m[1],m[2],m[3],1):(m=Et.exec(w))?new tn(m[1]*255/100,m[2]*255/100,m[3]*255/100,1):(m=Ut.exec(w))?ln(m[1],m[2],m[3],m[4]):(m=Oe.exec(w))?ln(m[1]*255/100,m[2]*255/100,m[3]*255/100,m[4]):(m=je.exec(w))?fi(m[1],m[2]/100,m[3]/100,1):(m=Je.exec(w))?fi(m[1],m[2]/100,m[3]/100,m[4]):ze.hasOwnProperty(w)?Mn(ze[w]):w==="transparent"?new tn(NaN,NaN,NaN,0):null}function Mn(w){return new tn(w>>16&255,w>>8&255,w&255,1)}function ln(w,m,x,M){return M<=0&&(w=m=x=NaN),new tn(w,m,x,M)}function En(w){return w instanceof yi||(w=an(w)),w?(w=w.rgb(),new tn(w.r,w.g,w.b,w.opacity)):new tn}function yn(w,m,x,M){return arguments.length===1?En(w):new tn(w,m,x,M==null?1:M)}function tn(w,m,x,M){this.r=+w,this.g=+m,this.b=+x,this.opacity=+M}$n(tn,yn,Sr(yi,{brighter:function(w){return w=w==null?ot:Math.pow(ot,w),new tn(this.r*w,this.g*w,this.b*w,this.opacity)},darker:function(w){return w=w==null?di:Math.pow(di,w),new tn(this.r*w,this.g*w,this.b*w,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Dn,formatHex:Dn,formatRgb:hn,toString:hn}));function Dn(){return"#"+wn(this.r)+wn(this.g)+wn(this.b)}function hn(){var w=this.opacity;return w=isNaN(w)?1:Math.max(0,Math.min(1,w)),(w===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(w===1?")":", "+w+")")}function wn(w){return w=Math.max(0,Math.min(255,Math.round(w)||0)),(w<16?"0":"")+w.toString(16)}function fi(w,m,x,M){return M<=0?w=m=x=NaN:x<=0||x>=1?w=m=NaN:m<=0&&(w=NaN),new ft(w,m,x,M)}function Z(w){if(w instanceof ft)return new ft(w.h,w.s,w.l,w.opacity);if(w instanceof yi||(w=an(w)),!w)return new ft;if(w instanceof ft)return w;w=w.rgb();var m=w.r/255,x=w.g/255,M=w.b/255,_=Math.min(m,x,M),U=Math.max(m,x,M),ut=NaN,ht=U-_,dt=(U+_)/2;return ht?(m===U?ut=(x-M)/ht+(x<M)*6:x===U?ut=(M-m)/ht+2:ut=(m-x)/ht+4,ht/=dt<.5?U+_:2-U-_,ut*=60):ht=dt>0&&dt<1?0:ut,new ft(ut,ht,dt,w.opacity)}function nt(w,m,x,M){return arguments.length===1?Z(w):new ft(w,m,x,M==null?1:M)}function ft(w,m,x,M){this.h=+w,this.s=+m,this.l=+x,this.opacity=+M}$n(ft,nt,Sr(yi,{brighter:function(w){return w=w==null?ot:Math.pow(ot,w),new ft(this.h,this.s,this.l*w,this.opacity)},darker:function(w){return w=w==null?di:Math.pow(di,w),new ft(this.h,this.s,this.l*w,this.opacity)},rgb:function(){var w=this.h%360+(this.h<0)*360,m=isNaN(w)||isNaN(this.s)?0:this.s,x=this.l,M=x+(x<.5?x:1-x)*m,_=2*x-M;return new tn(_t(w>=240?w-240:w+120,_,M),_t(w,_,M),_t(w<120?w+240:w-120,_,M),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var w=this.opacity;return w=isNaN(w)?1:Math.max(0,Math.min(1,w)),(w===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(w===1?")":", "+w+")")}}));function _t(w,m,x){return(w<60?m+(x-m)*w/60:w<180?x:w<240?m+(x-m)*(240-w)/60:m)*255}function Ot(w,m,x,M,_){var U=w*w,ut=U*w;return((1-3*w+3*U-ut)*m+(4-6*U+3*ut)*x+(1+3*w+3*U-3*ut)*M+ut*_)/6}function re(w){var m=w.length-1;return function(x){var M=x<=0?x=0:x>=1?(x=1,m-1):Math.floor(x*m),_=w[M],U=w[M+1],ut=M>0?w[M-1]:2*_-U,ht=M<m-1?w[M+2]:2*U-_;return Ot((x-M/m)*m,ut,_,U,ht)}}function Ue(w){var m=w.length;return function(x){var M=Math.floor(((x%=1)<0?++x:x)*m),_=w[(M+m-1)%m],U=w[M%m],ut=w[(M+1)%m],ht=w[(M+2)%m];return Ot((x-M/m)*m,_,U,ut,ht)}}function $e(w){return function(){return w}}function pr(w,m){return function(x){return w+x*m}}function sr(w,m,x){return w=Math.pow(w,x),m=Math.pow(m,x)-w,x=1/x,function(M){return Math.pow(w+M*m,x)}}function Ar(w,m){var x=m-w;return x?pr(w,x>180||x<-180?x-360*Math.round(x/360):x):constant(isNaN(w)?m:w)}function fn(w){return(w=+w)==1?qr:function(m,x){return x-m?sr(m,x,w):$e(isNaN(m)?x:m)}}function qr(w,m){var x=m-w;return x?pr(w,x):$e(isNaN(w)?m:w)}var xn=function w(m){var x=fn(m);function M(_,U){var ut=x((_=yn(_)).r,(U=yn(U)).r),ht=x(_.g,U.g),dt=x(_.b,U.b),ce=qr(_.opacity,U.opacity);return function(le){return _.r=ut(le),_.g=ht(le),_.b=dt(le),_.opacity=ce(le),_+""}}return M.gamma=w,M}(1);function Tn(w){return function(m){var x=m.length,M=new Array(x),_=new Array(x),U=new Array(x),ut,ht;for(ut=0;ut<x;++ut)ht=yn(m[ut]),M[ut]=ht.r||0,_[ut]=ht.g||0,U[ut]=ht.b||0;return M=w(M),_=w(_),U=w(U),ht.opacity=1,function(dt){return ht.r=M(dt),ht.g=_(dt),ht.b=U(dt),ht+""}}}var Gn=Tn(re),On=Tn(Ue);function ri(w,m){m||(m=[]);var x=w?Math.min(m.length,w.length):0,M=m.slice(),_;return function(U){for(_=0;_<x;++_)M[_]=w[_]*(1-U)+m[_]*U;return M}}function _n(w){return ArrayBuffer.isView(w)&&!(w instanceof DataView)}function ai(w,m){return(_n(m)?ri:mn)(w,m)}function mn(w,m){var x=m?m.length:0,M=w?Math.min(x,w.length):0,_=new Array(M),U=new Array(x),ut;for(ut=0;ut<M;++ut)_[ut]=Mi(w[ut],m[ut]);for(;ut<x;++ut)U[ut]=m[ut];return function(ht){for(ut=0;ut<M;++ut)U[ut]=_[ut](ht);return U}}function Un(w,m){var x=new Date;return w=+w,m=+m,function(M){return x.setTime(w*(1-M)+m*M),x}}function ni(w,m){return w=+w,m=+m,function(x){return w*(1-x)+m*x}}function Hn(w,m){var x={},M={},_;(w===null||typeof w!="object")&&(w={}),(m===null||typeof m!="object")&&(m={});for(_ in m)_ in w?x[_]=Mi(w[_],m[_]):M[_]=m[_];return function(U){for(_ in x)M[_]=x[_](U);return M}}var Yn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Er=new RegExp(Yn.source,"g");function Ni(w){return function(){return w}}function bn(w){return function(m){return w(m)+""}}function Li(w,m){var x=Yn.lastIndex=Er.lastIndex=0,M,_,U,ut=-1,ht=[],dt=[];for(w=w+"",m=m+"";(M=Yn.exec(w))&&(_=Er.exec(m));)(U=_.index)>x&&(U=m.slice(x,U),ht[ut]?ht[ut]+=U:ht[++ut]=U),(M=M[0])===(_=_[0])?ht[ut]?ht[ut]+=_:ht[++ut]=_:(ht[++ut]=null,dt.push({i:ut,x:ni(M,_)})),x=Er.lastIndex;return x<m.length&&(U=m.slice(x),ht[ut]?ht[ut]+=U:ht[++ut]=U),ht.length<2?dt[0]?bn(dt[0].x):Ni(m):(m=dt.length,function(ce){for(var le=0,ye;le<m;++le)ht[(ye=dt[le]).i]=ye.x(ce);return ht.join("")})}function Mi(w,m){var x=typeof m,M;return m==null||x==="boolean"?$e(m):(x==="number"?ni:x==="string"?(M=an(m))?(m=M,xn):Li:m instanceof an?xn:m instanceof Date?Un:_n(m)?ri:Array.isArray(m)?mn:typeof m.valueOf!="function"&&typeof m.toString!="function"||isNaN(m)?Hn:ni)(w,m)}function zi(w){return+w}function Jr(w){return w*w}function oi(w){return w*(2-w)}function bi(w){return((w*=2)<=1?w*w:--w*(2-w)+1)/2}function ki(w){return w*w*w}function hi(w){return--w*w*w+1}function Vi(w){return((w*=2)<=1?w*w*w:(w-=2)*w*w+2)/2}var ca=3,Pi=function w(m){m=+m;function x(M){return Math.pow(M,m)}return x.exponent=w,x}(ca),Gi=function w(m){m=+m;function x(M){return 1-Math.pow(1-M,m)}return x.exponent=w,x}(ca),Qn=function w(m){m=+m;function x(M){return((M*=2)<=1?Math.pow(M,m):2-Math.pow(2-M,m))/2}return x.exponent=w,x}(ca),Di=Math.PI,fa=Di/2;function Ia(w){return+w==1?1:1-Math.cos(w*fa)}function za(w){return Math.sin(w*fa)}function ha(w){return(1-Math.cos(Di*w))/2}function vi(w){return(Math.pow(2,-10*w)-.0009765625)*1.0009775171065494}function La(w){return vi(1-+w)}function Va(w){return 1-vi(w)}function va(w){return((w*=2)<=1?vi(1-w):2-vi(w-1))/2}function Ga(w){return 1-Math.sqrt(1-w*w)}function Ua(w){return Math.sqrt(1- --w*w)}function Ui(w){return((w*=2)<=1?1-Math.sqrt(1-w*w):Math.sqrt(1-(w-=2)*w)+1)/2}var Hi=4/11,pa=6/11,Yi=8/11,da=3/4,Ha=9/11,Ya=10/11,ga=15/16,Oi=21/22,ii=63/64,Ji=1/Hi/Hi;function so(w){return 1-Xi(1-w)}function Xi(w){return(w=+w)<Hi?Ji*w*w:w<Yi?Ji*(w-=pa)*w+da:w<Ya?Ji*(w-=Ha)*w+ga:Ji*(w-=Oi)*w+ii}function Y(w){return((w*=2)<=1?1-Xi(1-w):Xi(w-1)+1)/2}var mt=1.70158,zt=function w(m){m=+m;function x(M){return(M=+M)*M*(m*(M-1)+M)}return x.overshoot=w,x}(mt),Gt=function w(m){m=+m;function x(M){return--M*M*((M+1)*m+M)+1}return x.overshoot=w,x}(mt),Ce=function w(m){m=+m;function x(M){return((M*=2)<1?M*M*((m+1)*M-m):(M-=2)*M*((m+1)*M+m)+2)/2}return x.overshoot=w,x}(mt),ir=2*Math.PI,Fr=1,Kr=.3,Jn=function w(m,x){var M=Math.asin(1/(m=Math.max(1,m)))*(x/=ir);function _(U){return m*vi(- --U)*Math.sin((M-U)/x)}return _.amplitude=function(U){return w(U,x*ir)},_.period=function(U){return w(m,U)},_}(Fr,Kr),Xn=function w(m,x){var M=Math.asin(1/(m=Math.max(1,m)))*(x/=ir);function _(U){return 1-m*vi(U=+U)*Math.sin((U+M)/x)}return _.amplitude=function(U){return w(U,x*ir)},_.period=function(U){return w(m,U)},_}(Fr,Kr),In=function w(m,x){var M=Math.asin(1/(m=Math.max(1,m)))*(x/=ir);function _(U){return((U=U*2-1)<0?m*vi(-U)*Math.sin((M-U)/x):2-m*vi(U)*Math.sin((M+U)/x))/2}return _.amplitude=function(U){return w(U,x*ir)},_.period=function(U){return w(m,U)},_}(Fr,Kr),G={};function A(w){return G[w.toLowerCase()]||wt[w]}function f(w,m){G[w.toLowerCase()]=m}var g=function(w){return["fill","stroke","fillStyle","strokeStyle"].includes(w)},b=function(w){return/^[r,R,L,l]{1}[\s]*\(/.test(w)},F=[1,0,0,0,1,0,0,0,1];function z(w,m,x){var M={},_=m.fromAttrs,U=m.toAttrs;if(!w.destroyed){var ut;for(var ht in U)if(!(0,d.Xy)(_[ht],U[ht]))if(ht==="path"){var dt=U[ht],ce=_[ht];dt.length>ce.length?(dt=Ae(U[ht]),ce=Ae(_[ht]),ce=oe(ce,dt),ce=Re(ce,dt),m.fromAttrs.path=ce,m.toAttrs.path=dt):m.pathFormatted||(dt=Ae(U[ht]),ce=Ae(_[ht]),ce=Re(ce,dt),m.fromAttrs.path=ce,m.toAttrs.path=dt,m.pathFormatted=!0),M[ht]=[];for(var le=0;le<dt.length;le++){for(var ye=dt[le],rr=ce[le],tr=[],Le=0;Le<ye.length;Le++)(0,d.hj)(ye[Le])&&rr&&(0,d.hj)(rr[Le])?(ut=Mi(rr[Le],ye[Le]),tr.push(ut(x))):tr.push(ye[Le]);M[ht].push(tr)}}else if(ht==="matrix"){var Tr=ai(_[ht]||F,U[ht]||F),Dr=Tr(x);M[ht]=Dr}else g(ht)&&b(U[ht])?M[ht]=U[ht]:(0,d.mf)(U[ht])||(ut=Mi(_[ht],U[ht]),M[ht]=ut(x));w.attr(M)}}function W(w,m,x){var M=m.startTime,_=m.delay;if(x<M+_||m._paused)return!1;var U,ut=m.duration,ht=m.easing,dt=A(ht);if(x=x-M-m.delay,m.repeat)U=x%ut/ut,U=dt(U);else if(U=x/ut,U<1)U=dt(U);else return m.onFrame?w.attr(m.onFrame(1)):w.attr(m.toAttrs),!0;if(m.onFrame){var ce=m.onFrame(U);w.attr(ce)}else z(w,m,U);return!1}var at=function(){function w(m){this.animators=[],this.current=0,this.timer=null,this.canvas=m}return w.prototype.initTimer=function(){var m=this,x=!1,M,_,U;this.timer=Sn(function(ut){if(m.current=ut,m.animators.length>0){for(var ht=m.animators.length-1;ht>=0;ht--){if(M=m.animators[ht],M.destroyed){m.removeAnimator(ht);continue}if(!M.isAnimatePaused()){_=M.get("animations");for(var dt=_.length-1;dt>=0;dt--)U=_[dt],x=W(M,U,ut),x&&(_.splice(dt,1),x=!1,U.callback&&U.callback())}_.length===0&&m.removeAnimator(ht)}var ce=m.canvas.get("autoDraw");ce||m.canvas.draw()}})},w.prototype.addAnimator=function(m){this.animators.push(m)},w.prototype.removeAnimator=function(m){this.animators.splice(m,1)},w.prototype.isAnimating=function(){return!!this.animators.length},w.prototype.stop=function(){this.timer&&this.timer.stop()},w.prototype.stopAllAnimations=function(m){m===void 0&&(m=!0),this.animators.forEach(function(x){x.stopAnimate(m)}),this.animators=[],this.canvas.draw()},w.prototype.getTime=function(){return this.current},w}(),vt=at,bt=40,kt=0,jt=":",he=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function qe(w,m){for(var x in w)if(w.hasOwnProperty(x)&&x.indexOf(jt+m)>=0)return!0;return!1}function ur(w,m,x){x.name=m,x.target=w,x.currentTarget=w,x.delegateTarget=w,w.emit(m,x)}function Cr(w,m,x){if(x.bubbles){var M=void 0,_=!1;if(m==="mouseenter"?(M=x.fromShape,_=!0):m==="mouseleave"&&(_=!0,M=x.toShape),w.isCanvas()&&_)return;if(M&&C(w,M)){x.bubbles=!1;return}x.name=m,x.currentTarget=w,x.delegateTarget=w,w.emit(m,x)}}var kr=function(){function w(m){var x=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(M){var _=M.type;x._triggerEvent(_,M)},this._onDocumentMove=function(M){var _=x.canvas,U=_.get("el");if(U!==M.target&&(x.dragging||x.currentShape)){var ut=x._getPointInfo(M);x.dragging&&x._emitEvent("drag",M,ut,x.draggingShape)}},this._onDocumentMouseUp=function(M){var _=x.canvas,U=_.get("el");if(U!==M.target&&x.dragging){var ut=x._getPointInfo(M);x.draggingShape&&x._emitEvent("drop",M,ut,null),x._emitEvent("dragend",M,ut,x.draggingShape),x._afterDrag(x.draggingShape,ut,M)}},this.canvas=m.canvas}return w.prototype.init=function(){this._bindEvents()},w.prototype._bindEvents=function(){var m=this,x=this.canvas.get("el");(0,d.S6)(he,function(M){x.addEventListener(M,m._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},w.prototype._clearEvents=function(){var m=this,x=this.canvas.get("el");(0,d.S6)(he,function(M){x.removeEventListener(M,m._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},w.prototype._getEventObj=function(m,x,M,_,U,ut){var ht=new we(m,x);return ht.fromShape=U,ht.toShape=ut,ht.x=M.x,ht.y=M.y,ht.clientX=M.clientX,ht.clientY=M.clientY,ht.propagationPath.push(_),ht},w.prototype._getShape=function(m,x){return this.canvas.getShape(m.x,m.y,x)},w.prototype._getPointInfo=function(m){var x=this.canvas,M=x.getClientByEvent(m),_=x.getPointByEvent(m);return{x:_.x,y:_.y,clientX:M.x,clientY:M.y}},w.prototype._triggerEvent=function(m,x){var M=this._getPointInfo(x),_=this._getShape(M,x),U=this["_on"+m],ut=!1;if(U)U.call(this,M,_,x);else{var ht=this.currentShape;m==="mouseenter"||m==="dragenter"||m==="mouseover"?(this._emitEvent(m,x,M,null,null,_),_&&this._emitEvent(m,x,M,_,null,_),m==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",x,M,null)):m==="mouseleave"||m==="dragleave"||m==="mouseout"?(ut=!0,ht&&this._emitEvent(m,x,M,ht,ht,null),this._emitEvent(m,x,M,null,ht,null),m==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",x,M,null)):this._emitEvent(m,x,M,_,null,null)}if(ut||(this.currentShape=_),_&&!_.get("destroyed")){var dt=this.canvas,ce=dt.get("el");ce.style.cursor=_.attr("cursor")||dt.get("cursor")}},w.prototype._onmousedown=function(m,x,M){M.button===kt&&(this.mousedownShape=x,this.mousedownPoint=m,this.mousedownTimeStamp=M.timeStamp),this._emitEvent("mousedown",M,m,x,null,null)},w.prototype._emitMouseoverEvents=function(m,x,M,_){var U=this.canvas.get("el");M!==_&&(M&&(this._emitEvent("mouseout",m,x,M,M,_),this._emitEvent("mouseleave",m,x,M,M,_),(!_||_.get("destroyed"))&&(U.style.cursor=this.canvas.get("cursor"))),_&&(this._emitEvent("mouseover",m,x,_,M,_),this._emitEvent("mouseenter",m,x,_,M,_)))},w.prototype._emitDragoverEvents=function(m,x,M,_,U){_?(_!==M&&(M&&this._emitEvent("dragleave",m,x,M,M,_),this._emitEvent("dragenter",m,x,_,M,_)),U||this._emitEvent("dragover",m,x,_)):M&&this._emitEvent("dragleave",m,x,M,M,_),U&&this._emitEvent("dragover",m,x,_)},w.prototype._afterDrag=function(m,x,M){m&&(m.set("capture",!0),this.draggingShape=null),this.dragging=!1;var _=this._getShape(x,M);_!==m&&this._emitMouseoverEvents(M,x,m,_),this.currentShape=_},w.prototype._onmouseup=function(m,x,M){if(M.button===kt){var _=this.draggingShape;this.dragging?(_&&this._emitEvent("drop",M,m,x),this._emitEvent("dragend",M,m,_),this._afterDrag(_,m,M)):(this._emitEvent("mouseup",M,m,x),x===this.mousedownShape&&this._emitEvent("click",M,m,x),this.mousedownShape=null,this.mousedownPoint=null)}},w.prototype._ondragover=function(m,x,M){M.preventDefault();var _=this.currentShape;this._emitDragoverEvents(M,m,_,x,!0)},w.prototype._onmousemove=function(m,x,M){var _=this.canvas,U=this.currentShape,ut=this.draggingShape;if(this.dragging)ut&&this._emitDragoverEvents(M,m,U,x,!1),this._emitEvent("drag",M,m,ut);else{var ht=this.mousedownPoint;if(ht){var dt=this.mousedownShape,ce=M.timeStamp,le=ce-this.mousedownTimeStamp,ye=ht.clientX-m.clientX,rr=ht.clientY-m.clientY,tr=ye*ye+rr*rr;le>120||tr>bt?dt&&dt.get("draggable")?(ut=this.mousedownShape,ut.set("capture",!1),this.draggingShape=ut,this.dragging=!0,this._emitEvent("dragstart",M,m,ut),this.mousedownShape=null,this.mousedownPoint=null):!dt&&_.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",M,m,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(M,m,U,x),this._emitEvent("mousemove",M,m,x)):(this._emitMouseoverEvents(M,m,U,x),this._emitEvent("mousemove",M,m,x))}else this._emitMouseoverEvents(M,m,U,x),this._emitEvent("mousemove",M,m,x)}},w.prototype._emitEvent=function(m,x,M,_,U,ut){var ht=this._getEventObj(m,x,M,_,U,ut);if(_){ht.shape=_,ur(_,m,ht);for(var dt=_.getParent();dt;)dt.emitDelegation(m,ht),ht.propagationStopped||Cr(dt,m,ht),ht.propagationPath.push(dt),dt=dt.getParent()}else{var ce=this.canvas;ur(ce,m,ht)}},w.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},w}(),Ur=kr,cn="px",on=(0,R.qY)(),Ln=on&&on.name==="firefox",kn=function(w){(0,or.ZT)(m,w);function m(x){var M=w.call(this,x)||this;return M.initContainer(),M.initDom(),M.initEvents(),M.initTimeline(),M}return m.prototype.getDefaultCfg=function(){var x=w.prototype.getDefaultCfg.call(this);return x.cursor="default",x.supportCSSTransform=!1,x},m.prototype.initContainer=function(){var x=this.get("container");(0,d.HD)(x)&&(x=document.getElementById(x),this.set("container",x))},m.prototype.initDom=function(){var x=this.createDom();this.set("el",x);var M=this.get("container");M.appendChild(x),this.setDOMSize(this.get("width"),this.get("height"))},m.prototype.initEvents=function(){var x=new Ur({canvas:this});x.init(),this.set("eventController",x)},m.prototype.initTimeline=function(){var x=new vt(this);this.set("timeline",x)},m.prototype.setDOMSize=function(x,M){var _=this.get("el");P&&(_.style.width=x+cn,_.style.height=M+cn)},m.prototype.changeSize=function(x,M){this.setDOMSize(x,M),this.set("width",x),this.set("height",M),this.onCanvasChange("changeSize")},m.prototype.getRenderer=function(){return this.get("renderer")},m.prototype.getCursor=function(){return this.get("cursor")},m.prototype.setCursor=function(x){this.set("cursor",x);var M=this.get("el");P&&M&&(M.style.cursor=x)},m.prototype.getPointByEvent=function(x){var M=this.get("supportCSSTransform");if(M){if(Ln&&!(0,d.UM)(x.layerX)&&x.layerX!==x.offsetX)return{x:x.layerX,y:x.layerY};if(!(0,d.UM)(x.offsetX))return{x:x.offsetX,y:x.offsetY}}var _=this.getClientByEvent(x),U=_.x,ut=_.y;return this.getPointByClient(U,ut)},m.prototype.getClientByEvent=function(x){var M=x;return x.touches&&(x.type==="touchend"?M=x.changedTouches[0]:M=x.touches[0]),{x:M.clientX,y:M.clientY}},m.prototype.getPointByClient=function(x,M){var _=this.get("el"),U=_.getBoundingClientRect();return{x:x-U.left,y:M-U.top}},m.prototype.getClientByPoint=function(x,M){var _=this.get("el"),U=_.getBoundingClientRect();return{x:x+U.left,y:M+U.top}},m.prototype.draw=function(){},m.prototype.removeDom=function(){var x=this.get("el");x.parentNode.removeChild(x)},m.prototype.clearEvents=function(){var x=this.get("eventController");x.destroy()},m.prototype.isCanvas=function(){return!0},m.prototype.getParent=function(){return null},m.prototype.destroy=function(){var x=this.get("timeline");this.get("destroyed")||(this.clear(),x&&x.stop(),this.clearEvents(),this.removeDom(),w.prototype.destroy.call(this))},m}(Mr),Bn=kn,pi=function(w){(0,or.ZT)(m,w);function m(){return w!==null&&w.apply(this,arguments)||this}return m.prototype.isGroup=function(){return!0},m.prototype.isEntityGroup=function(){return!1},m.prototype.clone=function(){for(var x=w.prototype.clone.call(this),M=this.getChildren(),_=0;_<M.length;_++){var U=M[_];x.add(U.clone())}return x},m}(Mr),Cn=pi,ti=function(w){(0,or.ZT)(m,w);function m(x){return w.call(this,x)||this}return m.prototype._isInBBox=function(x,M){var _=this.getBBox();return _.minX<=x&&_.maxX>=x&&_.minY<=M&&_.maxY>=M},m.prototype.afterAttrsChange=function(x){w.prototype.afterAttrsChange.call(this,x),this.clearCacheBBox()},m.prototype.getBBox=function(){var x=this.cfg.bbox;return x||(x=this.calculateBBox(),this.set("bbox",x)),x},m.prototype.getCanvasBBox=function(){var x=this.cfg.canvasBBox;return x||(x=this.calculateCanvasBBox(),this.set("canvasBBox",x)),x},m.prototype.applyMatrix=function(x){w.prototype.applyMatrix.call(this,x),this.set("canvasBBox",null)},m.prototype.calculateCanvasBBox=function(){var x=this.getBBox(),M=this.getTotalMatrix(),_=x.minX,U=x.minY,ut=x.maxX,ht=x.maxY;if(M){var dt=st(M,[x.minX,x.minY]),ce=st(M,[x.maxX,x.minY]),le=st(M,[x.minX,x.maxY]),ye=st(M,[x.maxX,x.maxY]);_=Math.min(dt[0],ce[0],le[0],ye[0]),ut=Math.max(dt[0],ce[0],le[0],ye[0]),U=Math.min(dt[1],ce[1],le[1],ye[1]),ht=Math.max(dt[1],ce[1],le[1],ye[1])}var rr=this.attrs;if(rr.shadowColor){var tr=rr.shadowBlur,Le=tr===void 0?0:tr,Tr=rr.shadowOffsetX,Dr=Tr===void 0?0:Tr,br=rr.shadowOffsetY,Zr=br===void 0?0:br,mr=_-Le+Dr,ar=ut+Le+Dr,Hr=U-Le+Zr,Fn=ht+Le+Zr;_=Math.min(_,mr),ut=Math.max(ut,ar),U=Math.min(U,Hr),ht=Math.max(ht,Fn)}return{x:_,y:U,minX:_,minY:U,maxX:ut,maxY:ht,width:ut-_,height:ht-U}},m.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},m.prototype.isClipShape=function(){return this.get("isClipShape")},m.prototype.isInShape=function(x,M){return!1},m.prototype.isOnlyHitBox=function(){return!1},m.prototype.isHit=function(x,M){var _=this.get("startArrowShape"),U=this.get("endArrowShape"),ut=[x,M,1];ut=this.invertFromMatrix(ut);var ht=ut[0],dt=ut[1],ce=this._isInBBox(ht,dt);return this.isOnlyHitBox()?ce:!!(ce&&!this.isClipped(ht,dt)&&(this.isInShape(ht,dt)||_&&_.isHit(ht,dt)||U&&U.isHit(ht,dt)))},m}(de),Ci=ti,mi=new Map;function Nn(w,m){mi.set(w,m)}function en(w){return mi.get(w)}function ya(w){var m=w.attr(),x=m.x,M=m.y,_=m.width,U=m.height;return{x,y:M,width:_,height:U}}function Xa(w){var m=w.attr(),x=m.x,M=m.y,_=m.r;return{x:x-_,y:M-_,width:_*2,height:_*2}}var Wi=Rt(89838);function Zi(w,m){return!w||!m?w||m:{minX:Math.min(w.minX,m.minX),minY:Math.min(w.minY,m.minY),maxX:Math.max(w.maxX,m.maxX),maxY:Math.max(w.maxY,m.maxY)}}function ma(w,m){var x=w.get("startArrowShape"),M=w.get("endArrowShape"),_=null,U=null;return x&&(_=x.getCanvasBBox(),m=Zi(m,_)),M&&(U=M.getCanvasBBox(),m=Zi(m,U)),m}function lo(w){for(var m=w.attr(),x=m.points,M=[],_=[],U=0;U<x.length;U++){var ut=x[U];M.push(ut[0]),_.push(ut[1])}var ht=Wi.Zr.getBBoxByArray(M,_),dt=ht.x,ce=ht.y,le=ht.width,ye=ht.height,rr={minX:dt,minY:ce,maxX:dt+le,maxY:ce+ye};return rr=ma(w,rr),{x:rr.minX,y:rr.minY,width:rr.maxX-rr.minX,height:rr.maxY-rr.minY}}function xi(w){for(var m=w.attr(),x=m.points,M=[],_=[],U=0;U<x.length;U++){var ut=x[U];M.push(ut[0]),_.push(ut[1])}return Wi.Zr.getBBoxByArray(M,_)}var Ki=null;function Qi(){if(!Ki){var w=document.createElement("canvas");w.width=1,w.height=1,Ki=w.getContext("2d")}return Ki}function ts(w,m,x){var M=1;if((0,d.HD)(w)&&(M=w.split(`
`).length),M>1){var _=Lo(m,x);return m*M+_*(M-1)}return m}function Lo(w,m){return m?m-w:w*.14}function ku(w,m){var x=Qi(),M=0;if((0,d.UM)(w)||w==="")return M;if(x.save(),x.font=m,(0,d.HD)(w)&&w.includes(`
`)){var _=w.split(`
`);(0,d.S6)(_,function(U){var ut=x.measureText(U).width;M<ut&&(M=ut)})}else M=x.measureText(w).width;return x.restore(),M}function es(w){var m=w.fontSize,x=w.fontFamily,M=w.fontWeight,_=w.fontStyle,U=w.fontVariant;return[_,U,M,m+"px",x].join(" ").trim()}function ta(w){var m=w.attr(),x=m.x,M=m.y,_=m.text,U=m.fontSize,ut=m.lineHeight,ht=m.font;ht||(ht=es(m));var dt=ku(_,ht),ce;if(!dt)ce={x,y:M,width:0,height:0};else{var le=m.textAlign,ye=m.textBaseline,rr=ts(_,U,ut),tr={x,y:M-rr};le&&(le==="end"||le==="right"?tr.x-=dt:le==="center"&&(tr.x-=dt/2)),ye&&(ye==="top"?tr.y+=rr:ye==="middle"&&(tr.y+=rr/2)),ce={x:tr.x,y:tr.y,width:dt,height:rr}}return ce}var rs=Rt(80389);function rl(w,m){for(var x=[],M=[],_=[],U=0;U<w.length;U++){var ut=w[U],ht=ut.currentPoint,dt=ut.params,ce=ut.prePoint,le=void 0;switch(ut.command){case"Q":le=Wi.lD.box(ce[0],ce[1],dt[1],dt[2],dt[3],dt[4]);break;case"C":le=Wi.Ll.box(ce[0],ce[1],dt[1],dt[2],dt[3],dt[4],dt[5],dt[6]);break;case"A":var ye=ut.arcParams;le=Wi.wN.box(ye.cx,ye.cy,ye.rx,ye.ry,ye.xRotation,ye.startAngle,ye.endAngle);break;default:x.push(ht[0]),M.push(ht[1]);break}le&&(ut.box=le,x.push(le.x,le.x+le.width),M.push(le.y,le.y+le.height)),m&&(ut.command==="L"||ut.command==="M")&&ut.prePoint&&ut.nextPoint&&_.push(ut)}x=x.filter(function(br){return!Number.isNaN(br)&&br!==Infinity&&br!==-Infinity}),M=M.filter(function(br){return!Number.isNaN(br)&&br!==Infinity&&br!==-Infinity});var rr=(0,d.VV)(x),tr=(0,d.VV)(M),Le=(0,d.Fp)(x),Tr=(0,d.Fp)(M);if(_.length===0)return{x:rr,y:tr,width:Le-rr,height:Tr-tr};for(var U=0;U<_.length;U++){var ut=_[U],ht=ut.currentPoint,Dr=void 0;ht[0]===rr?(Dr=uo(ut,m),rr=rr-Dr.xExtra):ht[0]===Le&&(Dr=uo(ut,m),Le=Le+Dr.xExtra),ht[1]===tr?(Dr=uo(ut,m),tr=tr-Dr.yExtra):ht[1]===Tr&&(Dr=uo(ut,m),Tr=Tr+Dr.yExtra)}return{x:rr,y:tr,width:Le-rr,height:Tr-tr}}function uo(w,m){var x=w.prePoint,M=w.currentPoint,_=w.nextPoint,U=Math.pow(M[0]-x[0],2)+Math.pow(M[1]-x[1],2),ut=Math.pow(M[0]-_[0],2)+Math.pow(M[1]-_[1],2),ht=Math.pow(x[0]-_[0],2)+Math.pow(x[1]-_[1],2),dt=Math.acos((U+ut-ht)/(2*Math.sqrt(U)*Math.sqrt(ut)));if(!dt||Math.sin(dt)===0||(0,d.vQ)(dt,0))return{xExtra:0,yExtra:0};var ce=Math.abs(Math.atan2(_[1]-M[1],_[0]-M[0])),le=Math.abs(Math.atan2(_[0]-M[0],_[1]-M[1]));ce=ce>Math.PI/2?Math.PI-ce:ce,le=le>Math.PI/2?Math.PI-le:le;var ye={xExtra:Math.cos(dt/2-ce)*(m/2*(1/Math.sin(dt/2)))-m/2||0,yExtra:Math.cos(le-dt/2)*(m/2*(1/Math.sin(dt/2)))-m/2||0};return ye}function ns(w){var m=w.attr(),x=m.path,M=m.stroke,_=M?m.lineWidth:0,U=w.get("segments")||(0,rs.zx)(x),ut=rl(U,_),ht=ut.x,dt=ut.y,ce=ut.width,le=ut.height,ye={minX:ht,minY:dt,maxX:ht+ce,maxY:dt+le};return ye=ma(w,ye),{x:ye.minX,y:ye.minY,width:ye.maxX-ye.minX,height:ye.maxY-ye.minY}}function nl(w){var m=w.attr(),x=m.x1,M=m.y1,_=m.x2,U=m.y2,ut=Math.min(x,_),ht=Math.max(x,_),dt=Math.min(M,U),ce=Math.max(M,U),le={minX:ut,maxX:ht,minY:dt,maxY:ce};return le=ma(w,le),{x:le.minX,y:le.minY,width:le.maxX-le.minX,height:le.maxY-le.minY}}function il(w){var m=w.attr(),x=m.x,M=m.y,_=m.rx,U=m.ry;return{x:x-_,y:M-U,width:_*2,height:U*2}}Nn("rect",ya),Nn("image",ya),Nn("circle",Xa),Nn("marker",Xa),Nn("polyline",lo),Nn("polygon",xi),Nn("text",ta),Nn("path",ns),Nn("line",nl),Nn("ellipse",il);var al="0.5.11"},13063:function(Wr,cr,Rt){"use strict";Rt.r(cr),Rt.d(cr,{AbstractCanvas:function(){return d.$Z},AbstractGroup:function(){return d.pA},AbstractShape:function(){return d.zr},Base:function(){return d.XY},Canvas:function(){return yi},Event:function(){return d.ju},Group:function(){return L},PathUtil:function(){return d.Gk},Shape:function(){return Xt},assembleFont:function(){return d.$O},getArcParams:function(){return Ne},getBBoxMethod:function(){return d.bj},getOffScreenContext:function(){return d.LF},getTextHeight:function(){return d.FE},invert:function(){return d.U_},isAllowCapture:function(){return d.pP},multiplyVec2:function(){return d.rG},registerBBox:function(){return d.WZ},registerEasing:function(){return d.CW},version:function(){return di}});var Xt={};Rt.r(Xt),Rt.d(Xt,{Base:function(){return T},Circle:function(){return j},Ellipse:function(){return Bt},Image:function(){return me},Line:function(){return yt},Marker:function(){return ue},Path:function(){return ct},Polygon:function(){return ne},Polyline:function(){return Ie},Rect:function(){return Sn},Text:function(){return Kn}});var wt=Rt(70655),d=Rt(3232),c=Rt(41694);function Ee(){return window?window.devicePixelRatio:1}function Tt(ot,H,I,V){var $=ot-I,gt=H-V;return Math.sqrt($*$+gt*gt)}function Ae(ot,H,I,V,$,gt){return $>=ot&&$<=ot+I&&gt>=H&&gt<=H+V}function pe(ot,H){return!(H.minX>ot.maxX||H.maxX<ot.minX||H.minY>ot.maxY||H.maxY<ot.minY)}function se(ot,H){return!ot||!H?ot||H:{minX:Math.min(ot.minX,H.minX),minY:Math.min(ot.minY,H.minY),maxX:Math.max(ot.maxX,H.maxX),maxY:Math.max(ot.maxY,H.maxY)}}function Ye(ot,H){return ot[0]===H[0]&&ot[1]===H[1]}var Be=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Ct=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,rt=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Jt=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function fe(ot,H){var I=ot.match(Jt);(0,c.S6)(I,function(V){var $=V.split(":");H.addColorStop($[0],$[1])})}function ke(ot,H,I){var V=Be.exec(I),$=parseFloat(V[1])%360*(Math.PI/180),gt=V[2],Et=H.getBBox(),Ut,Oe;$>=0&&$<1/2*Math.PI?(Ut={x:Et.minX,y:Et.minY},Oe={x:Et.maxX,y:Et.maxY}):1/2*Math.PI<=$&&$<Math.PI?(Ut={x:Et.maxX,y:Et.minY},Oe={x:Et.minX,y:Et.maxY}):Math.PI<=$&&$<3/2*Math.PI?(Ut={x:Et.maxX,y:Et.maxY},Oe={x:Et.minX,y:Et.minY}):(Ut={x:Et.minX,y:Et.maxY},Oe={x:Et.maxX,y:Et.minY});var je=Math.tan($),Je=je*je,ze=(Oe.x-Ut.x+je*(Oe.y-Ut.y))/(Je+1)+Ut.x,vr=je*(Oe.x-Ut.x+je*(Oe.y-Ut.y))/(Je+1)+Ut.y,Lr=ot.createLinearGradient(Ut.x,Ut.y,ze,vr);return fe(gt,Lr),Lr}function Pe(ot,H,I){var V=Ct.exec(I),$=parseFloat(V[1]),gt=parseFloat(V[2]),Et=parseFloat(V[3]),Ut=V[4];if(Et===0){var Oe=Ut.match(Jt);return Oe[Oe.length-1].split(":")[1]}var je=H.getBBox(),Je=je.maxX-je.minX,ze=je.maxY-je.minY,vr=Math.sqrt(Je*Je+ze*ze)/2,Lr=ot.createRadialGradient(je.minX+Je*$,je.minY+ze*gt,0,je.minX+Je/2,je.minY+ze/2,Et*vr);return fe(Ut,Lr),Lr}function Me(ot,H,I){if(H.get("patternSource")&&H.get("patternSource")===I)return H.get("pattern");var V,$,gt=rt.exec(I),Et=gt[1],Ut=gt[2];function Oe(){V=ot.createPattern($,Et),H.set("pattern",V),H.set("patternSource",I)}switch(Et){case"a":Et="repeat";break;case"x":Et="repeat-x";break;case"y":Et="repeat-y";break;case"n":Et="no-repeat";break;default:Et="no-repeat"}return $=new Image,Ut.match(/^data:/i)||($.crossOrigin="Anonymous"),$.src=Ut,$.complete?Oe():($.onload=Oe,$.src=$.src),V}function _e(ot,H,I){var V=H.getBBox();if(isNaN(V.x)||isNaN(V.y)||isNaN(V.width)||isNaN(V.height))return I;if((0,c.HD)(I)){if(I[1]==="("||I[2]==="("){if(I[0]==="l")return ke(ot,H,I);if(I[0]==="r")return Pe(ot,H,I);if(I[0]==="p")return Me(ot,H,I)}return I}if(I instanceof CanvasPattern)return I}function Nt(ot){var H=0,I=0,V=0,$=0;return(0,c.kJ)(ot)?ot.length===1?H=I=V=$=ot[0]:ot.length===2?(H=V=ot[0],I=$=ot[1]):ot.length===3?(H=ot[0],I=$=ot[1],V=ot[2]):(H=ot[0],I=ot[1],V=ot[2],$=ot[3]):H=I=V=$=ot,[H,I,V,$]}function Ht(ot){return Math.sqrt(ot[0]*ot[0]+ot[1]*ot[1])}function be(ot,H){return Ht(ot)*Ht(H)?(ot[0]*H[0]+ot[1]*H[1])/(Ht(ot)*Ht(H)):1}function Se(ot,H){return(ot[0]*H[1]<ot[1]*H[0]?-1:1)*Math.acos(be(ot,H))}function Ne(ot,H){var I=H[1],V=H[2],$=(0,c.wQ)((0,c.c$)(H[3]),Math.PI*2),gt=H[4],Et=H[5],Ut=ot[0],Oe=ot[1],je=H[6],Je=H[7],ze=Math.cos($)*(Ut-je)/2+Math.sin($)*(Oe-Je)/2,vr=-1*Math.sin($)*(Ut-je)/2+Math.cos($)*(Oe-Je)/2,Lr=ze*ze/(I*I)+vr*vr/(V*V);Lr>1&&(I*=Math.sqrt(Lr),V*=Math.sqrt(Lr));var $r=I*I*(vr*vr)+V*V*(ze*ze),an=$r?Math.sqrt((I*I*(V*V)-$r)/$r):1;gt===Et&&(an*=-1),isNaN(an)&&(an=0);var Mn=V?an*I*vr/V:0,ln=I?an*-V*ze/I:0,En=(Ut+je)/2+Math.cos($)*Mn-Math.sin($)*ln,yn=(Oe+Je)/2+Math.sin($)*Mn+Math.cos($)*ln,tn=[(ze-Mn)/I,(vr-ln)/V],Dn=[(-1*ze-Mn)/I,(-1*vr-ln)/V],hn=Se([1,0],tn),wn=Se(tn,Dn);return be(tn,Dn)<=-1&&(wn=Math.PI),be(tn,Dn)>=1&&(wn=0),Et===0&&wn>0&&(wn=wn-2*Math.PI),Et===1&&wn<0&&(wn=wn+2*Math.PI),{cx:En,cy:yn,rx:Ye(ot,[je,Je])?0:I,ry:Ye(ot,[je,Je])?0:V,startAngle:hn,endAngle:hn+wn,xRotation:$,arcFlag:gt,sweepFlag:Et}}var lr=Math.sin,fr=Math.cos,Yt=Math.atan2,xt=Math.PI;function Lt(ot,H,I,V,$,gt,Et){var Ut=H.stroke,Oe=H.lineWidth,je=I-$,Je=V-gt,ze=Yt(Je,je),vr=new ct({type:"path",canvas:ot.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*fr(xt/6)+","+10*lr(xt/6)+" L0,0 L"+10*fr(xt/6)+",-"+10*lr(xt/6),stroke:Ut,lineWidth:Oe}});vr.translate($,gt),vr.rotateAtPoint($,gt,ze),ot.set(Et?"startArrowShape":"endArrowShape",vr)}function It(ot,H,I,V,$,gt,Et){var Ut=H.startArrow,Oe=H.endArrow,je=H.stroke,Je=H.lineWidth,ze=Et?Ut:Oe,vr=ze.d,Lr=ze.fill,$r=ze.stroke,an=ze.lineWidth,Mn=(0,wt._T)(ze,["d","fill","stroke","lineWidth"]),ln=I-$,En=V-gt,yn=Yt(En,ln);vr&&($=$-fr(yn)*vr,gt=gt-lr(yn)*vr);var tn=new ct({type:"path",canvas:ot.get("canvas"),isArrowShape:!0,attrs:(0,wt.pi)((0,wt.pi)({},Mn),{stroke:$r||je,lineWidth:an||Je,fill:Lr})});tn.translate($,gt),tn.rotateAtPoint($,gt,yn),ot.set(Et?"startArrowShape":"endArrowShape",tn)}function Ft(ot,H,I,V,$){var gt=Yt(V-H,I-ot);return{dx:fr(gt)*$,dy:lr(gt)*$}}function At(ot,H,I,V,$,gt){typeof H.startArrow=="object"?It(ot,H,I,V,$,gt,!0):H.startArrow?Lt(ot,H,I,V,$,gt,!0):ot.set("startArrowShape",null)}function B(ot,H,I,V,$,gt){typeof H.endArrow=="object"?It(ot,H,I,V,$,gt,!1):H.endArrow?Lt(ot,H,I,V,$,gt,!1):ot.set("startArrowShape",null)}var K={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function Pt(ot,H){var I=H.attr();for(var V in I){var $=I[V],gt=K[V]?K[V]:V;gt==="matrix"&&$?ot.transform($[0],$[1],$[3],$[4],$[6],$[7]):gt==="lineDash"&&ot.setLineDash?(0,c.kJ)($)&&ot.setLineDash($):(gt==="strokeStyle"||gt==="fillStyle"?$=_e(ot,H,$):gt==="globalAlpha"&&($=$*ot.globalAlpha),ot[gt]=$)}}function xe(ot,H,I){for(var V=0;V<H.length;V++){var $=H[V];$.cfg.visible?$.draw(ot,I):$.skipDraw()}}function oe(ot,H,I){var V=ot.get("refreshElements");(0,c.S6)(V,function($){if($!==ot)for(var gt=$.cfg.parent;gt&&gt!==ot&&!gt.cfg.refresh;)gt.cfg.refresh=!0,gt=gt.cfg.parent}),V[0]===ot?Re(H,I):Ve(H,I)}function Ve(ot,H){for(var I=0;I<ot.length;I++){var V=ot[I];if(V.cfg.visible)if(V.cfg.hasChanged)V.cfg.refresh=!0,V.isGroup()&&Re(V.cfg.children,H);else if(V.cfg.refresh)V.isGroup()&&Ve(V.cfg.children,H);else{var $=Ke(V,H);V.cfg.refresh=$,$&&V.isGroup()&&Ve(V.cfg.children,H)}}}function Xe(ot){for(var H=0;H<ot.length;H++){var I=ot[H];I.cfg.hasChanged=!1,I.isGroup()&&!I.destroyed&&Xe(I.cfg.children)}}function Re(ot,H){for(var I=0;I<ot.length;I++){var V=ot[I];V.cfg.refresh=!0,V.isGroup()&&Re(V.get("children"),H)}}function Ke(ot,H){var I=ot.cfg.cacheCanvasBBox,V=ot.cfg.isInView&&I&&pe(I,H);return V}function we(ot,H,I,V){var $=I.path,gt=I.startArrow,Et=I.endArrow;if(!!$){var Ut=[0,0],Oe=[0,0],je={dx:0,dy:0};H.beginPath();for(var Je=0;Je<$.length;Je++){var ze=$[Je],vr=ze[0];if(Je===0&&gt&&gt.d){var Lr=ot.getStartTangent();je=Ft(Lr[0][0],Lr[0][1],Lr[1][0],Lr[1][1],gt.d)}else if(Je===$.length-2&&$[Je+1][0]==="Z"&&Et&&Et.d){var $r=$[Je+1];if($r[0]==="Z"){var Lr=ot.getEndTangent();je=Ft(Lr[0][0],Lr[0][1],Lr[1][0],Lr[1][1],Et.d)}}else if(Je===$.length-1&&Et&&Et.d&&$[0]!=="Z"){var Lr=ot.getEndTangent();je=Ft(Lr[0][0],Lr[0][1],Lr[1][0],Lr[1][1],Et.d)}var an=je.dx,Mn=je.dy;switch(vr){case"M":H.moveTo(ze[1]-an,ze[2]-Mn),Oe=[ze[1],ze[2]];break;case"L":H.lineTo(ze[1]-an,ze[2]-Mn);break;case"Q":H.quadraticCurveTo(ze[1],ze[2],ze[3]-an,ze[4]-Mn);break;case"C":H.bezierCurveTo(ze[1],ze[2],ze[3],ze[4],ze[5]-an,ze[6]-Mn);break;case"A":{var ln=void 0;V?(ln=V[Je],ln||(ln=Ne(Ut,ze),V[Je]=ln)):ln=Ne(Ut,ze);var En=ln.cx,yn=ln.cy,tn=ln.rx,Dn=ln.ry,hn=ln.startAngle,wn=ln.endAngle,fi=ln.xRotation,Z=ln.sweepFlag;if(H.ellipse)H.ellipse(En,yn,tn,Dn,fi,hn,wn,1-Z);else{var nt=tn>Dn?tn:Dn,ft=tn>Dn?1:tn/Dn,_t=tn>Dn?Dn/tn:1;H.translate(En,yn),H.rotate(fi),H.scale(ft,_t),H.arc(0,0,nt,hn,wn,1-Z),H.scale(1/ft,1/_t),H.rotate(-fi),H.translate(-En,-yn)}break}case"Z":H.closePath();break;default:break}if(vr==="Z")Ut=Oe;else{var Ot=ze.length;Ut=[ze[Ot-2],ze[Ot-1]]}}}}function or(ot,H){var I=ot.get("canvas");I&&(H==="remove"&&(ot._cacheCanvasBBox=ot.get("cacheCanvasBBox")),ot.get("hasChanged")||(ot.set("hasChanged",!0),ot.cfg.parent&&ot.cfg.parent.get("hasChanged")||(I.refreshElement(ot,H,I),I.get("autoDraw")&&I.draw())))}function Vt(ot){var H;if(ot.destroyed)H=ot._cacheCanvasBBox;else{var I=ot.get("cacheCanvasBBox"),V=I&&!!(I.width&&I.height),$=ot.getCanvasBBox(),gt=$&&!!($.width&&$.height);V&&gt?H=se(I,$):V?H=I:gt&&(H=$)}return H}function et(ot){if(!ot.length)return null;var H=[],I=[],V=[],$=[];return(0,c.S6)(ot,function(gt){var Et=Vt(gt);Et&&(H.push(Et.minX),I.push(Et.minY),V.push(Et.maxX),$.push(Et.maxY))}),{minX:(0,c.VV)(H),minY:(0,c.VV)(I),maxX:(0,c.Fp)(V),maxY:(0,c.Fp)($)}}function P(ot,H){return!ot||!H||!pe(ot,H)?null:{minX:Math.max(ot.minX,H.minX),minY:Math.max(ot.minY,H.minY),maxX:Math.min(ot.maxX,H.maxX),maxY:Math.min(ot.maxY,H.maxY)}}var C=function(ot){(0,wt.ZT)(H,ot);function H(){return ot!==null&&ot.apply(this,arguments)||this}return H.prototype.onCanvasChange=function(I){or(this,I)},H.prototype.getShapeBase=function(){return Xt},H.prototype.getGroupBase=function(){return H},H.prototype._applyClip=function(I,V){V&&(I.save(),Pt(I,V),V.createPath(I),I.restore(),I.clip(),V._afterDraw())},H.prototype.cacheCanvasBBox=function(){var I=this.cfg.children,V=[],$=[];(0,c.S6)(I,function(vr){var Lr=vr.cfg.cacheCanvasBBox;Lr&&vr.cfg.isInView&&(V.push(Lr.minX,Lr.maxX),$.push(Lr.minY,Lr.maxY))});var gt=null;if(V.length){var Et=(0,c.VV)(V),Ut=(0,c.Fp)(V),Oe=(0,c.VV)($),je=(0,c.Fp)($);gt={minX:Et,minY:Oe,x:Et,y:Oe,maxX:Ut,maxY:je,width:Ut-Et,height:je-Oe};var Je=this.cfg.canvas;if(Je){var ze=Je.getViewRange();this.set("isInView",pe(gt,ze))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",gt)},H.prototype.draw=function(I,V){var $=this.cfg.children,gt=V?this.cfg.refresh:!0;$.length&&gt&&(I.save(),Pt(I,this),this._applyClip(I,this.getClip()),xe(I,$,V),I.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},H.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},H}(d.pA),L=C,k=function(ot){(0,wt.ZT)(H,ot);function H(){return ot!==null&&ot.apply(this,arguments)||this}return H.prototype.getDefaultAttrs=function(){var I=ot.prototype.getDefaultAttrs.call(this);return(0,wt.pi)((0,wt.pi)({},I),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},H.prototype.getShapeBase=function(){return Xt},H.prototype.getGroupBase=function(){return L},H.prototype.onCanvasChange=function(I){or(this,I)},H.prototype.calculateBBox=function(){var I=this.get("type"),V=this.getHitLineWidth(),$=(0,d.bj)(I),gt=$(this),Et=V/2,Ut=gt.x-Et,Oe=gt.y-Et,je=gt.x+gt.width+Et,Je=gt.y+gt.height+Et;return{x:Ut,minX:Ut,y:Oe,minY:Oe,width:gt.width+V,height:gt.height+V,maxX:je,maxY:Je}},H.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},H.prototype.isStroke=function(){return!!this.attrs.stroke},H.prototype._applyClip=function(I,V){V&&(I.save(),Pt(I,V),V.createPath(I),I.restore(),I.clip(),V._afterDraw())},H.prototype.draw=function(I,V){var $=this.cfg.clipShape;if(V){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var gt=this.getCanvasBBox();if(!pe(V,gt)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}I.save(),Pt(I,this),this._applyClip(I,$),this.drawPath(I),I.restore(),this._afterDraw()},H.prototype.getCanvasViewBox=function(){var I=this.cfg.canvas;return I?I.getViewRange():null},H.prototype.cacheCanvasBBox=function(){var I=this.getCanvasViewBox();if(I){var V=this.getCanvasBBox(),$=pe(V,I);this.set("isInView",$),$?this.set("cacheCanvasBBox",V):this.set("cacheCanvasBBox",null)}},H.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},H.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},H.prototype.drawPath=function(I){this.createPath(I),this.strokeAndFill(I),this.afterDrawPath(I)},H.prototype.fill=function(I){I.fill()},H.prototype.stroke=function(I){I.stroke()},H.prototype.strokeAndFill=function(I){var V=this.attrs,$=V.lineWidth,gt=V.opacity,Et=V.strokeOpacity,Ut=V.fillOpacity;this.isFill()&&(!(0,c.UM)(Ut)&&Ut!==1?(I.globalAlpha=Ut,this.fill(I),I.globalAlpha=gt):this.fill(I)),this.isStroke()&&$>0&&(!(0,c.UM)(Et)&&Et!==1&&(I.globalAlpha=Et),this.stroke(I)),this.afterDrawPath(I)},H.prototype.createPath=function(I){},H.prototype.afterDrawPath=function(I){},H.prototype.isInShape=function(I,V){var $=this.isStroke(),gt=this.isFill(),Et=this.getHitLineWidth();return this.isInStrokeOrPath(I,V,$,gt,Et)},H.prototype.isInStrokeOrPath=function(I,V,$,gt,Et){return!1},H.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var I=this.attrs;return I.lineWidth+I.lineAppendWidth},H}(d.zr),T=k,R=function(ot){(0,wt.ZT)(H,ot);function H(){return ot!==null&&ot.apply(this,arguments)||this}return H.prototype.getDefaultAttrs=function(){var I=ot.prototype.getDefaultAttrs.call(this);return(0,wt.pi)((0,wt.pi)({},I),{x:0,y:0,r:0})},H.prototype.isInStrokeOrPath=function(I,V,$,gt,Et){var Ut=this.attr(),Oe=Ut.x,je=Ut.y,Je=Ut.r,ze=Et/2,vr=Tt(Oe,je,I,V);return gt&&$?vr<=Je+ze:gt?vr<=Je:$?vr>=Je-ze&&vr<=Je+ze:!1},H.prototype.createPath=function(I){var V=this.attr(),$=V.x,gt=V.y,Et=V.r;I.beginPath(),I.arc($,gt,Et,0,Math.PI*2,!1),I.closePath()},H}(T),j=R;function tt(ot,H,I,V){return ot/(I*I)+H/(V*V)}var st=function(ot){(0,wt.ZT)(H,ot);function H(){return ot!==null&&ot.apply(this,arguments)||this}return H.prototype.getDefaultAttrs=function(){var I=ot.prototype.getDefaultAttrs.call(this);return(0,wt.pi)((0,wt.pi)({},I),{x:0,y:0,rx:0,ry:0})},H.prototype.isInStrokeOrPath=function(I,V,$,gt,Et){var Ut=this.attr(),Oe=Et/2,je=Ut.x,Je=Ut.y,ze=Ut.rx,vr=Ut.ry,Lr=(I-je)*(I-je),$r=(V-Je)*(V-Je);return gt&&$?tt(Lr,$r,ze+Oe,vr+Oe)<=1:gt?tt(Lr,$r,ze,vr)<=1:$?tt(Lr,$r,ze-Oe,vr-Oe)>=1&&tt(Lr,$r,ze+Oe,vr+Oe)<=1:!1},H.prototype.createPath=function(I){var V=this.attr(),$=V.x,gt=V.y,Et=V.rx,Ut=V.ry;if(I.beginPath(),I.ellipse)I.ellipse($,gt,Et,Ut,0,0,Math.PI*2,!1);else{var Oe=Et>Ut?Et:Ut,je=Et>Ut?1:Et/Ut,Je=Et>Ut?Ut/Et:1;I.save(),I.translate($,gt),I.scale(je,Je),I.arc(0,0,Oe,0,Math.PI*2),I.restore(),I.closePath()}},H}(T),Bt=st;function qt(ot){return ot instanceof HTMLElement&&(0,c.HD)(ot.nodeName)&&ot.nodeName.toUpperCase()==="CANVAS"}var Qt=function(ot){(0,wt.ZT)(H,ot);function H(){return ot!==null&&ot.apply(this,arguments)||this}return H.prototype.getDefaultAttrs=function(){var I=ot.prototype.getDefaultAttrs.call(this);return(0,wt.pi)((0,wt.pi)({},I),{x:0,y:0,width:0,height:0})},H.prototype.initAttrs=function(I){this._setImage(I.img)},H.prototype.isStroke=function(){return!1},H.prototype.isOnlyHitBox=function(){return!0},H.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var I=this.get("canvas");I?I.draw():this.createPath(this.get("context"))}},H.prototype._setImage=function(I){var V=this,$=this.attrs;if((0,c.HD)(I)){var gt=new Image;gt.onload=function(){if(V.destroyed)return!1;V.attr("img",gt),V.set("loading",!1),V._afterLoading();var Et=V.get("callback");Et&&Et.call(V)},gt.crossOrigin="Anonymous",gt.src=I,this.set("loading",!0)}else I instanceof Image?($.width||($.width=I.width),$.height||($.height=I.height)):qt(I)&&($.width||($.width=Number(I.getAttribute("width"))),$.height||($.height,Number(I.getAttribute("height"))))},H.prototype.onAttrChange=function(I,V,$){ot.prototype.onAttrChange.call(this,I,V,$),I==="img"&&this._setImage(V)},H.prototype.createPath=function(I){if(this.get("loading")){this.set("toDraw",!0),this.set("context",I);return}var V=this.attr(),$=V.x,gt=V.y,Et=V.width,Ut=V.height,Oe=V.sx,je=V.sy,Je=V.swidth,ze=V.sheight,vr=V.img;(vr instanceof Image||qt(vr))&&(!(0,c.UM)(Oe)&&!(0,c.UM)(je)&&!(0,c.UM)(Je)&&!(0,c.UM)(ze)?I.drawImage(vr,Oe,je,Je,ze,$,gt,Et,Ut):I.drawImage(vr,$,gt,Et,Ut))},H}(T),me=Qt,He=Rt(89838);function J(ot,H,I,V,$,gt,Et){var Ut=Math.min(ot,I),Oe=Math.max(ot,I),je=Math.min(H,V),Je=Math.max(H,V),ze=$/2;return gt>=Ut-ze&&gt<=Oe+ze&&Et>=je-ze&&Et<=Je+ze?He.x1.pointToLine(ot,H,I,V,gt,Et)<=$/2:!1}var lt=function(ot){(0,wt.ZT)(H,ot);function H(){return ot!==null&&ot.apply(this,arguments)||this}return H.prototype.getDefaultAttrs=function(){var I=ot.prototype.getDefaultAttrs.call(this);return(0,wt.pi)((0,wt.pi)({},I),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},H.prototype.initAttrs=function(I){this.setArrow()},H.prototype.onAttrChange=function(I,V,$){ot.prototype.onAttrChange.call(this,I,V,$),this.setArrow()},H.prototype.setArrow=function(){var I=this.attr(),V=I.x1,$=I.y1,gt=I.x2,Et=I.y2,Ut=I.startArrow,Oe=I.endArrow;Ut&&At(this,I,gt,Et,V,$),Oe&&B(this,I,V,$,gt,Et)},H.prototype.isInStrokeOrPath=function(I,V,$,gt,Et){if(!$||!Et)return!1;var Ut=this.attr(),Oe=Ut.x1,je=Ut.y1,Je=Ut.x2,ze=Ut.y2;return J(Oe,je,Je,ze,Et,I,V)},H.prototype.createPath=function(I){var V=this.attr(),$=V.x1,gt=V.y1,Et=V.x2,Ut=V.y2,Oe=V.startArrow,je=V.endArrow,Je={dx:0,dy:0},ze={dx:0,dy:0};Oe&&Oe.d&&(Je=Ft($,gt,Et,Ut,V.startArrow.d)),je&&je.d&&(ze=Ft($,gt,Et,Ut,V.endArrow.d)),I.beginPath(),I.moveTo($+Je.dx,gt+Je.dy),I.lineTo(Et-ze.dx,Ut-ze.dy)},H.prototype.afterDrawPath=function(I){var V=this.get("startArrowShape"),$=this.get("endArrowShape");V&&V.draw(I),$&&$.draw(I)},H.prototype.getTotalLength=function(){var I=this.attr(),V=I.x1,$=I.y1,gt=I.x2,Et=I.y2;return He.x1.length(V,$,gt,Et)},H.prototype.getPoint=function(I){var V=this.attr(),$=V.x1,gt=V.y1,Et=V.x2,Ut=V.y2;return He.x1.pointAt($,gt,Et,Ut,I)},H}(T),yt=lt,Dt=Rt(80389),te={circle:function(ot,H,I){return[["M",ot-I,H],["A",I,I,0,1,0,ot+I,H],["A",I,I,0,1,0,ot-I,H]]},square:function(ot,H,I){return[["M",ot-I,H-I],["L",ot+I,H-I],["L",ot+I,H+I],["L",ot-I,H+I],["Z"]]},diamond:function(ot,H,I){return[["M",ot-I,H],["L",ot,H-I],["L",ot+I,H],["L",ot,H+I],["Z"]]},triangle:function(ot,H,I){var V=I*Math.sin(1/3*Math.PI);return[["M",ot-I,H+V],["L",ot,H-V],["L",ot+I,H+V],["Z"]]},"triangle-down":function(ot,H,I){var V=I*Math.sin(1/3*Math.PI);return[["M",ot-I,H-V],["L",ot+I,H-V],["L",ot,H+V],["Z"]]}},Zt=function(ot){(0,wt.ZT)(H,ot);function H(){return ot!==null&&ot.apply(this,arguments)||this}return H.prototype.initAttrs=function(I){this._resetParamsCache()},H.prototype._resetParamsCache=function(){this.set("paramsCache",{})},H.prototype.onAttrChange=function(I,V,$){ot.prototype.onAttrChange.call(this,I,V,$),["symbol","x","y","r","radius"].indexOf(I)!==-1&&this._resetParamsCache()},H.prototype.isOnlyHitBox=function(){return!0},H.prototype._getR=function(I){return(0,c.UM)(I.r)?I.radius:I.r},H.prototype._getPath=function(){var I=this.attr(),V=I.x,$=I.y,gt=I.symbol||"circle",Et=this._getR(I),Ut,Oe;if((0,c.mf)(gt))Ut=gt,Oe=Ut(V,$,Et),Oe=(0,Dt.wb)(Oe);else{if(Ut=H.Symbols[gt],!Ut)return console.warn(gt+" marker is not supported."),null;Oe=Ut(V,$,Et)}return Oe},H.prototype.createPath=function(I){var V=this._getPath(),$=this.get("paramsCache");we(this,I,{path:V},$)},H.Symbols=te,H}(T),ue=Zt;function de(ot,H,I){var V=(0,d.LF)();return ot.createPath(V),V.isPointInPath(H,I)}var ee=1e-6;function Ge(ot){return Math.abs(ot)<ee?0:ot<0?-1:1}function Te(ot,H,I){return(I[0]-ot[0])*(H[1]-ot[1])==(H[0]-ot[0])*(I[1]-ot[1])&&Math.min(ot[0],H[0])<=I[0]&&I[0]<=Math.max(ot[0],H[0])&&Math.min(ot[1],H[1])<=I[1]&&I[1]<=Math.max(ot[1],H[1])}function nr(ot,H,I){var V=!1,$=ot.length;if($<=2)return!1;for(var gt=0;gt<$;gt++){var Et=ot[gt],Ut=ot[(gt+1)%$];if(Te(Et,Ut,[H,I]))return!0;Ge(Et[1]-I)>0!=Ge(Ut[1]-I)>0&&Ge(H-(I-Et[1])*(Et[0]-Ut[0])/(Et[1]-Ut[1])-Et[0])<0&&(V=!V)}return V}var wr=Rt(31506),er=Rt(77160);function De(ot,H,I,V,$,gt,Et,Ut){var Oe=(Math.atan2(Ut-H,Et-ot)+Math.PI*2)%(Math.PI*2);if(Oe<V||Oe>$)return!1;var je={x:ot+I*Math.cos(Oe),y:H+I*Math.sin(Oe)};return Tt(je.x,je.y,Et,Ut)<=gt/2}var hr=wr.vs;function Mr(ot){for(var H=!1,I=ot.length,V=0;V<I;V++){var $=ot[V],gt=$[0];if(gt==="C"||gt==="A"||gt==="Q"){H=!0;break}}return H}function Qe(ot,H,I,V,$){for(var gt=!1,Et=H/2,Ut=0;Ut<ot.length;Ut++){var Oe=ot[Ut],je=Oe.currentPoint,Je=Oe.params,ze=Oe.prePoint,vr=Oe.box;if(!(vr&&!Ae(vr.x-Et,vr.y-Et,vr.width+H,vr.height+H,I,V))){switch(Oe.command){case"L":case"Z":gt=J(ze[0],ze[1],je[0],je[1],H,I,V);break;case"Q":var Lr=He.lD.pointDistance(ze[0],ze[1],Je[1],Je[2],Je[3],Je[4],I,V);gt=Lr<=H/2;break;case"C":var $r=He.Ll.pointDistance(ze[0],ze[1],Je[1],Je[2],Je[3],Je[4],Je[5],Je[6],I,V,$);gt=$r<=H/2;break;case"A":var an=Oe.arcParams,Mn=an.cx,ln=an.cy,En=an.rx,yn=an.ry,tn=an.startAngle,Dn=an.endAngle,hn=an.xRotation,wn=[I,V,1],fi=En>yn?En:yn,Z=En>yn?1:En/yn,nt=En>yn?yn/En:1,ft=hr(null,[["t",-Mn,-ln],["r",-hn],["s",1/Z,1/nt]]);er.kK(wn,wn,ft),gt=De(0,0,fi,tn,Dn,H,wn[0],wn[1]);break;default:break}if(gt)break}}return gt}function yr(ot){for(var H=ot.length,I=[],V=[],$=[],gt=0;gt<H;gt++){var Et=ot[gt],Ut=Et[0];Ut==="M"?($.length&&(V.push($),$=[]),$.push([Et[1],Et[2]])):Ut==="Z"?$.length&&(I.push($),$=[]):$.push([Et[1],Et[2]])}return $.length>0&&V.push($),{polygons:I,polylines:V}}var Mt=(0,wt.pi)({hasArc:Mr,extractPolygons:yr,isPointInStroke:Qe},d.Gk);function it(ot,H,I){for(var V=!1,$=0;$<ot.length;$++){var gt=ot[$];if(V=nr(gt,H,I),V)break}return V}var N=function(ot){(0,wt.ZT)(H,ot);function H(){return ot!==null&&ot.apply(this,arguments)||this}return H.prototype.getDefaultAttrs=function(){var I=ot.prototype.getDefaultAttrs.call(this);return(0,wt.pi)((0,wt.pi)({},I),{startArrow:!1,endArrow:!1})},H.prototype.initAttrs=function(I){this._setPathArr(I.path),this.setArrow()},H.prototype.onAttrChange=function(I,V,$){ot.prototype.onAttrChange.call(this,I,V,$),I==="path"&&this._setPathArr(V),this.setArrow()},H.prototype._setPathArr=function(I){this.attrs.path=(0,Dt.wb)(I);var V=Mt.hasArc(I);this.set("hasArc",V),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},H.prototype.getSegments=function(){var I=this.get("segements");return I||(I=(0,Dt.zx)(this.attr("path")),this.set("segments",I)),I},H.prototype.setArrow=function(){var I=this.attr(),V=I.startArrow,$=I.endArrow;if(V){var gt=this.getStartTangent();At(this,I,gt[0][0],gt[0][1],gt[1][0],gt[1][1])}if($){var gt=this.getEndTangent();B(this,I,gt[0][0],gt[0][1],gt[1][0],gt[1][1])}},H.prototype.isInStrokeOrPath=function(I,V,$,gt,Et){var Ut=this.getSegments(),Oe=this.get("hasArc"),je=!1;if($){var Je=this.getTotalLength();je=Mt.isPointInStroke(Ut,Et,I,V,Je)}if(!je&&gt)if(Oe)je=de(this,I,V);else{var ze=this.attr("path"),vr=Mt.extractPolygons(ze);je=it(vr.polygons,I,V)||it(vr.polylines,I,V)}return je},H.prototype.createPath=function(I){var V=this.attr(),$=this.get("paramsCache");we(this,I,V,$)},H.prototype.afterDrawPath=function(I){var V=this.get("startArrowShape"),$=this.get("endArrowShape");V&&V.draw(I),$&&$.draw(I)},H.prototype.getTotalLength=function(){var I=this.get("totalLength");return(0,c.UM)(I)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):I},H.prototype.getPoint=function(I){var V=this.get("tCache");V||(this._calculateCurve(),this._setTcache(),V=this.get("tCache"));var $,gt,Et=this.get("curve");if(!V||V.length===0)return Et?{x:Et[0][1],y:Et[0][2]}:null;(0,c.S6)(V,function(Je,ze){I>=Je[0]&&I<=Je[1]&&($=(I-Je[0])/(Je[1]-Je[0]),gt=ze)});var Ut=Et[gt];if((0,c.UM)(Ut)||(0,c.UM)(gt))return null;var Oe=Ut.length,je=Et[gt+1];return He.Ll.pointAt(Ut[Oe-2],Ut[Oe-1],je[1],je[2],je[3],je[4],je[5],je[6],$)},H.prototype._calculateCurve=function(){var I=this.attr().path;this.set("curve",Mt.pathToCurve(I))},H.prototype._setTcache=function(){var I=0,V=0,$=[],gt,Et,Ut,Oe,je=this.get("curve");if(!!je){if((0,c.S6)(je,function(Je,ze){Ut=je[ze+1],Oe=Je.length,Ut&&(I+=He.Ll.length(Je[Oe-2],Je[Oe-1],Ut[1],Ut[2],Ut[3],Ut[4],Ut[5],Ut[6])||0)}),this.set("totalLength",I),I===0){this.set("tCache",[]);return}(0,c.S6)(je,function(Je,ze){Ut=je[ze+1],Oe=Je.length,Ut&&(gt=[],gt[0]=V/I,Et=He.Ll.length(Je[Oe-2],Je[Oe-1],Ut[1],Ut[2],Ut[3],Ut[4],Ut[5],Ut[6]),V+=Et||0,gt[1]=V/I,$.push(gt))}),this.set("tCache",$)}},H.prototype.getStartTangent=function(){var I=this.getSegments(),V;if(I.length>1){var $=I[0].currentPoint,gt=I[1].currentPoint,Et=I[1].startTangent;V=[],Et?(V.push([$[0]-Et[0],$[1]-Et[1]]),V.push([$[0],$[1]])):(V.push([gt[0],gt[1]]),V.push([$[0],$[1]]))}return V},H.prototype.getEndTangent=function(){var I=this.getSegments(),V=I.length,$;if(V>1){var gt=I[V-2].currentPoint,Et=I[V-1].currentPoint,Ut=I[V-1].endTangent;$=[],Ut?($.push([Et[0]-Ut[0],Et[1]-Ut[1]]),$.push([Et[0],Et[1]])):($.push([gt[0],gt[1]]),$.push([Et[0],Et[1]]))}return $},H}(T),ct=N;function St(ot,H,I,V,$){var gt=ot.length;if(gt<2)return!1;for(var Et=0;Et<gt-1;Et++){var Ut=ot[Et][0],Oe=ot[Et][1],je=ot[Et+1][0],Je=ot[Et+1][1];if(J(Ut,Oe,je,Je,H,I,V))return!0}if($){var ze=ot[0],vr=ot[gt-1];if(J(ze[0],ze[1],vr[0],vr[1],H,I,V))return!0}return!1}var $t=function(ot){(0,wt.ZT)(H,ot);function H(){return ot!==null&&ot.apply(this,arguments)||this}return H.prototype.isInStrokeOrPath=function(I,V,$,gt,Et){var Ut=this.attr().points,Oe=!1;return $&&(Oe=St(Ut,Et,I,V,!0)),!Oe&&gt&&(Oe=nr(Ut,I,V)),Oe},H.prototype.createPath=function(I){var V=this.attr(),$=V.points;if(!($.length<2)){I.beginPath();for(var gt=0;gt<$.length;gt++){var Et=$[gt];gt===0?I.moveTo(Et[0],Et[1]):I.lineTo(Et[0],Et[1])}I.closePath()}},H}(T),ne=$t,ge=function(ot){(0,wt.ZT)(H,ot);function H(){return ot!==null&&ot.apply(this,arguments)||this}return H.prototype.getDefaultAttrs=function(){var I=ot.prototype.getDefaultAttrs.call(this);return(0,wt.pi)((0,wt.pi)({},I),{startArrow:!1,endArrow:!1})},H.prototype.initAttrs=function(I){this.setArrow()},H.prototype.onAttrChange=function(I,V,$){ot.prototype.onAttrChange.call(this,I,V,$),this.setArrow(),["points"].indexOf(I)!==-1&&this._resetCache()},H.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},H.prototype.setArrow=function(){var I=this.attr(),V=this.attrs,$=V.points,gt=V.startArrow,Et=V.endArrow,Ut=$.length,Oe=$[0][0],je=$[0][1],Je=$[Ut-1][0],ze=$[Ut-1][1];gt&&At(this,I,$[1][0],$[1][1],Oe,je),Et&&B(this,I,$[Ut-2][0],$[Ut-2][1],Je,ze)},H.prototype.isFill=function(){return!1},H.prototype.isInStrokeOrPath=function(I,V,$,gt,Et){if(!$||!Et)return!1;var Ut=this.attr().points;return St(Ut,Et,I,V,!1)},H.prototype.isStroke=function(){return!0},H.prototype.createPath=function(I){var V=this.attr(),$=V.points,gt=V.startArrow,Et=V.endArrow,Ut=$.length;if(!($.length<2)){var Oe=$[0][0],je=$[0][1],Je=$[Ut-1][0],ze=$[Ut-1][1];if(gt&&gt.d){var vr=Ft(Oe,je,$[1][0],$[1][1],gt.d);Oe+=vr.dx,je+=vr.dy}if(Et&&Et.d){var vr=Ft($[Ut-2][0],$[Ut-2][1],Je,ze,Et.d);Je-=vr.dx,ze-=vr.dy}I.beginPath(),I.moveTo(Oe,je);for(var Lr=0;Lr<Ut-1;Lr++){var $r=$[Lr];I.lineTo($r[0],$r[1])}I.lineTo(Je,ze)}},H.prototype.afterDrawPath=function(I){var V=this.get("startArrowShape"),$=this.get("endArrowShape");V&&V.draw(I),$&&$.draw(I)},H.prototype.getTotalLength=function(){var I=this.attr().points,V=this.get("totalLength");return(0,c.UM)(V)?(this.set("totalLength",He.aH.length(I)),this.get("totalLength")):V},H.prototype.getPoint=function(I){var V=this.attr().points,$=this.get("tCache");$||(this._setTcache(),$=this.get("tCache"));var gt,Et;return(0,c.S6)($,function(Ut,Oe){I>=Ut[0]&&I<=Ut[1]&&(gt=(I-Ut[0])/(Ut[1]-Ut[0]),Et=Oe)}),He.x1.pointAt(V[Et][0],V[Et][1],V[Et+1][0],V[Et+1][1],gt)},H.prototype._setTcache=function(){var I=this.attr().points;if(!(!I||I.length===0)){var V=this.getTotalLength();if(!(V<=0)){var $=0,gt=[],Et,Ut;(0,c.S6)(I,function(Oe,je){I[je+1]&&(Et=[],Et[0]=$/V,Ut=He.x1.length(Oe[0],Oe[1],I[je+1][0],I[je+1][1]),$+=Ut,Et[1]=$/V,gt.push(Et))}),this.set("tCache",gt)}}},H.prototype.getStartTangent=function(){var I=this.attr().points,V=[];return V.push([I[1][0],I[1][1]]),V.push([I[0][0],I[0][1]]),V},H.prototype.getEndTangent=function(){var I=this.attr().points,V=I.length-1,$=[];return $.push([I[V-1][0],I[V-1][1]]),$.push([I[V][0],I[V][1]]),$},H}(T),Ie=ge;function zr(ot,H,I,V,$,gt,Et){var Ut=$/2;return Ae(ot-Ut,H-Ut,I,$,gt,Et)||Ae(ot+I-Ut,H-Ut,$,V,gt,Et)||Ae(ot+Ut,H+V-Ut,I,$,gt,Et)||Ae(ot-Ut,H+Ut,$,V,gt,Et)}function Xr(ot,H,I,V,$,gt,Et,Ut){var Oe=gt/2;return J(ot+$,H,ot+I-$,H,gt,Et,Ut)||J(ot+I,H+$,ot+I,H+V-$,gt,Et,Ut)||J(ot+I-$,H+V,ot+$,H+V,gt,Et,Ut)||J(ot,H+V-$,ot,H+$,gt,Et,Ut)||De(ot+I-$,H+$,$,1.5*Math.PI,2*Math.PI,gt,Et,Ut)||De(ot+I-$,H+V-$,$,0,.5*Math.PI,gt,Et,Ut)||De(ot+$,H+V-$,$,.5*Math.PI,Math.PI,gt,Et,Ut)||De(ot+$,H+$,$,Math.PI,1.5*Math.PI,gt,Et,Ut)}var Nr=function(ot){(0,wt.ZT)(H,ot);function H(){return ot!==null&&ot.apply(this,arguments)||this}return H.prototype.getDefaultAttrs=function(){var I=ot.prototype.getDefaultAttrs.call(this);return(0,wt.pi)((0,wt.pi)({},I),{x:0,y:0,width:0,height:0,radius:0})},H.prototype.isInStrokeOrPath=function(I,V,$,gt,Et){var Ut=this.attr(),Oe=Ut.x,je=Ut.y,Je=Ut.width,ze=Ut.height,vr=Ut.radius;if(vr){var $r=!1;return $&&($r=Xr(Oe,je,Je,ze,vr,Et,I,V)),!$r&&gt&&($r=de(this,I,V)),$r}else{var Lr=Et/2;if(gt&&$)return Ae(Oe-Lr,je-Lr,Je+Lr,ze+Lr,I,V);if(gt)return Ae(Oe,je,Je,ze,I,V);if($)return zr(Oe,je,Je,ze,Et,I,V)}},H.prototype.createPath=function(I){var V=this.attr(),$=V.x,gt=V.y,Et=V.width,Ut=V.height,Oe=V.radius;if(I.beginPath(),Oe===0)I.rect($,gt,Et,Ut);else{var je=Nt(Oe),Je=je[0],ze=je[1],vr=je[2],Lr=je[3];I.moveTo($+Je,gt),I.lineTo($+Et-ze,gt),ze!==0&&I.arc($+Et-ze,gt+ze,ze,-Math.PI/2,0),I.lineTo($+Et,gt+Ut-vr),vr!==0&&I.arc($+Et-vr,gt+Ut-vr,vr,0,Math.PI/2),I.lineTo($+Lr,gt+Ut),Lr!==0&&I.arc($+Lr,gt+Ut-Lr,Lr,Math.PI/2,Math.PI),I.lineTo($,gt+Je),Je!==0&&I.arc($+Je,gt+Je,Je,Math.PI,Math.PI*1.5),I.closePath()}},H}(T),Sn=Nr,Vr=function(ot){(0,wt.ZT)(H,ot);function H(){return ot!==null&&ot.apply(this,arguments)||this}return H.prototype.getDefaultAttrs=function(){var I=ot.prototype.getDefaultAttrs.call(this);return(0,wt.pi)((0,wt.pi)({},I),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},H.prototype.isOnlyHitBox=function(){return!0},H.prototype.initAttrs=function(I){this._assembleFont(),I.text&&this._setText(I.text)},H.prototype._assembleFont=function(){var I=this.attrs;I.font=(0,d.$O)(I)},H.prototype._setText=function(I){var V=null;(0,c.HD)(I)&&I.indexOf(`
`)!==-1&&(V=I.split(`
`)),this.set("textArr",V)},H.prototype.onAttrChange=function(I,V,$){ot.prototype.onAttrChange.call(this,I,V,$),I.startsWith("font")&&this._assembleFont(),I==="text"&&this._setText(V)},H.prototype._getSpaceingY=function(){var I=this.attrs,V=I.lineHeight,$=I.fontSize*1;return V?V-$:$*.14},H.prototype._drawTextArr=function(I,V,$){var gt=this.attrs,Et=gt.textBaseline,Ut=gt.x,Oe=gt.y,je=gt.fontSize*1,Je=this._getSpaceingY(),ze=(0,d.FE)(gt.text,gt.fontSize,gt.lineHeight),vr;(0,c.S6)(V,function(Lr,$r){vr=Oe+$r*(Je+je)-ze+je,Et==="middle"&&(vr+=ze-je-(ze-je)/2),Et==="top"&&(vr+=ze-je),(0,c.UM)(Lr)||($?I.fillText(Lr,Ut,vr):I.strokeText(Lr,Ut,vr))})},H.prototype._drawText=function(I,V){var $=this.attr(),gt=$.x,Et=$.y,Ut=this.get("textArr");if(Ut)this._drawTextArr(I,Ut,V);else{var Oe=$.text;(0,c.UM)(Oe)||(V?I.fillText(Oe,gt,Et):I.strokeText(Oe,gt,Et))}},H.prototype.strokeAndFill=function(I){var V=this.attrs,$=V.lineWidth,gt=V.opacity,Et=V.strokeOpacity,Ut=V.fillOpacity;this.isStroke()&&$>0&&(!(0,c.UM)(Et)&&Et!==1&&(I.globalAlpha=gt),this.stroke(I)),this.isFill()&&(!(0,c.UM)(Ut)&&Ut!==1?(I.globalAlpha=Ut,this.fill(I),I.globalAlpha=gt):this.fill(I)),this.afterDrawPath(I)},H.prototype.fill=function(I){this._drawText(I,!0)},H.prototype.stroke=function(I){this._drawText(I,!1)},H}(T),Kn=Vr;function jn(ot,H){if(H){var I=(0,d.U_)(H);return(0,d.rG)(I,ot)}return ot}function Vn(ot,H,I){var V=ot.getTotalMatrix();if(V){var $=jn([H,I,1],V),gt=$[0],Et=$[1];return[gt,Et]}return[H,I]}function ci(ot,H,I){if(ot.isCanvas&&ot.isCanvas())return!0;if(!(0,d.pP)(ot)||ot.cfg.isInView===!1)return!1;if(ot.cfg.clipShape){var V=Vn(ot,H,I),$=V[0],gt=V[1];if(ot.isClipped($,gt))return!1}var Et=ot.cfg.cacheCanvasBBox||ot.getCanvasBBox();return H>=Et.minX&&H<=Et.maxX&&I>=Et.minY&&I<=Et.maxY}function $n(ot,H,I){if(!ci(ot,H,I))return null;for(var V=null,$=ot.getChildren(),gt=$.length,Et=gt-1;Et>=0;Et--){var Ut=$[Et];if(Ut.isGroup())V=$n(Ut,H,I);else if(ci(Ut,H,I)){var Oe=Ut,je=Vn(Ut,H,I),Je=je[0],ze=je[1];Oe.isInShape(Je,ze)&&(V=Ut)}if(V)break}return V}var Sr=function(ot){(0,wt.ZT)(H,ot);function H(){return ot!==null&&ot.apply(this,arguments)||this}return H.prototype.getDefaultCfg=function(){var I=ot.prototype.getDefaultCfg.call(this);return I.renderer="canvas",I.autoDraw=!0,I.localRefresh=!0,I.refreshElements=[],I.clipView=!0,I.quickHit=!1,I},H.prototype.onCanvasChange=function(I){(I==="attr"||I==="sort"||I==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},H.prototype.getShapeBase=function(){return Xt},H.prototype.getGroupBase=function(){return L},H.prototype.getPixelRatio=function(){var I=this.get("pixelRatio")||Ee();return I>=1?Math.ceil(I):1},H.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},H.prototype.createDom=function(){var I=document.createElement("canvas"),V=I.getContext("2d");return this.set("context",V),I},H.prototype.setDOMSize=function(I,V){ot.prototype.setDOMSize.call(this,I,V);var $=this.get("context"),gt=this.get("el"),Et=this.getPixelRatio();gt.width=Et*I,gt.height=Et*V,Et>1&&$.scale(Et,Et)},H.prototype.clear=function(){ot.prototype.clear.call(this),this._clearFrame();var I=this.get("context"),V=this.get("el");I.clearRect(0,0,V.width,V.height)},H.prototype.getShape=function(I,V){var $;return this.get("quickHit")?$=$n(this,I,V):$=ot.prototype.getShape.call(this,I,V,null),$},H.prototype._getRefreshRegion=function(){var I=this.get("refreshElements"),V=this.getViewRange(),$;if(I.length&&I[0]===this)$=V;else if($=et(I),$){$.minX=Math.floor($.minX),$.minY=Math.floor($.minY),$.maxX=Math.ceil($.maxX),$.maxY=Math.ceil($.maxY),$.maxY+=1;var gt=this.get("clipView");gt&&($=P($,V))}return $},H.prototype.refreshElement=function(I){var V=this.get("refreshElements");V.push(I)},H.prototype._clearFrame=function(){var I=this.get("drawFrame");I&&((0,c.VS)(I),this.set("drawFrame",null),this.set("refreshElements",[]))},H.prototype.draw=function(){var I=this.get("drawFrame");this.get("autoDraw")&&I||this._startDraw()},H.prototype._drawAll=function(){var I=this.get("context"),V=this.get("el"),$=this.getChildren();I.clearRect(0,0,V.width,V.height),Pt(I,this),xe(I,$),this.set("refreshElements",[])},H.prototype._drawRegion=function(){var I=this.get("context"),V=this.get("refreshElements"),$=this.getChildren(),gt=this._getRefreshRegion();gt?(I.clearRect(gt.minX,gt.minY,gt.maxX-gt.minX,gt.maxY-gt.minY),I.save(),I.beginPath(),I.rect(gt.minX,gt.minY,gt.maxX-gt.minX,gt.maxY-gt.minY),I.clip(),Pt(I,this),oe(this,$,gt),xe(I,$,gt),I.restore()):V.length&&Xe(V),(0,c.S6)(V,function(Et){Et.get("hasChanged")&&Et.set("hasChanged",!1)}),this.set("refreshElements",[])},H.prototype._startDraw=function(){var I=this,V=this.get("drawFrame");V||(V=(0,c.U7)(function(){I.get("localRefresh")?I._drawRegion():I._drawAll(),I.set("drawFrame",null)}),this.set("drawFrame",V))},H.prototype.skipDraw=function(){},H.prototype.removeDom=function(){var I=this.get("el");I.width=0,I.height=0,I.parentNode.removeChild(I)},H}(d.$Z),yi=Sr,di="0.5.12"},89838:function(Wr,cr,Rt){"use strict";Rt.d(cr,{wN:function(){return oe},Ll:function(){return lr},x1:function(){return Ye},aH:function(){return or},lD:function(){return _e},Zr:function(){return Xt}});var Xt={};Rt.r(Xt),Rt.d(Xt,{distance:function(){return c},getBBoxByArray:function(){return Tt},getBBoxRange:function(){return Ae},isNumberEqual:function(){return Ee},piMod:function(){return pe}});function wt(P){return Math.min.apply(null,P)}function d(P){return Math.max.apply(null,P)}function c(P,C,L,k){var T=P-L,R=C-k;return Math.sqrt(T*T+R*R)}function Ee(P,C){return Math.abs(P-C)<.001}function Tt(P,C){var L=wt(P),k=wt(C),T=d(P),R=d(C);return{x:L,y:k,width:T-L,height:R-k}}function Ae(P,C,L,k){return{minX:wt([P,L]),maxX:d([P,L]),minY:wt([C,k]),maxY:d([C,k])}}function pe(P){return(P+Math.PI*2)%(Math.PI*2)}var se=Rt(31437),Ye={box:function(P,C,L,k){return Tt([P,L],[C,k])},length:function(P,C,L,k){return c(P,C,L,k)},pointAt:function(P,C,L,k,T){return{x:(1-T)*P+T*L,y:(1-T)*C+T*k}},pointDistance:function(P,C,L,k,T,R){var j=(L-P)*(T-P)+(k-C)*(R-C);if(j<0)return c(P,C,T,R);var tt=(L-P)*(L-P)+(k-C)*(k-C);return j>tt?c(L,k,T,R):this.pointToLine(P,C,L,k,T,R)},pointToLine:function(P,C,L,k,T,R){var j=[L-P,k-C];if(se.I6(j,[0,0]))return Math.sqrt((T-P)*(T-P)+(R-C)*(R-C));var tt=[-j[1],j[0]];se.Fv(tt,tt);var st=[T-P,R-C];return Math.abs(se.AK(st,tt))},tangentAngle:function(P,C,L,k){return Math.atan2(k-C,L-P)}},Be=1e-4;function Ct(P,C,L,k,T,R){var j,tt=Infinity,st=[L,k],Bt=20;R&&R>200&&(Bt=R/10);for(var qt=1/Bt,Qt=qt/10,me=0;me<=Bt;me++){var He=me*qt,J=[T.apply(null,P.concat([He])),T.apply(null,C.concat([He]))],lt=c(st[0],st[1],J[0],J[1]);lt<tt&&(j=He,tt=lt)}if(j===0)return{x:P[0],y:C[0]};if(j===1){var yt=P.length;return{x:P[yt-1],y:C[yt-1]}}tt=Infinity;for(var me=0;me<32&&!(Qt<Be);me++){var Dt=j-Qt,te=j+Qt,J=[T.apply(null,P.concat([Dt])),T.apply(null,C.concat([Dt]))],lt=c(st[0],st[1],J[0],J[1]);if(Dt>=0&&lt<tt)j=Dt,tt=lt;else{var Zt=[T.apply(null,P.concat([te])),T.apply(null,C.concat([te]))],ue=c(st[0],st[1],Zt[0],Zt[1]);te<=1&&ue<tt?(j=te,tt=ue):Qt*=.5}}return{x:T.apply(null,P.concat([j])),y:T.apply(null,C.concat([j]))}}function rt(P,C){for(var L=0,k=P.length,T=0;T<k;T++){var R=P[T],j=C[T],tt=P[(T+1)%k],st=C[(T+1)%k];L+=c(R,j,tt,st)}return L/2}function Jt(P,C,L,k){var T=1-k;return T*T*P+2*k*T*C+k*k*L}function fe(P,C,L){var k=P+L-2*C;if(Ee(k,0))return[.5];var T=(P-C)/k;return T<=1&&T>=0?[T]:[]}function ke(P,C,L,k){return 2*(1-k)*(C-P)+2*k*(L-C)}function Pe(P,C,L,k,T,R,j){var tt=Jt(P,L,T,j),st=Jt(C,k,R,j),Bt=Ye.pointAt(P,C,L,k,j),qt=Ye.pointAt(L,k,T,R,j);return[[P,C,Bt.x,Bt.y,tt,st],[tt,st,qt.x,qt.y,T,R]]}function Me(P,C,L,k,T,R,j){if(j===0)return(c(P,C,L,k)+c(L,k,T,R)+c(P,C,T,R))/2;var tt=Pe(P,C,L,k,T,R,.5),st=tt[0],Bt=tt[1];return st.push(j-1),Bt.push(j-1),Me.apply(null,st)+Me.apply(null,Bt)}var _e={box:function(P,C,L,k,T,R){var j=fe(P,L,T)[0],tt=fe(C,k,R)[0],st=[P,T],Bt=[C,R];return j!==void 0&&st.push(Jt(P,L,T,j)),tt!==void 0&&Bt.push(Jt(C,k,R,tt)),Tt(st,Bt)},length:function(P,C,L,k,T,R){return Me(P,C,L,k,T,R,3)},nearestPoint:function(P,C,L,k,T,R,j,tt){return Ct([P,L,T],[C,k,R],j,tt,Jt)},pointDistance:function(P,C,L,k,T,R,j,tt){var st=this.nearestPoint(P,C,L,k,T,R,j,tt);return c(st.x,st.y,j,tt)},interpolationAt:Jt,pointAt:function(P,C,L,k,T,R,j){return{x:Jt(P,L,T,j),y:Jt(C,k,R,j)}},divide:function(P,C,L,k,T,R,j){return Pe(P,C,L,k,T,R,j)},tangentAngle:function(P,C,L,k,T,R,j){var tt=ke(P,L,T,j),st=ke(C,k,R,j),Bt=Math.atan2(st,tt);return pe(Bt)}};function Nt(P,C,L,k,T){var R=1-T;return R*R*R*P+3*C*T*R*R+3*L*T*T*R+k*T*T*T}function Ht(P,C,L,k,T){var R=1-T;return 3*(R*R*(C-P)+2*R*T*(L-C)+T*T*(k-L))}function be(P,C,L,k){var T=-3*P+9*C-9*L+3*k,R=6*P-12*C+6*L,j=3*C-3*P,tt=[],st,Bt,qt;if(Ee(T,0))Ee(R,0)||(st=-j/R,st>=0&&st<=1&&tt.push(st));else{var Qt=R*R-4*T*j;Ee(Qt,0)?tt.push(-R/(2*T)):Qt>0&&(qt=Math.sqrt(Qt),st=(-R+qt)/(2*T),Bt=(-R-qt)/(2*T),st>=0&&st<=1&&tt.push(st),Bt>=0&&Bt<=1&&tt.push(Bt))}return tt}function Se(P,C,L,k,T,R,j,tt,st){var Bt=Nt(P,L,T,j,st),qt=Nt(C,k,R,tt,st),Qt=Ye.pointAt(P,C,L,k,st),me=Ye.pointAt(L,k,T,R,st),He=Ye.pointAt(T,R,j,tt,st),J=Ye.pointAt(Qt.x,Qt.y,me.x,me.y,st),lt=Ye.pointAt(me.x,me.y,He.x,He.y,st);return[[P,C,Qt.x,Qt.y,J.x,J.y,Bt,qt],[Bt,qt,lt.x,lt.y,He.x,He.y,j,tt]]}function Ne(P,C,L,k,T,R,j,tt,st){if(st===0)return rt([P,L,T,j],[C,k,R,tt]);var Bt=Se(P,C,L,k,T,R,j,tt,.5),qt=Bt[0],Qt=Bt[1];return qt.push(st-1),Qt.push(st-1),Ne.apply(null,qt)+Ne.apply(null,Qt)}var lr={extrema:be,box:function(P,C,L,k,T,R,j,tt){for(var st=[P,j],Bt=[C,tt],qt=be(P,L,T,j),Qt=be(C,k,R,tt),me=0;me<qt.length;me++)st.push(Nt(P,L,T,j,qt[me]));for(var me=0;me<Qt.length;me++)Bt.push(Nt(C,k,R,tt,Qt[me]));return Tt(st,Bt)},length:function(P,C,L,k,T,R,j,tt){return Ne(P,C,L,k,T,R,j,tt,3)},nearestPoint:function(P,C,L,k,T,R,j,tt,st,Bt,qt){return Ct([P,L,T,j],[C,k,R,tt],st,Bt,Nt,qt)},pointDistance:function(P,C,L,k,T,R,j,tt,st,Bt,qt){var Qt=this.nearestPoint(P,C,L,k,T,R,j,tt,st,Bt,qt);return c(Qt.x,Qt.y,st,Bt)},interpolationAt:Nt,pointAt:function(P,C,L,k,T,R,j,tt,st){return{x:Nt(P,L,T,j,st),y:Nt(C,k,R,tt,st)}},divide:function(P,C,L,k,T,R,j,tt,st){return Se(P,C,L,k,T,R,j,tt,st)},tangentAngle:function(P,C,L,k,T,R,j,tt,st){var Bt=Ht(P,L,T,j,st),qt=Ht(C,k,R,tt,st);return pe(Math.atan2(qt,Bt))}};function fr(P,C){var L=Math.abs(P);return C>0?L:L*-1}var Yt={box:function(P,C,L,k){return{x:P-L,y:C-k,width:L*2,height:k*2}},length:function(P,C,L,k){return Math.PI*(3*(L+k)-Math.sqrt((3*L+k)*(L+3*k)))},nearestPoint:function(P,C,L,k,T,R){var j=L,tt=k;if(j===0||tt===0)return{x:P,y:C};for(var st=T-P,Bt=R-C,qt=Math.abs(st),Qt=Math.abs(Bt),me=j*j,He=tt*tt,J=Math.PI/4,lt,yt,Dt=0;Dt<4;Dt++){lt=j*Math.cos(J),yt=tt*Math.sin(J);var te=(me-He)*Math.pow(Math.cos(J),3)/j,Zt=(He-me)*Math.pow(Math.sin(J),3)/tt,ue=lt-te,de=yt-Zt,ee=qt-te,Ge=Qt-Zt,Te=Math.hypot(de,ue),nr=Math.hypot(Ge,ee),wr=Te*Math.asin((ue*Ge-de*ee)/(Te*nr)),er=wr/Math.sqrt(me+He-lt*lt-yt*yt);J+=er,J=Math.min(Math.PI/2,Math.max(0,J))}return{x:P+fr(lt,st),y:C+fr(yt,Bt)}},pointDistance:function(P,C,L,k,T,R){var j=this.nearestPoint(P,C,L,k,T,R);return c(j.x,j.y,T,R)},pointAt:function(P,C,L,k,T){var R=2*Math.PI*T;return{x:P+L*Math.cos(R),y:C+k*Math.sin(R)}},tangentAngle:function(P,C,L,k,T){var R=2*Math.PI*T,j=Math.atan2(k*Math.cos(R),-L*Math.sin(R));return pe(j)}};function xt(P,C,L,k,T,R,j,tt){return-1*L*Math.cos(T)*Math.sin(tt)-k*Math.sin(T)*Math.cos(tt)}function Lt(P,C,L,k,T,R,j,tt){return-1*L*Math.sin(T)*Math.sin(tt)+k*Math.cos(T)*Math.cos(tt)}function It(P,C,L){return Math.atan(-C/P*Math.tan(L))}function Ft(P,C,L){return Math.atan(C/(P*Math.tan(L)))}function At(P,C,L,k,T,R){return L*Math.cos(T)*Math.cos(R)-k*Math.sin(T)*Math.sin(R)+P}function B(P,C,L,k,T,R){return L*Math.sin(T)*Math.cos(R)+k*Math.cos(T)*Math.sin(R)+C}function K(P,C,L,k){var T=Math.atan2(k*P,L*C);return(T+Math.PI*2)%(Math.PI*2)}function Pt(P,C,L){return{x:P*Math.cos(L),y:C*Math.sin(L)}}function xe(P,C,L){var k=Math.cos(L),T=Math.sin(L);return[P*k-C*T,P*T+C*k]}var oe={box:function(P,C,L,k,T,R,j){for(var tt=It(L,k,T),st=Infinity,Bt=-Infinity,qt=[R,j],Qt=-Math.PI*2;Qt<=Math.PI*2;Qt+=Math.PI){var me=tt+Qt;R<j?R<me&&me<j&&qt.push(me):j<me&&me<R&&qt.push(me)}for(var Qt=0;Qt<qt.length;Qt++){var He=At(P,C,L,k,T,qt[Qt]);He<st&&(st=He),He>Bt&&(Bt=He)}for(var J=Ft(L,k,T),lt=Infinity,yt=-Infinity,Dt=[R,j],Qt=-Math.PI*2;Qt<=Math.PI*2;Qt+=Math.PI){var te=J+Qt;R<j?R<te&&te<j&&Dt.push(te):j<te&&te<R&&Dt.push(te)}for(var Qt=0;Qt<Dt.length;Qt++){var Zt=B(P,C,L,k,T,Dt[Qt]);Zt<lt&&(lt=Zt),Zt>yt&&(yt=Zt)}return{x:st,y:lt,width:Bt-st,height:yt-lt}},length:function(P,C,L,k,T,R,j){},nearestPoint:function(P,C,L,k,T,R,j,tt,st){var Bt=xe(tt-P,st-C,-T),qt=Bt[0],Qt=Bt[1],me=Yt.nearestPoint(0,0,L,k,qt,Qt),He=K(L,k,me.x,me.y);He<R?me=Pt(L,k,R):He>j&&(me=Pt(L,k,j));var J=xe(me.x,me.y,T);return{x:J[0]+P,y:J[1]+C}},pointDistance:function(P,C,L,k,T,R,j,tt,st){var Bt=this.nearestPoint(P,C,L,k,tt,st);return c(Bt.x,Bt.y,tt,st)},pointAt:function(P,C,L,k,T,R,j,tt){var st=(j-R)*tt+R;return{x:At(P,C,L,k,T,st),y:B(P,C,L,k,T,st)}},tangentAngle:function(P,C,L,k,T,R,j,tt){var st=(j-R)*tt+R,Bt=xt(P,C,L,k,T,R,j,st),qt=Lt(P,C,L,k,T,R,j,st);return pe(Math.atan2(qt,Bt))}};function Ve(P){for(var C=0,L=[],k=0;k<P.length-1;k++){var T=P[k],R=P[k+1],j=c(T[0],T[1],R[0],R[1]),tt={from:T,to:R,length:j};L.push(tt),C+=j}return{segments:L,totalLength:C}}function Xe(P){if(P.length<2)return 0;for(var C=0,L=0;L<P.length-1;L++){var k=P[L],T=P[L+1];C+=c(k[0],k[1],T[0],T[1])}return C}function Re(P,C){if(C>1||C<0||P.length<2)return null;var L=Ve(P),k=L.segments,T=L.totalLength;if(T===0)return{x:P[0][0],y:P[0][1]};for(var R=0,j=null,tt=0;tt<k.length;tt++){var st=k[tt],Bt=st.from,qt=st.to,Qt=st.length/T;if(C>=R&&C<=R+Qt){var me=(C-R)/Qt;j=Ye.pointAt(Bt[0],Bt[1],qt[0],qt[1],me);break}R+=Qt}return j}function Ke(P,C){if(C>1||C<0||P.length<2)return 0;for(var L=Ve(P),k=L.segments,T=L.totalLength,R=0,j=0,tt=0;tt<k.length;tt++){var st=k[tt],Bt=st.from,qt=st.to,Qt=st.length/T;if(C>=R&&C<=R+Qt){j=Math.atan2(qt[1]-Bt[1],qt[0]-Bt[0]);break}R+=Qt}return j}function we(P,C,L){for(var k=Infinity,T=0;T<P.length-1;T++){var R=P[T],j=P[T+1],tt=Ye.pointDistance(R[0],R[1],j[0],j[1],C,L);tt<k&&(k=tt)}return k}var or={box:function(P){for(var C=[],L=[],k=0;k<P.length;k++){var T=P[k];C.push(T[0]),L.push(T[1])}return Tt(C,L)},length:function(P){return Xe(P)},pointAt:function(P,C){return Re(P,C)},pointDistance:function(P,C,L){return we(P,C,L)},tangentAngle:function(P,C){return Ke(P,C)}};function Vt(P){var C=P.slice(0);return P.length&&C.push(P[0]),C}var et={box:function(P){return or.box(P)},length:function(P){return Xe(Vt(P))},pointAt:function(P,C){return Re(Vt(P),C)},pointDistance:function(P,C,L){return we(Vt(P),C,L)},tangentAngle:function(P,C){return Ke(Vt(P),C)}}},73578:function(Wr,cr,Rt){"use strict";Rt.r(cr),Rt.d(cr,{AbstractCanvas:function(){return d.$Z},AbstractGroup:function(){return d.pA},AbstractShape:function(){return d.zr},Base:function(){return d.XY},Canvas:function(){return Qe},Event:function(){return d.ju},Group:function(){return Me},PathUtil:function(){return d.Gk},Shape:function(){return Xt},assembleFont:function(){return d.$O},getBBoxMethod:function(){return d.bj},getOffScreenContext:function(){return d.LF},getTextHeight:function(){return d.FE},invert:function(){return d.U_},isAllowCapture:function(){return d.pP},multiplyVec2:function(){return d.rG},registerBBox:function(){return d.WZ},registerEasing:function(){return d.CW},version:function(){return yr}});var Xt={};Rt.r(Xt),Rt.d(Xt,{Base:function(){return Nt},Circle:function(){return be},Dom:function(){return Ne},Ellipse:function(){return fr},Image:function(){return xt},Line:function(){return Ft},Marker:function(){return Pt},Path:function(){return oe},Polygon:function(){return Xe},Polyline:function(){return Ke},Rect:function(){return C},Text:function(){return st}});var wt=Rt(70655),d=Rt(3232),c=Rt(41694),Ee={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},Tt={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},Ae=null;function pe(Mt){return document.createElementNS("http://www.w3.org/2000/svg",Mt)}function se(Mt){var it=Ee[Mt.type],N=Mt.getParent();if(!it)throw new Error("the type "+Mt.type+" is not supported by svg");var ct=pe(it);if(Mt.get("id")&&(ct.id=Mt.get("id")),Mt.set("el",ct),Mt.set("attrs",{}),N){var St=N.get("el");St||(St=N.createDom(),N.set("el",St)),St.appendChild(ct)}return ct}function Ye(Mt,it){var N=Mt.get("el"),ct=(0,c.qo)(N.children).sort(it),St=document.createDocumentFragment();ct.forEach(function($t){St.appendChild($t)}),N.appendChild(St)}function Be(Mt,it){var N=Mt.parentNode,ct=Array.from(N.childNodes).filter(function(ge){return ge.nodeType===1&&ge.nodeName.toLowerCase()!=="defs"}),St=ct[it],$t=ct.indexOf(Mt);if(St){if($t>it)N.insertBefore(Mt,St);else if($t<it){var ne=ct[it+1];ne?N.insertBefore(Mt,ne):N.appendChild(Mt)}}else N.appendChild(Mt)}function Ct(Mt,it){var N=Mt.cfg.el,ct=Mt.attr(),St={dx:ct.shadowOffsetX,dy:ct.shadowOffsetY,blur:ct.shadowBlur,color:ct.shadowColor};if(!St.dx&&!St.dy&&!St.blur&&!St.color)N.removeAttribute("filter");else{var $t=it.find("filter",St);$t||($t=it.addShadow(St)),N.setAttribute("filter","url(#"+$t+")")}}function rt(Mt){var it=Mt.attr().matrix;if(it){for(var N=Mt.cfg.el,ct=[],St=0;St<9;St+=3)ct.push(it[St]+","+it[St+1]);ct=ct.join(","),ct.indexOf("NaN")===-1?N.setAttribute("transform","matrix("+ct+")"):console.warn("invalid matrix:",it)}}function Jt(Mt,it){var N=Mt.getClip(),ct=Mt.get("el");if(!N)ct.removeAttribute("clip-path");else if(N&&!ct.hasAttribute("clip-path")){se(N),N.createPath(it);var St=it.addClip(N);ct.setAttribute("clip-path","url(#"+St+")")}}function fe(Mt,it){it.forEach(function(N){N.draw(Mt)})}function ke(Mt,it){var N=Mt.get("canvas");if(N&&N.get("autoDraw")){var ct=N.get("context"),St=Mt.getParent(),$t=St?St.getChildren():[N],ne=Mt.get("el");if(it==="remove"){var ge=Mt.get("isClipShape");if(ge){var Ie=ne&&ne.parentNode,zr=Ie&&Ie.parentNode;Ie&&zr&&zr.removeChild(Ie)}else ne&&ne.parentNode&&ne.parentNode.removeChild(ne)}else if(it==="show")ne.setAttribute("visibility","visible");else if(it==="hide")ne.setAttribute("visibility","hidden");else if(it==="zIndex")Be(ne,$t.indexOf(Mt));else if(it==="sort"){var Xr=Mt.get("children");Xr&&Xr.length&&Ye(Mt,function(Nr,Sn){return Xr.indexOf(Nr)-Xr.indexOf(Sn)?1:0})}else it==="clear"?ne&&(ne.innerHTML=""):it==="matrix"?rt(Mt):it==="clip"?Jt(Mt,ct):it==="attr"||it==="add"&&Mt.draw(ct)}}var Pe=function(Mt){(0,wt.ZT)(it,Mt);function it(){return Mt!==null&&Mt.apply(this,arguments)||this}return it.prototype.isEntityGroup=function(){return!0},it.prototype.createDom=function(){var N=pe("g");this.set("el",N);var ct=this.getParent();if(ct){var St=ct.get("el");St||(St=ct.createDom(),ct.set("el",St)),St.appendChild(N)}return N},it.prototype.afterAttrsChange=function(N){Mt.prototype.afterAttrsChange.call(this,N);var ct=this.get("canvas");if(ct&&ct.get("autoDraw")){var St=ct.get("context");this.createPath(St,N)}},it.prototype.onCanvasChange=function(N){ke(this,N)},it.prototype.getShapeBase=function(){return Xt},it.prototype.getGroupBase=function(){return it},it.prototype.draw=function(N){var ct=this.getChildren(),St=this.get("el");this.get("destroyed")?St&&St.parentNode.removeChild(St):(St||this.createDom(),Jt(this,N),this.createPath(N),ct.length&&fe(N,ct))},it.prototype.createPath=function(N,ct){var St=this.attr(),$t=this.get("el");(0,c.S6)(ct||St,function(ne,ge){Tt[ge]&&$t.setAttribute(Tt[ge],ne)}),rt(this)},it}(d.pA),Me=Pe,_e=function(Mt){(0,wt.ZT)(it,Mt);function it(){var N=Mt!==null&&Mt.apply(this,arguments)||this;return N.type="svg",N.canFill=!1,N.canStroke=!1,N}return it.prototype.getDefaultAttrs=function(){var N=Mt.prototype.getDefaultAttrs.call(this);return(0,wt.pi)((0,wt.pi)({},N),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},it.prototype.afterAttrsChange=function(N){Mt.prototype.afterAttrsChange.call(this,N);var ct=this.get("canvas");if(ct&&ct.get("autoDraw")){var St=ct.get("context");this.draw(St,N)}},it.prototype.getShapeBase=function(){return Xt},it.prototype.getGroupBase=function(){return Me},it.prototype.onCanvasChange=function(N){ke(this,N)},it.prototype.calculateBBox=function(){var N=this.get("el"),ct=null;if(N)ct=N.getBBox();else{var St=(0,d.bj)(this.get("type"));St&&(ct=St(this))}if(ct){var $t=ct.x,ne=ct.y,ge=ct.width,Ie=ct.height,zr=this.getHitLineWidth(),Xr=zr/2,Nr=$t-Xr,Sn=ne-Xr,Vr=$t+ge+Xr,Kn=ne+Ie+Xr;return{x:Nr,y:Sn,minX:Nr,minY:Sn,maxX:Vr,maxY:Kn,width:ge+zr,height:Ie+zr}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},it.prototype.isFill=function(){var N=this.attr(),ct=N.fill,St=N.fillStyle;return(ct||St||this.isClipShape())&&this.canFill},it.prototype.isStroke=function(){var N=this.attr(),ct=N.stroke,St=N.strokeStyle;return(ct||St)&&this.canStroke},it.prototype.draw=function(N,ct){var St=this.get("el");this.get("destroyed")?St&&St.parentNode.removeChild(St):(St||se(this),Jt(this,N),this.createPath(N,ct),this.shadow(N,ct),this.strokeAndFill(N,ct),this.transform(ct))},it.prototype.createPath=function(N,ct){},it.prototype.strokeAndFill=function(N,ct){var St=ct||this.attr(),$t=St.fill,ne=St.fillStyle,ge=St.stroke,Ie=St.strokeStyle,zr=St.fillOpacity,Xr=St.strokeOpacity,Nr=St.lineWidth,Sn=this.get("el");this.canFill&&(ct?"fill"in St?this._setColor(N,"fill",$t):"fillStyle"in St&&this._setColor(N,"fill",ne):this._setColor(N,"fill",$t||ne),zr&&Sn.setAttribute(Tt.fillOpacity,zr)),this.canStroke&&Nr>0&&(ct?"stroke"in St?this._setColor(N,"stroke",ge):"strokeStyle"in St&&this._setColor(N,"stroke",Ie):this._setColor(N,"stroke",ge||Ie),Xr&&Sn.setAttribute(Tt.strokeOpacity,Xr),Nr&&Sn.setAttribute(Tt.lineWidth,Nr))},it.prototype._setColor=function(N,ct,St){var $t=this.get("el");if(!St){$t.setAttribute(Tt[ct],"none");return}if(St=St.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(St)){var ne=N.find("gradient",St);ne||(ne=N.addGradient(St)),$t.setAttribute(Tt[ct],"url(#"+ne+")")}else if(/^[p,P]{1}[\s]*\(/.test(St)){var ne=N.find("pattern",St);ne||(ne=N.addPattern(St)),$t.setAttribute(Tt[ct],"url(#"+ne+")")}else $t.setAttribute(Tt[ct],St)},it.prototype.shadow=function(N,ct){var St=this.attr(),$t=ct||St,ne=$t.shadowOffsetX,ge=$t.shadowOffsetY,Ie=$t.shadowBlur,zr=$t.shadowColor;(ne||ge||Ie||zr)&&Ct(this,N)},it.prototype.transform=function(N){var ct=this.attr(),St=(N||ct).matrix;St&&rt(this)},it.prototype.isInShape=function(N,ct){return this.isPointInPath(N,ct)},it.prototype.isPointInPath=function(N,ct){var St=this.get("el"),$t=this.get("canvas"),ne=$t.get("el").getBoundingClientRect(),ge=N+ne.left,Ie=ct+ne.top,zr=document.elementFromPoint(ge,Ie);return!!(zr&&zr.isEqualNode(St))},it.prototype.getHitLineWidth=function(){var N=this.attrs,ct=N.lineWidth,St=N.lineAppendWidth;return this.isStroke()?ct+St:0},it}(d.zr),Nt=_e,Ht=function(Mt){(0,wt.ZT)(it,Mt);function it(){var N=Mt!==null&&Mt.apply(this,arguments)||this;return N.type="circle",N.canFill=!0,N.canStroke=!0,N}return it.prototype.getDefaultAttrs=function(){var N=Mt.prototype.getDefaultAttrs.call(this);return(0,wt.pi)((0,wt.pi)({},N),{x:0,y:0,r:0})},it.prototype.createPath=function(N,ct){var St=this.attr(),$t=this.get("el");(0,c.S6)(ct||St,function(ne,ge){ge==="x"||ge==="y"?$t.setAttribute("c"+ge,ne):Tt[ge]&&$t.setAttribute(Tt[ge],ne)})},it}(Nt),be=Ht,Se=function(Mt){(0,wt.ZT)(it,Mt);function it(){var N=Mt!==null&&Mt.apply(this,arguments)||this;return N.type="dom",N.canFill=!1,N.canStroke=!1,N}return it.prototype.createPath=function(N,ct){var St=this.attr(),$t=this.get("el");if((0,c.S6)(ct||St,function(zr,Xr){Tt[Xr]&&$t.setAttribute(Tt[Xr],zr)}),typeof St.html=="function"){var ne=St.html.call(this,St);if(ne instanceof Element||ne instanceof HTMLDocument){for(var ge=$t.childNodes,Ie=ge.length-1;Ie>=0;Ie--)$t.removeChild(ge[Ie]);$t.appendChild(ne)}else $t.innerHTML=ne}else $t.innerHTML=St.html},it}(Nt),Ne=Se,lr=function(Mt){(0,wt.ZT)(it,Mt);function it(){var N=Mt!==null&&Mt.apply(this,arguments)||this;return N.type="ellipse",N.canFill=!0,N.canStroke=!0,N}return it.prototype.getDefaultAttrs=function(){var N=Mt.prototype.getDefaultAttrs.call(this);return(0,wt.pi)((0,wt.pi)({},N),{x:0,y:0,rx:0,ry:0})},it.prototype.createPath=function(N,ct){var St=this.attr(),$t=this.get("el");(0,c.S6)(ct||St,function(ne,ge){ge==="x"||ge==="y"?$t.setAttribute("c"+ge,ne):Tt[ge]&&$t.setAttribute(Tt[ge],ne)})},it}(Nt),fr=lr,Yt=function(Mt){(0,wt.ZT)(it,Mt);function it(){var N=Mt!==null&&Mt.apply(this,arguments)||this;return N.type="image",N.canFill=!1,N.canStroke=!1,N}return it.prototype.getDefaultAttrs=function(){var N=Mt.prototype.getDefaultAttrs.call(this);return(0,wt.pi)((0,wt.pi)({},N),{x:0,y:0,width:0,height:0})},it.prototype.createPath=function(N,ct){var St=this,$t=this.attr(),ne=this.get("el");(0,c.S6)(ct||$t,function(ge,Ie){Ie==="img"?St._setImage($t.img):Tt[Ie]&&ne.setAttribute(Tt[Ie],ge)})},it.prototype.setAttr=function(N,ct){this.attrs[N]=ct,N==="img"&&this._setImage(ct)},it.prototype._setImage=function(N){var ct=this.attr(),St=this.get("el");if((0,c.HD)(N))St.setAttribute("href",N);else if(N instanceof window.Image)ct.width||(St.setAttribute("width",N.width),this.attr("width",N.width)),ct.height||(St.setAttribute("height",N.height),this.attr("height",N.height)),St.setAttribute("href",N.src);else if(N instanceof HTMLElement&&(0,c.HD)(N.nodeName)&&N.nodeName.toUpperCase()==="CANVAS")St.setAttribute("href",N.toDataURL());else if(N instanceof ImageData){var $t=document.createElement("canvas");$t.setAttribute("width",""+N.width),$t.setAttribute("height",""+N.height),$t.getContext("2d").putImageData(N,0,0),ct.width||(St.setAttribute("width",""+N.width),this.attr("width",N.width)),ct.height||(St.setAttribute("height",""+N.height),this.attr("height",N.height)),St.setAttribute("href",$t.toDataURL())}},it}(Nt),xt=Yt,Lt=Rt(89838),It=function(Mt){(0,wt.ZT)(it,Mt);function it(){var N=Mt!==null&&Mt.apply(this,arguments)||this;return N.type="line",N.canFill=!1,N.canStroke=!0,N}return it.prototype.getDefaultAttrs=function(){var N=Mt.prototype.getDefaultAttrs.call(this);return(0,wt.pi)((0,wt.pi)({},N),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},it.prototype.createPath=function(N,ct){var St=this.attr(),$t=this.get("el");(0,c.S6)(ct||St,function(ne,ge){if(ge==="startArrow"||ge==="endArrow")if(ne){var Ie=(0,c.Kn)(ne)?N.addArrow(St,Tt[ge]):N.getDefaultArrow(St,Tt[ge]);$t.setAttribute(Tt[ge],"url(#"+Ie+")")}else $t.removeAttribute(Tt[ge]);else Tt[ge]&&$t.setAttribute(Tt[ge],ne)})},it.prototype.getTotalLength=function(){var N=this.attr(),ct=N.x1,St=N.y1,$t=N.x2,ne=N.y2;return Lt.x1.length(ct,St,$t,ne)},it.prototype.getPoint=function(N){var ct=this.attr(),St=ct.x1,$t=ct.y1,ne=ct.x2,ge=ct.y2;return Lt.x1.pointAt(St,$t,ne,ge,N)},it}(Nt),Ft=It,At={circle:function(Mt,it,N){return[["M",Mt,it],["m",-N,0],["a",N,N,0,1,0,N*2,0],["a",N,N,0,1,0,-N*2,0]]},square:function(Mt,it,N){return[["M",Mt-N,it-N],["L",Mt+N,it-N],["L",Mt+N,it+N],["L",Mt-N,it+N],["Z"]]},diamond:function(Mt,it,N){return[["M",Mt-N,it],["L",Mt,it-N],["L",Mt+N,it],["L",Mt,it+N],["Z"]]},triangle:function(Mt,it,N){var ct=N*Math.sin(1/3*Math.PI);return[["M",Mt-N,it+ct],["L",Mt,it-ct],["L",Mt+N,it+ct],["z"]]},triangleDown:function(Mt,it,N){var ct=N*Math.sin(1/3*Math.PI);return[["M",Mt-N,it-ct],["L",Mt+N,it-ct],["L",Mt,it+ct],["Z"]]}},B={get:function(Mt){return At[Mt]},register:function(Mt,it){At[Mt]=it},remove:function(Mt){delete At[Mt]},getAll:function(){return At}},K=function(Mt){(0,wt.ZT)(it,Mt);function it(){var N=Mt!==null&&Mt.apply(this,arguments)||this;return N.type="marker",N.canFill=!0,N.canStroke=!0,N}return it.prototype.createPath=function(N){var ct=this.get("el");ct.setAttribute("d",this._assembleMarker())},it.prototype._assembleMarker=function(){var N=this._getPath();return(0,c.kJ)(N)?N.map(function(ct){return ct.join(" ")}).join(""):N},it.prototype._getPath=function(){var N=this.attr(),ct=N.x,St=N.y,$t=N.r||N.radius,ne=N.symbol||"circle",ge;return(0,c.mf)(ne)?ge=ne:ge=B.get(ne),ge?ge(ct,St,$t):(console.warn(ge+" symbol is not exist."),null)},it.symbolsFactory=B,it}(Nt),Pt=K,xe=function(Mt){(0,wt.ZT)(it,Mt);function it(){var N=Mt!==null&&Mt.apply(this,arguments)||this;return N.type="path",N.canFill=!0,N.canStroke=!0,N}return it.prototype.getDefaultAttrs=function(){var N=Mt.prototype.getDefaultAttrs.call(this);return(0,wt.pi)((0,wt.pi)({},N),{startArrow:!1,endArrow:!1})},it.prototype.createPath=function(N,ct){var St=this,$t=this.attr(),ne=this.get("el");(0,c.S6)(ct||$t,function(ge,Ie){if(Ie==="path"&&(0,c.kJ)(ge))ne.setAttribute("d",St._formatPath(ge));else if(Ie==="startArrow"||Ie==="endArrow")if(ge){var zr=(0,c.Kn)(ge)?N.addArrow($t,Tt[Ie]):N.getDefaultArrow($t,Tt[Ie]);ne.setAttribute(Tt[Ie],"url(#"+zr+")")}else ne.removeAttribute(Tt[Ie]);else Tt[Ie]&&ne.setAttribute(Tt[Ie],ge)})},it.prototype._formatPath=function(N){var ct=N.map(function(St){return St.join(" ")}).join("");return~ct.indexOf("NaN")?"":ct},it.prototype.getTotalLength=function(){var N=this.get("el");return N?N.getTotalLength():null},it.prototype.getPoint=function(N){var ct=this.get("el"),St=this.getTotalLength();if(St===0)return null;var $t=ct?ct.getPointAtLength(N*St):null;return $t?{x:$t.x,y:$t.y}:null},it}(Nt),oe=xe,Ve=function(Mt){(0,wt.ZT)(it,Mt);function it(){var N=Mt!==null&&Mt.apply(this,arguments)||this;return N.type="polygon",N.canFill=!0,N.canStroke=!0,N}return it.prototype.createPath=function(N,ct){var St=this.attr(),$t=this.get("el");(0,c.S6)(ct||St,function(ne,ge){ge==="points"&&(0,c.kJ)(ne)&&ne.length>=2?$t.setAttribute("points",ne.map(function(Ie){return Ie[0]+","+Ie[1]}).join(" ")):Tt[ge]&&$t.setAttribute(Tt[ge],ne)})},it}(Nt),Xe=Ve,Re=function(Mt){(0,wt.ZT)(it,Mt);function it(){var N=Mt!==null&&Mt.apply(this,arguments)||this;return N.type="polyline",N.canFill=!0,N.canStroke=!0,N}return it.prototype.getDefaultAttrs=function(){var N=Mt.prototype.getDefaultAttrs.call(this);return(0,wt.pi)((0,wt.pi)({},N),{startArrow:!1,endArrow:!1})},it.prototype.onAttrChange=function(N,ct,St){Mt.prototype.onAttrChange.call(this,N,ct,St),["points"].indexOf(N)!==-1&&this._resetCache()},it.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},it.prototype.createPath=function(N,ct){var St=this.attr(),$t=this.get("el");(0,c.S6)(ct||St,function(ne,ge){ge==="points"&&(0,c.kJ)(ne)&&ne.length>=2?$t.setAttribute("points",ne.map(function(Ie){return Ie[0]+","+Ie[1]}).join(" ")):Tt[ge]&&$t.setAttribute(Tt[ge],ne)})},it.prototype.getTotalLength=function(){var N=this.attr().points,ct=this.get("totalLength");return(0,c.UM)(ct)?(this.set("totalLength",Lt.aH.length(N)),this.get("totalLength")):ct},it.prototype.getPoint=function(N){var ct=this.attr().points,St=this.get("tCache");St||(this._setTcache(),St=this.get("tCache"));var $t,ne;return(0,c.S6)(St,function(ge,Ie){N>=ge[0]&&N<=ge[1]&&($t=(N-ge[0])/(ge[1]-ge[0]),ne=Ie)}),Lt.x1.pointAt(ct[ne][0],ct[ne][1],ct[ne+1][0],ct[ne+1][1],$t)},it.prototype._setTcache=function(){var N=this.attr().points;if(!(!N||N.length===0)){var ct=this.getTotalLength();if(!(ct<=0)){var St=0,$t=[],ne,ge;(0,c.S6)(N,function(Ie,zr){N[zr+1]&&(ne=[],ne[0]=St/ct,ge=Lt.x1.length(Ie[0],Ie[1],N[zr+1][0],N[zr+1][1]),St+=ge,ne[1]=St/ct,$t.push(ne))}),this.set("tCache",$t)}}},it.prototype.getStartTangent=function(){var N=this.attr().points,ct=[];return ct.push([N[1][0],N[1][1]]),ct.push([N[0][0],N[0][1]]),ct},it.prototype.getEndTangent=function(){var N=this.attr().points,ct=N.length-1,St=[];return St.push([N[ct-1][0],N[ct-1][1]]),St.push([N[ct][0],N[ct][1]]),St},it}(Nt),Ke=Re,we=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,or=/[^\s,]+/gi;function Vt(Mt){var it=0,N=0,ct=0,St=0;return(0,c.kJ)(Mt)?Mt.length===1?it=N=ct=St=Mt[0]:Mt.length===2?(it=ct=Mt[0],N=St=Mt[1]):Mt.length===3?(it=Mt[0],N=St=Mt[1],ct=Mt[2]):(it=Mt[0],N=Mt[1],ct=Mt[2],St=Mt[3]):it=N=ct=St=Mt,{r1:it,r2:N,r3:ct,r4:St}}function et(Mt){if(Mt=Mt||[],isArray(Mt))return Mt;if(isString(Mt))return Mt=Mt.match(we),each(Mt,function(it,N){if(it=it.match(or),it[0].length>1){var ct=it[0].charAt(0);it.splice(1,0,it[0].substr(1)),it[0]=ct}each(it,function(St,$t){isNaN(St)||(it[$t]=+St)}),Mt[N]=it}),Mt}var P=function(Mt){(0,wt.ZT)(it,Mt);function it(){var N=Mt!==null&&Mt.apply(this,arguments)||this;return N.type="rect",N.canFill=!0,N.canStroke=!0,N}return it.prototype.getDefaultAttrs=function(){var N=Mt.prototype.getDefaultAttrs.call(this);return(0,wt.pi)((0,wt.pi)({},N),{x:0,y:0,width:0,height:0,radius:0})},it.prototype.createPath=function(N,ct){var St=this,$t=this.attr(),ne=this.get("el"),ge=!1,Ie=["x","y","width","height","radius"];(0,c.S6)(ct||$t,function(zr,Xr){Ie.indexOf(Xr)!==-1&&!ge?(ne.setAttribute("d",St._assembleRect($t)),ge=!0):Ie.indexOf(Xr)===-1&&Tt[Xr]&&ne.setAttribute(Tt[Xr],zr)})},it.prototype._assembleRect=function(N){var ct=N.x,St=N.y,$t=N.width,ne=N.height,ge=N.radius;if(!ge)return"M "+ct+","+St+" l "+$t+",0 l 0,"+ne+" l"+-$t+" 0 z";var Ie=Vt(ge);(0,c.kJ)(ge)?ge.length===1?Ie.r1=Ie.r2=Ie.r3=Ie.r4=ge[0]:ge.length===2?(Ie.r1=Ie.r3=ge[0],Ie.r2=Ie.r4=ge[1]):ge.length===3?(Ie.r1=ge[0],Ie.r2=Ie.r4=ge[1],Ie.r3=ge[2]):(Ie.r1=ge[0],Ie.r2=ge[1],Ie.r3=ge[2],Ie.r4=ge[3]):Ie.r1=Ie.r2=Ie.r3=Ie.r4=ge;var zr=[["M "+(ct+Ie.r1)+","+St],["l "+($t-Ie.r1-Ie.r2)+",0"],["a "+Ie.r2+","+Ie.r2+",0,0,1,"+Ie.r2+","+Ie.r2],["l 0,"+(ne-Ie.r2-Ie.r3)],["a "+Ie.r3+","+Ie.r3+",0,0,1,"+-Ie.r3+","+Ie.r3],["l "+(Ie.r3+Ie.r4-$t)+",0"],["a "+Ie.r4+","+Ie.r4+",0,0,1,"+-Ie.r4+","+-Ie.r4],["l 0,"+(Ie.r4+Ie.r1-ne)],["a "+Ie.r1+","+Ie.r1+",0,0,1,"+Ie.r1+","+-Ie.r1],["z"]];return zr.join(" ")},it}(Nt),C=P,L=Rt(43631),k=.3,T={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},R={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},j={left:"left",start:"left",center:"middle",right:"end",end:"end"},tt=function(Mt){(0,wt.ZT)(it,Mt);function it(){var N=Mt!==null&&Mt.apply(this,arguments)||this;return N.type="text",N.canFill=!0,N.canStroke=!0,N}return it.prototype.getDefaultAttrs=function(){var N=Mt.prototype.getDefaultAttrs.call(this);return(0,wt.pi)((0,wt.pi)({},N),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},it.prototype.createPath=function(N,ct){var St=this,$t=this.attr(),ne=this.get("el");this._setFont(),(0,c.S6)(ct||$t,function(ge,Ie){Ie==="text"?St._setText(""+ge):Ie==="matrix"&&ge?rt(St):Tt[Ie]&&ne.setAttribute(Tt[Ie],ge)}),ne.setAttribute("paint-order","stroke"),ne.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},it.prototype._setFont=function(){var N=this.get("el"),ct=this.attr(),St=ct.textBaseline,$t=ct.textAlign,ne=(0,L.qY)();ne&&ne.name==="firefox"?N.setAttribute("dominant-baseline",R[St]||"alphabetic"):N.setAttribute("alignment-baseline",T[St]||"baseline"),N.setAttribute("text-anchor",j[$t]||"left")},it.prototype._setText=function(N){var ct=this.get("el"),St=this.attr(),$t=St.x,ne=St.textBaseline,ge=ne===void 0?"bottom":ne;if(!N)ct.innerHTML="";else if(~N.indexOf(`
`)){var Ie=N.split(`
`),zr=Ie.length-1,Xr="";(0,c.S6)(Ie,function(Nr,Sn){Sn===0?ge==="alphabetic"?Xr+='<tspan x="'+$t+'" dy="'+-zr+'em">'+Nr+"</tspan>":ge==="top"?Xr+='<tspan x="'+$t+'" dy="0.9em">'+Nr+"</tspan>":ge==="middle"?Xr+='<tspan x="'+$t+'" dy="'+-(zr-1)/2+'em">'+Nr+"</tspan>":ge==="bottom"?Xr+='<tspan x="'+$t+'" dy="-'+(zr+k)+'em">'+Nr+"</tspan>":ge==="hanging"&&(Xr+='<tspan x="'+$t+'" dy="'+(-(zr-1)-k)+'em">'+Nr+"</tspan>"):Xr+='<tspan x="'+$t+'" dy="1em">'+Nr+"</tspan>"}),ct.innerHTML=Xr}else ct.innerHTML=N},it}(Nt),st=tt,Bt=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,qt=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Qt=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function me(Mt){var it=Mt.match(Qt);if(!it)return"";var N="";return it.sort(function(ct,St){return ct=ct.split(":"),St=St.split(":"),Number(ct[0])-Number(St[0])}),(0,c.S6)(it,function(ct){ct=ct.split(":"),N+='<stop offset="'+ct[0]+'" stop-color="'+ct[1]+'"></stop>'}),N}function He(Mt,it){var N=Bt.exec(Mt),ct=(0,c.wQ)((0,c.c$)(parseFloat(N[1])),Math.PI*2),St=N[2],$t,ne;ct>=0&&ct<.5*Math.PI?($t={x:0,y:0},ne={x:1,y:1}):.5*Math.PI<=ct&&ct<Math.PI?($t={x:1,y:0},ne={x:0,y:1}):Math.PI<=ct&&ct<1.5*Math.PI?($t={x:1,y:1},ne={x:0,y:0}):($t={x:0,y:1},ne={x:1,y:0});var ge=Math.tan(ct),Ie=ge*ge,zr=(ne.x-$t.x+ge*(ne.y-$t.y))/(Ie+1)+$t.x,Xr=ge*(ne.x-$t.x+ge*(ne.y-$t.y))/(Ie+1)+$t.y;it.setAttribute("x1",$t.x),it.setAttribute("y1",$t.y),it.setAttribute("x2",zr),it.setAttribute("y2",Xr),it.innerHTML=me(St)}function J(Mt,it){var N=qt.exec(Mt),ct=parseFloat(N[1]),St=parseFloat(N[2]),$t=parseFloat(N[3]),ne=N[4];it.setAttribute("cx",ct),it.setAttribute("cy",St),it.setAttribute("r",$t),it.innerHTML=me(ne)}var lt=function(){function Mt(it){this.cfg={};var N=null,ct=(0,c.EL)("gradient_");return it.toLowerCase()[0]==="l"?(N=pe("linearGradient"),He(it,N)):(N=pe("radialGradient"),J(it,N)),N.setAttribute("id",ct),this.el=N,this.id=ct,this.cfg=it,this}return Mt.prototype.match=function(it,N){return this.cfg===N},Mt}(),yt=lt,Dt={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},te={x:"-40%",y:"-40%",width:"200%",height:"200%"},Zt=function(){function Mt(it){this.type="filter",this.cfg={},this.type="filter";var N=pe("filter");return(0,c.S6)(te,function(ct,St){N.setAttribute(St,ct)}),this.el=N,this.id=(0,c.EL)("filter_"),this.el.id=this.id,this.cfg=it,this._parseShadow(it,N),this}return Mt.prototype.match=function(it,N){if(this.type!==it)return!1;var ct=!0,St=this.cfg;return(0,c.S6)(Object.keys(St),function($t){if(St[$t]!==N[$t])return ct=!1,!1}),ct},Mt.prototype.update=function(it,N){var ct=this.cfg;return ct[Dt[it]]=N,this._parseShadow(ct,this.el),this},Mt.prototype._parseShadow=function(it,N){var ct=`<feDropShadow
      dx="`+(it.dx||0)+`"
      dy="`+(it.dy||0)+`"
      stdDeviation="`+(it.blur?it.blur/10:0)+`"
      flood-color="`+(it.color?it.color:"#000")+`"
      flood-opacity="`+(it.opacity?it.opacity:1)+`"
      />`;N.innerHTML=ct},Mt}(),ue=Zt,de=function(){function Mt(it,N){this.cfg={};var ct=pe("marker"),St=(0,c.EL)("marker_");ct.setAttribute("id",St);var $t=pe("path");$t.setAttribute("stroke",it.stroke||"none"),$t.setAttribute("fill",it.fill||"none"),ct.appendChild($t),ct.setAttribute("overflow","visible"),ct.setAttribute("orient","auto-start-reverse"),this.el=ct,this.child=$t,this.id=St;var ne=it[N==="marker-start"?"startArrow":"endArrow"];return this.stroke=it.stroke||"#000",ne===!0?this._setDefaultPath(N,$t):(this.cfg=ne,this._setMarker(it.lineWidth,$t)),this}return Mt.prototype.match=function(){return!1},Mt.prototype._setDefaultPath=function(it,N){var ct=this.el;N.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),ct.setAttribute("refX",""+10*Math.cos(Math.PI/6)),ct.setAttribute("refY",""+5)},Mt.prototype._setMarker=function(it,N){var ct=this.el,St=this.cfg.path,$t=this.cfg.d;(0,c.kJ)(St)&&(St=St.map(function(ne){return ne.join(" ")}).join("")),N.setAttribute("d",St),ct.appendChild(N),$t&&ct.setAttribute("refX",""+$t/it)},Mt.prototype.update=function(it){var N=this.child;N.attr?N.attr("fill",it):N.setAttribute("fill",it)},Mt}(),ee=de,Ge=function(){function Mt(it){this.type="clip",this.cfg={};var N=pe("clipPath");this.el=N,this.id=(0,c.EL)("clip_"),N.id=this.id;var ct=it.cfg.el;return N.appendChild(ct),this.cfg=it,this}return Mt.prototype.match=function(){return!1},Mt.prototype.remove=function(){var it=this.el;it.parentNode.removeChild(it)},Mt}(),Te=Ge,nr=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,wr=function(){function Mt(it){this.cfg={};var N=pe("pattern");N.setAttribute("patternUnits","userSpaceOnUse");var ct=pe("image");N.appendChild(ct);var St=(0,c.EL)("pattern_");N.id=St,this.el=N,this.id=St,this.cfg=it;var $t=nr.exec(it),ne=$t[2];ct.setAttribute("href",ne);var ge=new Image;ne.match(/^data:/i)||(ge.crossOrigin="Anonymous"),ge.src=ne;function Ie(){N.setAttribute("width",""+ge.width),N.setAttribute("height",""+ge.height)}return ge.complete?Ie():(ge.onload=Ie,ge.src=ge.src),this}return Mt.prototype.match=function(it,N){return this.cfg===N},Mt}(),er=wr,De=function(){function Mt(it){var N=pe("defs"),ct=(0,c.EL)("defs_");N.id=ct,it.appendChild(N),this.children=[],this.defaultArrow={},this.el=N,this.canvas=it}return Mt.prototype.find=function(it,N){for(var ct=this.children,St=null,$t=0;$t<ct.length;$t++)if(ct[$t].match(it,N)){St=ct[$t].id;break}return St},Mt.prototype.findById=function(it){for(var N=this.children,ct=null,St=0;St<N.length;St++)if(N[St].id===it){ct=N[St];break}return ct},Mt.prototype.add=function(it){this.children.push(it),it.canvas=this.canvas,it.parent=this},Mt.prototype.getDefaultArrow=function(it,N){var ct=it.stroke||it.strokeStyle;if(this.defaultArrow[ct])return this.defaultArrow[ct].id;var St=new ee(it,N);return this.defaultArrow[ct]=St,this.el.appendChild(St.el),this.add(St),St.id},Mt.prototype.addGradient=function(it){var N=new yt(it);return this.el.appendChild(N.el),this.add(N),N.id},Mt.prototype.addArrow=function(it,N){var ct=new ee(it,N);return this.el.appendChild(ct.el),this.add(ct),ct.id},Mt.prototype.addShadow=function(it){var N=new ue(it);return this.el.appendChild(N.el),this.add(N),N.id},Mt.prototype.addPattern=function(it){var N=new er(it);return this.el.appendChild(N.el),this.add(N),N.id},Mt.prototype.addClip=function(it){var N=new Te(it);return this.el.appendChild(N.el),this.add(N),N.id},Mt}(),hr=De,Mr=function(Mt){(0,wt.ZT)(it,Mt);function it(N){return Mt.call(this,(0,wt.pi)((0,wt.pi)({},N),{autoDraw:!0,renderer:"svg"}))||this}return it.prototype.getShapeBase=function(){return Xt},it.prototype.getGroupBase=function(){return Me},it.prototype.getShape=function(N,ct,St){var $t=St.target||St.srcElement;if(!Ee[$t.tagName]){for(var ne=$t.parentNode;ne&&!Ee[ne.tagName];)ne=ne.parentNode;$t=ne}return this.find(function(ge){return ge.get("el")===$t})},it.prototype.createDom=function(){var N=pe("svg"),ct=new hr(N);return N.setAttribute("width",""+this.get("width")),N.setAttribute("height",""+this.get("height")),this.set("context",ct),N},it.prototype.onCanvasChange=function(N){var ct=this.get("context"),St=this.get("el");if(N==="sort"){var $t=this.get("children");$t&&$t.length&&Ye(this,function(ge,Ie){return $t.indexOf(ge)-$t.indexOf(Ie)?1:0})}else if(N==="clear"){if(St){St.innerHTML="";var ne=ct.el;ne.innerHTML="",St.appendChild(ne)}}else N==="matrix"?rt(this):N==="clip"?Jt(this,ct):N==="changeSize"&&(St.setAttribute("width",""+this.get("width")),St.setAttribute("height",""+this.get("height")))},it.prototype.draw=function(){var N=this.get("context"),ct=this.getChildren();Jt(this,N),ct.length&&fe(N,ct)},it}(d.$Z),Qe=Mr,yr="0.5.6"},69886:function(Wr,cr,Rt){"use strict";Rt.d(cr,{G2:function(){return Xt},x1:function(){return Kc},by:function(){return ff}});var Xt={};Rt.r(Xt),Rt.d(Xt,{Action:function(){return Vr},BRUSH_FILTER_EVENTS:function(){return gi},Chart:function(){return f},ComponentController:function(){return g},Coordinate:function(){return B.c7},DIRECTION:function(){return Tt},ELEMENT_RANGE_HIGHLIGHT_EVENTS:function(){return ji},Element:function(){return cn},Event:function(){return Gt},Facet:function(){return Ie},Geometry:function(){return xi},GeometryLabel:function(){return m},Interaction:function(){return ri},InteractionAction:function(){return Vr},LAYER:function(){return Ee},Scale:function(){return K.Ci},TooltipController:function(){return z},Util:function(){return si},VERSION:function(){return ol},VIEW_LIFE_CIRCLE:function(){return se},View:function(){return G},getActionClass:function(){return $n},getAnimation:function(){return at},getEngine:function(){return _e},getFacet:function(){return Xr},getGeometryLabel:function(){return kn},getGeometryLabelLayout:function(){return pi},getInteraction:function(){return Yn},getShapeFactory:function(){return ya},getTheme:function(){return Di},registerAction:function(){return Sr},registerAnimation:function(){return vt},registerComponentController:function(){return ii},registerEngine:function(){return Nt},registerFacet:function(){return Nr},registerGeometry:function(){return In},registerGeometryLabel:function(){return Bn},registerGeometryLabelLayout:function(){return Cn},registerInteraction:function(){return Er},registerShape:function(){return en},registerShapeFactory:function(){return Nn},registerTheme:function(){return fa}});var wt={};Rt.r(wt),Rt.d(wt,{cluster:function(){return zS},hierarchy:function(){return Co},pack:function(){return Bh},packEnclose:function(){return Eh},packSiblings:function(){return XS},partition:function(){return bh},stratify:function(){return JS},tree:function(){return nM},treemap:function(){return Uh},treemapBinary:function(){return iM},treemapDice:function(){return Jo},treemapResquarify:function(){return oM},treemapSlice:function(){return js},treemapSliceDice:function(){return aM},treemapSquarify:function(){return Gh}});var d=Rt(70655),c=Rt(41694),Ee;(function(e){e.FORE="fore",e.MID="mid",e.BG="bg"})(Ee||(Ee={}));var Tt;(function(e){e.TOP="top",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.RIGHT="right",e.RIGHT_TOP="right-top",e.RIGHT_BOTTOM="right-bottom",e.LEFT="left",e.LEFT_TOP="left-top",e.LEFT_BOTTOM="left-bottom",e.BOTTOM="bottom",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right",e.RADIUS="radius",e.CIRCLE="circle",e.NONE="none"})(Tt||(Tt={}));var Ae;(function(e){e.AXIS="axis",e.GRID="grid",e.LEGEND="legend",e.TOOLTIP="tooltip",e.ANNOTATION="annotation",e.SLIDER="slider",e.SCROLLBAR="scrollbar",e.OTHER="other"})(Ae||(Ae={}));var pe={FORE:3,MID:2,BG:1},se;(function(e){e.BEFORE_RENDER="beforerender",e.AFTER_RENDER="afterrender",e.BEFORE_PAINT="beforepaint",e.AFTER_PAINT="afterpaint",e.BEFORE_CHANGE_DATA="beforechangedata",e.AFTER_CHANGE_DATA="afterchangedata",e.BEFORE_CLEAR="beforeclear",e.AFTER_CLEAR="afterclear",e.BEFORE_DESTROY="beforedestroy",e.BEFORE_CHANGE_SIZE="beforechangesize",e.AFTER_CHANGE_SIZE="afterchangesize"})(se||(se={}));var Ye;(function(e){e.BEFORE_DRAW_ANIMATE="beforeanimate",e.AFTER_DRAW_ANIMATE="afteranimate",e.BEFORE_RENDER_LABEL="beforerenderlabel",e.AFTER_RENDER_LABEL="afterrenderlabel"})(Ye||(Ye={}));var Be;(function(e){e.MOUSE_ENTER="plot:mouseenter",e.MOUSE_DOWN="plot:mousedown",e.MOUSE_MOVE="plot:mousemove",e.MOUSE_UP="plot:mouseup",e.MOUSE_LEAVE="plot:mouseleave",e.TOUCH_START="plot:touchstart",e.TOUCH_MOVE="plot:touchmove",e.TOUCH_END="plot:touchend",e.TOUCH_CANCEL="plot:touchcancel",e.CLICK="plot:click",e.DBLCLICK="plot:dblclick",e.CONTEXTMENU="plot:contextmenu",e.LEAVE="plot:leave",e.ENTER="plot:enter"})(Be||(Be={}));var Ct;(function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.SELECTED="selected",e.DEFAULT="default"})(Ct||(Ct={}));var rt=["color","shape","size"],Jt="_origin",fe=1,ke=1,Pe=.25,Me={};function _e(e){var r=Me[e];if(!r)throw new Error("G engine '".concat(e,"' is not exist, please register it at first."));return r}function Nt(e,r){Me[e]=r}var Ht=Rt(6056),be=Rt(45442);function Se(e){var r=getComputedStyle(e);return{width:(e.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(e.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function Ne(e){return typeof e=="number"&&!isNaN(e)}function lr(e,r,t,n){var i=t,a=n;if(r){var o=Se(e);i=o.width?o.width:i,a=o.height?o.height:a}return{width:Math.max(Ne(i)?i:fe,fe),height:Math.max(Ne(a)?a:ke,ke)}}function fr(e){var r=e.parentNode;r&&r.removeChild(e)}var Yt=Rt(90494),xt=function(e){(0,d.ZT)(r,e);function r(t){var n=e.call(this)||this;n.destroyed=!1;var i=t.visible,a=i===void 0?!0:i;return n.visible=a,n}return r.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},r.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(Yt.Z),Lt=xt,It=Rt(3232),Ft=Rt(92008),At=Rt(46262),B=Rt(13541),K=Rt(86429),Pt=Rt(62079),xe=Pt.RD.x1,oe=Pt.RD.Cd,Ve=Pt.rj.x1,Xe=Pt.rj.Cd,Re=Pt.De.WD,Ke=Pt.De.Vc,we=Pt.u.V;function or(e){if((0,c.xb)(e))return null;var r=e[0].x,t=e[0].x,n=e[0].y,i=e[0].y;return(0,c.S6)(e,function(a){r=r>a.x?a.x:r,t=t<a.x?a.x:t,n=n>a.y?a.y:n,i=i<a.y?a.y:i}),{minX:r,maxX:t,minY:n,maxY:i,centerX:(r+t)/2,centerY:(n+i)/2}}function Vt(e){return Array.from(new Set(e)).length===1}function et(e){return((0,c.VV)(e)+(0,c.Fp)(e))/2}function P(e,r,t,n){return{x:e+t*Math.cos(n),y:r+t*Math.sin(n)}}function C(e,r,t,n,i,a){a===void 0&&(a=0);var o=P(e,r,t,n),s=P(e,r,t,i),l=P(e,r,a,n),u=P(e,r,a,i);if(i-n==Math.PI*2){var h=P(e,r,t,n+Math.PI),v=P(e,r,a,n+Math.PI),p=[["M",o.x,o.y],["A",t,t,0,1,1,h.x,h.y],["A",t,t,0,1,1,s.x,s.y],["M",l.x,l.y]];return a&&(p.push(["A",a,a,0,1,0,v.x,v.y]),p.push(["A",a,a,0,1,0,u.x,u.y])),p.push(["M",o.x,o.y]),p.push(["Z"]),p}var y=i-n<=Math.PI?0:1,S=[["M",o.x,o.y],["A",t,t,0,y,1,s.x,s.y],["L",u.x,u.y]];return a&&S.push(["A",a,a,0,y,0,l.x,l.y]),S.push(["L",o.x,o.y]),S.push(["Z"]),S}function L(e,r,t,n,i){var a=P(e,r,t,n),o=P(e,r,t,i);if((0,c.vQ)(i-n,Math.PI*2)){var s=P(e,r,t,n+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var l=i-n<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,l,1,o.x,o.y]]}function k(e,r){var t=e.points,n=or(t),i,a,o=r.startAngle,s=r.endAngle,l=s-o;return r.isTransposed?(i=n.maxY*l,a=n.minY*l):(i=n.maxX*l,a=n.minX*l),i+=o,a+=o,{startAngle:a,endAngle:i}}function T(e,r){if((0,c.hj)(e)&&(0,c.hj)(r))return[e,r];if(e=e,r=r,Vt(e)||Vt(r))return[et(e),et(r)];for(var t=-1,n=0,i=0,a,o=e.length-1,s,l=0;++t<e.length;)a=o,o=t,l+=s=e[a]*r[o]-e[o]*r[a],n+=(e[a]+e[o])*s,i+=(r[a]+r[o])*s;return l*=3,[n/l,i/l]}function R(e,r){var t=e.attr(),n=r.attr();return(0,c.S6)(t,function(i,a){n[a]===void 0&&(n[a]=void 0)}),n}function j(e,r,t){var n=Math.min(r,t),i=Math.max(r,t);return e>=n&&e<=i}function tt(e,r,t){if((0,c.HD)(e))return e.padEnd(r,t);if((0,c.kJ)(e)){var n=e.length;if(n<r)for(var i=r-n,a=0;a<i;a++)e.push(t)}return e}function st(e,r){return typeof e=="object"&&r.forEach(function(t){delete e[t]}),e}function Bt(e,r,t){var n,i;r===void 0&&(r=[]),t===void 0&&(t=new Map);try{for(var a=(0,d.XA)(e),o=a.next();!o.done;o=a.next()){var s=o.value;t.has(s)||(r.push(s),t.set(s,!0))}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return r}var qt=function(){function e(r,t,n,i){r===void 0&&(r=0),t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=r,this.y=t,this.height=i,this.width=n}return e.fromRange=function(r,t,n,i){return new e(r,t,n-r,i-t)},e.fromObject=function(r){return new e(r.minX,r.minY,r.width,r.height)},Object.defineProperty(e.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},e.prototype.contains=function(r){return r.minX>=this.minX&&r.maxX<=this.maxX&&r.minY>=this.minY&&r.maxY<=this.maxY},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var n=this.clone();return(0,c.S6)(r,function(i){n.x=Math.min(i.x,n.x),n.y=Math.min(i.y,n.y),n.width=Math.max(i.maxX,n.maxX)-n.x,n.height=Math.max(i.maxY,n.maxY)-n.y}),n},e.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var n=this.clone();return(0,c.S6)(r,function(i){n.x=Math.max(i.x,n.x),n.y=Math.max(i.y,n.y),n.width=Math.min(i.maxX,n.maxX)-n.x,n.height=Math.min(i.maxY,n.maxY)-n.y}),n},e.prototype.cut=function(r,t){var n=r.width,i=r.height;switch(t){case Tt.TOP:case Tt.TOP_LEFT:case Tt.TOP_RIGHT:return e.fromRange(this.minX,this.minY+i,this.maxX,this.maxY);case Tt.RIGHT:case Tt.RIGHT_TOP:case Tt.RIGHT_BOTTOM:return e.fromRange(this.minX,this.minY,this.maxX-n,this.maxY);case Tt.BOTTOM:case Tt.BOTTOM_LEFT:case Tt.BOTTOM_RIGHT:return e.fromRange(this.minX,this.minY,this.maxX,this.maxY-i);case Tt.LEFT:case Tt.LEFT_TOP:case Tt.LEFT_BOTTOM:return e.fromRange(this.minX+n,this.minY,this.maxX,this.maxY);default:return this}},e.prototype.shrink=function(r){var t=(0,d.CR)(r,4),n=t[0],i=t[1],a=t[2],o=t[3];return new e(this.x+o,this.y+n,this.width-o-i,this.height-n-a)},e.prototype.expand=function(r){var t=(0,d.CR)(r,4),n=t[0],i=t[1],a=t[2],o=t[3];return new e(this.x-o,this.y-n,this.width+o+i,this.height+n+a)},e.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},e.prototype.collide=function(r){return this.minX<r.maxX&&this.maxX>r.minX&&this.minY<r.maxY&&this.maxY>r.minY},e.prototype.size=function(){return this.width*this.height},e.prototype.isPointIn=function(r){return r.x>=this.minX&&r.x<=this.maxX&&r.y>=this.minY&&r.y<=this.maxY},e}(),Qt=function(e,r){var t=r.start,n=r.end;return new qt(e.x+e.width*t.x,e.y+e.height*t.y,e.width*Math.abs(n.x-t.x),e.height*Math.abs(n.y-t.y))};function me(e){return[[e.minX,e.minY],[e.maxX,e.minY],[e.maxX,e.maxY],[e.minX,e.maxY]]}function He(e){if(e.isPolar&&!e.isTransposed)return(e.endAngle-e.startAngle)*e.getRadius();var r=e.convert({x:0,y:0}),t=e.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function J(e){if(e.isPolar){var r=e.startAngle,t=e.endAngle;return t-r==Math.PI*2}return!1}function lt(e,r){var t=e.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function yt(e,r){var t=!1;if(e)if(e.type==="theta"){var n=e.start,i=e.end;t=j(r.x,n.x,i.x)&&j(r.y,n.y,i.y)}else{var a=e.invert(r);t=j(a.x,0,1)&&j(a.y,0,1)}return t}function Dt(e,r){var t=e.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function te(e,r){r===void 0&&(r=0);var t=e.start,n=e.end,i=e.getWidth(),a=e.getHeight();if(e.isPolar){var o=e.startAngle,s=e.endAngle,l=e.getCenter(),u=e.getRadius();return{type:"path",startState:{path:C(l.x,l.y,u+r,o,o)},endState:function(v){var p=(s-o)*v+o,y=C(l.x,l.y,u+r,o,p);return{path:y}},attrs:{path:C(l.x,l.y,u+r,o,s)}}}var h;return e.isTransposed?h={height:a+r*2}:h={width:i+r*2},{type:"rect",startState:{x:t.x-r,y:n.y-r,width:e.isTransposed?i+r*2:0,height:e.isTransposed?0:a+r*2},endState:h,attrs:{x:t.x-r,y:n.y-r,width:i+r*2,height:a+r*2}}}function Zt(e,r){r===void 0&&(r=0);var t=e.start,n=e.end,i=e.getWidth(),a=e.getHeight(),o=Math.min(t.x,n.x),s=Math.min(t.y,n.y);return qt.fromRange(o-r,s-r,o+i+r,s+a+r)}var ue=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function de(e){var r="linear";return ue.test(e)?r="timeCat":(0,c.HD)(e)&&(r="cat"),r}function ee(e,r,t,n){return r===void 0&&(r={}),r.type?r.type:e.type!=="identity"&&rt.includes(t)&&["interval"].includes(n)||e.isCategory?"cat":e.type}function Ge(e,r,t){var n=r||[];if((0,c.hj)(e)||(0,c.UM)((0,c.Wx)(n,e))&&(0,c.xb)(t)){var i=(0,K.yZ)("identity");return new i({field:e.toString(),values:[e]})}var a=(0,c.I)(n,e),o=(0,c.U2)(t,"type",de(a[0])),s=(0,K.yZ)(o);return new s((0,d.pi)({field:e,values:a},t))}function Te(e,r){if(e.type!=="identity"&&r.type!=="identity"){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);e.change(t)}}function nr(e){return e.alias||e.field}function wr(e,r,t){var n=e.values,i=n.length,a;if(i===1)a=[.5,1];else{var o=1,s=0;J(r)?r.isTransposed?(o=(0,c.U2)(t,"widthRatio.multiplePie",1/1.3),s=1/i*o,a=[s/2,1-s/2]):a=[0,1-1/i]:(s=1/i/2,a=[s,1-s])}return a}function er(e){var r=e.values.filter(function(t){return!(0,c.UM)(t)&&!isNaN(t)});return Math.max.apply(Math,(0,d.ev)((0,d.ev)([],(0,d.CR)(r),!1),[(0,c.UM)(e.max)?-Infinity:e.max],!1))}var De=Rt(31437);function hr(e){var r,t;switch(e){case Tt.TOP:r={x:0,y:1},t={x:1,y:1};break;case Tt.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case Tt.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case Tt.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}function Mr(e){var r,t;return e.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}function Qe(e,r){var t={start:{x:0,y:0},end:{x:0,y:0}};e.isRect?t=hr(r):e.isPolar&&(t=Mr(e));var n=t.start,i=t.end;return{start:e.convert(n),end:e.convert(i)}}function yr(e,r){if(e.isRect)return e.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(r)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(r)?-1:1;if(e.isPolar){var t=e.x.start;return t<0?-1:1}return 1}function Mt(e){var r=e.start,t=e.end;return r.x===t.x}function it(e,r){var t=e.start,n=e.end,i=Mt(e);return i?(t.y-n.y)*(r.x-t.x)>0?1:-1:(n.x-t.x)*(t.y-r.y)>0?-1:1}function N(e,r){var t=(0,c.U2)(e,["components","axis"],{});return(0,c.b$)({},(0,c.U2)(t,["common"],{}),(0,c.b$)({},(0,c.U2)(t,[r],{})))}function ct(e,r,t){var n=(0,c.U2)(e,["components","axis"],{});return(0,c.b$)({},(0,c.U2)(n,["common","title"],{}),(0,c.b$)({},(0,c.U2)(n,[r,"title"],{})),t)}function St(e){var r=e.x,t=e.y,n=e.circleCenter,i=t.start>t.end,a=e.isTransposed?e.convert({x:i?0:1,y:0}):e.convert({x:0,y:i?0:1}),o=[a.x-n.x,a.y-n.y],s=[1,0],l=a.y>n.y?De.EU(o,s):De.EU(o,s)*-1,u=l+(r.end-r.start),h=Math.sqrt(Math.pow(a.x-n.x,2)+Math.pow(a.y-n.y,2));return{center:n,radius:h,startAngle:l,endAngle:u}}function $t(e,r){return(0,c.jn)(e)?e===!1?!1:{}:(0,c.U2)(e,[r])}function ne(e,r){return(0,c.U2)(e,"position",r)}function ge(e,r){return(0,c.U2)(r,["title","text"],nr(e))}var Ie=function(){function e(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=(0,c.b$)({},this.getDefaultCfg(),t)}return e.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},e.prototype.render=function(){this.renderViews()},e.prototype.update=function(){},e.prototype.clear=function(){this.clearFacetViews()},e.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},e.prototype.facetToView=function(r){var t=r.region,n=r.data,i=r.padding,a=i===void 0?this.cfg.padding:i,o=this.view.createView({region:t,padding:a});o.data(n||[]),r.view=o,this.beforeEachView(o,r);var s=this.cfg.eachView;return s&&s(o,r),this.afterEachView(o,r),o},e.prototype.createContainer=function(){var r=this.view.getLayer(Ee.FORE);return r.addGroup()},e.prototype.renderViews=function(){this.createFacetViews()},e.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},e.prototype.clearFacetViews=function(){var r=this;(0,c.S6)(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},e.prototype.parseSpacing=function(){var r=this.view.viewBBox,t=r.width,n=r.height,i=this.cfg.spacing;return i.map(function(a,o){return(0,c.hj)(a)?a/(o===0?t:n):parseFloat(a)/100})},e.prototype.getFieldValues=function(r,t){var n=[],i={};return(0,c.S6)(r,function(a){var o=a[t];!(0,c.UM)(o)&&!i[o]&&(n.push(o),i[o]=!0)}),n},e.prototype.getRegion=function(r,t,n,i){var a=(0,d.CR)(this.parseSpacing(),2),o=a[0],s=a[1],l=(1+o)/(t===0?1:t)-o,u=(1+s)/(r===0?1:r)-s,h={x:(l+o)*n,y:(u+s)*i},v={x:h.x+l,y:h.y+u};return{start:h,end:v}},e.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},e.prototype.getDefaultTitleCfg=function(){var r=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:r}}},e.prototype.processAxis=function(r,t){var n=r.getOptions(),i=n.coordinate,a=r.geometries,o=(0,c.U2)(i,"type","rect");if(o==="rect"&&a.length){(0,c.UM)(n.axes)&&(n.axes={});var s=n.axes,l=(0,d.CR)(a[0].getXYFields(),2),u=l[0],h=l[1],v=$t(s,u),p=$t(s,h);v!==!1&&(n.axes[u]=this.getXAxisOption(u,s,v,t)),p!==!1&&(n.axes[h]=this.getYAxisOption(h,s,p,t))}},e.prototype.getFacetDataFilter=function(r){return function(t){return(0,c.yW)(r,function(n){var i=n.field,a=n.value;return!(0,c.UM)(a)&&i?t[i]===a:!0})}},e}(),zr={},Xr=function(e){return zr[(0,c.vl)(e)]},Nr=function(e,r){zr[(0,c.vl)(e)]=r},Sn=function(){function e(r,t){this.context=r,this.cfg=t,r.addAction(this)}return e.prototype.applyCfg=function(r){(0,c.f0)(this,r)},e.prototype.init=function(){this.applyCfg(this.cfg)},e.prototype.destroy=function(){this.context.removeAction(this),this.context=null},e}(),Vr=Sn,Kn=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.callback=null},r}(Vr),jn=Kn,Vn={};function ci(e,r){var t=Vn[e],n=null;if(t){var i=t.ActionClass,a=t.cfg;n=new i(r,a),n.name=e,n.init()}return n}function $n(e){var r=Vn[e];return(0,c.U2)(r,"ActionClass")}function Sr(e,r,t){Vn[e]={ActionClass:r,cfg:t}}function yi(e){delete Vn[e]}function di(e,r){var t=new jn(r);return t.callback=e,t.name="callback",t}function ot(e,r){var t=[];if(e.length){t.push(["M",e[0].x,e[0].y]);for(var n=1,i=e.length;n<i;n+=1){var a=e[n];t.push(["L",a.x,a.y])}r&&t.push(["Z"])}return t}function H(e,r){for(var t=[e[0]],n=1,i=e.length;n<i;n=n+2){var a=r.convert({x:e[n],y:e[n+1]});t.push(a.x,a.y)}return t}function I(e,r){var t=r.isTransposed,n=e[1],i=e[6],a=e[7],o=r.convert({x:i,y:a}),s=t?0:1;return["A",n,n,0,0,s,o.x,o.y]}function V(e,r,t){var n=t.isTransposed,i=t.startAngle,a=t.endAngle,o=e[0].toLowerCase()==="a"?{x:e[6],y:e[7]}:{x:e[1],y:e[2]},s={x:r[1],y:r[2]},l=[],u=n?"y":"x",h=Math.abs(s[u]-o[u])*(a-i),v=s[u]>=o[u]?1:0,p=h>Math.PI?1:0,y=t.convert(s),S=lt(t,y);if(S>=.5)if(h===Math.PI*2){var E={x:(s.x+o.x)/2,y:(s.y+o.y)/2},O=t.convert(E);l.push(["A",S,S,0,p,v,O.x,O.y]),l.push(["A",S,S,0,p,v,y.x,y.y])}else l.push(["A",S,S,0,p,v,y.x,y.y]);return l}function $(e){(0,c.S6)(e,function(r,t){var n=r;if(n[0].toLowerCase()==="a"){var i=e[t-1],a=e[t+1];a&&a[0].toLowerCase()==="a"?i&&i[0].toLowerCase()==="l"&&(i[0]="M"):i&&i[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var gt=function(e,r,t,n){var i,a=[],o=!!n,s,l,u,h,v,p,y;if(o){i=(0,d.CR)(n,2),u=i[0],h=i[1];for(var S=0,E=e.length;S<E;S++){var O=e[S];u=De.VV([0,0],u,O),h=De.Fp([0,0],h,O)}}for(var S=0,D=e.length;S<D;S++){var O=e[S];if(S===0&&!t)y=O;else if(S===D-1&&!t)p=O,a.push(y),a.push(p);else{s=e[t?S?S-1:D-1:S-1],l=e[t?(S+1)%D:S+1];var X=[0,0];X=De.lu(X,l,s),X=De.bA(X,X,r);var q=De.TE(O,s),Q=De.TE(O,l),pt=q+Q;pt!==0&&(q/=pt,Q/=pt);var Wt=De.bA([0,0],X,-q),Kt=De.bA([0,0],X,Q);p=De.IH([0,0],O,Wt),v=De.IH([0,0],O,Kt),v=De.VV([0,0],v,De.Fp([0,0],l,O)),v=De.Fp([0,0],v,De.VV([0,0],l,O)),Wt=De.lu([0,0],v,O),Wt=De.bA([0,0],Wt,-q/Q),p=De.IH([0,0],O,Wt),p=De.VV([0,0],p,De.Fp([0,0],s,O)),p=De.Fp([0,0],p,De.VV([0,0],s,O)),Kt=De.lu([0,0],O,p),Kt=De.bA([0,0],Kt,Q/q),v=De.IH([0,0],O,Kt),o&&(p=De.Fp([0,0],p,u),p=De.VV([0,0],p,h),v=De.Fp([0,0],v,u),v=De.VV([0,0],v,h)),a.push(y),a.push(p),y=v}}return t&&a.push(a.shift()),a};function Et(e,r,t){for(var n=!!r,i=[],a=0,o=e.length;a<o;a+=2)i.push([e[a],e[a+1]]);for(var s=gt(i,.4,n,t),l=i.length,u=[],h,v,p,a=0;a<l-1;a++)h=s[a*2],v=s[a*2+1],p=i[a+1],u.push(["C",h[0],h[1],v[0],v[1],p[0],p[1]]);return n&&(h=s[l],v=s[l+1],p=i[0],u.push(["C",h[0],h[1],v[0],v[1],p[0],p[1]])),u}function Ut(e,r){return ot(e,r)}function Oe(e,r,t){var n=[],i=e[0],a=null;if(e.length<=2)return Ut(e,r);for(var o=0,s=e.length;o<s;o++){var l=e[o];(!a||!(a.x===l.x&&a.y===l.y))&&(n.push(l.x),n.push(l.y),a=l)}var u=t||[[0,0],[1,1]],h=Et(n,r,u);return h.unshift(["M",i.x,i.y]),h}function je(e,r){var t=[];return(0,c.S6)(r,function(n){var i=n[0];switch(i.toLowerCase()){case"m":case"l":case"c":t.push(H(n,e));break;case"a":t.push(I(n,e));break;case"z":default:t.push(n);break}}),t}function Je(e,r){var t=[],n,i,a,o;return(0,c.S6)(r,function(s,l){var u=s[0];switch(u.toLowerCase()){case"m":case"c":case"q":t.push(H(s,e));break;case"l":n=r[l-1],i=s,a=e.isTransposed,o=a?n[n.length-2]===i[1]:n[n.length-1]===i[2],o?t=t.concat(V(n,i,e)):t.push(H(s,e));break;case"a":t.push(I(s,e));break;case"z":default:t.push(s);break}}),$(t),t}var ze=Rt(80389);function vr(e,r){var t=e.event,n=t.target,i=n.getCanvasBBox();return i.width>=r||i.height>=r?i:null}function Lr(e,r){var t=e.event,n=t.target,i=n.getCanvasBBox();return i.width>=r||i.height>=r?n.attr("path"):null}function $r(e){var r=e.event,t,n=r.target;return n&&(t=n.get("element")),t}function an(e){var r=e.event,t=r.target,n;return t&&(n=t.get("delegateObject")),n}function Mn(e){var r=e.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function ln(e){return e&&e.component&&e.component.isList()}function En(e){return e&&e.component&&e.component.isSlider()}function yn(e){var r=e.event,t=r.target;return t&&t.get("name")==="mask"}function tn(e,r){var t=e.event.target;if(t.get("type")==="path"){var n=Lr(e,r);return n?Ot(e.view,n):void 0}var i=vr(e,r);return i?ft(e.view,i):null}function Dn(e,r,t){var n=vr(e,t);if(!n)return null;var i=e.view,a=fn(i,r,{x:n.x,y:n.y}),o=fn(i,r,{x:n.maxX,y:n.maxY}),s={minX:a.x,minY:a.y,maxX:o.x,maxY:o.y};return ft(r,s)}function hn(e){var r=e.geometries,t=[];return(0,c.S6)(r,function(n){var i=n.elements;t=t.concat(i)}),e.views&&e.views.length&&(0,c.S6)(e.views,function(n){t=t.concat(hn(n))}),t}function wn(e,r,t){var n=hn(e);return n.filter(function(i){return Z(i,r)===t})}function fi(e,r){var t=e.geometries,n=[];return(0,c.S6)(t,function(i){var a=i.getElementsBy(function(o){return o.hasState(r)});n=n.concat(a)}),n}function Z(e,r){var t=e.getModel(),n=t.data,i;return(0,c.kJ)(n)?i=n[0][r]:i=n[r],i}function nt(e,r){return!(r.minX>e.maxX||r.maxX<e.minX||r.minY>e.maxY||r.maxY<e.minY)}function ft(e,r){var t=hn(e),n=[];return(0,c.S6)(t,function(i){var a=i.shape,o=a.getCanvasBBox();nt(r,o)&&n.push(i)}),n}function _t(e){var r=[];return(0,c.S6)(e,function(t){var n=t[0];if(n!=="A")for(var i=1;i<t.length;i=i+2)r.push([t[i],t[i+1]]);else{var a=t.length;r.push([t[a-2],t[a-1]])}}),r}function Ot(e,r){var t=hn(e),n=_t(r),i=t.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=_t(o.attr("path"));else{var l=o.getCanvasBBox();s=me(l)}return(0,ze.Wq)(n,s)});return i}function re(e){return e.getComponents().map(function(r){return r.component})}function Ue(e,r){var t=r.x-e.x,n=r.y-e.y;return Math.sqrt(t*t+n*n)}function $e(e,r){if(e.length<=2)return Ut(e,!1);var t=e[0],n=[];(0,c.S6)(e,function(a){n.push(a.x),n.push(a.y)});var i=Et(n,r,null);return i.unshift(["M",t.x,t.y]),i}function pr(e,r){return e.x<=r.x&&e.maxX>=r.x&&e.y<=r.y&&e.maxY>r.y}function sr(e){var r=e.parent,t=null;return r&&(t=r.views.filter(function(n){return n!==e})),t}function Ar(e,r){var t=e.getCoordinate();return t.invert(r)}function fn(e,r,t){var n=Ar(e,t);return r.getCoordinate().convert(n)}function qr(e,r,t,n){var i=!1;return(0,c.S6)(e,function(a){if(a[t]===r[t]&&a[n]===r[n])return i=!0,!1}),i}function xn(e,r){var t=e.getScaleByField(r);return!t&&e.views&&(0,c.S6)(e.views,function(n){if(t=xn(n,r),t)return!1}),t}var Tn=function(){function e(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return e.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)return this.cacheMap[r[0]];r.length===2&&(this.cacheMap[r[0]]=r[1])},e.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},e.prototype.addAction=function(r){this.actions.push(r)},e.prototype.removeAction=function(r){var t=this.actions,n=this.actions.indexOf(r);n>=0&&t.splice(n,1)},e.prototype.getCurrentPoint=function(){var r=this.event;if(r)if(r.target instanceof HTMLElement){var t=this.view.getCanvas(),n=t.getPointByClient(r.clientX,r.clientY);return n}else return{x:r.x,y:r.y};return null},e.prototype.getCurrentShape=function(){return(0,c.U2)(this.event,["gEvent","shape"])},e.prototype.isInPlot=function(){var r=this.getCurrentPoint();return r?this.view.isPointInPlot(r):!1},e.prototype.isInShape=function(r){var t=this.getCurrentShape();return t?t.get("name")===r:!1},e.prototype.isInComponent=function(r){var t=re(this.view),n=this.getCurrentPoint();return n?!!t.find(function(i){var a=i.getBBox();return r?i.get("name")===r&&pr(a,n):pr(a,n)}):!1},e.prototype.destroy=function(){(0,c.S6)(this.actions.slice(),function(r){r.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},e}(),Gn=Tn,On=function(){function e(r,t){this.view=r,this.cfg=t}return e.prototype.init=function(){this.initEvents()},e.prototype.initEvents=function(){},e.prototype.clearEvents=function(){},e.prototype.destroy=function(){this.clearEvents()},e}(),ri=On;function _n(e,r,t){var n=e.split(":"),i=n[0],a=r.getAction(i)||ci(i,r);if(!a)throw new Error("There is no action named ".concat(i));var o=n[1];return{action:a,methodName:o,arg:t}}function ai(e){var r=e.action,t=e.methodName,n=e.arg;if(r[t])r[t](n);else throw new Error("Action(".concat(r.name,") doesn't have a method called ").concat(t))}var mn={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},Un=function(e){(0,d.ZT)(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i.callbackCaches={},i.emitCaches={},i.steps=n,i}return r.prototype.init=function(){this.initContext(),e.prototype.init.call(this)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;(0,c.S6)(this.steps,function(n,i){(0,c.S6)(n,function(a){var o=t.getActionCallback(i,a);o&&t.bindEvent(a.trigger,o)})})},r.prototype.clearEvents=function(){var t=this;(0,c.S6)(this.steps,function(n,i){(0,c.S6)(n,function(a){var o=t.getActionCallback(i,a);o&&t.offEvent(a.trigger,o)})})},r.prototype.initContext=function(){var t=this.view,n=new Gn(t);this.context=n;var i=this.steps;(0,c.S6)(i,function(a){(0,c.S6)(a,function(o){if((0,c.mf)(o.action))o.actionObject={action:di(o.action,n),methodName:"execute"};else if((0,c.HD)(o.action))o.actionObject=_n(o.action,n,o.arg);else if((0,c.kJ)(o.action)){var s=o.action,l=(0,c.kJ)(o.arg)?o.arg:[o.arg];o.actionObject=[],(0,c.S6)(s,function(u,h){o.actionObject.push(_n(u,n,l[h]))})}})})},r.prototype.isAllowStep=function(t){var n=this.currentStepName,i=this.steps;if(n===t||t===mn.SHOW_ENABLE)return!0;if(t===mn.PROCESSING)return n===mn.START;if(t===mn.START)return n!==mn.PROCESSING;if(t===mn.END)return n===mn.PROCESSING||n===mn.START;if(t===mn.ROLLBACK){if(i[mn.END])return n===mn.END;if(n===mn.START)return!0}return!1},r.prototype.isAllowExecute=function(t,n){if(this.isAllowStep(t)){var i=this.getKey(t,n);return n.once&&this.emitCaches[i]?!1:n.isEnable?n.isEnable(this.context):!0}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,n){t!==mn.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var i=this.getKey(t,n);this.emitCaches[i]=!0},r.prototype.getKey=function(t,n){return t+n.trigger+n.action},r.prototype.getActionCallback=function(t,n){var i=this,a=this.context,o=this.callbackCaches,s=n.actionObject;if(n.action&&s){var l=this.getKey(t,n);if(!o[l]){var u=function(h){a.event=h,i.isAllowExecute(t,n)?((0,c.kJ)(s)?(0,c.S6)(s,function(v){a.event=h,ai(v)}):(a.event=h,ai(s)),i.afterExecute(t,n),n.callback&&(a.event=h,n.callback(a))):a.event=null};n.debounce?o[l]=(0,c.Ds)(u,n.debounce.wait,n.debounce.immediate):n.throttle?o[l]=(0,c.P2)(u,n.throttle.wait,{leading:n.throttle.leading,trailing:n.throttle.trailing}):o[l]=u}return o[l]}return null},r.prototype.bindEvent=function(t,n){var i=t.split(":");i[0]==="window"?window.addEventListener(i[1],n):i[0]==="document"?document.addEventListener(i[1],n):this.view.on(t,n)},r.prototype.offEvent=function(t,n){var i=t.split(":");i[0]==="window"?window.removeEventListener(i[1],n):i[0]==="document"?document.removeEventListener(i[1],n):this.view.off(t,n)},r}(ri),ni=Un,Hn={};function Yn(e){return Hn[(0,c.vl)(e)]}function Er(e,r){Hn[(0,c.vl)(e)]=r}function Ni(e,r,t){var n=Yn(e);if(!n)return null;if((0,c.PO)(n)){var i=(0,c.CD)((0,c.d9)(n),t);return new ni(r,i)}else{var a=n;return new a(r,t)}}var bn=Rt(31506);function Li(e){return{title:{autoRotate:!0,position:"center",spacing:e.axisTitleSpacing,style:{fill:e.axisTitleTextFillColor,fontSize:e.axisTitleTextFontSize,lineHeight:e.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:e.fontFamily},iconStyle:{fill:e.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:e.axisLabelOffset,style:{fill:e.axisLabelFillColor,fontSize:e.axisLabelFontSize,lineHeight:e.axisLabelLineHeight,fontFamily:e.fontFamily}},line:{style:{lineWidth:e.axisLineBorder,stroke:e.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:e.axisGridBorderColor,lineWidth:e.axisGridBorder,lineDash:e.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:e.axisTickLineBorder,stroke:e.axisTickLineBorderColor},alignTick:!0,length:e.axisTickLineLength},subTickLine:null,animate:!0}}function Mi(e){return{title:null,marker:{symbol:"circle",spacing:e.legendMarkerSpacing,style:{r:e.legendCircleMarkerSize,fill:e.legendMarkerColor}},itemName:{spacing:5,style:{fill:e.legendItemNameFillColor,fontFamily:e.fontFamily,fontSize:e.legendItemNameFontSize,lineHeight:e.legendItemNameLineHeight,fontWeight:e.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:e.legendPageNavigatorMarkerSize,inactiveFill:e.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:e.legendPageNavigatorMarkerInactiveFillOpacity,fill:e.legendPageNavigatorMarkerFillColor,opacity:e.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:e.legendPageNavigatorTextFillColor,fontSize:e.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:e.legendItemSpacing,itemMarginBottom:e.legendItemMarginBottom,padding:e.legendPadding}}function zi(e){var r,t={point:{default:{fill:e.pointFillColor,r:e.pointSize,stroke:e.pointBorderColor,lineWidth:e.pointBorder,fillOpacity:e.pointFillOpacity},active:{stroke:e.pointActiveBorderColor,lineWidth:e.pointActiveBorder},selected:{stroke:e.pointSelectedBorderColor,lineWidth:e.pointSelectedBorder},inactive:{fillOpacity:e.pointInactiveFillOpacity,strokeOpacity:e.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:e.hollowPointFillColor,lineWidth:e.hollowPointBorder,stroke:e.hollowPointBorderColor,strokeOpacity:e.hollowPointBorderOpacity,r:e.hollowPointSize},active:{stroke:e.hollowPointActiveBorderColor,strokeOpacity:e.hollowPointActiveBorderOpacity},selected:{lineWidth:e.hollowPointSelectedBorder,stroke:e.hollowPointSelectedBorderColor,strokeOpacity:e.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:e.hollowPointInactiveBorderOpacity}},area:{default:{fill:e.areaFillColor,fillOpacity:e.areaFillOpacity,stroke:null},active:{fillOpacity:e.areaActiveFillOpacity},selected:{fillOpacity:e.areaSelectedFillOpacity},inactive:{fillOpacity:e.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:e.hollowAreaBorderColor,lineWidth:e.hollowAreaBorder,strokeOpacity:e.hollowAreaBorderOpacity},active:{fill:null,lineWidth:e.hollowAreaActiveBorder},selected:{fill:null,lineWidth:e.hollowAreaSelectedBorder},inactive:{strokeOpacity:e.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:e.intervalFillColor,fillOpacity:e.intervalFillOpacity},active:{stroke:e.intervalActiveBorderColor,lineWidth:e.intervalActiveBorder},selected:{stroke:e.intervalSelectedBorderColor,lineWidth:e.intervalSelectedBorder},inactive:{fillOpacity:e.intervalInactiveFillOpacity,strokeOpacity:e.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:e.hollowIntervalFillColor,stroke:e.hollowIntervalBorderColor,lineWidth:e.hollowIntervalBorder,strokeOpacity:e.hollowIntervalBorderOpacity},active:{stroke:e.hollowIntervalActiveBorderColor,lineWidth:e.hollowIntervalActiveBorder,strokeOpacity:e.hollowIntervalActiveBorderOpacity},selected:{stroke:e.hollowIntervalSelectedBorderColor,lineWidth:e.hollowIntervalSelectedBorder,strokeOpacity:e.hollowIntervalSelectedBorderOpacity},inactive:{stroke:e.hollowIntervalInactiveBorderColor,lineWidth:e.hollowIntervalInactiveBorder,strokeOpacity:e.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:e.lineBorderColor,lineWidth:e.lineBorder,strokeOpacity:e.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:e.lineActiveBorder},selected:{lineWidth:e.lineSelectedBorder},inactive:{strokeOpacity:e.lineInactiveBorderOpacity}}},n=Li(e),i=Mi(e);return{background:e.backgroundColor,defaultColor:e.brandColor,subColor:e.subColor,semanticRed:e.paletteSemanticRed,semanticGreen:e.paletteSemanticGreen,padding:"auto",fontFamily:e.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:e.paletteQualitative10,colors20:e.paletteQualitative20,sequenceColors:e.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(a){var o=a.geometry.coordinate;if(o.isPolar&&o.isTransposed){var s=k(a.getModel(),o),l=s.startAngle,u=s.endAngle,h=(l+u)/2,v=7.5,p=v*Math.cos(h),y=v*Math.sin(h);return{matrix:bn.vs(null,[["t",p,y]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,d.pi)((0,d.pi)({},t.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:(0,d.pi)((0,d.pi)({},t.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:(0,d.pi)((0,d.pi)({},t.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:(0,d.pi)((0,d.pi)({},t.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:(0,d.pi)((0,d.pi)({},t.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:(0,d.pi)((0,d.pi)({},t.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:(0,d.pi)((0,d.pi)({},t.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:(0,d.pi)((0,d.pi)({},t.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},violin:{violin:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hollow:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"hollow-smooth":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}}},components:{axis:{common:n,top:{position:"top",grid:null,title:null,verticalLimitLength:1/2},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:1/2},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:(0,c.b$)({},n.grid,{line:{type:"line"}})},radius:{title:null,grid:(0,c.b$)({},n.grid,{line:{type:"circle"}})}},legend:{common:i,right:{layout:"vertical",padding:e.legendVerticalPadding},left:{layout:"vertical",padding:e.legendVerticalPadding},top:{layout:"horizontal",padding:e.legendHorizontalPadding},bottom:{layout:"horizontal",padding:e.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:e.sliderRailHeight,defaultLength:e.sliderRailWidth,style:{fill:e.sliderRailFillColor,stroke:e.sliderRailBorderColor,lineWidth:e.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:e.sliderLabelTextFillColor,fontSize:e.sliderLabelTextFontSize,lineHeight:e.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:e.fontFamily}},handler:{size:e.sliderHandlerWidth,style:{fill:e.sliderHandlerFillColor,stroke:e.sliderHandlerBorderColor}},slidable:!0,padding:i.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:e.tooltipCrosshairsBorderColor,lineWidth:e.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r["".concat(Pt.LP.CONTAINER_CLASS)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:e.tooltipContainerFillColor,opacity:e.tooltipContainerFillOpacity,boxShadow:e.tooltipContainerShadow,borderRadius:"".concat(e.tooltipContainerBorderRadius,"px"),color:e.tooltipTextFillColor,fontSize:"".concat(e.tooltipTextFontSize,"px"),fontFamily:e.fontFamily,lineHeight:"".concat(e.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},r["".concat(Pt.LP.TITLE_CLASS)]={marginBottom:"12px",marginTop:"12px"},r["".concat(Pt.LP.LIST_CLASS)]={margin:0,listStyleType:"none",padding:0},r["".concat(Pt.LP.LIST_ITEM_CLASS)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r["".concat(Pt.LP.MARKER_CLASS)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r["".concat(Pt.LP.VALUE_CLASS)]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:e.annotationArcBorderColor,lineWidth:e.annotationArcBorder},animate:!0},line:{style:{stroke:e.annotationLineBorderColor,lineDash:e.annotationLineDash,lineWidth:e.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,textAlign:"start",fontFamily:e.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:e.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:e.annotationRegionBorder,stroke:e.annotationRegionBorderColor,fill:e.annotationRegionFillColor,fillOpacity:e.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:e.brandColor,lineWidth:2}},line:{style:{stroke:e.annotationLineBorderColor,lineWidth:e.annotationLineBorder},length:e.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,fontFamily:e.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:e.annotationRegionFillColor,fillOpacity:e.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,fontFamily:e.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:e.cSliderBackgroundFillColor,opacity:e.cSliderBackgroundFillOpacity},foregroundStyle:{fill:e.cSliderForegroundFillColor,opacity:e.cSliderForegroundFillOpacity},handlerStyle:{width:e.cSliderHandlerWidth,height:e.cSliderHandlerHeight,fill:e.cSliderHandlerFillColor,opacity:e.cSliderHandlerFillOpacity,stroke:e.cSliderHandlerBorderColor,lineWidth:e.cSliderHandlerBorder,radius:e.cSliderHandlerBorderRadius,highLightFill:e.cSliderHandlerHighlightFillColor},textStyle:{fill:e.cSliderTextFillColor,opacity:e.cSliderTextFillOpacity,fontSize:e.cSliderTextFontSize,lineHeight:e.cSliderTextLineHeight,fontWeight:e.cSliderTextFontWeight,stroke:e.cSliderTextBorderColor,lineWidth:e.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:e.scrollbarTrackFillColor,thumbColor:e.scrollbarThumbFillColor}},hover:{style:{thumbColor:e.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:e.labelFillColor,fontSize:e.labelFontSize,fontFamily:e.fontFamily,stroke:e.labelBorderColor,lineWidth:e.labelBorder},fillColorDark:e.labelFillColorDark,fillColorLight:e.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:e.innerLabelFillColor,fontSize:e.innerLabelFontSize,fontFamily:e.fontFamily,stroke:e.innerLabelBorderColor,lineWidth:e.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:e.overflowLabelFillColor,fontSize:e.overflowLabelFontSize,fontFamily:e.fontFamily,stroke:e.overflowLabelBorderColor,lineWidth:e.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:e.labelLineBorder}},autoRotate:!0}}}var Jr={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},oi={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},bi=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],ki=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],hi=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],Vi=function(e){e===void 0&&(e={});var r=e.paletteQualitative10,t=r===void 0?bi:r,n=e.paletteQualitative20,i=n===void 0?ki:n,a=e.brandColor,o=a===void 0?t[0]:a,s={backgroundColor:"transparent",brandColor:o,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:t,paletteQualitative20:i,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:hi,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:Jr[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Jr[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:oi[85],axisTickLineBorderColor:Jr[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Jr[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Jr[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Jr[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Jr[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:o,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Jr[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Jr[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Jr[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Jr[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:Jr[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Jr[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Jr[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Jr[25],annotationArcBorderColor:Jr[15],annotationArcBorder:1,annotationLineBorderColor:Jr[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Jr[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Jr[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Jr[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:Jr[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Jr[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:oi[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Jr[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:oi[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Jr[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:o,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:oi[100],pointBorderOpacity:1,pointActiveBorderColor:Jr[100],pointSelectedBorder:2,pointSelectedBorderColor:Jr[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:o,hollowPointBorderOpacity:.95,hollowPointFillColor:oi[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Jr[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Jr[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:o,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:o,areaFillOpacity:.25,areaActiveFillColor:o,areaActiveFillOpacity:.5,areaSelectedFillColor:o,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:o,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Jr[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Jr[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:o,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Jr[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Jr[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:o,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:oi[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Jr[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Jr[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return(0,d.pi)((0,d.pi)({},s),e)},ca=Vi();function Pi(e){var r=e.styleSheet,t=r===void 0?{}:r,n=(0,d._T)(e,["styleSheet"]),i=Vi(t);return(0,c.b$)({},zi(i),n)}var Gi=Pi({}),Qn={default:Gi};function Di(e){return(0,c.U2)(Qn,(0,c.vl)(e),Qn.default)}function fa(e,r){Qn[(0,c.vl)(e)]=Pi(r)}function Ia(e,r,t){var n=t.translate(e),i=t.translate(r);return(0,c.vQ)(n,i)}function za(e,r){var t=r.coordinate,n=r.getXScale(),i=n.range,a=i[i.length-1],o=i[0],s=t.invert(e),l=s.x;return t.isPolar&&l>(1+a)/2&&(l=o),n.translate(n.invert(l))}function ha(e,r,t){var n=t.coordinate,i=t.getYScale(),a=i.field,o=n.invert(r),s=i.invert(o.y),l=(0,c.sE)(e,function(u){var h=u[Jt];return h[a][0]<=s&&h[a][1]>=s});return l||e[e.length-1]}var vi=(0,c.HP)(function(e){if(e.isCategory)return 1;for(var r=e.values,t=r.length,n=e.translate(r[0]),i=n,a=0;a<t;a++){var o=r[a],s=e.translate(o);s<n&&(n=s),s>i&&(i=s)}return(i-n)/(t-1)});function La(e,r,t){var n=r.getAttribute("position"),i=n.getFields(),a=r.scales,o=(0,c.mf)(t)||!t?i[0]:t,s=a[o],l=s?s.getText(e[o]):e[o]||o;return(0,c.mf)(t)?t(l,e):l}function Va(e){var r=(0,c.VO)(e.attributes);return(0,c.hX)(r,function(t){return(0,c.FX)(rt,t.type)})}function va(e){var r,t,n=Va(e),i;try{for(var a=(0,d.XA)(n),o=a.next();!o.done;o=a.next()){var s=o.value,l=s.getScale(s.type);if(l&&l.isLinear){var u=(0,c.U2)(e.scaleDefs,l.field),h=ee(l,u,s.type,e.type);if(h!=="cat"){i=l;break}}}}catch(y){r={error:y}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(r)throw r.error}}var v=e.getXScale(),p=e.getYScale();return i||p||v}function Ga(e,r){var t=r.field,n=e[t];if((0,c.kJ)(n)){var i=n.map(function(a){return r.getText(a)});return i.join("-")}return r.getText(n)}function Ua(e,r){var t,n=r.getGroupScales();if(n.length&&(t=n[0]),t){var i=t.field;return t.getText(e[i])}var a=va(r);return nr(a)}function Ui(e,r,t){if(r.length===0)return null;var n=t.type,i=t.getXScale(),a=t.getYScale(),o=i.field,s=a.field,l=null;if(n==="heatmap"||n==="point"){for(var u=t.coordinate,h=u.invert(e),v=i.invert(h.x),p=a.invert(h.y),y=Infinity,S=0;S<r.length;S++){var E=r[S],O=E[Jt],D=Math.pow(O[o]-v,2)+Math.pow(O[s]-p,2);D<y&&(y=D,l=E)}return l}var X=r[0],q=r[r.length-1],Q=za(e,t),pt=X[Jt][o],Wt=X[Jt][s],Kt=q[Jt][o],ae=a.isLinear&&(0,c.kJ)(Wt);if((0,c.kJ)(pt)){for(var S=0;S<r.length;S++){var Fe=r[S],O=Fe[Jt];if(i.translate(O[o][0])<=Q&&i.translate(O[o][1])>=Q)if(ae)(0,c.kJ)(l)||(l=[]),l.push(Fe);else{l=Fe;break}}(0,c.kJ)(l)&&(l=ha(l,e,t))}else{var ve=void 0;if(!i.isLinear&&i.type!=="timeCat"){for(var S=0;S<r.length;S++){var Fe=r[S],O=Fe[Jt];if(Ia(O[o],Q,i))if(ae)(0,c.kJ)(l)||(l=[]),l.push(Fe);else{l=Fe;break}else i.translate(O[o])<=Q&&(q=Fe,ve=r[S+1])}(0,c.kJ)(l)&&(l=ha(l,e,t))}else{if((Q>i.translate(Kt)||Q<i.translate(pt))&&(Q>i.max||Q<i.min))return null;for(var Ze=0,dr=r.length-1,Or=void 0;Ze<=dr;){Or=Math.floor((Ze+dr)/2);var Rr=r[Or][Jt][o];if(Ia(Rr,Q,i))return r[Or];i.translate(Rr)<=i.translate(Q)?(Ze=Or+1,q=r[Or],ve=r[Or+1]):(dr===0&&(q=r[0]),dr=Or-1)}}q&&ve&&Math.abs(i.translate(q[Jt][o])-Q)>Math.abs(i.translate(ve[Jt][o])-Q)&&(q=ve)}var sn=vi(t.getXScale());return!l&&Math.abs(i.translate(q[Jt][o])-Q)<=sn/2&&(l=q),l}function Hi(e,r,t,n){var i,a;t===void 0&&(t=""),n===void 0&&(n=!1);var o=e[Jt],s=La(o,r,t),l=r.tooltipOption,u=r.theme.defaultColor,h=[],v,p;function y(Fe,ve){if(n||!(0,c.UM)(ve)&&ve!==""){var Ze={title:s,data:o,mappingData:e,name:Fe,value:ve,color:e.color||u,marker:!0};h.push(Ze)}}if((0,c.Kn)(l)){var S=l.fields,E=l.callback;if(E){var O=S.map(function(Fe){return e[Jt][Fe]}),D=E.apply(void 0,(0,d.ev)([],(0,d.CR)(O),!1)),X=(0,d.pi)({data:e[Jt],mappingData:e,title:s,color:e.color||u,marker:!0},D);h.push(X)}else{var q=r.scales;try{for(var Q=(0,d.XA)(S),pt=Q.next();!pt.done;pt=Q.next()){var Wt=pt.value;if(!(0,c.UM)(o[Wt])){var Kt=q[Wt];v=nr(Kt),p=Kt.getText(o[Wt]),y(v,p)}}}catch(Fe){i={error:Fe}}finally{try{pt&&!pt.done&&(a=Q.return)&&a.call(Q)}finally{if(i)throw i.error}}}}else{var ae=va(r);p=Ga(o,ae),v=Ua(o,r),y(v,p)}return h}function pa(e,r,t,n){var i,a,o=n.showNil,s=[],l=e.dataArray;if(!(0,c.xb)(l)){e.sort(l);try{for(var u=(0,d.XA)(l),h=u.next();!h.done;h=u.next()){var v=h.value,p=Ui(r,v,e);if(p){var y=e.getElementId(p),S=e.elementsMap[y];if(e.type==="heatmap"||S.visible){var E=Hi(p,e,t,o);E.length&&s.push(E)}}}}catch(O){i={error:O}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}}return s}function Yi(e,r,t,n){var i=n.showNil,a=[],o=e.container,s=o.getShape(r.x,r.y);if(s&&s.get("visible")&&s.get("origin")){var l=s.get("origin").mappingData,u=Hi(l,e,t,i);u.length&&a.push(u)}return a}function da(e,r,t){var n,i,a=[],o=e.geometries,s=t.shared,l=t.title,u=t.reversed;try{for(var h=(0,d.XA)(o),v=h.next();!v.done;v=h.next()){var p=v.value;if(p.visible&&p.tooltipOption!==!1){var y=p.type,S=void 0;["point","edge","polygon"].includes(y)?S=Yi(p,r,l,t):["area","line","path","heatmap"].includes(y)||s!==!1?S=pa(p,r,l,t):S=Yi(p,r,l,t),S.length&&(u&&S.reverse(),a.push(S))}}}catch(E){n={error:E}}finally{try{v&&!v.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}return a}function Ha(e,r,t){var n,i,a=da(e,r,t);try{for(var o=(0,d.XA)(e.views),s=o.next();!s.done;s=o.next()){var l=s.value;a=a.concat(da(l,r,t))}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a}function Ya(e){return!(0,c.hj)(e)&&!(0,c.kJ)(e)}function ga(e){e===void 0&&(e=0);var r=(0,c.kJ)(e)?e:[e];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=(0,d.ev)((0,d.ev)([],(0,d.CR)(r),!1),(0,d.CR)(r),!1);break;case 3:r=(0,d.ev)((0,d.ev)([],(0,d.CR)(r),!1),[r[1]],!1);break;default:r=r.slice(0,4);break}return r}var Oi={};function ii(e,r){Oi[e]=r}function Ji(e){delete Oi[e]}function so(){return Object.keys(Oi)}function Xi(e){return Oi[e]}var Y=function(){function e(r){this.option=this.wrapperOption(r)}return e.prototype.update=function(r){return this.option=this.wrapperOption(r),this},e.prototype.hasAction=function(r){var t=this.option.actions;return(0,c.G)(t,function(n){return n[0]===r})},e.prototype.create=function(r,t){var n=this.option,i=n.type,a=n.cfg,o=i==="theta",s=(0,d.pi)({start:r,end:t},a),l=(0,B.FY)(o?"polar":i);return this.coordinate=new l(s),this.coordinate.type=i,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},e.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},e.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},e.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},e.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},e.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},e.prototype.getOption=function(){return this.option},e.prototype.getCoordinate=function(){return this.coordinate},e.prototype.wrapperOption=function(r){return(0,d.pi)({type:"rect",actions:[],cfg:{}},r)},e.prototype.execActions=function(r){var t=this,n=this.option.actions;(0,c.S6)(n,function(i){var a,o=(0,d.CR)(i),s=o[0],l=o.slice(1),u=(0,c.UM)(r)?!0:r.includes(s);u&&(a=t.coordinate)[s].apply(a,(0,d.ev)([],(0,d.CR)(l),!1))})},e}(),mt=Y,zt=function(){function e(r,t,n){this.view=r,this.gEvent=t,this.data=n,this.type=t.type}return e.fromData=function(r,t,n){return new e(r,new It.ju(t,{}),n)},Object.defineProperty(e.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},e.prototype.clone=function(){return new e(this.view,this.gEvent,this.data)},e}(),Gt=zt;function Ce(e){var r=e.getController("axis"),t=e.getController("legend"),n=e.getController("annotation"),i=e.getController("slider"),a=e.getController("scrollbar");[r,i,a,t,n].forEach(function(o){o&&o.layout()})}var ir=function(){function e(){this.scales=new Map,this.syncScales=new Map}return e.prototype.createScale=function(r,t,n,i){var a=n,o=this.getScaleMeta(i);if(t.length===0&&o){var s=o.scale,l={type:s.type};s.isCategory&&(l.values=s.values),a=(0,c.b$)(l,o.scaleDef,n)}var u=Ge(r,t,a);return this.cacheScale(u,n,i),u},e.prototype.sync=function(r,t){var n=this;this.syncScales.forEach(function(i,a){var o=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,l=[];(0,c.S6)(i,function(u){var h=n.getScale(u);s=(0,c.hj)(h.max)?Math.max(s,h.max):s,o=(0,c.hj)(h.min)?Math.min(o,h.min):o,(0,c.S6)(h.values,function(v){l.includes(v)||l.push(v)})}),(0,c.S6)(i,function(u){var h=n.getScale(u);if(h.isContinuous)h.change({min:o,max:s,values:l});else if(h.isCategory){var v=h.range,p=n.getScaleMeta(u);l&&!(0,c.U2)(p,["scaleDef","range"])&&(v=wr((0,c.b$)({},h,{values:l}),r,t)),h.change({values:l,range:v})}})})},e.prototype.cacheScale=function(r,t,n){var i=this.getScaleMeta(n);i&&i.scale.type===r.type?(Te(i.scale,r),i.scaleDef=t):(i={key:n,scale:r,scaleDef:t},this.scales.set(n,i));var a=this.getSyncKey(i);if(i.syncKey=a,this.removeFromSyncScales(n),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(n)}},e.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var n=(0,c.Z$)(r.split("-")),i=this.syncScales.get(n);i&&i.length&&(t=this.getScaleMeta(i[0]))}return t&&t.scale},e.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var n=t.syncKey,i=this.syncScales.get(n);if(i&&i.length){var a=i.indexOf(r);a!==-1&&i.splice(a,1)}}this.scales.delete(r)},e.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},e.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(n,i){var a=n.indexOf(r);if(a!==-1)return n.splice(a,1),n.length===0&&t.syncScales.delete(i),!1})},e.prototype.getSyncKey=function(r){var t=r.scale,n=r.scaleDef,i=t.field,a=(0,c.U2)(n,["sync"]);return a===!0?i:a===!1?void 0:a},e.prototype.getScaleMeta=function(r){return this.scales.get(r)},e}(),Fr=function(){function e(r,t,n,i){r===void 0&&(r=0),t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=0),this.top=r,this.right=t,this.bottom=n,this.left=i}return e.instance=function(r,t,n,i){return r===void 0&&(r=0),t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=0),new e(r,t,n,i)},e.prototype.max=function(r){var t=(0,d.CR)(r,4),n=t[0],i=t[1],a=t[2],o=t[3];return this.top=Math.max(this.top,n),this.right=Math.max(this.right,i),this.bottom=Math.max(this.bottom,a),this.left=Math.max(this.left,o),this},e.prototype.shrink=function(r){var t=(0,d.CR)(r,4),n=t[0],i=t[1],a=t[2],o=t[3];return this.top+=n,this.right+=i,this.bottom+=a,this.left+=o,this},e.prototype.inc=function(r,t){var n=r.width,i=r.height;switch(t){case Tt.TOP:case Tt.TOP_LEFT:case Tt.TOP_RIGHT:this.top+=i;break;case Tt.RIGHT:case Tt.RIGHT_TOP:case Tt.RIGHT_BOTTOM:this.right+=n;break;case Tt.BOTTOM:case Tt.BOTTOM_LEFT:case Tt.BOTTOM_RIGHT:this.bottom+=i;break;case Tt.LEFT:case Tt.LEFT_TOP:case Tt.LEFT_BOTTOM:this.left+=n;break;default:break}return this},e.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},e.prototype.clone=function(){return new(e.bind.apply(e,(0,d.ev)([void 0],(0,d.CR)(this.getPadding()),!1)))},e}();function Kr(e){var r=e.padding;if(!Ya(r))return new(Fr.bind.apply(Fr,(0,d.ev)([void 0],(0,d.CR)(ga(r)),!1)));var t=e.viewBBox,n=new Fr,i=[],a=[],o=[];return(0,c.S6)(e.getComponents(),function(s){var l=s.type;l===Ae.AXIS?i.push(s):[Ae.LEGEND,Ae.SLIDER,Ae.SCROLLBAR].includes(l)?a.push(s):l!==Ae.GRID&&l!==Ae.TOOLTIP&&o.push(s)}),(0,c.S6)(i,function(s){var l=s.component,u=l.getLayoutBBox(),h=new qt(u.x,u.y,u.width,u.height),v=h.exceed(t);n.max(v)}),(0,c.S6)(a,function(s){var l=s.component,u=s.direction,h=l.getLayoutBBox(),v=l.get("padding"),p=new qt(h.x,h.y,h.width,h.height).expand(v);n.inc(p,u)}),(0,c.S6)(o,function(s){var l=s.component,u=s.direction,h=l.getLayoutBBox(),v=new qt(h.x,h.y,h.width,h.height);n.inc(v,u)}),n}function Jn(e,r,t){var n=t.instance();r.forEach(function(i){i.autoPadding=n.max(i.autoPadding.getPadding())})}var Xn=function(e){(0,d.ZT)(r,e);function r(t){var n=e.call(this,{visible:t.visible})||this;n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=so(),n.scalePool=new ir,n.layoutFunc=Ce,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(q){var Q=q.name;if(!Q.includes(":")){var pt=n.createViewEvent(q);n.doPlotEvent(pt),n.emit(Q,pt)}},n.onDelegateEvents=function(q){var Q=q.name;if(!!Q.includes(":")){var pt=n.createViewEvent(q);n.emit(Q,pt)}};var i=t.id,a=i===void 0?(0,c.EL)("view"):i,o=t.parent,s=t.canvas,l=t.backgroundGroup,u=t.middleGroup,h=t.foregroundGroup,v=t.region,p=v===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:v,y=t.padding,S=t.appendPadding,E=t.theme,O=t.options,D=t.limitInPlot,X=t.syncViewPadding;return n.parent=o,n.canvas=s,n.backgroundGroup=l,n.middleGroup=u,n.foregroundGroup=h,n.region=p,n.padding=y,n.appendPadding=S,n.options=(0,d.pi)((0,d.pi)({},n.options),O),n.limitInPlot=D,n.id=a,n.syncViewPadding=X,n.themeObject=(0,c.Kn)(E)?(0,c.b$)({},Di("default"),Pi(E)):Di(E),n.init(),n}return r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},r.prototype.render=function(t,n){t===void 0&&(t=!1),this.emit(se.BEFORE_RENDER,Gt.fromData(this,se.BEFORE_RENDER,n)),this.paint(t),this.emit(se.AFTER_RENDER,Gt.fromData(this,se.AFTER_RENDER,n)),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit(se.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var n=this.geometries,i=0;i<n.length;i++)n[i].clear(),n[i].container.remove(!0),n[i].labelsContainer.remove(!0);this.geometries=[];for(var a=this.controllers,i=0;i<a.length;i++)a[i].name==="annotation"?a[i].clear(!0):a[i].clear();this.createdScaleKeys.forEach(function(s,l){t.getRootView().scalePool.deleteScale(l)}),this.createdScaleKeys.clear();for(var o=this.views,i=0;i<o.length;i++)o[i].clear();this.emit(se.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(se.BEFORE_DESTROY);var t=this.interactions;(0,c.S6)(t,function(s){s&&s.destroy()}),this.clear();for(var n=this.controllers,i=0,a=n.length;i<a;i++){var o=n[i];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),e.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){e.prototype.changeVisible.call(this,t);for(var n=this.geometries,i=0,a=n.length;i<a;i++){var o=n[i];o.changeVisible(t)}for(var s=this.controllers,i=0,a=s.length;i<a;i++){var l=s[i];l.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return(0,c.t8)(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,n){return(0,c.mf)(n)?((0,c.t8)(this.options,["filters",t],n),this):(!n&&(0,c.U2)(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,n){return(0,c.jn)(t)?(0,c.t8)(this.options,["axes"],t):(0,c.t8)(this.options,["axes",t],n),this},r.prototype.legend=function(t,n){return(0,c.jn)(t)?(0,c.t8)(this.options,["legends"],t):(0,c.HD)(t)?((0,c.t8)(this.options,["legends",t],n),(0,c.PO)(n)&&(n==null?void 0:n.selected)&&(0,c.t8)(this.options,["filters",t],function(i){var a;return(a=n==null?void 0:n.selected[i])!==null&&a!==void 0?a:!0})):(0,c.t8)(this.options,["legends"],t),this},r.prototype.scale=function(t,n){var i=this;return(0,c.HD)(t)?(0,c.t8)(this.options,["scales",t],n):(0,c.Kn)(t)&&(0,c.S6)(t,function(a,o){(0,c.t8)(i.options,["scales",o],a)}),this},r.prototype.tooltip=function(t){return(0,c.t8)(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,n){return(0,c.HD)(t)?(0,c.t8)(this.options,"coordinate",{type:t,cfg:n}):(0,c.t8)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,n){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,n)},r.prototype.facet=function(t,n){this.facetInstance&&this.facetInstance.destroy();var i=Xr(t);if(!i)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new i(this,(0,d.pi)((0,d.pi)({},n),{type:t})),this},r.prototype.animate=function(t){return(0,c.t8)(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),(0,c.CD)(this.options,t),this.views.forEach(function(n){return n.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},r.prototype.option=function(t,n){if(r.prototype[t])throw new Error(`Can't use built in variable name "`.concat(t,'", please change another one.'));return(0,c.t8)(this.options,t,n),this},r.prototype.theme=function(t){return this.themeObject=(0,c.Kn)(t)?(0,c.b$)({},this.themeObject,Pi(t)):Di(t),this},r.prototype.interaction=function(t,n){var i=this.interactions[t];i&&i.destroy();var a=Ni(t,this,n);return a&&(a.init(),this.interactions[t]=a),this},r.prototype.removeInteraction=function(t){var n=this.interactions[t];n&&(n.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(se.BEFORE_CHANGE_DATA,Gt.fromData(this,se.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var n=this.views,i=0,a=n.length;i<a;i++){var o=n[i];o.changeData(t)}this.emit(se.AFTER_CHANGE_DATA,Gt.fromData(this,se.AFTER_CHANGE_DATA,null))},r.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var n={data:this.options.data,scales:(0,c.d9)(this.options.scales),axes:(0,c.d9)(this.options.axes),coordinate:(0,c.d9)(this.coordinateController.getOption()),tooltip:(0,c.d9)(this.options.tooltip),legends:(0,c.d9)(this.options.legends),animate:this.options.animate,visible:this.visible},i=new r((0,d.pi)((0,d.pi)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:pe.BG}),middleGroup:this.middleGroup.addGroup({zIndex:pe.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:pe.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,d.pi)((0,d.pi)({},n),(0,c.U2)(t,"options",{}))}));return this.views.push(i),i},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var n=(0,c.Od)(this.views,function(i){return i===t})[0];return n&&n.destroy(),n},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={},n=[];return this.geometries.forEach(function(i){var a=i.getYScale(),o=a.field;t[o]||(t[o]=!0,n.push(a))}),n},r.prototype.getScalesByDim=function(t){for(var n=this.geometries,i={},a=0,o=n.length;a<o;a++){var s=n[a],l=t==="x"?s.getXScale():s.getYScale();l&&!i[l.field]&&(i[l.field]=l)}return i},r.prototype.getScale=function(t,n){var i=n||this.getScaleKey(t);return this.getRootView().scalePool.getScale(i)},r.prototype.getScaleByField=function(t,n){return this.getScale(t,n)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getOriginalData=function(){return this.options.data},r.prototype.getPadding=function(){return this.autoPadding.getPadding()},r.prototype.getGeometries=function(){return this.geometries},r.prototype.getElements=function(){return(0,c.u4)(this.geometries,function(t,n){return t.concat(n.getElements())},[])},r.prototype.getElementsBy=function(t){return this.getElements().filter(function(n){return t(n)})},r.prototype.getLayer=function(t){return t===Ee.BG?this.backgroundGroup:t===Ee.MID?this.middleGroup:t===Ee.FORE?this.foregroundGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return yt(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return(0,c.xH)(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(n){return n.getGroupScales()});return Bt((0,c.xH)(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},r.prototype.getXY=function(t){var n=this.getCoordinate(),i=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if((0,c.S6)(t,function(l,u){i[u]&&(o=i[u].scale(l)),a[u]&&(s=a[u].scale(l))}),!(0,c.UM)(o)&&!(0,c.UM)(s))return n.convert({x:o,y:s})},r.prototype.getController=function(t){return(0,c.sE)(this.controllers,function(n){return n.name===t})},r.prototype.showTooltip=function(t){var n=this.getController("tooltip");return n&&n.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var n=this.getController("tooltip");return n?n.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var n=this.geometries,i=[],a=0,o=n.length;a<o;a++){var s=n[a],l=s.dataArray;s.sort(l);for(var u=void 0,h=0,v=l.length;h<v;h++){var p=l[h];u=Ui(t,p,s),u&&i.push(u)}}for(var y=this.views,a=0,o=y.length;a<o;a++){var S=y[a],E=S.getSnapRecords(t);i=i.concat(E)}return i},r.prototype.getComponents=function(){for(var t=[],n=this.controllers,i=0,a=n.length;i<a;i++){var o=n[i];t=t.concat(o.getComponents())}return t},r.prototype.filterData=function(t){var n=this.options.filters;return(0,c.dp)(n)===0?t:(0,c.hX)(t,function(i,a){var o=Object.keys(n);return o.every(function(s){var l=n[s];return l(i[s],i,a)})})},r.prototype.filterFieldData=function(t,n){var i=this.options.filters,a=(0,c.U2)(i,t);return(0,c.o8)(a)?n:n.filter(function(o,s){return a(o[t],o,s)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),n=t.start,i=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if((0,c.Xy)(n,a)&&(0,c.Xy)(i,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(se.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(se.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,c.U2)(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var n=this.viewBBox,i=n.x,a=n.y,o=n.width,s=n.height;this.backgroundStyleRectShape.attr({fill:t,x:i,y:a,width:o,height:s})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},r.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=Kr(this).shrink(ga(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();for(var n=this.views,i=0,a=n.length;i<a;i++){var o=n[i];o.renderPaddingRecursive(t)}},r.prototype.renderLayoutRecursive=function(t){var n=this.syncViewPadding===!0?Jn:(0,c.mf)(this.syncViewPadding)?this.syncViewPadding:void 0;n&&(n(this,this.views,Fr),this.views.forEach(function(l){l.coordinateBBox=l.viewBBox.shrink(l.autoPadding.getPadding()),l.adjustCoordinate()})),this.doLayout();for(var i=this.views,a=0,o=i.length;a<o;a++){var s=i[a];s.renderLayoutRecursive(t)}},r.prototype.renderPaintRecursive=function(t){var n=this.middleGroup;if(this.limitInPlot){var i=te(this.coordinateInstance),a=i.type,o=i.attrs;n.setClip({type:a,attrs:o})}else n.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,l=0,u=s.length;l<u;l++){var h=s[l];h.renderPaintRecursive(t)}},r.prototype.createScale=function(t,n,i,a){var o=(0,c.U2)(this.options.scales,[t]),s=(0,d.pi)((0,d.pi)({},o),i);return this.parent?this.parent.createScale(t,n,s,a):this.scalePool.createScale(t,n,s,a)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var n=this.views,i=0,a=n.length;i<a;i++){var o=n[i];o.renderDataRecursive(t)}},r.prototype.calculateViewBBox=function(){var t,n,i,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,n=o.y,i=o.width,a=o.height}else t=0,n=0,i=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,l=s.start,u=s.end,h=new qt(t+i*l.x,n+a*l.y,i*(u.x-l.x),a*(u.y-l.y));(!this.viewBBox||!this.viewBBox.isEqual(h))&&(this.viewBBox=new qt(t+i*l.x,n+a*l.y,i*(u.x-l.x),a*(u.y-l.y))),this.coordinateBBox=this.viewBBox},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,n=0,i=t.length;n<i;n++){var a=t[n],o=Xi(a);o&&this.controllers.push(new o(this))}},r.prototype.createViewEvent=function(t){var n=t.shape,i=t.name,a=n?n.get("origin"):null,o=new Gt(this,t,a);return o.type=i,o},r.prototype.doPlotEvent=function(t){var n=t.type,i=t.x,a=t.y,o={x:i,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(n)){var l=this.isPointInPlot(o),u=t.clone();if(l){var h="plot:".concat(n);u.type=h,this.emit(h,u),(n==="mouseleave"||n==="touchend")&&(this.isPreMouseInPlot=!1)}n==="mousemove"||n==="touchmove"?(this.isPreMouseInPlot&&!l?(n==="mousemove"&&(u.type=Be.MOUSE_LEAVE,this.emit(Be.MOUSE_LEAVE,u)),u.type=Be.LEAVE,this.emit(Be.LEAVE,u)):!this.isPreMouseInPlot&&l&&(n==="mousemove"&&(u.type=Be.MOUSE_ENTER,this.emit(Be.MOUSE_ENTER,u)),u.type=Be.ENTER,this.emit(Be.ENTER,u)),this.isPreMouseInPlot=l):(n==="mouseleave"||n==="touchend")&&this.isPreMouseInPlot&&(n==="mouseleave"&&(u.type=Be.MOUSE_LEAVE,this.emit(Be.MOUSE_LEAVE,u)),u.type=Be.LEAVE,this.emit(Be.LEAVE,u),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var n=this.getCoordinate(),i=(0,c.U2)(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var l=a[o];l.scales=this.getGeometryScales();var u={coordinate:n,scaleDefs:i,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?l.update(u):l.init(u)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),n=this.getGroupedFields(),i=this.getOptions(),a=i.data,o=i.scales,s=o===void 0?{}:o,l=this.filteredData,u=0,h=t.length;u<h;u++){var v=t[u],p=s[v],y=this.getScaleKey(v);this.createScale(v,n.includes(v)?a:l,p,y),this.createdScaleKeys.set(y,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),n={},i=0;i<t.length;i++){var a=t[i];n[a]=this.getScaleByField(a)}return n},r.prototype.getScaleFields=function(){for(var t=[],n=new Map,i=this.geometries,a=0;a<i.length;a++){var o=i[a],s=o.getScaleFields();Bt(s,t,n)}return t},r.prototype.getGroupedFields=function(){for(var t=[],n=new Map,i=this.geometries,a=0;a<i.length;a++){var o=i[a],s=o.getGroupFields();Bt(s,t,n)}return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,n=(0,d.ev)([this.getXScale()],(0,d.CR)(this.getYScales()),!1).filter(function(o){return!!o}),i=this.getCoordinate(),a=this.options.scales;(0,c.S6)(n,function(o){var s=o.field,l=o.values,u=o.isCategory,h=o.isIdentity;(u||h)&&l&&!(0,c.U2)(a,[s,"range"])&&(o.range=wr(o,i,t.theme))})},r.prototype.initComponents=function(t){for(var n=this.controllers,i=0;i<n.length;i++){var a=n[i];t?a.update():(a.clear(),a.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,n=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,n)},r.prototype.paintGeometries=function(t){for(var n=this.options.animate,i=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var l=o[s];l.coordinate=i,l.canvasRegion=a,n||l.animate(!1),l.paint(t)}},r.prototype.renderComponents=function(t){for(var n=0;n<this.getComponents().length;n++){var i=this.getComponents()[n];i.component.render()}},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){var t=this,n=this.options,i=n.geometries,a=i===void 0?[]:i,o=n.interactions,s=o===void 0?[]:o,l=n.views,u=l===void 0?[]:l,h=n.annotations,v=h===void 0?[]:h,p=n.coordinate,y=n.events,S=n.facets;this.coordinateController?p&&this.coordinateController.update(p):this.coordinateController=new mt(p);for(var E=0;E<a.length;E++){var O=a[E];this.createGeometry(O)}for(var D=0;D<s.length;D++){var X=s[D],q=X.type,Q=X.cfg;this.interaction(q,Q)}for(var pt=0;pt<u.length;pt++){var Wt=u[pt];this.createView(Wt)}for(var Kt=this.getController("annotation"),ae=0;ae<v.length;ae++){var Fe=v[ae];Kt.annotation(Fe)}y&&(0,c.S6)(y,function(ve,Ze){t.on(Ze,ve)}),S&&(0,c.S6)(S,function(ve){var Ze=ve.type,dr=(0,d._T)(ve,["type"]);t.facet(Ze,dr)})},r.prototype.createGeometry=function(t){var n=t.type,i=t.cfg,a=i===void 0?{}:i;if(this[n]){var o=this[n](a);(0,c.S6)(t,function(s,l){(0,c.mf)(o[l])&&o[l](s)})}},r.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)},r}(Lt);function In(e,r){Xn.prototype[e.toLowerCase()]=function(t){t===void 0&&(t={});var n=(0,d.pi)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),i=new r(n);return this.geometries.push(i),i}}var G=Xn,A=function(e){(0,d.ZT)(r,e);function r(t){var n=this,i=t.container,a=t.width,o=t.height,s=t.autoFit,l=s===void 0?!1:s,u=t.padding,h=t.appendPadding,v=t.renderer,p=v===void 0?"canvas":v,y=t.pixelRatio,S=t.localRefresh,E=S===void 0?!0:S,O=t.visible,D=O===void 0?!0:O,X=t.supportCSSTransform,q=X===void 0?!1:X,Q=t.defaultInteractions,pt=Q===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:Q,Wt=t.options,Kt=t.limitInPlot,ae=t.theme,Fe=t.syncViewPadding,ve=(0,c.HD)(i)?document.getElementById(i):i,Ze=(0,Ht.Z)('<div style="position:relative;"></div>');ve.appendChild(Ze);var dr=lr(ve,l,a,o),Or=_e(p),Rr=new Or.Canvas((0,d.pi)({container:Ze,pixelRatio:y,localRefresh:E,supportCSSTransform:q},dr));return n=e.call(this,{parent:null,canvas:Rr,backgroundGroup:Rr.addGroup({zIndex:pe.BG}),middleGroup:Rr.addGroup({zIndex:pe.MID}),foregroundGroup:Rr.addGroup({zIndex:pe.FORE}),padding:u,appendPadding:h,visible:D,options:Wt,limitInPlot:Kt,theme:ae,syncViewPadding:Fe})||this,n.onResize=(0,c.Ds)(function(){n.forceFit()},300),n.ele=ve,n.canvas=Rr,n.width=dr.width,n.height=dr.height,n.autoFit=l,n.localRefresh=E,n.renderer=p,n.wrapperElement=Ze,n.updateCanvasStyle(),n.bindAutoFit(),n.initDefaultInteractions(pt),n}return r.prototype.initDefaultInteractions=function(t){var n=this;(0,c.S6)(t,function(i){n.interaction(i)})},r.prototype.aria=function(t){var n="aria-label";t===!1?this.ele.removeAttribute(n):this.ele.setAttribute(n,t.label)},r.prototype.changeSize=function(t,n){return this.width===t&&this.height===n?this:(this.emit(se.BEFORE_CHANGE_SIZE),this.width=t,this.height=n,this.canvas.changeSize(t,n),this.render(!0),this.emit(se.AFTER_CHANGE_SIZE),this)},r.prototype.clear=function(){e.prototype.clear.call(this),this.aria(!1)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),fr(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return e.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=lr(this.ele,!0,this.width,this.height),n=t.width,i=t.height;this.changeSize(n,i)}},r.prototype.updateCanvasStyle=function(){(0,be.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}(G),f=A,g=function(){function e(r){this.visible=!0,this.components=[],this.view=r}return e.prototype.clear=function(r){(0,c.S6)(this.components,function(t){t.component.destroy()}),this.components=[]},e.prototype.destroy=function(){this.clear()},e.prototype.getComponents=function(){return this.components},e.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},e}();function b(e){for(var r=[],t=function(i){var a=e[i],o=(0,c.sE)(r,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||r.push(a)},n=0;n<e.length;n++)t(n);return r}var F=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var n=this.view,i=this.getTooltipItems(t);if(!i.length){this.hideTooltip();return}var a=this.getTitle(i),o={x:i[0].x,y:i[0].y};n.emit("tooltip:show",Gt.fromData(n,"tooltip:show",(0,d.pi)({items:i,title:a},t)));var s=this.getTooltipCfg(),l=s.follow,u=s.showMarkers,h=s.showCrosshairs,v=s.showContent,p=s.marker,y=this.items,S=this.title;if(!(0,c.Xy)(S,a)||!(0,c.Xy)(y,i)?(n.emit("tooltip:change",Gt.fromData(n,"tooltip:change",(0,d.pi)({items:i,title:a},t))),((0,c.mf)(v)?v(i):v)&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,c.CD)({},s,{items:this.getItemsAfterProcess(i),title:a},l?t:{})),this.tooltip.show()),u&&this.renderTooltipMarkers(i,p)):(this.tooltip&&l&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=i,this.title=a,h){var E=(0,c.U2)(s,["crosshairs","follow"],!1);this.renderCrosshairs(E?t:o,s)}}},r.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var n=this.tooltipMarkersGroup;n&&n.hide();var i=this.xCrosshair,a=this.yCrosshair;i&&i.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",Gt.fromData(this.view,"tooltip:hide",{})),this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,n=t.tooltip,i=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;n&&(n.hide(),n.clear()),i&&i.clear(),a&&a.clear(),o&&o.clear(),(n==null?void 0:n.get("customContent"))&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},r.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var n=this,i=n.tooltip,a=n.tooltipMarkersGroup,o=n.xCrosshair,s=n.yCrosshair;t?(i&&i.show(),a&&a.show(),o&&o.show(),s&&s.show()):(i&&i.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var n,i,a,o,s,l,u=this.findItemsFromView(this.view,t);if(u.length){u=(0,c.xH)(u);try{for(var h=(0,d.XA)(u),v=h.next();!v.done;v=h.next()){var p=v.value;try{for(var y=(a=void 0,(0,d.XA)(p)),S=y.next();!S.done;S=y.next()){var E=S.value,O=E.mappingData,D=O.x,X=O.y;E.x=(0,c.kJ)(D)?D[D.length-1]:D,E.y=(0,c.kJ)(X)?X[X.length-1]:X}}catch(ve){a={error:ve}}finally{try{S&&!S.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}}}catch(ve){n={error:ve}}finally{try{v&&!v.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var q=this.getTooltipCfg().shared;if(q===!1&&u.length>1){var Q=u[0],pt=Math.abs(t.y-Q[0].y);try{for(var Wt=(0,d.XA)(u),Kt=Wt.next();!Kt.done;Kt=Wt.next()){var ae=Kt.value,Fe=Math.abs(t.y-ae[0].y);Fe<=pt&&(Q=ae,pt=Fe)}}catch(ve){s={error:ve}}finally{try{Kt&&!Kt.done&&(l=Wt.return)&&l.call(Wt)}finally{if(s)throw s.error}}u=[Q]}return b((0,c.xH)(u))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.isCursorEntered=function(t){if(this.tooltip){var n=this.tooltip.getContainer(),i=this.tooltip.get("capture");if(n&&i){var a=n.getBoundingClientRect(),o=a.x,s=a.y,l=a.width,u=a.height;return new qt(o,s,l,u).isPointIn(t)}}return!1},r.prototype.getTooltipCfg=function(){var t=this.view,n=t.getOptions().tooltip,i=this.processCustomContent(n),a=t.getTheme(),o=(0,c.U2)(a,["components","tooltip"],{}),s=(0,c.U2)(i,"enterable",o.enterable);return(0,c.b$)({},o,i,{capture:!!(s||this.isLocked)})},r.prototype.processCustomContent=function(t){if((0,c.jn)(t)||!(0,c.U2)(t,"customContent"))return t;var n=t.customContent,i=function(a,o){var s=n(a,o)||"";return(0,c.HD)(s)?'<div class="g2-tooltip">'+s+"</div>":s};return(0,d.pi)((0,d.pi)({},t),{customContent:i})},r.prototype.getTitle=function(t){var n=t[0].title||t[0].name;return this.title=n,n},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),n={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},i=this.getTooltipCfg(),a=new we((0,d.pi)((0,d.pi)({parent:t.get("el").parentNode,region:n},i),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},r.prototype.renderTooltipMarkers=function(t,n){var i,a,o=this.getTooltipMarkersGroup(),s=this.view.getRootView(),l=s.limitInPlot;try{for(var u=(0,d.XA)(t),h=u.next();!h.done;h=u.next()){var v=h.value,p=v.x,y=v.y;if(l||(o==null?void 0:o.getClip())){var S=te(s.getCoordinate()),E=S.type,O=S.attrs;o==null||o.setClip({type:E,attrs:O})}else o==null||o.setClip(void 0);var D=(0,d.pi)((0,d.pi)({fill:v.color,symbol:"circle",shadowColor:v.color},n),{x:p,y});o.addShape("marker",{attrs:D})}}catch(X){i={error:X}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}},r.prototype.renderCrosshairs=function(t,n){var i=(0,c.U2)(n,["crosshairs","type"],"x");i==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,n)):i==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,n)):i==="xy"&&(this.renderXCrosshairs(t,n),this.renderYCrosshairs(t,n))},r.prototype.renderXCrosshairs=function(t,n){var i=this.getViewWithGeometry(this.view).getCoordinate();if(!!yt(i,t)){var a,o;if(i.isRect)i.isTransposed?(a={x:i.start.x,y:t.y},o={x:i.end.x,y:t.y}):(a={x:t.x,y:i.end.y},o={x:t.x,y:i.start.y});else{var s=Dt(i,t),l=i.getCenter(),u=i.getRadius();o=P(l.x,l.y,u,s),a=l}var h=(0,c.b$)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},(0,c.U2)(n,"crosshairs",{}),this.getCrosshairsText("x",t,n));delete h.type;var v=this.xCrosshair;v?v.update(h):(v=new Pt.YS.Line(h),v.init()),v.render(),v.show(),this.xCrosshair=v}},r.prototype.renderYCrosshairs=function(t,n){var i=this.getViewWithGeometry(this.view).getCoordinate();if(!!yt(i,t)){var a,o;if(i.isRect){var s=void 0,l=void 0;i.isTransposed?(s={x:t.x,y:i.end.y},l={x:t.x,y:i.start.y}):(s={x:i.start.x,y:t.y},l={x:i.end.x,y:t.y}),a={start:s,end:l},o="Line"}else a={center:i.getCenter(),radius:lt(i,t),startAngle:i.startAngle,endAngle:i.endAngle},o="Circle";a=(0,c.b$)({container:this.getTooltipCrosshairsGroup()},a,(0,c.U2)(n,"crosshairs",{}),this.getCrosshairsText("y",t,n)),delete a.type;var u=this.yCrosshair;u?i.isRect&&u.get("type")==="circle"||!i.isRect&&u.get("type")==="line"?(u=new Pt.YS[o](a),u.init()):u.update(a):(u=new Pt.YS[o](a),u.init()),u.render(),u.show(),this.yCrosshair=u}},r.prototype.getCrosshairsText=function(t,n,i){var a=(0,c.U2)(i,["crosshairs","text"]),o=(0,c.U2)(i,["crosshairs","follow"]),s=this.items;if(a){var l=this.getViewWithGeometry(this.view),u=s[0],h=l.getXScale(),v=l.getYScales()[0],p=void 0,y=void 0;if(o){var S=this.view.getCoordinate().invert(n);p=h.invert(S.x),y=v.invert(S.y)}else p=u.data[h.field],y=u.data[v.field];var E=t==="x"?p:y;return(0,c.mf)(a)?a=a(t,E,s,n):a.content=E,{text:a}}},r.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.findItemsFromView=function(t,n){var i,a;if(t.getOptions().tooltip===!1)return[];var o=this.getTooltipCfg(),s=da(t,n,o);try{for(var l=(0,d.XA)(t.views),u=l.next();!u.done;u=l.next()){var h=u.value;s=s.concat(this.findItemsFromView(h,n))}}catch(v){i={error:v}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return s},r.prototype.getViewWithGeometry=function(t){var n=this;return t.geometries.length?t:(0,c.sE)(t.views,function(i){return n.getViewWithGeometry(i)})},r.prototype.getItemsAfterProcess=function(t){var n=this.getTooltipCfg().customItems,i=n||function(a){return a};return i(t)},r}(g),z=F,W={};function at(e){return W[e.toLowerCase()]}function vt(e,r){W[e.toLowerCase()]=r}var bt={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},kt={interval:function(e){return{enter:{animation:e.isRect?e.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:e.isPolar&&e.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},jt={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(e){var r;return e.isRect?r=e.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",e.isPolar&&e.isTransposed&&(r="wave-in")),{animation:r}},schema:function(e){var r;return e.isRect?r=e.isTransposed?"grow-in-x":"grow-in-y":r="grow-in-xy",{animation:r}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function he(e,r){return{delay:(0,c.mf)(e.delay)?e.delay(r):e.delay,easing:(0,c.mf)(e.easing)?e.easing(r):e.easing,duration:(0,c.mf)(e.duration)?e.duration(r):e.duration,callback:e.callback,repeat:e.repeat}}function qe(e,r,t){var n=kt[e];return n&&((0,c.mf)(n)&&(n=n(r)),n=(0,c.b$)({},bt,n),t)?n[t]:n}function ur(e,r,t){var n=(0,c.U2)(e.get("origin"),"data",Jt),i=r.animation,a=he(r,n);if(i){var o=at(i);o&&o(e,a,t)}else e.animate(t.toAttrs,a)}function Cr(e,r,t,n,i){if(jt[t]){var a=jt[t](n),o=at((0,c.U2)(a,"animation",""));if(o){var s=(0,d.pi)((0,d.pi)((0,d.pi)({},bt.appear),a),r);e.stopAnimate(),o(e,s,{coordinate:n,minYPoint:i,toAttrs:null})}}}var kr="element-background",Ur=function(e){(0,d.ZT)(r,e);function r(t){var n=e.call(this,t)||this;n.labelShape=[],n.states=[];var i=t.shapeFactory,a=t.container,o=t.offscreenGroup,s=t.elementIndex,l=t.visible,u=l===void 0?!0:l;return n.shapeFactory=i,n.container=a,n.offscreenGroup=o,n.visible=u,n.elementIndex=s,n}return r.prototype.draw=function(t,n){n===void 0&&(n=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,n),this.visible===!1&&this.changeVisible(!1)},r.prototype.update=function(t){var n=this,i=n.shapeFactory,a=n.shape;if(!!a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=i.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,s.cfg.element=this,this.syncShapeStyle(a,s,this.getStates(),this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var t=this,n=t.shapeFactory,i=t.shape;if(i){var a=this.getAnimateCfg("leave");a?ur(i,a,{coordinate:n.coordinate,toAttrs:(0,d.pi)({},i.attr())}):i.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,e.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){e.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(n){n.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(n){n.hide()}))},r.prototype.setState=function(t,n){var i=this,a=i.states,o=i.shapeFactory,s=i.model,l=i.shape,u=i.shapeType,h=a.indexOf(t);if(n){if(h>-1)return;a.push(t),(t==="active"||t==="selected")&&(l==null||l.toFront())}else{if(h===-1)return;if(a.splice(h,1),t==="active"||t==="selected"){var v=this.geometry,p=v.sortZIndex,y=v.zIndexReversed,S=y?this.geometry.elements.length-this.elementIndex:this.elementIndex;p?l.setZIndex(S):l.set("zIndex",S)}}var E=o.drawShape(u,s,this.getOffscreenGroup());a.length?this.syncShapeStyle(l,E,a,null):this.syncShapeStyle(l,E,["reset"],null),E.remove(!0);var O={state:t,stateStatus:n,element:this,target:this.container};this.container.emit("statechange",O),(0,Pt.Es)(this.shape,"statechange",O)},r.prototype.clearStates=function(){var t=this,n=this.states;(0,c.S6)(n,function(i){t.setState(i,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var t=this,n=t.shape,i=t.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return n&&(a=n.getCanvasBBox()),i&&i.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,n=t.shapeType,i=t.geometry,a=t.shapeFactory,o=i.stateOption,s=a.defaultShapeType,l=a.theme[n]||a.theme[s];this.statesStyle=(0,c.b$)({},l,o)}return this.statesStyle},r.prototype.getStateStyle=function(t,n){var i=this.getStatesStyle(),a=(0,c.U2)(i,[t,"style"],{}),o=a[n]||a;return(0,c.mf)(o)?o(this):o},r.prototype.getAnimateCfg=function(t){var n=this,i=this.animate;if(i){var a=i[t];return a&&(0,d.pi)((0,d.pi)({},a),{callback:function(){var o;(0,c.mf)(a.callback)&&a.callback(),(o=n.geometry)===null||o===void 0||o.emit(Ye.AFTER_DRAW_ANIMATE)}})}return null},r.prototype.drawShape=function(t,n){var i;n===void 0&&(n=!1);var a=this,o=a.shapeFactory,s=a.container,l=a.shapeType;if(this.shape=o.drawShape(l,t,s),this.shape){this.setShapeInfo(this.shape,t);var u=this.shape.cfg.name;u?(0,c.HD)(u)&&(this.shape.cfg.name=["element",u]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var h=n?"enter":"appear",v=this.getAnimateCfg(h);v&&((i=this.geometry)===null||i===void 0||i.emit(Ye.BEFORE_DRAW_ANIMATE),ur(this.shape,v,{coordinate:o.coordinate,toAttrs:(0,d.pi)({},this.shape.attr())}))}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,n){var i=this;if(t.cfg.origin=n,t.cfg.element=this,t.isGroup()){var a=t.get("children");a.forEach(function(o){i.setShapeInfo(o,n)})}},r.prototype.syncShapeStyle=function(t,n,i,a,o){var s=this,l;if(i===void 0&&(i=[]),o===void 0&&(o=0),!(!t||!n)){var u=t.get("clipShape"),h=n.get("clipShape");if(this.syncShapeStyle(u,h,i,a),t.isGroup())for(var v=t.get("children"),p=n.get("children"),y=0;y<v.length;y++)this.syncShapeStyle(v[y],p[y],i,a,o+y);else{if(!(0,c.xb)(i)&&!(0,c.Xy)(i,["reset"])){var S=t.get("name");(0,c.kJ)(S)&&(S=S[1]),(0,c.S6)(i,function(O){if(n.get("name")!==kr){var D=s.getStateStyle(O,S||o);n.attr(D)}})}var E=R(t,n);this.animate?a?((l=this.geometry)===null||l===void 0||l.emit(Ye.BEFORE_DRAW_ANIMATE),ur(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:E,shapeModel:this.model})):(0,c.xb)(i)?t.attr(E):(t.stopAnimate(),t.animate(E,{duration:300})):t.attr(E)}}},r.prototype.getShapeType=function(t){var n=(0,c.U2)(t,"shape");return(0,c.kJ)(n)?n[0]:n},r}(Lt),cn=Ur,on={},Ln={};function kn(e){return on[e.toLowerCase()]}function Bn(e,r){on[e.toLowerCase()]=r}function pi(e){return Ln[e.toLowerCase()]}function Cn(e,r){Ln[e.toLowerCase()]=r}var ti={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(e,r){var t=this.getShape(e);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(e){var r=this[e]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getDefaultStyle:function(e){return(0,c.U2)(e,[this.defaultShapeType,"default","style"],{})},getMarker:function(e,r){var t=this.getShape(e);if(!t.getMarker){var n=this.defaultShapeType;t=this.getShape(n)}var i=this.theme,a=(0,c.U2)(i,[e,"default"],{}),o=t.getMarker(r);return(0,c.b$)({},a,o)},drawShape:function(e,r,t){var n=this.getShape(e);return n.draw(r,t)}},Ci={coordinate:null,parsePath:function(e){var r=this.coordinate,t=(0,ze.tr)(e);return r.isPolar?t=Je(r,t):t=je(r,t),t},parsePoint:function(e){var r=this.coordinate;return r.convert(e)},parsePoints:function(e){var r=this.coordinate;return e.map(function(t){return r.convert(t)})},draw:function(e,r){}},mi={};function Nn(e,r){var t=(0,c.jC)(e),n=(0,d.pi)((0,d.pi)((0,d.pi)({},ti),r),{geometryType:e});return mi[t]=n,n}function en(e,r,t){var n=(0,c.jC)(e),i=mi[n],a=(0,d.pi)((0,d.pi)({},Ci),t);return i[r]=a,a}function ya(e){var r=(0,c.jC)(e);return mi[r]}function Xa(e,r,t){var n,i;if(t===void 0&&(t={}),!r)return[e];var a=(0,c.Ms)(e,r),o=[];if(r.length===1&&t[r[0]]){var s=t[r[0]];try{for(var l=(0,d.XA)(s),u=l.next();!u.done;u=l.next()){var h=u.value,v=a["_".concat(h)];v&&o.push(v)}}catch(S){n={error:S}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}else for(var p in a)if(a.hasOwnProperty(p)){var y=a[p];o.push(y)}return o}function Wi(e,r){return(0,c.G)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,c.Xy)(e[t],r[t])})}function Zi(e){return(0,c.kJ)(e)?e:e.split("*")}function ma(e,r){for(var t=[],n=[],i=[],a=new Map,o=0;o<r.length;o++){var s=r[o];e[s]?n.push(s):t.push(s),a.set(s,!0)}return Object.keys(e).forEach(function(l){a.has(l)||i.push(l)}),{added:t,updated:n,removed:i}}var lo=function(e){(0,d.ZT)(r,e);function r(t){var n=e.call(this,t)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1,n.isCoordinateChanged=!1;var i=t.container,a=t.labelsContainer,o=t.coordinate,s=t.data,l=t.sortable,u=l===void 0?!1:l,h=t.visible,v=h===void 0?!0:h,p=t.theme,y=t.scales,S=y===void 0?{}:y,E=t.scaleDefs,O=E===void 0?{}:E,D=t.intervalPadding,X=t.dodgePadding,q=t.maxColumnWidth,Q=t.minColumnWidth,pt=t.columnWidthRatio,Wt=t.roseWidthRatio,Kt=t.multiplePieWidthRatio,ae=t.zIndexReversed,Fe=t.sortZIndex,ve=t.useDeferredLabel;return n.container=i,n.labelsContainer=a,n.coordinate=o,n.data=s,n.sortable=u,n.visible=v,n.userTheme=p,n.scales=S,n.scaleDefs=O,n.intervalPadding=D,n.dodgePadding=X,n.maxColumnWidth=q,n.minColumnWidth=Q,n.columnWidthRatio=pt,n.roseWidthRatio=Wt,n.multiplePieWidthRatio=Kt,n.zIndexReversed=ae,n.sortZIndex=Fe,n.useDeferredLabel=ve?typeof ve=="number"?ve:Infinity:null,n}return r.prototype.position=function(t){var n=t;(0,c.PO)(t)||(n={fields:Zi(t)});var i=(0,c.U2)(n,"fields");return i.length===1&&(i.unshift("1"),(0,c.t8)(n,"fields",i)),(0,c.t8)(this.attributeOption,"position",n),this},r.prototype.color=function(t,n){return this.createAttrOption("color",t,n),this},r.prototype.shape=function(t,n){return this.createAttrOption("shape",t,n),this},r.prototype.size=function(t,n){return this.createAttrOption("size",t,n),this},r.prototype.adjust=function(t){var n=t;return((0,c.HD)(t)||(0,c.PO)(t))&&(n=[t]),(0,c.S6)(n,function(i,a){(0,c.Kn)(i)||(n[a]={type:i})}),this.adjustOption=n,this},r.prototype.style=function(t,n){if((0,c.HD)(t)){var i=Zi(t);this.styleOption={fields:i,callback:n}}else{var a=t,i=a.fields,o=a.callback,s=a.cfg;i||o||s?this.styleOption=t:this.styleOption={cfg:t}}return this},r.prototype.tooltip=function(t,n){if((0,c.HD)(t)){var i=Zi(t);this.tooltipOption={fields:i,callback:n}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,n,i){if((0,c.HD)(t)){var a={},o=Zi(t);a.fields=o,(0,c.mf)(n)?a.callback=n:(0,c.PO)(n)&&(a.cfg=n),i&&(a.cfg=i),this.labelOption=a}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.customInfo=function(t){return this.customOption=t,this},r.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){t===void 0&&(t={});var n=t.data,i=t.isDataChanged,a=t.isCoordinateChanged,o=this,s=o.attributeOption,l=o.lastAttributeOption;(0,c.Xy)(s,l)?n&&(i||!(0,c.Xy)(n,this.data))?(this.setCfg(t),this.initAttributes(),this.processData(n)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},r.prototype.paint=function(t){var n=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=(0,c.b$)({},qe(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[];var i=this.getOffscreenGroup();i.clear();var a=this.beforeMappingData,o=this.beforeMapping(a);this.dataArray=new Array(o.length);for(var s=0;s<o.length;s++){var l=o[s];this.dataArray[s]=this.mapping(l)}if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var u=this.container,h=this.type,v=this.coordinate,p=(0,c.U2)(this.animateOption,"appear"),y=this.getYScale(),S=v.convert({x:0,y:y.scale(this.getYMinValue())});Cr(u,p,h,v,S)}if(this.labelOption){var E=this.useDeferredLabel,O=function(){return n.renderLabels((0,c.xH)(n.dataArray),t)}.bind(this);if(typeof E=="number"){var D=typeof E=="number"&&E!==Infinity?E:0;if(!window.requestIdleCallback)setTimeout(O,D);else{var X=D&&D!==Infinity?{timeout:D}:void 0;window.requestIdleCallback(O,X)}}else O()}this.lastAttributeOption=(0,d.pi)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,n=t.container,i=t.geometryLabel,a=t.offscreenGroup;n&&n.clear(),i&&i.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,e.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return(0,c.S6)(this.attributes,function(n){rt.includes(n.type)&&t.push(n)}),t},r.prototype.getDefaultValue=function(t){var n,i=this.getAttribute(t);return i&&(0,c.xb)(i.scales)&&(n=i.values[0]),n},r.prototype.getAttributeValues=function(t,n){for(var i=[],a=t.scales,o=0,s=a.length;o<s;o++){var l=a[o],u=l.field;l.isIdentity?i.push(l.values):i.push(n[u])}return t.mapping.apply(t,(0,d.ev)([],(0,d.CR)(i),!1))},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getCoordinate=function(){return this.coordinate},r.prototype.getData=function(){return this.data},r.prototype.getShapeMarker=function(t,n){var i=this.getShapeFactory();return i.getMarker(t,n)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(n){return t(n)})},r.prototype.getElements=function(){return this.elements},r.prototype.getElementId=function(t){t=(0,c.kJ)(t)?t[0]:t;var n=t[Jt];if(this.idFields.length){for(var i=n[this.idFields[0]],a=1;a<this.idFields.length;a++)i+="-"+n[this.idFields[a]];return i}var o=this.type,s=this.getXScale(),l=this.getYScale(),u=s.field||"x",h=l.field||"y",v=n[h],p;s.type==="identity"?p=s.values[0]:p=n[u];var y;o==="interval"||o==="schema"?y="".concat(p):o==="line"||o==="area"||o==="path"?y=o:y="".concat(p,"-").concat(v);for(var S=this.groupScales,a=0,E=S.length;a<E;a++){var O=S[a],D=O.field;y="".concat(y,"-").concat(n[D])}var X=this.getAdjust("dodge");if(X){var q=X.dodgeBy;q&&(y="".concat(y,"-").concat(n[q]))}return this.getAdjust("jitter")&&(y="".concat(y,"-").concat(t.x,"-").concat(t.y)),y},r.prototype.getScaleFields=function(){var t=[],n=new Map,i=this,a=i.attributeOption,o=i.labelOption,s=i.tooltipOption;for(var l in a)if(a.hasOwnProperty(l)){var u=a[l];u.fields?Bt(u.fields,t,n):u.values&&Bt(u.values,t,n)}return o&&o.fields&&Bt(o.fields,t,n),(0,c.Kn)(s)&&s.fields&&Bt(s.fields,t,n),t},r.prototype.changeVisible=function(t){e.prototype.changeVisible.call(this,t);for(var n=this.elements,i=0,a=n.length;i<a;i++){var o=n[i];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getFields=function(){var t=new Map,n=[];return Object.values(this.attributeOption).forEach(function(i){var a=(i==null?void 0:i.fields)||[];a.forEach(function(o){t.has(o)||n.push(o),t.set(o,!0)})},[]),n},r.prototype.getGroupFields=function(){for(var t=[],n=new Map,i=0,a=rt.length;i<a;i++){var o=rt[i],s=this.attributeOption[o];s&&s.fields&&Bt(s.fields,t,n)}return t},r.prototype.getXYFields=function(){var t=(0,d.CR)(this.attributeOption.position.fields,2),n=t[0],i=t[1];return[n,i]},r.prototype.getXField=function(){return(0,c.U2)(this.getXYFields(),[0])},r.prototype.getYField=function(){return(0,c.U2)(this.getXYFields(),[1])},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var n=this.getXScale(),i=n.field,a=0;a<t.length;a++){var o=t[a];o.sort(function(s,l){return n.translate(s[Jt][i])-n.translate(l[Jt][i])})}this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if(!!ya(t))return this.shapeFactory||(this.shapeFactory=(0,c.d9)(ya(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var n=this.getXScale(),i=this.getYScale(),a=this.normalizeValues(t[n.field],n),o;return i?o=this.normalizeValues(t[i.field],i):o=t.y?t.y:.1,{x:a,y:o,y0:i?i.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,n,i){i===void 0&&(i=!1);var a=this.container,o=this.getDrawCfg(t),s=this.getShapeFactory(),l=new cn({shapeFactory:s,container:a,offscreenGroup:this.getOffscreenGroup(),elementIndex:n});return l.animate=this.animateOption,l.geometry=this,l.draw(o,i),l},r.prototype.getDrawCfg=function(t){var n=t[Jt],i={mappingData:t,data:n,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),i.shape=a;var o=this.theme.geometries[this.shapeType];i.defaultStyle=(0,c.U2)(o,[a,"default"],{}).style,!i.defaultStyle&&this.getShapeFactory()&&(i.defaultStyle=this.getShapeFactory().getDefaultStyle(o));var s=this.styleOption;return s&&(i.style=this.getStyleCfg(s,n)),this.generatePoints&&(i.points=t.points,i.nextPoints=t.nextPoints),i},r.prototype.updateElements=function(t,n){var i,a,o,s,l,u;n===void 0&&(n=!1);for(var h=new Map,v=[],p=new Map,y=0,S=0;S<t.length;S++)for(var E=t[S],O=0;O<E.length;O++){var D=E[O],X=this.getElementId(D),q=h.has(X)?"".concat(X,"-").concat(S,"-").concat(O):X;v.push(q),h.set(q,D),p.set(q,y),y++}this.elements=new Array(y);var Q=ma(this.lastElementsMap,v),pt=Q.added,Wt=Q.updated,Kt=Q.removed;try{for(var ae=(0,d.XA)(pt),Fe=ae.next();!Fe.done;Fe=ae.next()){var X=Fe.value,D=h.get(X),S=p.get(X),ve=this.createElement(D,S,n);this.elements[S]=ve,this.elementsMap[X]=ve,ve.shape&&ve.shape.set("zIndex",this.zIndexReversed?this.elements.length-S:S)}}catch(gr){i={error:gr}}finally{try{Fe&&!Fe.done&&(a=ae.return)&&a.call(ae)}finally{if(i)throw i.error}}try{for(var Ze=(0,d.XA)(Wt),dr=Ze.next();!dr.done;dr=Ze.next()){var X=dr.value,ve=this.lastElementsMap[X],D=h.get(X),Or=this.getDrawCfg(D),Rr=ve.getModel(),S=p.get(X);(this.isCoordinateChanged||Wi(Or,Rr))&&(ve.animate=this.animateOption,ve.update(Or)),this.elements[S]=ve,this.elementsMap[X]=ve,ve.shape&&ve.shape.set("zIndex",this.zIndexReversed?this.elements.length-S:S)}}catch(gr){o={error:gr}}finally{try{dr&&!dr.done&&(s=Ze.return)&&s.call(Ze)}finally{if(o)throw o.error}}this.container&&this.container.sort();try{for(var sn=(0,d.XA)(Kt),We=sn.next();!We.done;We=sn.next()){var X=We.value,ve=this.lastElementsMap[X];ve.animate=this.animateOption,ve.destroy()}}catch(gr){l={error:gr}}finally{try{We&&!We.done&&(u=sn.return)&&u.call(sn)}finally{if(l)throw l.error}}},r.prototype.getLabelType=function(){var t=this,n=t.labelOption,i=t.coordinate,a=t.type,o=i.type,s=i.isTransposed,l=(0,c.U2)(n,["cfg","type"]);return l||(o==="polar"?l=s?"pie":"polar":o==="theta"?l="pie":a==="interval"||a==="polygon"?l="interval":l="base"),l},r.prototype.getYMinValue=function(){var t=this.getYScale(),n=t.min,i=t.max,a;return n>=0?a=n:i<=0?a=i:a=0,a},r.prototype.createAttrOption=function(t,n,i){if((0,c.UM)(n)||(0,c.Kn)(n))(0,c.Kn)(n)&&(0,c.Xy)(Object.keys(n),["values"])?(0,c.t8)(this.attributeOption,t,{fields:n.values}):(0,c.t8)(this.attributeOption,t,n);else{var a={};(0,c.hj)(n)?a.values=[n]:a.fields=Zi(n),i&&((0,c.mf)(i)?a.callback=i:a.values=i),(0,c.t8)(this.attributeOption,t,a)}},r.prototype.initAttributes=function(){var t=this,n=this,i=n.attributes,a=n.attributeOption,o=n.theme,s=n.shapeType;this.groupScales=[];var l={},u=function(p){if(a.hasOwnProperty(p)){var y=a[p];if(!y)return{value:void 0};var S=(0,d.pi)({},y),E=S.callback,O=S.values,D=S.fields,X=D===void 0?[]:D,q=X.map(function(pt){var Wt=t.scales[pt];if(!l[pt]&&rt.includes(p)){var Kt=ee(Wt,(0,c.U2)(t.scaleDefs,pt),p,t.type);Kt==="cat"&&(t.groupScales.push(Wt),l[pt]=!0)}return Wt});S.scales=q,p!=="position"&&q.length===1&&q[0].type==="identity"?S.values=q[0].values:!E&&!O&&(p==="size"?S.values=o.sizes:p==="shape"?S.values=o.shapes[s]||[]:p==="color"&&(q.length?S.values=q[0].values.length<=10?o.colors10:o.colors20:S.values=o.colors10));var Q=(0,At.IL)(p);i[p]=new Q(S)}};for(var h in a){var v=u(h);if(typeof v=="object")return v.value}},r.prototype.processData=function(t){var n,i;this.hasSorted=!1;for(var a=this.getAttribute("position").scales,o=a.filter(function(Kt){return Kt.isCategory}),s=this.groupData(t),l=[],u=0,h=s.length;u<h;u++){for(var v=s[u],p=[],y=0,S=v.length;y<S;y++){var E=v[y],O={};for(var D in E)O[D]=E[D];O[Jt]=E;try{for(var X=(n=void 0,(0,d.XA)(o)),q=X.next();!q.done;q=X.next()){var Q=q.value,pt=Q.field;O[pt]=Q.translate(O[pt])}}catch(Kt){n={error:Kt}}finally{try{q&&!q.done&&(i=X.return)&&i.call(X)}finally{if(n)throw n.error}}p.push(O)}l.push(p)}var Wt=this.adjustData(l);return this.beforeMappingData=Wt,Wt},r.prototype.adjustData=function(t){var n=this.adjustOption,i=this,a=i.intervalPadding,o=i.dodgePadding,s=i.theme,l=this.maxColumnWidth||s.maxColumnWidth,u=this.minColumnWidth||s.minColumnWidth,h=this.columnWidthRatio||s.columnWidthRatio,v=t;if(n){var p=this.getXScale(),y=this.getYScale(),S=p.field,E=y?y.field:null,O=He(this.coordinate),D=p.values.length,X=this.getAttribute("size"),q=void 0;X&&(q=X.values[0]);for(var Q=0,pt=n.length;Q<pt;Q++){var Wt=n[Q],Kt=(0,d.pi)({xField:S,yField:E,intervalPadding:a,dodgePadding:o,xDimensionLength:O,groupNum:D,defaultSize:q,maxColumnWidth:l,minColumnWidth:u,columnWidthRatio:h},Wt),ae=Wt.type;if(ae==="dodge"){var Fe=[];if(p.isCategory||p.type==="identity")Fe.push("x");else if(!y)Fe.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");Kt.adjustNames=Fe,Kt.dodgeRatio=h}else if(ae==="stack"){var ve=this.coordinate;if(!y){Kt.height=ve.getHeight();var Ze=this.getDefaultValue("size")||3;Kt.size=Ze}!ve.isTransposed&&(0,c.UM)(Kt.reverseOrder)&&(Kt.reverseOrder=!0)}var dr=(0,Ft.VM)(ae);Kt.dimValuesMap={},p&&p.values&&(Kt.dimValuesMap[p.field]=p.values.map(function(Rr){return p.translate(Rr)}));var Or=new dr(Kt);v=Or.process(v),this.adjusts[ae]=Or}}return v},r.prototype.groupData=function(t){for(var n=this.getGroupScales(),i=this.scaleDefs,a={},o=[],s=0;s<n.length;s++){var l=n[s],u=l.field;o.push(u),(0,c.U2)(i,[u,"values"])&&(a[u]=i[u].values)}return Xa(t,o,a)},r.prototype.updateStackRange=function(t,n){for(var i=(0,c.xH)(n),a=t.field,o=t.min,s=t.max,l=0;l<i.length;l++){var u=i[l],h=Math.min.apply(null,u[a]),v=Math.max.apply(null,u[a]);h<o&&(o=h),v>s&&(s=v)}var p=this.scaleDefs,y={};o<t.min&&!(0,c.U2)(p,[a,"min"])&&(y.min=o),s>t.max&&!(0,c.U2)(p,[a,"max"])&&(y.max=s),t.change(y)},r.prototype.beforeMapping=function(t){var n=t;if(this.sortable&&this.sort(n),this.generatePoints)for(var i=0,a=n.length;i<a;i++){var o=n[i];this.generateShapePoints(o);var s=n[i+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return n},r.prototype.generateShapePoints=function(t){for(var n=this.getShapeFactory(),i=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),l=i?this.getAttributeValues(i,o):null,u=n.getShapePoints(l,s);o.points=u}},r.prototype.normalizeValues=function(t,n){var i=[];if((0,c.kJ)(t))for(var a=0;a<t.length;a++){var o=t[a];i.push(n.scale(o))}else i=n.scale(t);return i},r.prototype.mapping=function(t){for(var n=this.attributes,i=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[Jt],points:o.points,nextPoints:o.nextPoints};for(var l in n)if(n.hasOwnProperty(l)){var u=n[l],h=u.names,v=this.getAttributeValues(u,o);if(h.length>1)for(var p=0;p<v.length;p+=1){var y=v[p],S=h[p];s[S]=(0,c.kJ)(y)&&y.length===1?y[0]:y}else s[h[0]]=v.length===1?v[0]:v}this.convertPoint(s),i.push(s)}return i},r.prototype.convertPoint=function(t){var n=t.x,i=t.y,a,o,s,l=this.coordinate;if((0,c.kJ)(n)&&(0,c.kJ)(i)){a=[],o=[];for(var u=0,h=0,v=n.length,p=i.length;u<v&&h<p;u+=1,h+=1)s=l.convert({x:n[u],y:i[h]}),a.push(s.x),o.push(s.y)}else if((0,c.kJ)(i)){o=[];for(var y=0;y<i.length;y++){var S=i[y];s=l.convert({x:n,y:S}),a&&a!==s.x?((0,c.kJ)(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if((0,c.kJ)(n)){a=[];for(var y=0;y<n.length;y++){var E=n[y];s=l.convert({x:E,y:i}),o&&o!==s.y?((0,c.kJ)(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var O=l.convert({x:n,y:i});a=O.x,o=O.y}t.x=a,t.y=o},r.prototype.getStyleCfg=function(t,n){var i=t.fields,a=i===void 0?[]:i,o=t.callback,s=t.cfg;if(s)return s;var l=a.map(function(u){return n[u]});return o.apply(void 0,(0,d.ev)([],(0,d.CR)(l),!1))},r.prototype.setCfg=function(t){var n=this,i=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;i&&(this.coordinate=i),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],(0,c.S6)(s,function(l,u){l&&l.key&&n.idFields.push(u)})),o&&(this.theme=this.userTheme?(0,c.b$)({},o,this.userTheme):o)},r.prototype.renderLabels=function(t,n){return n===void 0&&(n=!1),(0,d.mG)(this,void 0,void 0,function(){var i,a,o,s,l,u,h,v,p,y,S,E,O=this;return(0,d.Jh)(this,function(D){switch(D.label){case 0:return i=this.geometryLabel,this.emit(Ye.BEFORE_RENDER_LABEL),i||(a=this.getLabelType(),o=kn(a),i=new o(this),this.geometryLabel=i),[4,i.render(t,n)];case 1:D.sent(),s=i.labelsRenderer.shapesMap,l=new Map,(0,c.S6)(s,function(X,q){for(var Q=X.getChildren()||[],pt=0;pt<Q.length;pt++){var Wt=Q[pt],Kt=O.elementsMap[Wt.get("elementId")||q.split(" ")[0]];if(Kt){Wt.cfg.name=["element","label"],Wt.cfg.element=Kt;var ae=l.get(Kt)||new Set;ae.add(X),l.set(Kt,ae)}}});try{for(u=(0,d.XA)(l.entries()),h=u.next();!h.done;h=u.next())v=(0,d.CR)(h.value,2),p=v[0],y=v[1],p.labelShape=(0,d.ev)([],(0,d.CR)(y),!1)}catch(X){S={error:X}}finally{try{h&&!h.done&&(E=u.return)&&E.call(u)}finally{if(S)throw S.error}}return this.emit(Ye.AFTER_RENDER_LABEL),[2]}})})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&((0,c.U2)(this.animateOption,"appear")===void 0||(0,c.U2)(this.animateOption,"appear")&&(0,c.U2)(this.animateOption,["appear","animation"])===void 0)},r}(Lt),xi=lo,Ki=bn.vs;function Qi(e,r,t){var n=Ki(e.getMatrix(),[["t",r,t]]);e.setMatrix(n)}function ts(e,r){var t=e.attr(),n=t.x,i=t.y,a=Ki(e.getMatrix(),[["t",-n,-i],["r",r],["t",n,i]]);return a}function Lo(e,r){var t=ts(e,r);e.setMatrix(t)}function ku(){return[1,0,0,0,1,0,0,0,1]}function es(e,r){var t=e.getBBox(),n=(t.minX+t.maxX)/2,i=(t.minY+t.maxY)/2;e.applyToMatrix([n,i,1]);var a=Ki(e.getMatrix(),[["t",-n,-i],["s",r,r],["t",n,i]]);e.setMatrix(a)}function ta(e){return e.find(function(r){return r.get("type")==="text"})}function rs(e,r,t){t===void 0&&(t=[0,0,0,0]);var n=e&&e.getChildren()[0];if(n){var i=n.clone();(r==null?void 0:r.rotate)&&Lo(i,-r.rotate);var a=i.getCanvasBBox(),o=a.x,s=a.y,l=a.width,u=a.height;i.destroy();var h=t;return(0,c.UM)(h)?h=[2,2,2,2]:(0,c.hj)(h)&&(h=new Array(4).fill(h)),{x:o-h[3],y:s-h[0],width:l+h[1]+h[3],height:u+h[0]+h[2],rotation:(r==null?void 0:r.rotate)||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function rl(e,r,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(e.x+e.width+t,r.x+r.width+t)-Math.max(e.x-t,r.x-t)),i=Math.max(0,Math.min(e.y+e.height+t,r.y+r.height+t)-Math.max(e.y-t,r.y-t));return n*i}function uo(e,r){var t=e.getBBox();return(0,c.G)(r,function(n){var i=n.getBBox();return rl(t,i,2)>0})}function ns(e,r,t){var n=t.data,i=t.origin,a=t.animateCfg,o=t.coordinate,s=(0,c.U2)(a,"update");e.set("data",n),e.set("origin",i),e.set("animateCfg",a),e.set("coordinate",o),e.set("visible",r.get("visible")),e.getChildren().forEach(function(l,u){var h=r.getChildByIndex(u);if(!h)e.removeChild(l),l.remove(!0);else{l.set("data",n),l.set("origin",i),l.set("animateCfg",a),l.set("coordinate",o);var v=R(l,h);s?ur(l,s,{toAttrs:v,coordinate:o}):l.attr(v),h.isGroup()&&ns(l,h,t)}}),(0,c.S6)(r.getChildren(),function(l,u){u>=e.getCount()&&(l.destroyed||e.add(l))})}var nl=function(){function e(r){this.shapesMap={};var t=r.layout,n=r.container;this.layout=t,this.container=n}return e.prototype.render=function(r,t,n){return n===void 0&&(n=!1),(0,d.mG)(this,void 0,void 0,function(){var i,a,o,s,l,u,h,v,p=this;return(0,d.Jh)(this,function(y){switch(y.label){case 0:if(i={},a=this.createOffscreenGroup(),!r.length)return[3,2];try{for(o=(0,d.XA)(r),s=o.next();!s.done;s=o.next())l=s.value,l&&(i[l.id]=this.renderLabel(l,a))}catch(S){h={error:S}}finally{try{s&&!s.done&&(v=o.return)&&v.call(o)}finally{if(h)throw h.error}}return[4,this.doLayout(r,t,i)];case 1:y.sent(),this.renderLabelLine(r,i),this.renderLabelBackground(r,i),this.adjustLabel(r,i),y.label=2;case 2:return u=this.shapesMap,(0,c.S6)(i,function(S,E){if(S.destroyed)delete i[E];else{if(u[E]){var O=S.get("data"),D=S.get("origin"),X=S.get("coordinate"),q=S.get("animateCfg"),Q=u[E];ns(Q,i[E],{data:O,origin:D,animateCfg:q,coordinate:X}),i[E]=Q}else{if(p.container.destroyed)return;p.container.add(S);var pt=(0,c.U2)(S.get("animateCfg"),n?"enter":"appear");pt&&ur(S,pt,{toAttrs:(0,d.pi)({},S.attr()),coordinate:S.get("coordinate")})}delete u[E]}}),(0,c.S6)(u,function(S){var E=(0,c.U2)(S.get("animateCfg"),"leave");E?ur(S,E,{toAttrs:null,coordinate:S.get("coordinate")}):S.remove(!0)}),this.shapesMap=i,a.destroy(),[2]}})})},e.prototype.clear=function(){this.container.clear(),this.shapesMap={}},e.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},e.prototype.renderLabel=function(r,t){var n=r.id,i=r.elementId,a=r.data,o=r.mappingData,s=r.coordinate,l=r.animate,u=r.content,h={id:n,elementId:i,data:a,origin:(0,d.pi)((0,d.pi)({},o),{data:o[Jt]}),coordinate:s},v=t.addGroup((0,d.pi)({name:"label",animateCfg:this.animate===!1||l===null||l===!1?!1:(0,c.b$)({},this.animate,l)},h)),p;if(u.isGroup&&u.isGroup()||u.isShape&&u.isShape()){var y=u.getCanvasBBox(),S=y.width,E=y.height,O=(0,c.U2)(r,"textAlign","left"),D=r.x,X=r.y-E/2;O==="center"?D=D-S/2:(O==="right"||O==="end")&&(D=D-S),Qi(u,D,X),p=u,v.add(u)}else{var q=(0,c.U2)(r,["style","fill"]);p=v.addShape("text",(0,d.pi)({attrs:(0,d.pi)((0,d.pi)({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:(0,c.U2)(r,"textBaseline","middle"),text:r.content},r.style),{fill:(0,c.Ft)(q)?r.color:q})},h))}return r.rotate&&Lo(p,r.rotate),v},e.prototype.doLayout=function(r,t,n){return(0,d.mG)(this,void 0,void 0,function(){var i,a=this;return(0,d.Jh)(this,function(o){switch(o.label){case 0:return this.layout?(i=(0,c.kJ)(this.layout)?this.layout:[this.layout],[4,Promise.all(i.map(function(s){var l=pi((0,c.U2)(s,"type",""));if(!!l){var u=[],h=[];return(0,c.S6)(n,function(v,p){u.push(v),h.push(t[v.get("elementId")])}),l(r,u,h,a.region,s.cfg)}}))]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.renderLabelLine=function(r,t){(0,c.S6)(r,function(n){var i=(0,c.U2)(n,"coordinate");if(!(!n||!i)){var a=i.getCenter(),o=i.getRadius();if(!!n.labelLine){var s=(0,c.U2)(n,"labelLine",{}),l=n.id,u=s.path;if(!u){var h=P(a.x,a.y,o,n.angle);u=[["M",h.x,h.y],["L",n.x,n.y]]}var v=t[l];v.destroyed||v.addShape("path",{capture:!1,attrs:(0,d.pi)({path:u,stroke:n.color?n.color:(0,c.U2)(n,["style","fill"],"#000"),fill:null},s.style),id:l,origin:n.mappingData,data:n.data,coordinate:n.coordinate})}}})},e.prototype.renderLabelBackground=function(r,t){(0,c.S6)(r,function(n){var i=(0,c.U2)(n,"coordinate"),a=(0,c.U2)(n,"background");if(!(!a||!i)){var o=n.id,s=t[o];if(!s.destroyed){var l=s.getChildren()[0];if(l){var u=rs(s,n,a.padding),h=u.rotation,v=(0,d._T)(u,["rotation"]),p=s.addShape("rect",{attrs:(0,d.pi)((0,d.pi)({},v),a.style||{}),id:o,origin:n.mappingData,data:n.data,coordinate:n.coordinate});if(p.setZIndex(-1),h){var y=l.getMatrix();p.setMatrix(y)}}}}})},e.prototype.createOffscreenGroup=function(){var r=this.container,t=r.getGroupBase(),n=new t({});return n},e.prototype.adjustLabel=function(r,t){(0,c.S6)(r,function(n){if(n){var i=n.id,a=t[i];if(!a.destroyed){var o=a.findAll(function(s){return s.get("type")!=="path"});(0,c.S6)(o,function(s){s&&(n.offsetX&&s.attr("x",s.attr("x")+n.offsetX),n.offsetY&&s.attr("y",s.attr("y")+n.offsetY))})}}})},e}(),il=nl;function al(e){var r=0;return(0,c.S6)(e,function(t){r+=t}),r/e.length}var w=function(){function e(r){this.geometry=r}return e.prototype.getLabelItems=function(r){var t=this,n=[],i=this.getLabelCfgs(r);return(0,c.S6)(r,function(a,o){var s=i[o];if(!s||(0,c.UM)(a.x)||(0,c.UM)(a.y)){n.push(null);return}var l=(0,c.kJ)(s.content)?s.content:[s.content];s.content=l;var u=l.length;(0,c.S6)(l,function(h,v){if((0,c.UM)(h)||h===""){n.push(null);return}var p=(0,d.pi)((0,d.pi)({},s),t.getLabelPoint(s,a,v));p.textAlign||(p.textAlign=t.getLabelAlign(p,v,u)),p.offset<=0&&(p.labelLine=null),n.push(p)})}),n},e.prototype.render=function(r,t){return t===void 0&&(t=!1),(0,d.mG)(this,void 0,void 0,function(){var n,i,a;return(0,d.Jh)(this,function(o){switch(o.label){case 0:return n=this.getLabelItems(r),i=this.getLabelsRenderer(),a=this.getGeometryShapes(),[4,i.render(n,a,t)];case 1:return o.sent(),[2]}})})},e.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},e.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},e.prototype.getCoordinate=function(){return this.geometry.coordinate},e.prototype.getDefaultLabelCfg=function(r,t){var n=this.geometry,i=n.type,a=n.theme;return i==="polygon"||i==="interval"&&t==="middle"||r<0&&!["line","point","path"].includes(i)?(0,c.U2)(a,"innerLabels",{}):(0,c.U2)(a,"labels",{})},e.prototype.getThemedLabelCfg=function(r){var t=this.geometry,n=this.getDefaultLabelCfg(),i=t.type,a=t.theme,o;return i==="polygon"||r.offset<0&&!["line","point","path"].includes(i)?o=(0,c.b$)({},n,a.innerLabels,r):o=(0,c.b$)({},n,a.labels,r),o},e.prototype.setLabelPosition=function(r,t,n,i){},e.prototype.getLabelOffset=function(r){var t=this.getCoordinate(),n=this.getOffsetVector(r);return t.isTransposed?n[0]:n[1]},e.prototype.getLabelOffsetPoint=function(r,t,n){var i=r.offset,a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",l=o?1:-1,u={x:0,y:0};return t>0||n===1?u[s]=i*l:u[s]=i*l*-1,u},e.prototype.getLabelPoint=function(r,t,n){var i=this.getCoordinate(),a=r.content.length;function o(O,D,X){X===void 0&&(X=!1);var q=O;return(0,c.kJ)(q)&&(r.content.length===1?X?q=al(q):q.length<=2?q=q[O.length-1]:q=al(q):q=q[D]),q}var s={content:r.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"},l=(0,c.kJ)(t.shape)?t.shape[0]:t.shape,u=l==="funnel"||l==="pyramid";if(this.geometry.type==="polygon"){var h=T(t.x,t.y);s.x=h[0],s.y=h[1]}else this.geometry.type==="interval"&&!u?(s.x=o(t.x,n,!0),s.y=o(t.y,n)):(s.x=o(t.x,n),s.y=o(t.y,n));if(u){var v=(0,c.U2)(t,"nextPoints"),p=(0,c.U2)(t,"points");if(v){var y=i.convert(p[1]),S=i.convert(v[1]);s.x=(y.x+S.x)/2,s.y=(y.y+S.y)/2}else if(l==="pyramid"){var y=i.convert(p[1]),S=i.convert(p[2]);s.x=(y.x+S.x)/2,s.y=(y.y+S.y)/2}}r.position&&this.setLabelPosition(s,t,n,r.position);var E=this.getLabelOffsetPoint(r,n,a);return s.start={x:s.x,y:s.y},s.x+=E.x,s.y+=E.y,s.color=t.color,s},e.prototype.getLabelAlign=function(r,t,n){var i="center",a=this.getCoordinate();if(a.isTransposed){var o=r.offset;o<0?i="right":o===0?i="center":i="left",n>1&&t===0&&(i==="right"?i="left":i==="left"&&(i="right"))}return i},e.prototype.getLabelId=function(r){var t=this.geometry,n=t.type,i=t.getXScale(),a=t.getYScale(),o=r[Jt],s=t.getElementId(r);return n==="line"||n==="area"?s+=" ".concat(o[i.field]):n==="path"&&(s+=" ".concat(o[i.field],"-").concat(o[a.field])),s},e.prototype.getLabelsRenderer=function(){var r=this.geometry,t=r.labelsContainer,n=r.labelOption,i=r.canvasRegion,a=r.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new il({container:t,layout:(0,c.U2)(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=i,s.animate=a?qe("label",o):!1,s},e.prototype.getLabelCfgs=function(r){var t=this,n=this.geometry,i=n.labelOption,a=n.scales,o=n.coordinate,s=i,l=s.fields,u=s.callback,h=s.cfg,v=l.map(function(y){return a[y]}),p=[];return(0,c.S6)(r,function(y,S){var E=y[Jt],O=t.getLabelText(E,v),D;if(u){var X=l.map(function(Kt){return E[Kt]});if(D=u.apply(void 0,(0,d.ev)([],(0,d.CR)(X),!1)),(0,c.UM)(D)){p.push(null);return}}var q=(0,d.pi)((0,d.pi)({id:t.getLabelId(y),elementId:t.geometry.getElementId(y),data:E,mappingData:y,coordinate:o},h),D);(0,c.mf)(q.position)&&(q.position=q.position(E,y,S));var Q=t.getLabelOffset(q.offset||0),pt=t.getDefaultLabelCfg(Q,q.position);q=(0,c.b$)({},pt,q),q.offset=t.getLabelOffset(q.offset||0);var Wt=q.content;(0,c.mf)(Wt)?q.content=Wt(E,y,S):(0,c.o8)(Wt)&&(q.content=O[0]),p.push(q)}),p},e.prototype.getLabelText=function(r,t){var n=[];return(0,c.S6)(t,function(i){var a=r[i.field];(0,c.kJ)(a)?a=a.map(function(o){return i.getText(o)}):a=i.getText(a),(0,c.UM)(a)||a===""?n.push(null):n.push(a)}),n},e.prototype.getOffsetVector=function(r){r===void 0&&(r=0);var t=this.getCoordinate(),n=0;return(0,c.hj)(r)&&(n=r),t.isTransposed?t.applyMatrix(n,0):t.applyMatrix(0,n)},e.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return(0,c.S6)(r.elementsMap,function(n,i){t[i]=n.shape}),(0,c.S6)(r.getOffscreenGroup().getChildren(),function(n){var i=r.getElementId(n.get("origin").mappingData);t[i]=n}),t},e}(),m=w;function x(e,r,t){if(!e)return t;var n;if(e.callback&&e.callback.length>1){var i=Array(e.callback.length-1).fill("");n=e.mapping.apply(e,(0,d.ev)([r],(0,d.CR)(i),!1)).join("")}else n=e.mapping(r).join("");return n||t}var M={hexagon:function(e,r,t){var n=t/2*Math.sqrt(3);return[["M",e,r-t],["L",e+n,r-t/2],["L",e+n,r+t/2],["L",e,r+t],["L",e-n,r+t/2],["L",e-n,r-t/2],["Z"]]},bowtie:function(e,r,t){var n=t-1.5;return[["M",e-t,r-n],["L",e+t,r+n],["L",e+t,r-n],["L",e-t,r+n],["Z"]]},cross:function(e,r,t){return[["M",e-t,r-t],["L",e+t,r+t],["M",e+t,r-t],["L",e-t,r+t]]},tick:function(e,r,t){return[["M",e-t/2,r-t],["L",e+t/2,r-t],["M",e,r-t],["L",e,r+t],["M",e-t/2,r+t],["L",e+t/2,r+t]]},plus:function(e,r,t){return[["M",e-t,r],["L",e+t,r],["M",e,r-t],["L",e,r+t]]},hyphen:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},line:function(e,r,t){return[["M",e,r-t],["L",e,r+t]]}},_=["line","cross","tick","plus","hyphen"];function U(e,r){return(0,c.mf)(r)?r(e):(0,c.b$)({},e,r)}function ut(e,r){var t=e.symbol;if((0,c.HD)(t)&&_.indexOf(t)!==-1){var n=(0,c.U2)(e,"style",{}),i=(0,c.U2)(n,"lineWidth",1),a=n.stroke||n.fill||r;e.style=(0,c.b$)({},e.style,{lineWidth:i,stroke:a,fill:null})}}function ht(e){var r=e.symbol;(0,c.HD)(r)&&M[r]&&(e.symbol=M[r])}function dt(e){return e.startsWith(Tt.LEFT)||e.startsWith(Tt.RIGHT)?"vertical":"horizontal"}function ce(e,r,t,n,i){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=r.getAttribute("color"),l=r.getAttribute("shape"),u=e.getTheme().defaultColor,h=r.coordinate.isPolar;return a.getTicks().map(function(v,p){var y,S=v.text,E=v.value,O=S,D=a.invert(E),X=e.filterFieldData(o,[(y={},y[o]=D,y)]).length===0;(0,c.S6)(e.views,function(Kt){var ae;Kt.filterFieldData(o,[(ae={},ae[o]=D,ae)]).length||(X=!0)});var q=x(s,D,u),Q=x(l,D,"point"),pt=r.getShapeMarker(Q,{color:q,isInPolar:h}),Wt=i;return(0,c.mf)(Wt)&&(Wt=Wt(O,p,(0,d.pi)({name:O,value:D},(0,c.b$)({},n,pt)))),pt=(0,c.b$)({},n,pt,st((0,d.pi)({},Wt),["style"])),ut(pt,q),Wt&&Wt.style&&(pt.style=U(pt.style,Wt.style)),ht(pt),{id:D,name:O,value:D,marker:pt,unchecked:X}})}return[]}function le(e,r,t){return t.map(function(n,i){var a=r;(0,c.mf)(a)&&(a=a(n.name,i,(0,c.b$)({},e,n)));var o=(0,c.mf)(n.marker)?n.marker(n.name,i,(0,c.b$)({},e,n)):n.marker,s=(0,c.b$)({},e,a,o);return ht(s),n.marker=s,n})}function ye(e,r){var t=(0,c.U2)(e,["components","legend"],{});return(0,c.b$)({},(0,c.U2)(t,["common"],{}),(0,c.b$)({},(0,c.U2)(t,[r],{})))}function rr(e){return e?!1:e==null||isNaN(e)}function tr(e){if((0,c.kJ)(e))return rr(e[1].y);var r=e.y;return(0,c.kJ)(r)?rr(r[0]):rr(r)}function Le(e,r,t){if(r===void 0&&(r=!1),t===void 0&&(t=!0),!e.length||e.length===1&&!t)return[];if(r){for(var n=[],i=0,a=e.length;i<a;i++){var o=e[i];tr(o)||n.push(o)}return[n]}for(var s=[],l=[],i=0,a=e.length;i<a;i++){var o=e[i];tr(o)?l.length&&(l.length===1&&!t||s.push(l),l=[]):l.push(o)}return l.length&&s.push(l),s}function Tr(e){for(var r=[],t=0;t<e.length;t++){var n=e[t];if(n){var i=t===0?"M":"L";r.push([i,n.x,n.y])}}var a=e[0];return a&&(r.push(["L",a.x,a.y]),r.push(["z"])),r}function Dr(e){for(var r=e.length/2,t=[],n=[],i=0;i<e.length;i++)i<r?t.push(e[i]):n.push(e[i]);var a=Oe(t,!1),o=Oe(n,!1);n.length&&a.push(["L",n[0].x,n[0].y]),o.shift();var s=a.concat(o);return t.length&&s.push(["L",t[0].x,t[0].y]),s.push(["z"]),s}function br(e,r,t,n){n===void 0&&(n="");var i=e.style,a=i===void 0?{}:i,o=e.defaultStyle,s=e.color,l=e.size,u=(0,d.pi)((0,d.pi)({},o),a);return s&&(r&&(a.stroke||(u.stroke=s)),t&&(a.fill||(u.fill=s))),n&&(0,c.UM)(a[n])&&!(0,c.UM)(l)&&(u[n]=l),u}function Zr(e){return(0,c.b$)({},{fill:"#CCD6EC",fillOpacity:.3},(0,c.U2)(e,["background","style"]))}function mr(e){var r=e.x,t=(0,c.kJ)(e.y)?e.y:[e.y];return t.map(function(n,i){return{x:(0,c.kJ)(r)?r[i]:r,y:n}})}var ar={line:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},dot:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},dash:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},smooth:function(e,r,t){return[["M",e-t,r],["A",t/2,t/2,0,1,1,e,r],["A",t/2,t/2,0,1,0,e+t,r]]},hv:function(e,r,t){return[["M",e-t-1,r-2.5],["L",e,r-2.5],["L",e,r+2.5],["L",e+t+1,r+2.5]]},vh:function(e,r,t){return[["M",e-t-1,r+2.5],["L",e,r+2.5],["L",e,r-2.5],["L",e+t+1,r-2.5]]},hvh:function(e,r,t){return[["M",e-(t+1),r+2.5],["L",e-t/2,r+2.5],["L",e-t/2,r-2.5],["L",e+t/2,r-2.5],["L",e+t/2,r+2.5],["L",e+t+1,r+2.5]]},vhv:function(e,r){return[["M",e-5,r+2.5],["L",e-5,r],["L",e,r],["L",e,r-3],["L",e,r+3],["L",e+6.5,r+3]]}};function Hr(e,r){var t=e.color;return{symbol:ar[r],style:{lineWidth:2,r:6,stroke:t}}}function Fn(e,r,t){for(var n=e.isStack,i=e.connectNulls,a=e.isInCircle,o=e.showSinglePoint,s=br(e,!0,!1,"lineWidth"),l=Le(e.points,i,o),u=[],h=0,v=l.length;h<v;h++){var p=l[h];u=u.concat(co(p,a,n,r,t,s))}return s.path=u,s}function zn(e,r,t,n,i){if(e.length===1)return[["M",e[0].x,e[0].y-i.lineWidth/2],["L",e[0].x,e[0].y],["L",e[0].x,e[0].y+i.lineWidth/2]];var a;return t?(r&&e.length&&e.push({x:e[0].x,y:e[0].y}),a=Oe(e,!1,n)):(a=Ut(e,!1),r&&a.push(["Z"])),a}function ea(e,r,t,n,i,a){var o=[],s=[];(0,c.S6)(e,function(h){var v=mr(h);o.push(v[1]),s.push(v[0])});var l=zn(o,r,n,i,a),u=zn(s,r,n,i,a);return t?l:l.concat(u)}function co(e,r,t,n,i,a){if(e.length){var o=e[0];return(0,c.kJ)(o.y)?ea(e,r,t,n,i,a):zn(e,r,n,i,a)}return[]}var Pu=Nn("line",{defaultShapeType:"line"});(0,c.S6)(["line","dot","dash","smooth"],function(e){en("line",e,{draw:function(r,t){var n=e==="smooth",i;if(n){var a=this.coordinate,o=a.start,s=a.end;i=[[o.x,s.y],[s.x,o.y]]}var l=Fn(r,n,i),u=t.addShape({type:"path",attrs:l,name:"line",capture:!n});return u},getMarker:function(r){return Hr(r,e)}})});var Du=null,ol="4.2.0",si={getLegendItems:ce,translate:Qi,rotate:Lo,zoom:es,transform:Ki,getAngle:k,getSectorPath:C,polarToCartesian:P,getDelegationObject:an,getTooltipItems:Hi,getMappingValue:x,getPath:co,getPathPoints:Le},ra={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},vn={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Ai=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],is=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],as=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],os=function(e){e===void 0&&(e={});var r=e.paletteQualitative10,t=r===void 0?Ai:r,n=e.paletteQualitative20,i=n===void 0?is:n,a=e.brandColor,o=a===void 0?t[0]:a,s={backgroundColor:"#141414",brandColor:o,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:t,paletteQualitative20:i,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:as,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:vn[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:vn[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:ra[85],axisTickLineBorderColor:vn[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:vn[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:vn[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:vn[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:vn[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:Ai[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:vn[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:vn[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:vn[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:vn[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:vn[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:vn[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:ra[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:ra[25],annotationArcBorderColor:vn[15],annotationArcBorder:1,annotationLineBorderColor:vn[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:vn[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:vn[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:vn[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:vn[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:vn[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:ra[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:vn[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:ra[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:vn[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:Ai[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:ra[100],pointBorderOpacity:1,pointActiveBorderColor:vn[100],pointSelectedBorder:2,pointSelectedBorderColor:vn[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:Ai[0],hollowPointBorderOpacity:.95,hollowPointFillColor:ra[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:vn[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:vn[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:Ai[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:Ai[0],areaFillOpacity:.25,areaActiveFillColor:Ai[0],areaActiveFillOpacity:.5,areaSelectedFillColor:Ai[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:Ai[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:vn[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:vn[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:Ai[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:vn[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:vn[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:Ai[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:ra[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:vn[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:vn[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return(0,d.pi)((0,d.pi)({},s),e)},ss=os(),xa=Rt(13063),ls=Rt(73578),us=function(e){(0,d.ZT)(r,e);function r(t){var n=e.call(this,t)||this;n.type="path",n.shapeType="line";var i=t.connectNulls,a=i===void 0?!1:i,o=t.showSinglePoint,s=o===void 0?!0:o;return n.connectNulls=a,n.showSinglePoint=s,n}return r.prototype.updateElements=function(t,n){var i,a,o,s,l,u;n===void 0&&(n=!1);for(var h=new Map,v=new Map,p=[],y=0,S=0;S<t.length;S++){var E=t[S],O=this.getElementId(E);p.push(O),h.set(O,E),v.set(O,y),y++}this.elements=new Array(y);var D=ma(this.lastElementsMap,p),X=D.added,q=D.updated,Q=D.removed;try{for(var pt=(0,d.XA)(X),Wt=pt.next();!Wt.done;Wt=pt.next()){var O=Wt.value,E=h.get(O),Kt=this.getShapeFactory(),ae=this.getShapeInfo(E),S=v.get(O),Fe=new cn({shapeFactory:Kt,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:S});Fe.geometry=this,Fe.animate=this.animateOption,Fe.draw(ae,n),this.elementsMap[O]=Fe,this.elements[S]=Fe}}catch(sn){i={error:sn}}finally{try{Wt&&!Wt.done&&(a=pt.return)&&a.call(pt)}finally{if(i)throw i.error}}try{for(var ve=(0,d.XA)(q),Ze=ve.next();!Ze.done;Ze=ve.next()){var O=Ze.value,E=h.get(O),Fe=this.lastElementsMap[O],S=v.get(O),ae=this.getShapeInfo(E),dr=Fe.getModel();(this.isCoordinateChanged||Wi(dr,ae))&&(Fe.animate=this.animateOption,Fe.update(ae)),this.elementsMap[O]=Fe,this.elements[S]=Fe}}catch(sn){o={error:sn}}finally{try{Ze&&!Ze.done&&(s=ve.return)&&s.call(ve)}finally{if(o)throw o.error}}try{for(var Or=(0,d.XA)(Q),Rr=Or.next();!Rr.done;Rr=Or.next()){var O=Rr.value,Fe=this.lastElementsMap[O];Fe.animate=this.animateOption,Fe.destroy()}}catch(sn){l={error:sn}}finally{try{Rr&&!Rr.done&&(u=Or.return)&&u.call(Or)}finally{if(l)throw l.error}}},r.prototype.getPointsAndData=function(t){for(var n=[],i=[],a=0,o=t.length;a<o;a++){var s=t[a];n.push({x:s.x,y:s.y}),i.push(s[Jt])}return{points:n,data:i}},r.prototype.getShapeInfo=function(t){var n=this.getDrawCfg(t[0]),i=this.getPointsAndData(t),a=i.points,o=i.data;return n.mappingData=t,n.data=o,n.isStack=!!this.getAdjust("stack"),n.points=a,n.connectNulls=this.connectNulls,n.showSinglePoint=this.showSinglePoint,n},r}(xi),fo=us;function na(e,r,t,n,i){var a=[];if(e.length){for(var o=[],s=[],l=0,u=e.length;l<u;l++){var h=e[l];o.push(h[1]),s.push(h[0])}s=s.reverse(),(0,c.S6)([o,s],function(v,p){var y=[],S=n.parsePoints(v),E=S[0];o.length===1&&s.length===1?y=p===0?[["M",E.x-.5,E.y],["L",E.x+.5,E.y]]:[["L",E.x+.5,E.y],["L",E.x-.5,E.y]]:(r&&S.push({x:E.x,y:E.y}),t?y=Oe(S,!1,i):y=Ut(S,!1),p>0&&(y[0][0]="L")),a=a.concat(y)}),a.push(["Z"])}return a}function ho(e,r,t,n,i){for(var a=br(e,r,!r,"lineWidth"),o=e.connectNulls,s=e.isInCircle,l=e.points,u=e.showSinglePoint,h=Le(l,o,u),v=[],p=0,y=h.length;p<y;p++){var S=h[p];v=v.concat(na(S,s,t,n,i))}return a.path=v,a}function ko(e){var r=e.start,t=e.end;return[[r.x,t.y],[t.x,r.y]]}var sl=Nn("area",{defaultShapeType:"area",getDefaultPoints:function(e){var r=e.x,t=e.y0,n=(0,c.kJ)(e.y)?e.y:[t,e.y];return n.map(function(i){return{x:r,y:i}})}});en("area","area",{draw:function(e,r){var t=ho(e,!1,!1,this),n=r.addShape({type:"path",attrs:t,name:"area"});return n},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){return i===void 0&&(i=5.5),[["M",t-i,n-4],["L",t+i,n-4],["L",t+i,n+4],["L",t-i,n+4],["Z"]]},style:{r:5,fill:r}}}});var Po=null,ll=function(e){(0,d.ZT)(r,e);function r(t){var n=e.call(this,t)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var i=t.startOnZero,a=i===void 0?!0:i,o=t.sortable,s=o===void 0?!1:o,l=t.showSinglePoint,u=l===void 0?!1:l;return n.startOnZero=a,n.sortable=s,n.showSinglePoint=u,n}return r.prototype.getPointsAndData=function(t){for(var n=[],i=[],a=0,o=t.length;a<o;a++){var s=t[a];n.push(s.points),i.push(s[Jt])}return{points:n,data:i}},r.prototype.getYMinValue=function(){if(this.startOnZero)return e.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},r}(fo),ul=ll,_C=Nn("edge",{defaultShapeType:"line",getDefaultPoints:function(e){return mr(e)}});en("edge","line",{draw:function(e,r){var t=br(e,!0,!1,"lineWidth"),n=Ut(this.parsePoints(e.points),this.coordinate.isPolar);return r.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},t),{path:n})})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}});var NC=null,Mv=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return r}(xi),bv=Mv,vo=Rt(55223),Cv=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return r.prototype.updateElements=function(t,n){n===void 0&&(n=!1);for(var i=0;i<t.length;i++){var a=t[i],o=this.prepareRange(a),s=this.prepareSize(),l=(0,c.U2)(this.styleOption,["cfg","shadowBlur"]);(0,c.hj)(l)||(l=s/2),this.prepareGreyScaleBlurredCircle(s,l),this.drawWithRange(a,o,s,l)}},r.prototype.color=function(t,n){return this.createAttrOption("color",t,typeof n!="function"?n:""),this},r.prototype.clear=function(){e.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var n=this.getAttribute("color"),i=n.getFields()[0],a=Infinity,o=-Infinity;return t.forEach(function(s){var l=s[Jt][i];l>o&&(o=l),l<a&&(a=l)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,c.hj)(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,n){var i=this.getGrayScaleBlurredCanvas(),a=t+n,o=i.getContext("2d");i.width=i.height=a*2,o.clearRect(0,0,i.width,i.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=n,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,Math.PI*2,!0),o.closePath(),o.fill()},r.prototype.drawWithRange=function(t,n,i,a){var o,s,l=this.coordinate,u=l.start,h=l.end,v=this.coordinate.getWidth(),p=this.coordinate.getHeight(),y=this.getAttribute("color"),S=y.getFields()[0];this.clearShadowCanvasCtx();var E=this.getShadowCanvasCtx();n&&(t=t.filter(function(ve){return ve[Jt][S]<=n[1]&&ve[Jt][S]>=n[0]}));var O=this.scales[S];try{for(var D=(0,d.XA)(t),X=D.next();!X.done;X=D.next()){var q=X.value,Q=this.getDrawCfg(q),pt=Q.x,Wt=Q.y,Kt=O.scale(q[Jt][S]);this.drawGrayScaleBlurredCircle(pt-u.x,Wt-h.y,i+a,Kt,E)}}catch(ve){o={error:ve}}finally{try{X&&!X.done&&(s=D.return)&&s.call(D)}finally{if(o)throw o.error}}var ae=E.getImageData(0,0,v,p);this.clearShadowCanvasCtx(),this.colorize(ae),E.putImageData(ae,0,0);var Fe=this.getImageShape();Fe.attr("x",u.x),Fe.attr("y",h.y),Fe.attr("width",v),Fe.attr("height",p),Fe.attr("img",E.canvas),Fe.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),n=this.coordinate;return Math.min(n.getWidth()/(t.scales[0].ticks.length*4),n.getHeight()/(t.scales[1].ticks.length*4))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,n,i,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-i,n-i)},r.prototype.colorize=function(t){for(var n=this.getAttribute("color"),i=t.data,a=this.paletteCache,o=3;o<i.length;o+=4){var s=i[o];if((0,c.hj)(s)){var l=a[s]?a[s]:vo.Z.rgb2arr(n.gradient(s/256));i[o-3]=l[0],i[o-2]=l[1],i[o-1]=l[2],i[o]=s}}},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var n=this.container;return t=n.addShape({type:"image",attrs:{}}),this.imageShape=t,t},r.prototype.getShapeInfo=function(t){var n=this.getDrawCfg(t[0]),i=t.map(function(a){return a[Jt]});return(0,d.pi)((0,d.pi)({},n),{mappingData:t,data:i})},r}(xi),Av=Cv;function cl(e){var r,t,n=e.x,i=e.y,a=e.y0,o=e.size,s,l;(0,c.kJ)(i)?(r=(0,d.CR)(i,2),s=r[0],l=r[1]):(s=a,l=i);var u,h;(0,c.kJ)(n)?(t=(0,d.CR)(n,2),u=t[0],h=t[1]):(u=n-o/2,h=n+o/2);var v=[{x:u,y:s},{x:u,y:l}];return v.push({x:h,y:l},{x:h,y:s}),v}function fl(e,r){r===void 0&&(r=!0);var t=[],n=e[0];t.push(["M",n.x,n.y]);for(var i=1,a=e.length;i<a;i++)t.push(["L",e[i].x,e[i].y]);return r&&(t.push(["L",n.x,n.y]),t.push(["z"])),t}function Ou(e,r){var t=0,n=0,i=0,a=0;return(0,c.kJ)(e)?e.length===1?t=n=i=a=e[0]:e.length===2?(t=i=e[0],n=a=e[1]):e.length===3?(t=e[0],n=a=e[1],i=e[2]):(t=e[0],n=e[1],i=e[2],a=e[3]):t=n=i=a=e,t+n>r&&(t=t?r/(1+n/t):0,n=r-t),i+a>r&&(i=i?r/(1+a/i):0,a=r-i),[t||0,n||0,i||0,a||0]}function Bu(e,r,t){var n=[];if(t.isRect){var i=t.isTransposed?{x:t.start.x,y:r[0].y}:{x:r[0].x,y:t.start.y},a=t.isTransposed?{x:t.end.x,y:r[2].y}:{x:r[3].x,y:t.end.y},o=(0,c.U2)(e,["background","style","radius"]);if(o){var s=t.isTransposed?Math.abs(r[0].y-r[2].y):r[2].x-r[1].x,l=t.isTransposed?t.getWidth():t.getHeight(),u=(0,d.CR)(Ou(o,Math.min(s,l)),4),h=u[0],v=u[1],p=u[2],y=u[3];n.push(["M",i.x,a.y+h]),h!==0&&n.push(["A",h,h,0,0,1,i.x+h,a.y]),n.push(["L",a.x-v,a.y]),v!==0&&n.push(["A",v,v,0,0,1,a.x,a.y+v]),n.push(["L",a.x,i.y-p]),p!==0&&n.push(["A",p,p,0,0,1,a.x-p,i.y]),n.push(["L",i.x+y,i.y]),y!==0&&n.push(["A",y,y,0,0,1,i.x,i.y-y])}else n.push(["M",i.x,i.y]),n.push(["L",a.x,i.y]),n.push(["L",a.x,a.y]),n.push(["L",i.x,a.y]),n.push(["L",i.x,i.y]);n.push(["z"])}if(t.isPolar){var S=t.getCenter(),E=k(e,t),O=E.startAngle,D=E.endAngle;if(t.type!=="theta"&&!t.isTransposed)n=C(S.x,S.y,t.getRadius(),O,D);else{var X=function(pt){return Math.pow(pt,2)},h=Math.sqrt(X(S.x-r[0].x)+X(S.y-r[0].y)),v=Math.sqrt(X(S.x-r[2].x)+X(S.y-r[2].y));n=C(S.x,S.y,h,t.startAngle,t.endAngle,v)}}return n}function Tv(e,r,t){var n=t.getWidth(),i=t.getHeight(),a=t.type==="rect",o=[],s=(e[2].x-e[1].x)/2,l=t.isTransposed?s*i/n:s*n/i;return r==="round"?(a?(o.push(["M",e[0].x,e[0].y+l]),o.push(["L",e[1].x,e[1].y-l]),o.push(["A",s,s,0,0,1,e[2].x,e[2].y-l]),o.push(["L",e[3].x,e[3].y+l]),o.push(["A",s,s,0,0,1,e[0].x,e[0].y+l])):(o.push(["M",e[0].x,e[0].y]),o.push(["L",e[1].x,e[1].y]),o.push(["A",s,s,0,0,1,e[2].x,e[2].y]),o.push(["L",e[3].x,e[3].y]),o.push(["A",s,s,0,0,1,e[0].x,e[0].y])),o.push(["z"])):o=fl(e),o}function Ru(e,r,t){var n=[];return(0,c.UM)(r)?t?n.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",(e[2].x+e[3].x)/2,(e[2].y+e[3].y)/2],["Z"]):n.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",e[2].x,e[2].y],["L",e[3].x,e[3].y],["Z"]):n.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),n}function Do(e,r){return[r,e]}function Fv(e,r,t){var n,i,a,o,s,l,u,h=(0,d.CR)((0,d.ev)([],(0,d.CR)(e),!1),4),v=h[0],p=h[1],y=h[2],S=h[3],E=(0,d.CR)(typeof t=="number"?Array(4).fill(t):t,4),O=E[0],D=E[1],X=E[2],q=E[3];r.isTransposed&&(n=(0,d.CR)(Do(p,S),2),p=n[0],S=n[1]),r.isReflect("y")&&(i=(0,d.CR)(Do(v,p),2),v=i[0],p=i[1],a=(0,d.CR)(Do(y,S),2),y=a[0],S=a[1]),r.isReflect("x")&&(o=(0,d.CR)(Do(v,S),2),v=o[0],S=o[1],s=(0,d.CR)(Do(p,y),2),p=s[0],y=s[1]);var Q=[],pt=function(Wt){return Math.abs(Wt)};return l=(0,d.CR)(Ou([O,D,X,q],Math.min(pt(S.x-v.x),pt(p.y-v.y))).map(function(Wt){return pt(Wt)}),4),O=l[0],D=l[1],X=l[2],q=l[3],r.isTransposed&&(u=(0,d.CR)([q,O,D,X],4),O=u[0],D=u[1],X=u[2],q=u[3]),v.y<p.y?(Q.push(["M",S.x,S.y+X]),X!==0&&Q.push(["A",X,X,0,0,0,S.x-X,S.y]),Q.push(["L",v.x+q,v.y]),q!==0&&Q.push(["A",q,q,0,0,0,v.x,v.y+q]),Q.push(["L",p.x,p.y-O]),O!==0&&Q.push(["A",O,O,0,0,0,p.x+O,p.y]),Q.push(["L",y.x-D,y.y]),D!==0&&Q.push(["A",D,D,0,0,0,y.x,y.y-D]),Q.push(["L",S.x,S.y+X]),Q.push(["z"])):S.x<v.x?(Q.push(["M",y.x+D,y.y]),D!==0&&Q.push(["A",D,D,0,0,0,y.x,y.y+D]),Q.push(["L",S.x,S.y-X]),X!==0&&Q.push(["A",X,X,0,0,0,S.x+X,S.y]),Q.push(["L",v.x-q,v.y]),q!==0&&Q.push(["A",q,q,0,0,0,v.x,v.y-q]),Q.push(["L",p.x,p.y+O]),O!==0&&Q.push(["A",O,O,0,0,0,p.x-O,p.y]),Q.push(["L",y.x+D,y.y]),Q.push(["z"])):(Q.push(["M",p.x,p.y+O]),O!==0&&Q.push(["A",O,O,0,0,1,p.x+O,p.y]),Q.push(["L",y.x-D,y.y]),D!==0&&Q.push(["A",D,D,0,0,1,y.x,y.y+D]),Q.push(["L",S.x,S.y-X]),X!==0&&Q.push(["A",X,X,0,0,1,S.x-X,S.y]),Q.push(["L",v.x+q,v.y]),q!==0&&Q.push(["A",q,q,0,0,1,v.x,v.y-q]),Q.push(["L",p.x,p.y+O]),Q.push(["z"])),Q}var zC=Nn("interval",{defaultShapeType:"rect",getDefaultPoints:function(e){return cl(e)}});en("interval","rect",{draw:function(e,r){var t=br(e,!1,!0),n=r,i=e==null?void 0:e.background;if(i){n=r.addGroup();var a=Zr(e),o=Bu(e,this.parsePoints(e.points),this.coordinate);n.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},a),{path:o}),zIndex:-1,name:kr})}var s;t.radius&&this.coordinate.isRect?s=Fv(this.parsePoints(e.points),this.coordinate,t.radius):s=this.parsePath(Tv(e.points,t.lineCap,this.coordinate));var l=n.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},t),{path:s}),name:"interval"});return i?n:l},getMarker:function(e){var r=e.color,t=e.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});var VC=null;function Ev(e,r){var t=e.length,n=e;(0,c.HD)(n[0])&&(n=e.map(function(s){return r.translate(s)}));for(var i=n[1]-n[0],a=2;a<t;a++){var o=n[a]-n[a-1];i>o&&(i=o)}return i}function Iv(e,r){if(r){var t=(0,c.xH)(e),n=(0,c.I)(t,r);return n.length}return e.length}function hl(e){var r=e.theme,t=e.coordinate,n=e.getXScale(),i=n.values,a=e.beforeMappingData,o=i.length,s=He(e.coordinate),l=e.intervalPadding,u=e.dodgePadding,h=e.maxColumnWidth||r.maxColumnWidth,v=e.minColumnWidth||r.minColumnWidth,p=e.columnWidthRatio||r.columnWidthRatio,y=e.multiplePieWidthRatio||r.multiplePieWidthRatio,S=e.roseWidthRatio||r.roseWidthRatio;if(n.isLinear&&i.length>1){i.sort();var E=Ev(i,n);o=(n.max-n.min)/E,i.length>o&&(o=i.length)}var O=n.range,D=1/o,X=1;if(t.isPolar?t.isTransposed&&o>1?X=y:X=S:(n.isLinear&&(D*=O[1]-O[0]),X=p),!(0,c.UM)(l)&&l>=0){var q=l/s;D=(1-(o-1)*q)/o}else D*=X;if(e.getAdjust("dodge")){var Q=e.getAdjust("dodge"),pt=Q.dodgeBy,Wt=Iv(a,pt);if(!(0,c.UM)(u)&&u>=0){var Kt=u/s;D=(D-Kt*(Wt-1))/Wt}else!(0,c.UM)(l)&&l>=0&&(D*=X),D=D/Wt;D=D>=0?D:0}if(!(0,c.UM)(h)&&h>=0){var ae=h/s;D>ae&&(D=ae)}if(!(0,c.UM)(v)&&v>=0){var Fe=v/s;D<Fe&&(D=Fe)}return D}var Lv=function(e){(0,d.ZT)(r,e);function r(t){var n=e.call(this,t)||this;n.type="interval",n.shapeType="interval",n.generatePoints=!0;var i=t.background;return n.background=i,n}return r.prototype.createShapePointsCfg=function(t){var n=e.prototype.createShapePointsCfg.call(this,t),i,a=this.getAttribute("size");if(a){i=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=He(o);i=i/s}else this.defaultSize||(this.defaultSize=hl(this)),i=this.defaultSize;return n.size=i,n},r.prototype.adjustScale=function(){e.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:er(t)});else{var n=this.scaleDefs,i=t.field,a=t.min,o=t.max,s=t.type;s!=="time"&&(a>0&&!(0,c.U2)(n,[i,"min"])&&t.change({min:0}),o<=0&&!(0,c.U2)(n,[i,"max"])&&t.change({max:0}))}},r.prototype.getDrawCfg=function(t){var n=e.prototype.getDrawCfg.call(this,t);return n.background=this.background,n},r}(xi),kv=Lv,Pv=function(e){(0,d.ZT)(r,e);function r(t){var n=e.call(this,t)||this;n.type="line";var i=t.sortable,a=i===void 0?!1:i;return n.sortable=a,n}return r}(fo),Dv=Pv,_u=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],Ov=["cross","tick","plus","hyphen","line"];function vl(e,r,t,n,i){var a,o,s=br(r,i,!i,"r"),l=e.parsePoints(r.points),u=l[0];if(r.isStack)u=l[1];else if(l.length>1){var h=t.addGroup();try{for(var v=(0,d.XA)(l),p=v.next();!p.done;p=v.next()){var y=p.value;h.addShape({type:"marker",attrs:(0,d.pi)((0,d.pi)((0,d.pi)({},s),{symbol:M[n]||n}),y)})}}catch(S){a={error:S}}finally{try{p&&!p.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}return h}return t.addShape({type:"marker",attrs:(0,d.pi)((0,d.pi)((0,d.pi)({},s),{symbol:M[n]||n}),u)})}var GC=Nn("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(e){return mr(e)}});(0,c.S6)(_u,function(e){en("point","hollow-".concat(e),{draw:function(r,t){return vl(this,r,t,e,!0)},getMarker:function(r){var t=r.color;return{symbol:M[e]||e,style:{r:4.5,stroke:t,fill:null}}}})});var UC=null,Bv=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return r.prototype.getDrawCfg=function(t){var n=e.prototype.getDrawCfg.call(this,t);return(0,d.pi)((0,d.pi)({},n),{isStack:!!this.getAdjust("stack")})},r}(xi),Rv=Bv;function _v(e){for(var r=e[0],t=1,n=[["M",r.x,r.y]];t<e.length;){var i=e[t];(i.x!==e[t-1].x||i.y!==e[t-1].y)&&(n.push(["L",i.x,i.y]),i.x===r.x&&i.y===r.y&&t<e.length-1&&(r=e[t+1],n.push(["Z"]),n.push(["M",r.x,r.y]),t++)),t++}return(0,c.Xy)((0,c.Z$)(n),r)||n.push(["L",r.x,r.y]),n.push(["Z"]),n}var HC=Nn("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(e){var r=[];return(0,c.S6)(e.x,function(t,n){var i=e.y[n];r.push({x:t,y:i})}),r}});en("polygon","polygon",{draw:function(e,r){if(!(0,c.xb)(e.points)){var t=br(e,!0,!0),n=this.parsePath(_v(e.points));return r.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},t),{path:n}),name:"polygon"})}},getMarker:function(e){var r=e.color;return{symbol:"square",style:{r:4,fill:r}}}});var YC=null,Nv=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var n=e.prototype.createShapePointsCfg.call(this,t),i=n.x,a=n.y,o;if(!((0,c.kJ)(i)&&(0,c.kJ)(a))){var s=this.getXScale(),l=this.getYScale(),u=s.values.length,h=l.values.length,v=.5*1/u,p=.5*1/h;s.isCategory&&l.isCategory?(i=[i-v,i-v,i+v,i+v],a=[a-p,a+p,a+p,a-p]):(0,c.kJ)(i)?(o=i,i=[o[0],o[0],o[1],o[1]],a=[a-p/2,a+p/2,a+p/2,a-p/2]):(0,c.kJ)(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],i=[i-v/2,i-v/2,i+v/2,i+v/2]),n.x=i,n.y=a}return n},r}(xi),zv=Nv,XC=Nn("schema",{defaultShapeType:""}),WC=null,Vv=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var n=e.prototype.createShapePointsCfg.call(this,t),i,a=this.getAttribute("size");if(a){i=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=He(o);i=i/s}else this.defaultSize||(this.defaultSize=hl(this)),i=this.defaultSize;return n.size=i,n},r}(xi),Gv=Vv;function Uv(e){if(!(0,c.kJ)(e))return[];var r=(0,c.Fp)(e);return(0,c.UI)(e,function(t){return t/r})}var ZC=Nn("violin",{defaultShapeType:"violin",getDefaultPoints:function(e){var r=e.size/2,t=[],n=Uv(e._size);return(0,c.S6)(e.y,function(i,a){var o=n[a]*r,s=a===0,l=a===e.y.length-1;t.push({isMin:s,isMax:l,x:e.x-o,y:i}),t.unshift({isMin:s,isMax:l,x:e.x+o,y:i})}),t}});en("violin","violin",{draw:function(e,r){var t=br(e,!0,!0),n=this.parsePath(Tr(e.points));return r.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},t),{path:n}),name:"violin"})},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{r:4,fill:r}}}});var jC=null,Hv=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="violin",t.shapeType="violin",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var n=e.prototype.createShapePointsCfg.call(this,t),i,a=this.getAttribute("size");if(a){i=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=He(o);i=i/s}else this.defaultSize||(this.defaultSize=hl(this)),i=this.defaultSize;return n.size=i,n._size=(0,c.U2)(t[Jt],[this._sizeField]),n},r.prototype.initAttributes=function(){var t=this.attributeOption,n=t.size?t.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=n,delete t.size,e.prototype.initAttributes.call(this)},r}(xi),Yv=Hv;en("area","line",{draw:function(e,r){var t=ho(e,!0,!1,this),n=r.addShape({type:"path",attrs:t,name:"area"});return n},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){return i===void 0&&(i=5.5),[["M",t-i,n-4],["L",t+i,n-4],["L",t+i,n+4],["L",t-i,n+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}}),en("area","smooth",{draw:function(e,r){var t=this.coordinate,n=ho(e,!1,!0,this,ko(t)),i=r.addShape({type:"path",attrs:n,name:"area"});return i},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){return i===void 0&&(i=5.5),[["M",t-i,n-4],["L",t+i,n-4],["L",t+i,n+4],["L",t-i,n+4],["Z"]]},style:{r:5,fill:r}}}}),en("area","smooth-line",{draw:function(e,r){var t=this.coordinate,n=ho(e,!0,!0,this,ko(t)),i=r.addShape({type:"path",attrs:n,name:"area"});return i},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){return i===void 0&&(i=5.5),[["M",t-i,n-4],["L",t+i,n-4],["L",t+i,n+4],["L",t-i,n+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}});function pl(e,r){return["C",e.x*1/2+r.x*1/2,e.y,e.x*1/2+r.x*1/2,r.y,r.x,r.y]}function dl(e,r){var t=[];t.push({x:r.x,y:r.y}),t.push(e);var n=["Q"];return(0,c.S6)(t,function(i){n.push(i.x,i.y)}),n}function Xv(e,r,t){var n=dl(r,t),i=[["M",e.x,e.y]];return i.push(n),i}function Wv(e,r){var t=dl(e[1],r),n=dl(e[3],r),i=[["M",e[0].x,e[0].y]];return i.push(n),i.push(["L",e[3].x,e[3].y]),i.push(["L",e[2].x,e[2].y]),i.push(t),i.push(["L",e[1].x,e[1].y]),i.push(["L",e[0].x,e[0].y]),i.push(["Z"]),i}en("edge","arc",{draw:function(e,r){var t=br(e,!0,!1,"lineWidth"),n=e.points,i=n.length>2?"weight":"normal",a;if(e.isInCircle){var o={x:0,y:1};return i==="normal"?a=Xv(n[0],n[1],o):(t.fill=t.stroke,a=Wv(n,o)),a=this.parsePath(a),r.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},t),{path:a})})}else{if(i==="normal")return n=this.parsePoints(n),a=L((n[1].x+n[0].x)/2,n[0].y,Math.abs(n[1].x-n[0].x)/2,Math.PI,Math.PI*2),r.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},t),{path:a})});var s=pl(n[1],n[3]),l=pl(n[2],n[0]);return a=[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],s,["L",n[3].x,n[3].y],["L",n[2].x,n[2].y],l,["Z"]],a=this.parsePath(a),t.fill=t.stroke,r.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},t),{path:a})})}},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}});function Zv(e,r){var t=pl(e,r),n=[["M",e.x,e.y]];return n.push(t),n}en("edge","smooth",{draw:function(e,r){var t=br(e,!0,!1,"lineWidth"),n=e.points,i=this.parsePath(Zv(n[0],n[1]));return r.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},t),{path:i})})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}});var cs=1/3;function jv(e,r){var t=[];t.push({x:e.x,y:e.y*(1-cs)+r.y*cs}),t.push({x:r.x,y:e.y*(1-cs)+r.y*cs}),t.push(r);var n=[["M",e.x,e.y]];return(0,c.S6)(t,function(i){n.push(["L",i.x,i.y])}),n}en("edge","vhv",{draw:function(e,r){var t=br(e,!0,!1,"lineWidth"),n=e.points,i=this.parsePath(jv(n[0],n[1]));return r.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},t),{path:i})})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}}),en("interval","funnel",{getPoints:function(e){return e.size=e.size*2,cl(e)},draw:function(e,r){var t=br(e,!1,!0),n=this.parsePath(Ru(e.points,e.nextPoints,!1)),i=r.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},t),{path:n}),name:"interval"});return i},getMarker:function(e){var r=e.color;return{symbol:"square",style:{r:4,fill:r}}}}),en("interval","hollow-rect",{draw:function(e,r){var t=br(e,!0,!1),n=r,i=e==null?void 0:e.background;if(i){n=r.addGroup();var a=Zr(e),o=Bu(e,this.parsePoints(e.points),this.coordinate);n.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},a),{path:o}),zIndex:-1,name:kr})}var s=this.parsePath(fl(e.points)),l=n.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},t),{path:s}),name:"interval"});return i?n:l},getMarker:function(e){var r=e.color,t=e.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}});function $v(e){var r=e.x,t=e.y,n=e.y0;return(0,c.kJ)(t)?t.map(function(i,a){return{x:(0,c.kJ)(r)?r[a]:r,y:i}}):[{x:r,y:n},{x:r,y:t}]}en("interval","line",{getPoints:function(e){return $v(e)},draw:function(e,r){var t=br(e,!0,!1,"lineWidth"),n=st((0,d.pi)({},t),["fill"]),i=this.parsePath(fl(e.points,!1)),a=r.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},n),{path:i}),name:"interval"});return a},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){return[["M",t,n-i],["L",t,n+i]]},style:{r:5,stroke:r}}}}),en("interval","pyramid",{getPoints:function(e){return e.size=e.size*2,cl(e)},draw:function(e,r){var t=br(e,!1,!0),n=this.parsePath(Ru(e.points,e.nextPoints,!0)),i=r.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},t),{path:n}),name:"interval"});return i},getMarker:function(e){var r=e.color;return{symbol:"square",style:{r:4,fill:r}}}});function qv(e){var r,t=e.x,n=e.y,i=e.y0,a=e.size,o,s;(0,c.kJ)(n)?(r=(0,d.CR)(n,2),o=r[0],s=r[1]):(o=i,s=n);var l=t+a/2,u=t-a/2;return[{x:t,y:o},{x:t,y:s},{x:u,y:o},{x:l,y:o},{x:u,y:s},{x:l,y:s}]}function Jv(e){return[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["M",e[2].x,e[2].y],["L",e[3].x,e[3].y],["M",e[4].x,e[4].y],["L",e[5].x,e[5].y]]}en("interval","tick",{getPoints:function(e){return qv(e)},draw:function(e,r){var t=br(e,!0,!1),n=this.parsePath(Jv(e.points)),i=r.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},t),{path:n}),name:"interval"});return i},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){return[["M",t-i/2,n-i],["L",t+i/2,n-i],["M",t,n-i],["L",t,n+i],["M",t-i/2,n+i],["L",t+i/2,n+i]]},style:{r:5,stroke:r}}}});var Kv=function(e,r,t){var n=e.x,i=e.y,a=r.x,o=r.y,s;switch(t){case"hv":s=[{x:a,y:i}];break;case"vh":s=[{x:n,y:o}];break;case"hvh":var l=(a+n)/2;s=[{x:l,y:i},{x:l,y:o}];break;case"vhv":var u=(i+o)/2;s=[{x:n,y:u},{x:a,y:u}];break;default:break}return s};function Qv(e,r){var t=[];return(0,c.S6)(e,function(n,i){var a=e[i+1];if(t.push(n),a){var o=Kv(n,a,r);t=t.concat(o)}}),t}function tp(e){return e.map(function(r,t){return t===0?["M",r.x,r.y]:["L",r.x,r.y]})}function ep(e,r){var t=Le(e.points,e.connectNulls,e.showSinglePoint),n=[];return(0,c.S6)(t,function(i){var a=Qv(i,r);n=n.concat(tp(a))}),(0,d.pi)((0,d.pi)({},br(e,!0,!1,"lineWidth")),{path:n})}(0,c.S6)(["hv","vh","hvh","vhv"],function(e){en("line",e,{draw:function(r,t){var n=ep(r,e),i=t.addShape({type:"path",attrs:n,name:"line"});return i},getMarker:function(r){return Hr(r,e)}})}),(0,c.S6)(Ov,function(e){en("point",e,{draw:function(r,t){return vl(this,r,t,e,!0)},getMarker:function(r){var t=r.color;return{symbol:M[e],style:{r:4.5,stroke:t,fill:null}}}})}),en("point","image",{draw:function(e,r){var t,n,i=br(e,!1,!1,"r").r,a=this.parsePoints(e.points),o=a[0];if(e.isStack)o=a[1];else if(a.length>1){var s=r.addGroup();try{for(var l=(0,d.XA)(a),u=l.next();!u.done;u=l.next()){var h=u.value;s.addShape("image",{attrs:{x:h.x-i/2,y:h.y-i,width:i,height:i,img:e.shape[1]}})}}catch(v){t={error:v}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}return s}return r.addShape("image",{attrs:{x:o.x-i/2,y:o.y-i,width:i,height:i,img:e.shape[1]}})},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{r:4.5,fill:r}}}}),(0,c.S6)(_u,function(e){en("point",e,{draw:function(r,t){return vl(this,r,t,e,!1)},getMarker:function(r){var t=r.color;return{symbol:M[e]||e,style:{r:4.5,fill:t}}}})});function Nu(e){var r=(0,c.kJ)(e)?e:[e],t=r[0],n=r[r.length-1],i=r.length>1?r[1]:t,a=r.length>3?r[3]:n,o=r.length>2?r[2]:i;return{min:t,max:n,min1:i,max1:a,median:o}}function zu(e,r,t){var n=t/2,i;if((0,c.kJ)(r)){var a=Nu(r),o=a.min,s=a.max,l=a.median,u=a.min1,h=a.max1,v=e-n,p=e+n;i=[[v,s],[p,s],[e,s],[e,h],[v,u],[v,h],[p,h],[p,u],[e,u],[e,o],[v,o],[p,o],[v,l],[p,l]]}else{r=(0,c.UM)(r)?.5:r;var y=Nu(e),o=y.min,s=y.max,l=y.median,u=y.min1,h=y.max1,S=r-n,E=r+n;i=[[o,S],[o,E],[o,r],[u,r],[u,S],[u,E],[h,E],[h,S],[h,r],[s,r],[s,S],[s,E],[l,S],[l,E]]}return i.map(function(O){return{x:O[0],y:O[1]}})}function rp(e){return[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["M",e[2].x,e[2].y],["L",e[3].x,e[3].y],["M",e[4].x,e[4].y],["L",e[5].x,e[5].y],["L",e[6].x,e[6].y],["L",e[7].x,e[7].y],["L",e[4].x,e[4].y],["Z"],["M",e[8].x,e[8].y],["L",e[9].x,e[9].y],["M",e[10].x,e[10].y],["L",e[11].x,e[11].y],["M",e[12].x,e[12].y],["L",e[13].x,e[13].y]]}en("schema","box",{getPoints:function(e){var r=e.x,t=e.y,n=e.size;return zu(r,t,n)},draw:function(e,r){var t=br(e,!0,!1),n=this.parsePath(rp(e.points)),i=r.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},t),{path:n,name:"schema"})});return i},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){var a=[n-6,n-3,n,n+3,n+6],o=zu(t,a,i);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:r}}}});function np(e){var r=(0,c.kJ)(e)?e:[e],t=r.sort(function(n,i){return i-n});return tt(t,4,t[t.length-1])}function Vu(e,r,t){var n=np(r);return[{x:e,y:n[0]},{x:e,y:n[1]},{x:e-t/2,y:n[2]},{x:e-t/2,y:n[1]},{x:e+t/2,y:n[1]},{x:e+t/2,y:n[2]},{x:e,y:n[2]},{x:e,y:n[3]}]}function ip(e){return[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["M",e[2].x,e[2].y],["L",e[3].x,e[3].y],["L",e[4].x,e[4].y],["L",e[5].x,e[5].y],["Z"],["M",e[6].x,e[6].y],["L",e[7].x,e[7].y]]}en("schema","candle",{getPoints:function(e){var r=e.x,t=e.y,n=e.size;return Vu(r,t,n)},draw:function(e,r){var t=br(e,!0,!0),n=this.parsePath(ip(e.points)),i=r.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},t),{path:n,name:"schema"})});return i},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){var a=[n+7.5,n+3,n-3,n-7.5],o=Vu(t,a,i);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}});function ap(e,r){var t=Math.abs(e[0].x-e[2].x),n=Math.abs(e[0].y-e[2].y),i=Math.min(t,n);r&&(i=(0,c.uZ)(r,0,Math.min(t,n))),i=i/2;var a=(e[0].x+e[2].x)/2,o=(e[0].y+e[2].y)/2;return{x:a-i,y:o-i,width:i*2,height:i*2}}en("polygon","square",{draw:function(e,r){if(!(0,c.xb)(e.points)){var t=br(e,!0,!0),n=this.parsePoints(e.points);return r.addShape("rect",{attrs:(0,d.pi)((0,d.pi)({},t),ap(n,e.size)),name:"polygon"})}},getMarker:function(e){var r=e.color;return{symbol:"square",style:{r:4,fill:r}}}}),en("violin","smooth",{draw:function(e,r){var t=br(e,!0,!0),n=this.parsePath(Dr(e.points));return r.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},t),{path:n})})},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{stroke:null,r:4,fill:r}}}}),en("violin","hollow",{draw:function(e,r){var t=br(e,!0,!1),n=this.parsePath(Tr(e.points));return r.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},t),{path:n})})},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{r:4,fill:null,stroke:r}}}}),en("violin","hollow-smooth",{draw:function(e,r){var t=br(e,!0,!1),n=this.parsePath(Dr(e.points));return r.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},t),{path:n})})},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{r:4,fill:null,stroke:r}}}});var op=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getLabelValueDir=function(t){var n="y",i=t.points;return i[0][n]<=i[2][n]?1:-1},r.prototype.getLabelOffsetPoint=function(t,n,i,a){var o,s=e.prototype.getLabelOffsetPoint.call(this,t,n,i),l=this.getCoordinate(),u=l.isTransposed,h=u?"x":"y",v=this.getLabelValueDir(t.mappingData);return s=(0,d.pi)((0,d.pi)({},s),(o={},o[h]=s[h]*v,o)),l.isReflect("x")&&(s=(0,d.pi)((0,d.pi)({},s),{x:s.x*-1})),l.isReflect("y")&&(s=(0,d.pi)((0,d.pi)({},s),{y:s.y*-1})),s},r.prototype.getThemedLabelCfg=function(t){var n=this.geometry,i=this.getDefaultLabelCfg(),a=n.theme;return(0,c.b$)({},i,a.labels,t.position==="middle"?{offset:0}:{},t)},r.prototype.setLabelPosition=function(t,n,i,a){var o=this.getCoordinate(),s=o.isTransposed,l=n.points,u=o.convert(l[0]),h=o.convert(l[2]),v=this.getLabelValueDir(n),p,y,S,E,O=(0,c.kJ)(n.shape)?n.shape[0]:n.shape;if(O==="funnel"||O==="pyramid"){var D=(0,c.U2)(n,"nextPoints"),X=(0,c.U2)(n,"points");if(D){var q=o.convert(X[0]),Q=o.convert(X[1]),pt=o.convert(D[0]),Wt=o.convert(D[1]);s?(p=Math.min(pt.y,q.y),S=Math.max(pt.y,q.y),y=(Q.x+Wt.x)/2,E=(q.x+pt.x)/2):(p=Math.min((Q.y+Wt.y)/2,(q.y+pt.y)/2),S=Math.max((Q.y+Wt.y)/2,(q.y+pt.y)/2),y=Wt.x,E=q.x)}else p=Math.min(h.y,u.y),S=Math.max(h.y,u.y),y=h.x,E=u.x}else p=Math.min(h.y,u.y),S=Math.max(h.y,u.y),y=h.x,E=u.x;switch(a){case"right":t.x=y,t.y=(p+S)/2,t.textAlign=(0,c.U2)(t,"textAlign",v>0?"left":"right");break;case"left":t.x=E,t.y=(p+S)/2,t.textAlign=(0,c.U2)(t,"textAlign",v>0?"left":"right");break;case"bottom":s&&(t.x=(y+E)/2),t.y=S,t.textAlign=(0,c.U2)(t,"textAlign","center"),t.textBaseline=(0,c.U2)(t,"textBaseline",v>0?"bottom":"top");break;case"middle":s&&(t.x=(y+E)/2),t.y=(p+S)/2,t.textAlign=(0,c.U2)(t,"textAlign","center"),t.textBaseline=(0,c.U2)(t,"textBaseline","middle");break;case"top":s&&(t.x=(y+E)/2),t.y=p,t.textAlign=(0,c.U2)(t,"textAlign","center"),t.textBaseline=(0,c.U2)(t,"textBaseline",v>0?"bottom":"top");break;default:break}},r}(m),sp=op,fs=Math.PI/2,lp=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getLabelOffset=function(t){var n=this.getCoordinate(),i=0;if((0,c.hj)(t))i=t;else if((0,c.HD)(t)&&t.indexOf("%")!==-1){var a=n.getRadius();n.innerRadius>0&&(a=a*(1-n.innerRadius)),i=parseFloat(t)*.01*a}return i},r.prototype.getLabelItems=function(t){var n=e.prototype.getLabelItems.call(this,t),i=this.geometry.getYScale();return(0,c.UI)(n,function(a){if(a&&i){var o=i.scale((0,c.U2)(a.data,i.field));return(0,d.pi)((0,d.pi)({},a),{percent:o})}return a})},r.prototype.getLabelAlign=function(t){var n=this.getCoordinate(),i;if(t.labelEmit)i=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!n.isTransposed)i="center";else{var a=n.getCenter(),o=t.offset;Math.abs(t.x-a.x)<1?i="center":t.angle>Math.PI||t.angle<=0?i=o>0?"left":"right":i=o>0?"right":"left"}return i},r.prototype.getLabelPoint=function(t,n,i){var a=1,o,s=t.content[i];this.isToMiddle(n)?o=this.getMiddlePoint(n.points):(t.content.length===1&&i===0?i=1:i===0&&(a=-1),o=this.getArcPoint(n,i));var l=t.offset*a,u=this.getPointAngle(o),h=t.labelEmit,v=this.getCirclePoint(u,l,o,h);return v.r===0?v.content="":(v.content=s,v.angle=u,v.color=n.color),v.rotate=t.autoRotate?this.getLabelRotate(u,l,h):t.rotate,v.start={x:o.x,y:o.y},v},r.prototype.getArcPoint=function(t,n){return n===void 0&&(n=0),!(0,c.kJ)(t.x)&&!(0,c.kJ)(t.y)?{x:t.x,y:t.y}:{x:(0,c.kJ)(t.x)?t.x[n]:t.x,y:(0,c.kJ)(t.y)?t.y[n]:t.y}},r.prototype.getPointAngle=function(t){return Dt(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,n,i,a){var o=this.getCoordinate(),s=o.getCenter(),l=lt(o,i);if(l===0)return(0,d.pi)((0,d.pi)({},s),{r:l});var u=t;if(o.isTransposed&&l>n&&!a){var h=Math.asin(n/(2*l));u=t+h*2}else l=l+n;return{x:s.x+l*Math.cos(u),y:s.y+l*Math.sin(u),r:l}},r.prototype.getLabelRotate=function(t,n,i){var a=t+fs;return i&&(a-=fs),a&&(a>fs?a=a-Math.PI:a<-fs&&(a=a+Math.PI)),a},r.prototype.getMiddlePoint=function(t){var n=this.getCoordinate(),i=t.length,a={x:0,y:0};return(0,c.S6)(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=i,a.y/=i,a=n.convert(a),a},r.prototype.isToMiddle=function(t){return t.x.length>2},r}(m),Gu=lp,up=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.defaultLayout="distribute",t}return r.prototype.getDefaultLabelCfg=function(t,n){var i=e.prototype.getDefaultLabelCfg.call(this,t,n);return(0,c.b$)({},i,(0,c.U2)(this.geometry.theme,"pieLabels",{}))},r.prototype.getLabelOffset=function(t){return e.prototype.getLabelOffset.call(this,t)||0},r.prototype.getLabelRotate=function(t,n,i){var a;return n<0&&(a=t,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},r.prototype.getLabelAlign=function(t){var n=this.getCoordinate(),i=n.getCenter(),a;return t.angle<=Math.PI/2&&t.x>=i.x?a="left":a="right",t.offset<=0&&(a==="right"?a="left":a="right"),a},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var n=this.getCoordinate(),i={x:(0,c.kJ)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,c.kJ)(t.x)?t.x[1]:t.x,y:t.y[1]},o,s=Dt(n,i);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var l=Dt(n,a);s>=l&&(l=l+Math.PI*2),o=s+(l-s)/2}return o},r.prototype.getCirclePoint=function(t,n){var i=this.getCoordinate(),a=i.getCenter(),o=i.getRadius()+n;return(0,d.pi)((0,d.pi)({},P(a.x,a.y,o,t)),{angle:t,r:o})},r}(Gu),cp=up,Uu=4;function fp(e,r,t,n,i,a){var o,s,l=!0,u=n.start,h=n.end,v=Math.min(u.y,h.y),p=Math.abs(u.y-h.y),y,S=0,E=Number.MIN_VALUE,O=r.map(function(Kt){return Kt.y>S&&(S=Kt.y),Kt.y<E&&(E=Kt.y),{size:t,targets:[Kt.y-v]}});for(E-=v,S-v>p&&(p=S-v);l;)for(O.forEach(function(Kt){var ae=(Math.min.apply(E,Kt.targets)+Math.max.apply(E,Kt.targets))/2;Kt.pos=Math.min(Math.max(E,ae-Kt.size/2),p-Kt.size)}),l=!1,y=O.length;y--;)if(y>0){var D=O[y-1],X=O[y];D.pos+D.size>X.pos&&(D.size+=X.size,D.targets=D.targets.concat(X.targets),D.pos+D.size>p&&(D.pos=p-D.size),O.splice(y,1),l=!0)}y=0,O.forEach(function(Kt){var ae=v+t/2;Kt.targets.forEach(function(){r[y].y=Kt.pos+ae,ae+=t,y++})});var q={};try{for(var Q=(0,d.XA)(e),pt=Q.next();!pt.done;pt=Q.next()){var Wt=pt.value;q[Wt.get("id")]=Wt}}catch(Kt){o={error:Kt}}finally{try{pt&&!pt.done&&(s=Q.return)&&s.call(Q)}finally{if(o)throw o.error}}r.forEach(function(Kt){var ae=Kt.r*Kt.r,Fe=Math.pow(Math.abs(Kt.y-i.y),2);if(ae<Fe)Kt.x=i.x;else{var ve=Math.sqrt(ae-Fe);a?Kt.x=i.x+ve:Kt.x=i.x-ve}var Ze=q[Kt.id];Ze.attr("x",Kt.x),Ze.attr("y",Kt.y);var dr=(0,c.sE)(Ze.getChildren(),function(Or){return Or.get("type")==="text"});dr&&(dr.attr("y",Kt.y),dr.attr("x",Kt.x))})}function hp(e,r,t,n){if(!(!e.length||!r.length)){var i=e[0]?e[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(i>0){var l=14,u=o+i,h=u*2+l*2,v={start:a.start,end:a.end},p=[[],[]];e.forEach(function(y){!y||(y.textAlign==="right"?p[0].push(y):p[1].push(y))}),p.forEach(function(y,S){var E=h/l;y.length>E&&(y.sort(function(O,D){return D["..percent"]-O["..percent"]}),y.splice(E,y.length-E)),y.sort(function(O,D){return O.y-D.y}),fp(r,y,l,v,s,S)})}(0,c.S6)(e,function(y){if(y&&y.labelLine){var S=y.offset,E=y.angle,O=P(s.x,s.y,o,E),D=P(s.x,s.y,o+S/2,E),X=y.x+(0,c.U2)(y,"offsetX",0),q=y.y+(0,c.U2)(y,"offsetY",0),Q={x:X-Math.cos(E)*Uu,y:q-Math.sin(E)*Uu};(0,c.Kn)(y.labelLine)||(y.labelLine={}),y.labelLine.path=["M ".concat(O.x),"".concat(O.y," Q").concat(D.x),"".concat(D.y," ").concat(Q.x),Q.y].join(",")}})}}function Hu(e,r,t){var n=e.filter(function(S){return!S.invisible});n.sort(function(S,E){return S.y-E.y});var i=!0,a=t.minY,o=t.maxY,s=Math.abs(a-o),l,u=0,h=Number.MIN_VALUE,v=n.map(function(S){return S.y>u&&(u=S.y),S.y<h&&(h=S.y),{content:S.content,size:r,targets:[S.y-a],pos:null}});for(h-=a,u-a>s&&(s=u-a);i;)for(v.forEach(function(S){var E=(Math.min.apply(h,S.targets)+Math.max.apply(h,S.targets))/2;S.pos=Math.min(Math.max(h,E-S.size/2),s-S.size),S.pos=Math.max(0,S.pos)}),i=!1,l=v.length;l--;)if(l>0){var p=v[l-1],y=v[l];p.pos+p.size>y.pos&&(p.size+=y.size,p.targets=p.targets.concat(y.targets),p.pos+p.size>s&&(p.pos=s-p.size),v.splice(l,1),i=!0)}l=0,v.forEach(function(S){var E=a+r/2;S.targets.forEach(function(){n[l].y=S.pos+E,E+=r,l++})})}var Yu=4;function vp(e,r){var t=r.getCenter(),n=r.getRadius();if(e&&e.labelLine){var i=e.angle,a=e.offset,o=P(t.x,t.y,n,i),s=e.x+(0,c.U2)(e,"offsetX",0)*(Math.cos(i)>0?1:-1),l=e.y+(0,c.U2)(e,"offsetY",0)*(Math.sin(i)>0?1:-1),u={x:s-Math.cos(i)*Yu,y:l-Math.sin(i)*Yu},h=e.labelLine.smooth,v=[],p=u.x-t.x,y=u.y-t.y,S=Math.atan(y/p);if(p<0&&(S+=Math.PI),h===!1){(0,c.Kn)(e.labelLine)||(e.labelLine={});var E=0;(i<0&&i>-Math.PI/2||i>Math.PI*1.5)&&u.y>o.y&&(E=1),i>=0&&i<Math.PI/2&&u.y>o.y&&(E=1),i>=Math.PI/2&&i<Math.PI&&o.y>u.y&&(E=1),(i<-Math.PI/2||i>=Math.PI&&i<Math.PI*1.5)&&o.y>u.y&&(E=1);var O=a/2>4?4:Math.max(a/2-1,0),D=P(t.x,t.y,n+O,i),X=P(t.x,t.y,n+a/2,S),q=0;v.push("M ".concat(o.x," ").concat(o.y)),v.push("L ".concat(D.x," ").concat(D.y)),v.push("A ".concat(t.x," ").concat(t.y," 0 ").concat(q," ").concat(E," ").concat(X.x," ").concat(X.y)),v.push("L ".concat(u.x," ").concat(u.y))}else{var D=P(t.x,t.y,n+(a/2>4?4:Math.max(a/2-1,0)),i),Q=o.x<t.x?1:-1;v.push("M ".concat(u.x," ").concat(u.y));var pt=(o.y-t.y)/(o.x-t.x),Wt=(u.y-t.y)/(u.x-t.x);Math.abs(pt-Wt)>Math.pow(Math.E,-16)&&v.push.apply(v,["C",u.x+Q*4,u.y,2*D.x-o.x,2*D.y-o.y,o.x,o.y]),v.push("L ".concat(o.x," ").concat(o.y))}e.labelLine.path=v.join(" ")}}function pp(e,r,t,n){var i,a,o=(0,c.hX)(e,function(ae){return!(0,c.UM)(ae)}),s=r[0]&&r[0].get("coordinate");if(!!s){var l=s.getCenter(),u=s.getRadius(),h={};try{for(var v=(0,d.XA)(r),p=v.next();!p.done;p=v.next()){var y=p.value;h[y.get("id")]=y}}catch(ae){i={error:ae}}finally{try{p&&!p.done&&(a=v.return)&&a.call(v)}finally{if(i)throw i.error}}var S=(0,c.U2)(o[0],"labelHeight",14),E=(0,c.U2)(o[0],"offset",0);if(!(E<=0)){var O="left",D="right",X=(0,c.vM)(o,function(ae){return ae.x<l.x?O:D}),q=s.start,Q=s.end,pt=Math.min((u+E+S)*2,s.getHeight()),Wt=pt/2,Kt={minX:q.x,maxX:Q.x,minY:l.y-Wt,maxY:l.y+Wt};(0,c.S6)(X,function(ae,Fe){var ve=Math.floor(pt/S);ae.length>ve&&(ae.sort(function(Ze,dr){return dr.percent-Ze.percent}),(0,c.S6)(ae,function(Ze,dr){dr+1>ve&&(h[Ze.id].set("visible",!1),Ze.invisible=!0)})),Hu(ae,S,Kt)}),(0,c.S6)(X,function(ae,Fe){(0,c.S6)(ae,function(ve){var Ze=Fe===D,dr=h[ve.id],Or=dr.getChildByIndex(0);if(Or){var Rr=u+E,sn=ve.y-l.y,We=Math.pow(Rr,2),gr=Math.pow(sn,2),Pr=We-gr>0?We-gr:0,xr=Math.sqrt(Pr),Ir=Math.abs(Math.cos(ve.angle)*Rr);Ze?ve.x=l.x+Math.max(xr,Ir):ve.x=l.x-Math.max(xr,Ir)}Or&&(Or.attr("y",ve.y),Or.attr("x",ve.x)),vp(ve,s)})})}}}var gl=4,dp=4,Xu=4;function gp(e,r,t){var n=r.getCenter(),i=r.getRadius(),a={x:e.x-(t?Xu:-Xu),y:e.y},o=P(n.x,n.y,i+gl,e.angle),s={x:a.x,y:a.y},l={x:o.x,y:o.y},u=P(n.x,n.y,i,e.angle),h="";if(a.y!==o.y){var v=t?4:-4;s.y=a.y,e.angle<0&&e.angle>=-Math.PI/2&&(s.x=Math.max(o.x,a.x-v),a.y<o.y?l.y=s.y:(l.y=o.y,l.x=Math.max(l.x,s.x-v))),e.angle>0&&e.angle<Math.PI/2&&(s.x=Math.max(o.x,a.x-v),a.y>o.y?l.y=s.y:(l.y=o.y,l.x=Math.max(l.x,s.x-v))),e.angle>Math.PI/2&&(s.x=Math.min(o.x,a.x-v),a.y>o.y?l.y=s.y:(l.y=o.y,l.x=Math.min(l.x,s.x-v))),e.angle<-Math.PI/2&&(s.x=Math.min(o.x,a.x-v),a.y<o.y?l.y=s.y:(l.y=o.y,l.x=Math.min(l.x,s.x-v)))}h=["M ".concat(a.x,",").concat(a.y),"L ".concat(s.x,",").concat(s.y),"L ".concat(l.x,",").concat(l.y),"L ".concat(o.x,",").concat(o.y),"L ".concat(u.x,",").concat(u.y)].join(" "),e.labelLine=(0,c.b$)({},e.labelLine,{path:h})}function yp(e,r,t,n){var i,a,o=r[0]&&r[0].get("coordinate");if(!!o){var s=o.getCenter(),l=o.getRadius(),u={};try{for(var h=(0,d.XA)(r),v=h.next();!v.done;v=h.next()){var p=v.value;u[p.get("id")]=p}}catch(ae){i={error:ae}}finally{try{v&&!v.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}var y=(0,c.U2)(e[0],"labelHeight",14),S=Math.max((0,c.U2)(e[0],"offset",0),gl);(0,c.S6)(e,function(ae){if(!!ae){var Fe=(0,c.U2)(u,[ae.id]);if(!!Fe){var ve=ae.x>s.x||ae.x===s.x&&ae.y>s.y,Ze=(0,c.UM)(ae.offsetX)?dp:ae.offsetX,dr=P(s.x,s.y,l+gl,ae.angle),Or=S+Ze;ae.x=s.x+(ve?1:-1)*(l+Or),ae.y=dr.y}}});var E=o.start,O=o.end,D="left",X="right",q=(0,c.vM)(e,function(ae){return ae.x<s.x?D:X}),Q=(l+S)*2+y;(0,c.S6)(q,function(ae){var Fe=ae.length*y;Fe>Q&&(Q=Math.min(Fe,Math.abs(E.y-O.y)))});var pt={minX:E.x,maxX:O.x,minY:s.y-Q/2,maxY:s.y+Q/2};(0,c.S6)(q,function(ae,Fe){var ve=Q/y;ae.length>ve&&(ae.sort(function(Ze,dr){return dr.percent-Ze.percent}),(0,c.S6)(ae,function(Ze,dr){dr>ve&&(u[Ze.id].set("visible",!1),Ze.invisible=!0)})),Hu(ae,y,pt)});var Wt=pt.minY,Kt=pt.maxY;(0,c.S6)(q,function(ae,Fe){var ve=Fe===X;(0,c.S6)(ae,function(Ze){var dr=(0,c.U2)(u,Ze&&[Ze.id]);if(!!dr){if(Ze.y<Wt||Ze.y>Kt){dr.set("visible",!1);return}var Or=dr.getChildByIndex(0),Rr=Or.getCanvasBBox(),sn={x:ve?Rr.x:Rr.maxX,y:Rr.y+Rr.height/2};Qi(Or,Ze.x-sn.x,Ze.y-sn.y),Ze.labelLine&&gp(Ze,o,ve)}})})}}function mp(e,r,t,n){(0,c.S6)(r,function(i){var a=n.minX,o=n.minY,s=n.maxX,l=n.maxY,u=i.getCanvasBBox(),h=u.minX,v=u.minY,p=u.maxX,y=u.maxY,S=u.x,E=u.y,O=u.width,D=u.height,X=S,q=E;(h<a||p<a)&&(X=a),(v<o||y<o)&&(q=o),h>s?X=s-O:p>s&&(X=X-(p-s)),v>l?q=l-D:y>l&&(q=q-(y-l)),(X!==S||q!==E)&&Qi(i,X-S,q-E)})}function xp(e,r,t,n){(0,c.S6)(r,function(i,a){var o=i.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&i.remove(!0)})}var wp=100,Wu=function(){function e(r){r===void 0&&(r={}),this.bitmap={};var t=r.xGap,n=t===void 0?1:t,i=r.yGap,a=i===void 0?8:i;this.xGap=n,this.yGap=a}return e.prototype.hasGap=function(r){for(var t=!0,n=this.bitmap,i=Math.round(r.minX),a=Math.round(r.maxX),o=Math.round(r.minY),s=Math.round(r.maxY),l=i;l<=a;l+=1){if(!n[l]){n[l]={};continue}if(l===i||l===a){for(var u=o;u<=s;u++)if(n[l][u]){t=!1;break}}else if(n[l][o]||n[l][s]){t=!1;break}}return t},e.prototype.fillGap=function(r){for(var t=this.bitmap,n=Math.round(r.minX),i=Math.round(r.maxX),a=Math.round(r.minY),o=Math.round(r.maxY),s=n;s<=i;s+=1)t[s]||(t[s]={});for(var s=n;s<=i;s+=this.xGap){for(var l=a;l<=o;l+=this.yGap)t[s][l]=!0;t[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)t[n][s]=!0,t[i][s]=!0;if(this.xGap!==1)for(var s=n;s<=i;s+=1)t[s][a]=!0,t[s][o]=!0},e.prototype.destroy=function(){this.bitmap={}},e}();function Sp(e,r,t){t===void 0&&(t=wp);var n=-1,i=e.attr(),a=i.x,o=i.y,s=e.getCanvasBBox(),l=Math.sqrt(s.width*s.width+s.height*s.height),u,h=-n,v=0,p=0,y=function(D){var X=D*.1;return[X*Math.cos(X),X*Math.sin(X)]};if(r.hasGap(s))return r.fillGap(s),!0;for(var S=!1,E=0,O={};Math.min(Math.abs(v),Math.abs(p))<l&&E<t;)if(u=y(h+=n),v=~~u[0],p=~~u[1],!(!v&&!p||O["".concat(v,"-").concat(p)])&&(e.attr({x:a+v,y:o+p}),v+p<0&&e.attr("textAlign","right"),E++,r.hasGap(e.getCanvasBBox()))){r.fillGap(e.getCanvasBBox()),S=!0,O["".concat(v,"-").concat(p)]=!0;break}return S}function Mp(e,r,t,n){var i=e.getCanvasBBox(),a=i.width,o=i.height,s={x:r,y:t,textAlign:"center"};switch(n){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break;default:break}return e.attr(s),e.getCanvasBBox()}function bp(e,r,t,n){var i=new Wu;(0,c.S6)(r,function(a){var o=a.find(function(s){return s.get("type")==="text"});Sp(o,i)||a.remove(!0)}),i.destroy()}function Cp(e,r,t,n){var i=new Wu;(0,c.S6)(r,function(a){for(var o=a.find(function(y){return y.get("type")==="text"}),s=o.attr(),l=s.x,u=s.y,h=!1,v=0;v<=8;v++){var p=Mp(o,l,u,v);if(i.hasGap(p)){i.fillGap(p),h=!0;break}}h||a.remove(!0)}),i.destroy()}function Ap(e,r){return(e[0]||0)*(r[0]||0)+(e[1]||0)*(r[1]||0)+(e[2]||0)*(r[2]||0)}function Zu(e){if(e.length>4)return[];var r=function(i,a){return[a.x-i.x,a.y-i.y]},t=r(e[0],e[1]),n=r(e[1],e[2]);return[t,n]}function hs(e,r,t){r===void 0&&(r=0),t===void 0&&(t={x:0,y:0});var n=e.x,i=e.y;return{x:(n-t.x)*Math.cos(-r)+(i-t.y)*Math.sin(-r)+t.x,y:(t.x-n)*Math.sin(-r)+(i-t.y)*Math.cos(-r)+t.y}}function ju(e){var r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],t=e.rotation;return t?[hs(r[0],t,r[0]),hs(r[1],t,r[0]),hs(r[2],t,r[0]),hs(r[3],t,r[0])]:r}function $u(e,r){if(e.length>4)return{min:0,max:0};var t=[];return e.forEach(function(n){t.push(Ap([n.x,n.y],r))}),{min:Math.min.apply(Math,(0,d.ev)([],(0,d.CR)(t),!1)),max:Math.max.apply(Math,(0,d.ev)([],(0,d.CR)(t),!1))}}function Tp(e,r){return e.max>r.min&&e.min<r.max}function Fp(e){return typeof e=="number"&&!Number.isNaN(e)&&e!==Infinity&&e!==-Infinity}function qu(e){return["x","y","width","height"].every(function(r){return Fp(e[r])})}function Ep(e,r,t){return t===void 0&&(t=0),!(r.x>e.x+e.width+t||r.x+r.width<e.x-t||r.y>e.y+e.height+t||r.y+r.height<e.y-t)}function Ip(e,r,t){if(t===void 0&&(t=0),!qu(e)||!qu(r))return!1;if(!e.rotation&&!r.rotation)return Ep(e,r,t);for(var n=ju(e),i=ju(r),a=Zu(n).concat(Zu(i)),o=0;o<a.length;o++){var s=a[o],l=$u(n,s),u=$u(i,s);if(!Tp(l,u))return!1}return!0}function Lp(e){var r;try{r=new Blob([e.toString()],{type:"application/javascript"})}catch(t){r=new window.BlobBuilder,r.append(e.toString()),r=r.getBlob()}return new Worker(URL.createObjectURL(r))}var kp=function(e){function r(){function u(q,Q){return(q[0]||0)*(Q[0]||0)+(q[1]||0)*(Q[1]||0)+(q[2]||0)*(Q[2]||0)}function h(q){if(q.length>4)return[];var Q=function(Kt,ae){return[ae.x-Kt.x,ae.y-Kt.y]},pt=Q(q[0],q[1]),Wt=Q(q[1],q[2]);return[pt,Wt]}function v(q,Q,pt){Q===void 0&&(Q=0),pt===void 0&&(pt={x:0,y:0});var Wt=q.x,Kt=q.y;return{x:(Wt-pt.x)*Math.cos(-Q)+(Kt-pt.y)*Math.sin(-Q)+pt.x,y:(pt.x-Wt)*Math.sin(-Q)+(Kt-pt.y)*Math.cos(-Q)+pt.y}}function p(q){var Q=[{x:q.x,y:q.y},{x:q.x+q.width,y:q.y},{x:q.x+q.width,y:q.y+q.height},{x:q.x,y:q.y+q.height}],pt=q.rotation;return pt?[v(Q[0],pt,Q[0]),v(Q[1],pt,Q[0]),v(Q[2],pt,Q[0]),v(Q[3],pt,Q[0])]:Q}function y(q,Q){if(q.length>4)return{min:0,max:0};var pt=[];return q.forEach(function(Wt){pt.push(u([Wt.x,Wt.y],Q))}),{min:Math.min.apply(null,pt),max:Math.max.apply(null,pt)}}function S(q,Q){return q.max>Q.min&&q.min<Q.max}function E(q){return typeof q=="number"&&!Number.isNaN(q)&&q!==Infinity&&q!==-Infinity}function O(q){return["x","y","width","height"].every(function(Q){return E(q[Q])})}function D(q,Q,pt){return pt===void 0&&(pt=0),!(Q.x>q.x+q.width+pt||Q.x+Q.width<q.x-pt||Q.y>q.y+q.height+pt||Q.y+Q.height<q.y-pt)}function X(q,Q,pt){if(pt===void 0&&(pt=0),!O(q)||!O(Q))return!1;if(!q.rotation&&!Q.rotation)return D(q,Q,pt);for(var Wt=p(q),Kt=p(Q),ae=h(Wt).concat(h(Kt)),Fe=0;Fe<ae.length;Fe++){var ve=ae[Fe],Ze=y(Wt,ve),dr=y(Kt,ve);if(!S(Ze,dr))return!1}return!0}return{intersect:X}}var t=r().intersect;function n(u){for(var h=u.slice(),v=0;v<h.length;v++){var p=h[v];if(p.visible)for(var y=v+1;y<h.length;y++){var S=h[y];p!==S&&S.visible&&t(p,S)&&(S.visible=!1)}}return h}var i={"hide-overlap":n};try{var a=JSON.parse(e.data);if(!a||!a.type||!i[a.type])return;var o=a.type,s=a.items,l=i[o](s);self.postMessage(l)}catch(u){throw u}},Pp=`
   self.onmessage = `.concat(kp.toString(),`
`),yl=function(e){for(var r=e.slice(),t=0;t<r.length;t++){var n=r[t];if(n.visible)for(var i=t+1;i<r.length;i++){var a=r[i];n!==a&&a.visible&&Ip(n,a)&&(a.visible=!1)}}return r},ml=new Map,vs=Lp(Pp);function Dp(e,r,t,n){return new Promise(function(i){var a=r.map(function(l,u){return(0,d.pi)((0,d.pi)({},rs(l,e[u],(0,c.U2)(e[u],"background.padding"))),{visible:!0})}),o=JSON.stringify(a),s=function(l){return ml.set(o,l),(0,c.S6)(l,function(u,h){var v=u.visible,p=r[h];v?p==null||p.show():p==null||p.hide()}),i(l)};if(ml.get(o))s(ml.get(o));else if(vs)try{vs.postMessage(JSON.stringify({type:"hide-overlap",items:a})),vs.onmessage=function(l){return s(Array.isArray(l.data)?l.data:[])},vs.onmessageerror=function(l){console.warn("[AntV G2] Web worker is not available"),s(yl(a))}}catch(l){console.error(l),s(yl(a))}else s(yl(a))})}var Ju={"#5B8FF9":!0},Op=function(e){var r=vo.Z.toRGB(e).toUpperCase();if(Ju[r])return Ju[r];var t=(0,d.CR)(vo.Z.rgb2arr(r),3),n=t[0],i=t[1],a=t[2],o=(n*299+i*587+a*114)/1e3<128;return o};function Bp(e,r,t){if(t.length!==0){var n=t[0].get("element"),i=n.geometry.theme,a=i.labels||{},o=a.fillColorLight,s=a.fillColorDark;t.forEach(function(l,u){var h=r[u],v=h.find(function(D){return D.get("type")==="text"}),p=qt.fromObject(l.getBBox()),y=qt.fromObject(v.getCanvasBBox()),S=!p.contains(y),E=l.attr("fill"),O=Op(E);S?v.attr(i.overflowLabels.style):O?o&&v.attr("fill",o):s&&v.attr("fill",s)})}}function Rp(e,r,t){var n=e.coordinate,i=ta(r),a=qt.fromObject(i.getCanvasBBox()),o=qt.fromObject(t.getBBox());return n.isTransposed?o.height>=a.height:o.width>=a.width}function _p(e,r,t){var n=!!e.getAdjust("stack");return n||r.every(function(i,a){var o=t[a];return Rp(e,i,o)})}function Np(e,r,t){var n=e.coordinate,i=qt.fromObject(t.getBBox()),a=ta(r);n.isTransposed?a.attr({x:i.minX+i.width/2,textAlign:"center"}):a.attr({y:i.minY+i.height/2,textBaseline:"middle"})}function zp(e,r,t){var n;if(t.length!==0){var i=(n=t[0])===null||n===void 0?void 0:n.get("element"),a=i==null?void 0:i.geometry;if(!(!a||a.type!=="interval")){var o=_p(a,r,t);o&&t.forEach(function(s,l){var u=r[l];Np(a,u,s)})}}}function Vp(e){var r=500,t=[],n=Math.max(Math.floor(e.length/r),1);return(0,c.S6)(e,function(i,a){a%n==0?t.push(i):i.set("visible",!1)}),t}function Gp(e,r,t){var n;if(t.length!==0){var i=(n=t[0])===null||n===void 0?void 0:n.get("element"),a=i==null?void 0:i.geometry;if(!(!a||a.type!=="interval")){var o=Vp(r),s=(0,d.CR)(a.getXYFields(),1),l=s[0],u=[],h=[],v=(0,c.vM)(o,function(O){return O.get("data")[l]}),p=(0,c.jj)((0,c.UI)(o,function(O){return O.get("data")[l]})),y;o.forEach(function(O){O.set("visible",!0)});var S=function(O){O&&(O.length&&h.push(O.pop()),h.push.apply(h,(0,d.ev)([],(0,d.CR)(O),!1)))};for((0,c.dp)(p)>0&&(y=p.shift(),S(v[y])),(0,c.dp)(p)>0&&(y=p.pop(),S(v[y])),(0,c.S6)(p.reverse(),function(O){S(v[O])});h.length>0;){var E=h.shift();E.get("visible")&&(uo(E,u)?E.set("visible",!1):u.push(E))}}}}function Up(e,r){var t=e.getXYFields()[1],n=[],i=r.sort(function(a,o){return a.get("data")[t]-a.get("data")[t]});return i.length>0&&n.push(i.shift()),i.length>0&&n.push(i.pop()),n.push.apply(n,(0,d.ev)([],(0,d.CR)(i),!1)),n}function Ku(e,r,t){return e.some(function(n){return t(n,r)})}function Hp(e,r,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(e.x+e.width+t,r.x+r.width+t)-Math.max(e.x-t,r.x-t)),i=Math.max(0,Math.min(e.y+e.height+t,r.y+r.height+t)-Math.max(e.y-t,r.y-t));return n*i}function Qu(e,r){return Ku(e,r,function(t,n){var i=ta(t),a=ta(n);return Hp(i.getCanvasBBox(),a.getCanvasBBox(),2)>0})}function Yp(e,r,t,n,i){var a,o;if(t.length!==0){var s=(a=t[0])===null||a===void 0?void 0:a.get("element"),l=s==null?void 0:s.geometry;if(!(!l||l.type!=="point")){var u=(0,d.CR)(l.getXYFields(),2),h=u[0],v=u[1],p=(0,c.vM)(r,function(E){return E.get("data")[h]}),y=[],S=i&&i.offset||((o=e[0])===null||o===void 0?void 0:o.offset)||12;(0,c.UI)((0,c.XP)(p).reverse(),function(E){for(var O=Up(l,p[E]);O.length;){var D=O.shift(),X=ta(D);if(Ku(y,D,function(pt,Wt){return pt.get("data")[h]===Wt.get("data")[h]&&pt.get("data")[v]===Wt.get("data")[v]})){X.set("visible",!1);continue}var q=Qu(y,D),Q=!1;if(q&&(X.attr("y",X.attr("y")+2*S),Q=Qu(y,D)),Q){X.set("visible",!1);continue}y.push(D)}})}}}function Xp(e,r){var t=e.getXYFields()[1],n=[],i=r.sort(function(a,o){return a.get("data")[t]-a.get("data")[t]});return i.length>0&&n.push(i.shift()),i.length>0&&n.push(i.pop()),n.push.apply(n,(0,d.ev)([],(0,d.CR)(i),!1)),n}function tc(e,r,t){return e.some(function(n){return t(n,r)})}function Wp(e,r,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(e.x+e.width+t,r.x+r.width+t)-Math.max(e.x-t,r.x-t)),i=Math.max(0,Math.min(e.y+e.height+t,r.y+r.height+t)-Math.max(e.y-t,r.y-t));return n*i}function ec(e,r){return tc(e,r,function(t,n){var i=ta(t),a=ta(n);return Wp(i.getCanvasBBox(),a.getCanvasBBox(),2)>0})}function Zp(e,r,t,n,i){var a,o;if(t.length!==0){var s=(a=t[0])===null||a===void 0?void 0:a.get("element"),l=s==null?void 0:s.geometry;if(!(!l||["path","line","area"].indexOf(l.type)<0)){var u=(0,d.CR)(l.getXYFields(),2),h=u[0],v=u[1],p=(0,c.vM)(r,function(E){return E.get("data")[h]}),y=[],S=i&&i.offset||((o=e[0])===null||o===void 0?void 0:o.offset)||12;(0,c.UI)((0,c.XP)(p).reverse(),function(E){for(var O=Xp(l,p[E]);O.length;){var D=O.shift(),X=ta(D);if(tc(y,D,function(pt,Wt){return pt.get("data")[h]===Wt.get("data")[h]&&pt.get("data")[v]===Wt.get("data")[v]})){X.set("visible",!1);continue}var q=ec(y,D),Q=!1;if(q&&(X.attr("y",X.attr("y")+2*S),Q=ec(y,D)),Q){X.set("visible",!1);continue}y.push(D)}})}}}var xl;function jp(){return xl||(xl=document.createElement("canvas").getContext("2d")),xl}var ps=(0,c.HP)(function(e,r){r===void 0&&(r={});var t=r.fontSize,n=r.fontFamily,i=r.fontWeight,a=r.fontStyle,o=r.fontVariant,s=jp();return s.font=[a,o,i,"".concat(t,"px"),n].join(" "),s.measureText((0,c.HD)(e)?e:"").width},function(e,r){return r===void 0&&(r={}),(0,d.ev)([e],(0,d.CR)((0,c.VO)(r)),!1).join("")}),$p=function(e,r,t){var n=16,i=ps("...",t),a;(0,c.HD)(e)?a=e:a=(0,c.BB)(e);var o=r,s=[],l,u;if(ps(e,t)<=r)return e;for(;l=a.substr(0,n),u=ps(l,t),!(u+i>o&&u>o);)if(s.push(l),o-=u,a=a.substr(n),!a)return s.join("");for(;l=a.substr(0,1),u=ps(l,t),!(u+i>o);)if(s.push(l),o-=u,a=a.substr(1),!a)return s.join("");return"".concat(s.join(""),"...")};function qp(e,r,t,n,i){if(!(r.length<=0)){var a=(i==null?void 0:i.direction)||["top","right","bottom","left"],o=(i==null?void 0:i.action)||"translate",s=(i==null?void 0:i.margin)||0,l=r[0].get("coordinate");if(!!l){var u=Zt(l,s),h=u.minX,v=u.minY,p=u.maxX,y=u.maxY;(0,c.S6)(r,function(S){var E=S.getCanvasBBox(),O=E.minX,D=E.minY,X=E.maxX,q=E.maxY,Q=E.x,pt=E.y,Wt=E.width,Kt=E.height,ae=Q,Fe=pt;if(a.indexOf("left")>=0&&(O<h||X<h)&&(ae=h),a.indexOf("top")>=0&&(D<v||q<v)&&(Fe=v),a.indexOf("right")>=0&&(O>p?ae=p-Wt:X>p&&(ae=ae-(X-p))),a.indexOf("bottom")>=0&&(D>y?Fe=y-Kt:q>y&&(Fe=Fe-(q-y))),ae!==Q||Fe!==pt){var ve=ae-Q;if(o==="translate")Qi(S,ve,Fe-pt);else if(o==="ellipsis"){var Ze=S.findAll(function(dr){return dr.get("type")==="text"});Ze.forEach(function(dr){var Or=(0,c.ei)(dr.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),Rr=dr.getCanvasBBox(),sn=$p(dr.attr("text"),Rr.width-Math.abs(ve),Or);dr.attr("text",sn)})}else S.hide()}})}}}function Jp(e,r,t){var n={fillOpacity:(0,c.UM)(e.attr("fillOpacity"))?1:e.attr("fillOpacity"),strokeOpacity:(0,c.UM)(e.attr("strokeOpacity"))?1:e.attr("strokeOpacity"),opacity:(0,c.UM)(e.attr("opacity"))?1:e.attr("opacity")};e.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),e.animate(n,r)}function Kp(e,r,t){var n={fillOpacity:0,strokeOpacity:0,opacity:0},i=r.easing,a=r.duration,o=r.delay;e.animate(n,a,i,function(){e.remove(!0)},o)}function Qp(e,r,t){var n,i=(0,d.CR)(r,2),a=i[0],o=i[1];return e.applyToMatrix([a,o,1]),t==="x"?(e.setMatrix(bn.vs(e.getMatrix(),[["t",-a,-o],["s",.01,1],["t",a,o]])),n=bn.vs(e.getMatrix(),[["t",-a,-o],["s",100,1],["t",a,o]])):t==="y"?(e.setMatrix(bn.vs(e.getMatrix(),[["t",-a,-o],["s",1,.01],["t",a,o]])),n=bn.vs(e.getMatrix(),[["t",-a,-o],["s",1,100],["t",a,o]])):t==="xy"&&(e.setMatrix(bn.vs(e.getMatrix(),[["t",-a,-o],["s",.01,.01],["t",a,o]])),n=bn.vs(e.getMatrix(),[["t",-a,-o],["s",100,100],["t",a,o]])),n}function wl(e,r,t,n,i){var a=t.start,o=t.end,s=t.getWidth(),l=t.getHeight(),u,h;i==="y"?(u=a.x+s/2,h=n.y<a.y?n.y:a.y):i==="x"?(u=n.x>a.x?n.x:a.x,h=a.y+l/2):i==="xy"&&(t.isPolar?(u=t.getCenter().x,h=t.getCenter().y):(u=(a.x+o.x)/2,h=(a.y+o.y)/2));var v=Qp(e,[u,h],i);e.animate({matrix:v},r)}function td(e,r,t){var n=t.coordinate,i=t.minYPoint;wl(e,r,n,i,"x")}function ed(e,r,t){var n=t.coordinate,i=t.minYPoint;wl(e,r,n,i,"y")}function rd(e,r,t){var n=t.coordinate,i=t.minYPoint;wl(e,r,n,i,"xy")}function nd(e,r,t){var n=e.getTotalLength();e.attr("lineDash",[n]),e.animate(function(i){return{lineDashOffset:(1-i)*n}},r)}function id(e,r,t){var n=t.toAttrs,i=n.x,a=n.y;delete n.x,delete n.y,e.attr(n),e.animate({x:i,y:a},r)}function ad(e,r,t){var n=e.getBBox(),i=e.get("origin").mappingData,a=i.points,o=a[0].y-a[1].y>0?n.maxX:n.minX,s=(n.minY+n.maxY)/2;e.applyToMatrix([o,s,1]);var l=bn.vs(e.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);e.setMatrix(l),e.animate({matrix:bn.vs(e.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},r)}function od(e,r,t){var n=e.getBBox(),i=e.get("origin").mappingData,a=(n.minX+n.maxX)/2,o=i.points,s=o[0].y-o[1].y<=0?n.maxY:n.minY;e.applyToMatrix([a,s,1]);var l=bn.vs(e.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);e.setMatrix(l),e.animate({matrix:bn.vs(e.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},r)}function rc(e,r){var t,n=(0,xa.getArcParams)(e,r),i=n.startAngle,a=n.endAngle;return!(0,c.vQ)(i,-Math.PI*.5)&&i<-Math.PI*.5&&(i+=Math.PI*2),!(0,c.vQ)(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),r[5]===0&&(t=(0,d.CR)([a,i],2),i=t[0],a=t[1]),(0,c.vQ)(i,Math.PI*1.5)&&(i=Math.PI*-.5),(0,c.vQ)(a,Math.PI*-.5)&&(a=Math.PI*1.5),{startAngle:i,endAngle:a}}function nc(e){var r;return e[0]==="M"||e[0]==="L"?r=[e[1],e[2]]:(e[0]==="a"||e[0]==="A"||e[0]==="C")&&(r=[e[e.length-2],e[e.length-1]]),r}function ic(e){var r,t,n,i=e.filter(function(q){return q[0]==="A"||q[0]==="a"});if(i.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var a=i[0],o=i.length>1?i[1]:i[0],s=e.indexOf(a),l=e.indexOf(o),u=nc(e[s-1]),h=nc(e[l-1]),v=rc(u,a),p=v.startAngle,y=v.endAngle,S=rc(h,o),E=S.startAngle,O=S.endAngle;(0,c.vQ)(p,E)&&(0,c.vQ)(y,O)?(t=p,n=y):(t=Math.min(p,E),n=Math.max(y,O));var D=a[1],X=i[i.length-1][1];return D<X?(r=(0,d.CR)([X,D],2),D=r[0],X=r[1]):D===X&&(X=0),{startAngle:t,endAngle:n,radius:D,innerRadius:X}}function sd(e,r,t){var n=t.toAttrs,i=t.coordinate,a=n.path||[],o=a.map(function(X){return X[0]});if(!(a.length<1)){var s=ic(a),l=s.startAngle,u=s.endAngle,h=s.radius,v=s.innerRadius,p=ic(e.attr("path")),y=p.startAngle,S=p.endAngle,E=i.getCenter(),O=l-y,D=u-S;if(O===0&&D===0){e.attr("path",a);return}e.animate(function(X){var q=y+X*O,Q=S+X*D;return(0,d.pi)((0,d.pi)({},n),{path:(0,c.Xy)(o,["M","A","A","Z"])?L(E.x,E.y,h,q,Q):C(E.x,E.y,h,q,Q,v)})},(0,d.pi)((0,d.pi)({},r),{callback:function(){e.attr("path",a)}}))}}function ld(e,r,t){var n=te(t.coordinate,20),i=n.type,a=n.startState,o=n.endState,s=e.setClip({type:i,attrs:a});s.animate(o,(0,d.pi)((0,d.pi)({},r),{callback:function(){e&&!e.get("destroyed")&&e.set("clipShape",null),s.remove(!0)}}))}function Sl(e,r,t){if(e.isGroup())(0,c.S6)(e.getChildren(),function(s){Sl(s,r,t)});else{var n=e.getBBox(),i=(n.minX+n.maxX)/2,a=(n.minY+n.maxY)/2;if(e.applyToMatrix([i,a,1]),t==="zoomIn"){var o=bn.vs(e.getMatrix(),[["t",-i,-a],["s",.01,.01],["t",i,a]]);e.setMatrix(o),e.animate({matrix:bn.vs(e.getMatrix(),[["t",-i,-a],["s",100,100],["t",i,a]])},r)}else e.animate({matrix:bn.vs(e.getMatrix(),[["t",-i,-a],["s",.01,.01],["t",i,a]])},(0,d.pi)((0,d.pi)({},r),{callback:function(){e.remove(!0)}}))}}function ud(e,r,t){Sl(e,r,"zoomIn")}function cd(e,r,t){Sl(e,r,"zoomOut")}function wa(e){return[Tt.TOP,Tt.BOTTOM].includes(e)?{offsetX:0,offsetY:e===Tt.TOP?-8:8,style:{textAlign:"center",textBaseline:e===Tt.TOP?"bottom":"top"}}:[Tt.LEFT,Tt.RIGHT].includes(e)?{offsetX:e===Tt.LEFT?-8:8,offsetY:0,style:{textAlign:e===Tt.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Ml(e,r,t){return{x:e.x+r*Math.cos(t),y:e.y+r*Math.sin(t)}}var fd=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,c.b$)({},e.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,n){var i=1/2,a={x:.5,y:.5},o=Math.PI*2/t,s=-1*Math.PI/2+o*n,l=i/(1+1/Math.sin(o/2)),u=Ml(a,i-l,s),h=Math.PI*5/4,v=Math.PI*1/4;return{start:Ml(u,l,h),end:Ml(u,l,v)}},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.generateFacets=function(t){var n=this,i=this.cfg,a=i.fields,o=i.type,s=(0,d.CR)(a,1),l=s[0];if(!l)throw new Error("No `fields` specified!");var u=this.getFieldValues(t,l),h=u.length,v=[];return u.forEach(function(p,y){var S=[{field:l,value:p,values:u}],E=(0,c.hX)(t,n.getFacetDataFilter(S)),O={type:o,data:E,region:n.getRegion(h,y),columnValue:p,columnField:l,columnIndex:y,columnValuesLength:h,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};v.push(O)}),v},r.prototype.getXAxisOption=function(t,n,i,a){return i},r.prototype.getYAxisOption=function(t,n,i,a){return i},r.prototype.renderTitle=function(){var t=this;(0,c.S6)(this.facets,function(n){var i=n.columnValue,a=n.view,o=(0,c.U2)(t.cfg.title,"formatter"),s=(0,c.b$)({position:["50%","0%"],content:o?o(i):i},wa(Tt.TOP),t.cfg.title);a.annotation().text(s)})},r}(Ie),hd=fd,vd=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,c.b$)({},e.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.generateFacets=function(t){var n=this,i=this.cfg.fields,a=this.cfg.cols,o=(0,d.CR)(i,1),s=o[0];if(!s)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,s),u=l.length;a=a||u;var h=this.getPageCount(u,a),v=[];return l.forEach(function(p,y){var S=n.getRowCol(y,a),E=S.row,O=S.col,D=[{field:s,value:p,values:l}],X=(0,c.hX)(t,n.getFacetDataFilter(D)),q={type:n.cfg.type,data:X,region:n.getRegion(h,a,O,E),columnValue:p,rowValue:p,columnField:s,rowField:null,columnIndex:O,rowIndex:E,columnValuesLength:a,rowValuesLength:h,total:u};v.push(q)}),v},r.prototype.getXAxisOption=function(t,n,i,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?(0,d.pi)((0,d.pi)({},i),{label:null,title:null}):i},r.prototype.getYAxisOption=function(t,n,i,a){return a.columnIndex!==0?(0,d.pi)((0,d.pi)({},i),{title:null,label:null}):i},r.prototype.renderTitle=function(){var t=this;(0,c.S6)(this.facets,function(n){var i=n.columnValue,a=n.view,o=(0,c.U2)(t.cfg.title,"formatter"),s=(0,c.b$)({position:["50%","0%"],content:o?o(i):i},wa(Tt.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.getPageCount=function(t,n){return Math.floor((t+n-1)/n)},r.prototype.getRowCol=function(t,n){var i=Math.floor(t/n),a=t%n;return{row:i,col:a}},r}(Ie),pd=vd,dd=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,c.b$)({},e.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,d.pi)({},e.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,d.pi)({},e.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.generateFacets=function(t){for(var n=this.cfg,i=n.fields,a=n.type,o=i.length,s=o,l=[],u=0;u<s;u++)for(var h=i[u],v=0;v<o;v++){var p=i[v],y={type:a,data:t,region:this.getRegion(o,s,u,v),columnValue:h,rowValue:p,columnField:h,rowField:p,columnIndex:u,rowIndex:v,columnValuesLength:s,rowValuesLength:o};l.push(y)}return l},r.prototype.getXAxisOption=function(t,n,i,a){return a.rowIndex!==a.rowValuesLength-1?(0,d.pi)((0,d.pi)({},i),{label:null,title:null}):i},r.prototype.getYAxisOption=function(t,n,i,a){return a.columnIndex!==0?(0,d.pi)((0,d.pi)({},i),{title:null,label:null}):i},r.prototype.renderTitle=function(){var t=this;(0,c.S6)(this.facets,function(n,i){var a=n.columnIndex,o=n.rowIndex,s=n.columnValuesLength,l=n.rowValuesLength,u=n.columnValue,h=n.rowValue,v=n.view;if(o===0){var p=(0,c.U2)(t.cfg.columnTitle,"formatter"),y=(0,c.b$)({position:["50%","0%"],content:p?p(u):u},wa(Tt.TOP),t.cfg.columnTitle);v.annotation().text(y)}if(a===s-1){var p=(0,c.U2)(t.cfg.rowTitle,"formatter"),y=(0,c.b$)({position:["100%","50%"],content:p?p(h):h},wa(Tt.RIGHT),t.cfg.rowTitle);v.annotation().text(y)}})},r}(Ie),gd=dd,yd=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,c.b$)({},e.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,n){this.cfg.transpose?n.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():n.rowIndex%2!=0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.generateFacets=function(t){var n=this,i=(0,d.CR)(this.cfg.fields,1),a=i[0],o=[],s=1,l=1,u=[""],h=[""],v,p;return this.cfg.transpose?(v=a,u=this.getFieldValues(t,v).slice(0,2),s=u.length):(p=a,h=this.getFieldValues(t,p).slice(0,2),l=h.length),u.forEach(function(y,S){h.forEach(function(E,O){var D=[{field:v,value:y,values:u},{field:p,value:E,values:h}],X=(0,c.hX)(t,n.getFacetDataFilter(D)),q={type:n.cfg.type,data:X,region:n.getRegion(l,s,S,O),columnValue:y,rowValue:E,columnField:v,rowField:p,columnIndex:S,rowIndex:O,columnValuesLength:s,rowValuesLength:l};o.push(q)})}),o},r.prototype.getXAxisOption=function(t,n,i,a){return a.columnIndex===1||a.rowIndex===1?(0,d.pi)((0,d.pi)({},i),{label:null,title:null}):i},r.prototype.getYAxisOption=function(t,n,i,a){return i},r.prototype.renderTitle=function(){var t=this;(0,c.S6)(this.facets,function(n,i){var a=n.columnValue,o=n.rowValue,s=n.view,l=(0,c.U2)(t.cfg.title,"formatter");if(t.cfg.transpose){var u=(0,c.b$)({position:["50%","0%"],content:l?l(a):a},wa(Tt.TOP),t.cfg.title);s.annotation().text(u)}else{var u=(0,c.b$)({position:["100%","50%"],content:l?l(o):o},wa(Tt.RIGHT),t.cfg.title);s.annotation().text(u)}})},r}(Ie),md=yd,xd=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.getDefaultCfg=function(){return(0,c.b$)({},e.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,d.pi)({},e.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,d.pi)({},e.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var n=this,i=(0,d.CR)(this.cfg.fields,2),a=i[0],o=i[1],s=[],l=1,u=1,h=[""],v=[""];return a&&(h=this.getFieldValues(t,a),l=h.length),o&&(v=this.getFieldValues(t,o),u=v.length),h.forEach(function(p,y){v.forEach(function(S,E){var O=[{field:a,value:p,values:h},{field:o,value:S,values:v}],D=(0,c.hX)(t,n.getFacetDataFilter(O)),X={type:n.cfg.type,data:D,region:n.getRegion(u,l,y,E),columnValue:p,rowValue:S,columnField:a,rowField:o,columnIndex:y,rowIndex:E,columnValuesLength:l,rowValuesLength:u};s.push(X)})}),s},r.prototype.renderTitle=function(){var t=this;(0,c.S6)(this.facets,function(n,i){var a=n.columnIndex,o=n.rowIndex,s=n.columnValuesLength,l=n.columnValue,u=n.rowValue,h=n.view;if(o===0){var v=(0,c.U2)(t.cfg.columnTitle,"formatter"),p=(0,c.b$)({position:["50%","0%"],content:v?v(l):l},wa(Tt.TOP),t.cfg.columnTitle);h.annotation().text(p)}if(a===s-1){var v=(0,c.U2)(t.cfg.rowTitle,"formatter"),p=(0,c.b$)({position:["100%","50%"],content:v?v(u):u},wa(Tt.RIGHT),t.cfg.rowTitle);h.annotation().text(p)}})},r.prototype.getXAxisOption=function(t,n,i,a){return a.rowIndex!==a.rowValuesLength-1?(0,d.pi)((0,d.pi)({},i),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?(0,d.pi)((0,d.pi)({},i),{title:null}):i},r.prototype.getYAxisOption=function(t,n,i,a){return a.columnIndex!==0?(0,d.pi)((0,d.pi)({},i),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?(0,d.pi)((0,d.pi)({},i),{title:null}):i},r}(Ie),wd=xd,Sd=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.init=function(){e.prototype.init.call(this),this.view.on(se.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return(0,c.b$)({},e.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){var n=this.cfg.fields;if(!n.length)throw new Error("Please specify for the fields for rootFacet!");var i=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return i.push(a),a.children=this.getChildFacets(t,1,i),this.setRegion(i),i},r.prototype.setRegion=function(t){var n=this;this.forceColIndex(t),t.forEach(function(i){i.region=n.getRegion(i.rowValuesLength,i.columnValuesLength,i.columnIndex,i.rowIndex)})},r.prototype.getRegion=function(t,n,i,a){var o=1/n,s=1/t,l={x:o*i,y:s*a},u={x:l.x+o,y:l.y+s*2/3};return{start:l,end:u}},r.prototype.forceColIndex=function(t){var n,i,a=this,o=[],s=0;t.forEach(function(S){a.isLeaf(S)&&(o.push(S),S.columnIndex=s,s++)}),o.forEach(function(S){S.columnValuesLength=o.length});for(var l=this.cfg.fields.length,u=l-1;u>=0;u--){var h=this.getFacetsByLevel(t,u);try{for(var v=(n=void 0,(0,d.XA)(h)),p=v.next();!p.done;p=v.next()){var y=p.value;this.isLeaf(y)||(y.originColIndex=y.columnIndex,y.columnIndex=this.getRegionIndex(y.children),y.columnValuesLength=o.length)}}catch(S){n={error:S}}finally{try{p&&!p.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}}},r.prototype.getFacetsByLevel=function(t,n){var i=[];return t.forEach(function(a){a.rowIndex===n&&i.push(a)}),i},r.prototype.getRegionIndex=function(t){var n=t[0],i=t[t.length-1];return(i.columnIndex-n.columnIndex)/2+n.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,n,i){var a=this,o=this.cfg.fields,s=o.length;if(!(s<n)){var l=[],u=o[n-1],h=this.getFieldValues(t,u);return h.forEach(function(v,p){var y=[{field:u,value:v,values:h}],S=t.filter(a.getFacetDataFilter(y));if(S.length){var E={type:a.cfg.type,data:S,region:null,columnValue:v,rowValue:"",columnField:u,rowField:"",columnIndex:p,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:n,children:a.getChildFacets(S,n+1,i)};l.push(E),i.push(E)}}),l}},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;(0,c.S6)(this.facets,function(n){var i=n.columnValue,a=n.view,o=(0,c.U2)(t.cfg.title,"formatter"),s=(0,c.b$)({position:["50%","0%"],content:o?o(i):i},wa(Tt.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.drawLines=function(t){var n=this;t.forEach(function(i){if(!n.isLeaf(i)){var a=i.children;n.addFacetLines(i,a)}})},r.prototype.addFacetLines=function(t,n){var i=this,a=t.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};n.forEach(function(l){var u=l.view.coordinateBBox,h={x:u.bl.x+(u.tr.x-u.bl.x)/2,y:u.tr.y},v={x:s.x,y:s.y+(h.y-s.y)/2},p={x:h.x,y:v.y};i.drawLine([s,v,p,h])})},r.prototype.getPath=function(t){var n=[],i=this.cfg.line.smooth;return i?(n.push(["M",t[0].x,t[0].y]),n.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){o===0?n.push(["M",a.x,a.y]):n.push(["L",a.x,a.y])}),n},r.prototype.drawLine=function(t){var n=this.getPath(t),i=this.cfg.line.style;this.container.addShape("path",{attrs:(0,c.f0)({path:n},i)})},r.prototype.getXAxisOption=function(t,n,i,a){return a.rowIndex!==a.rowValuesLength-1?(0,d.pi)((0,d.pi)({},i),{title:null,label:null}):i},r.prototype.getYAxisOption=function(t,n,i,a){return a.originColIndex!==0&&a.columnIndex!==0?(0,d.pi)((0,d.pi)({},i),{title:null,label:null}):i},r}(Ie),Md=Sd;function ac(e){var r=(0,d.ev)([],(0,d.CR)(e),!1);r.sort(function(n,i){return n-i});var t=r.length;return t===0?0:t%2==1?r[(t-1)/2]:(r[t/2]+r[t/2-1])/2}function bd(e){var r=(0,c.u4)(e,function(t,n){return t+=isNaN(n)||!(0,c.hj)(n)?0:n},0);return e.length===0?0:r/e.length}function ds(e,r){if(!r)return null;var t;switch(e){case"start":return 0;case"center":return .5;case"end":return 1;case"median":{t=r.isCategory?ac(r.values.map(function(n,i){return i})):ac(r.values);break}case"mean":{t=r.isCategory?(r.values.length-1)/2:bd(r.values);break}case"min":t=r.isCategory?0:r[e];break;case"max":t=r.isCategory?r.values.length-1:r[e];break;default:t=e;break}return r.scale(t)}var gs=["regionFilter","shape"],Cd=function(e){(0,d.ZT)(r,e);function r(t){var n=e.call(this,t)||this;return n.cache=new Map,n.foregroundContainer=n.view.getLayer(Ee.FORE).addGroup(),n.backgroundContainer=n.view.getLayer(Ee.BG).addGroup(),n.option=[],n}return Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){this.update()},r.prototype.render=function(){},r.prototype.update=function(){var t=this;this.onAfterRender(function(){var i=new Map;(0,c.S6)(t.option,function(a){if((0,c.q9)(gs,a.type)){var o=t.updateOrCreate(a);o&&i.set(t.getCacheKey(a),o)}}),t.cache=t.syncCache(i)});var n=new Map;(0,c.S6)(this.option,function(i){if(!(0,c.q9)(gs,i.type)){var a=t.updateOrCreate(i);a&&n.set(t.getCacheKey(i),a)}}),this.cache=this.syncCache(n)},r.prototype.clear=function(t){t===void 0&&(t=!1),e.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(n){t.push(n)}),t},r.prototype.clearComponents=function(){this.getComponents().forEach(function(t){t.component.destroy()}),this.cache.clear()},r.prototype.onAfterRender=function(t){this.view.getOptions().animate?this.view.geometries.forEach(function(n){n.animateOption&&n.once(Ye.AFTER_DRAW_ANIMATE,function(){t()})}):this.view.getRootView().once(se.AFTER_RENDER,function(){t()})},r.prototype.createAnnotation=function(t){var n=t.type,i=Pt.q6[(0,c.jC)(n)];if(i){var a=this.getAnnotationTheme(n),o=this.getAnnotationCfg(n,t,a);if(!o)return null;var s=new i(o);return{component:s,layer:this.isTop(o)?Ee.FORE:Ee.BG,direction:Tt.NONE,type:Ae.ANNOTATION,extra:t}}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation((0,d.pi)({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation((0,d.pi)({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation((0,d.pi)({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation((0,d.pi)({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation((0,d.pi)({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation((0,d.pi)({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation((0,d.pi)({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation((0,d.pi)({type:"regionFilter"},t))},r.prototype.shape=function(t){this.annotation((0,d.pi)({type:"shape"},t))},r.prototype.html=function(t){this.annotation((0,d.pi)({type:"html"},t))},r.prototype.parsePosition=function(t){var n,i,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=(0,c.mf)(t)?t.call(null,a,o):t,l=0,u=0;if((0,c.kJ)(s)){var h=(0,d.CR)(s,2),v=h[0],p=h[1];if((0,c.HD)(v)&&v.indexOf("%")!==-1&&!isNaN(v.slice(0,-1)))return this.parsePercentPosition(s);l=ds(v,a),u=ds(p,Object.values(o)[0])}else if(!(0,c.UM)(s))try{for(var y=(0,d.XA)((0,c.XP)(s)),S=y.next();!S.done;S=y.next()){var E=S.value,O=s[E];E===a.field&&(l=ds(O,a)),o[E]&&(u=ds(O,o[E]))}}catch(D){n={error:D}}finally{try{S&&!S.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}return isNaN(l)||isNaN(u)?null:this.view.getCoordinate().convert({x:l,y:u})},r.prototype.getRegionPoints=function(t,n){var i=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],l=a.field,u=this.view.getData(),h=(0,c.kJ)(t)?t[0]:t[l],v=(0,c.kJ)(n)?n[0]:n[l],p=[],y;return(0,c.S6)(u,function(S,E){if(S[l]===h&&(y=E),E>=y){var O=i.parsePosition([S[l],S[s.field]]);O&&p.push(O)}if(S[l]===v)return!1}),p},r.prototype.parsePercentPosition=function(t){var n=parseFloat(t[0])/100,i=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,l={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},u=a.getWidth()*n+l.x,h=a.getHeight()*i+l.y;return{x:u,y:h}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),n=t.start,i=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(n.x,i.x),y:Math.min(n.y,i.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},r.prototype.getAnnotationCfg=function(t,n,i){var a=this,o=this.view.getCoordinate(),s=this.view.getCanvas(),l={};if((0,c.UM)(n))return null;var u=n.start,h=n.end,v=n.position,p=this.parsePosition(u),y=this.parsePosition(h),S=this.parsePosition(v);if(["arc","image","line","region","regionFilter"].includes(t)&&(!p||!y))return null;if(["text","dataMarker","html"].includes(t)&&!S)return null;if(t==="arc"){var E=n,O=E.start,D=E.end,X=(0,d._T)(E,["start","end"]),q=Dt(o,p),Q=Dt(o,y);q>Q&&(Q=Math.PI*2+Q),l=(0,d.pi)((0,d.pi)({},X),{center:o.getCenter(),radius:lt(o,p),startAngle:q,endAngle:Q})}else if(t==="image"){var pt=n,Wt=pt.start,Kt=pt.end,X=(0,d._T)(pt,["start","end"]);l=(0,d.pi)((0,d.pi)({},X),{start:p,end:y,src:n.src})}else if(t==="line"){var ae=n,Fe=ae.start,ve=ae.end,X=(0,d._T)(ae,["start","end"]);l=(0,d.pi)((0,d.pi)({},X),{start:p,end:y,text:(0,c.U2)(n,"text",null)})}else if(t==="region"){var Ze=n,dr=Ze.start,Or=Ze.end,X=(0,d._T)(Ze,["start","end"]);l=(0,d.pi)((0,d.pi)({},X),{start:p,end:y})}else if(t==="text"){var Rr=this.view.getData(),sn=n,We=sn.position,gr=sn.content,X=(0,d._T)(sn,["position","content"]),Pr=gr;(0,c.mf)(gr)&&(Pr=gr(Rr)),l=(0,d.pi)((0,d.pi)((0,d.pi)({},S),X),{content:Pr})}else if(t==="dataMarker"){var xr=n,Ir=xr.position,_r=xr.point,rn=xr.line,nn=xr.text,Yr=xr.autoAdjust,Qr=xr.direction,X=(0,d._T)(xr,["position","point","line","text","autoAdjust","direction"]);l=(0,d.pi)((0,d.pi)((0,d.pi)({},X),S),{coordinateBBox:this.getCoordinateBBox(),point:_r,line:rn,text:nn,autoAdjust:Yr,direction:Qr})}else if(t==="dataRegion"){var gn=n,Wn=gn.start,Zn=gn.end,la=gn.region,nn=gn.text,oo=gn.lineLength,X=(0,d._T)(gn,["start","end","region","text","lineLength"]);l=(0,d.pi)((0,d.pi)({},X),{points:this.getRegionPoints(Wn,Zn),region:la,text:nn,lineLength:oo})}else if(t==="regionFilter"){var Ea=n,Eo=Ea.start,Io=Ea.end,xv=Ea.apply,kC=Ea.color,X=(0,d._T)(Ea,["start","end","apply","color"]),PC=this.view.geometries,wv=[],Fu=function(ua){!ua||(ua.isGroup()?ua.getChildren().forEach(function(Qo){return Fu(Qo)}):wv.push(ua))};(0,c.S6)(PC,function(ua){xv?(0,c.FX)(xv,ua.type)&&(0,c.S6)(ua.elements,function(Qo){Fu(Qo.shape)}):(0,c.S6)(ua.elements,function(Qo){Fu(Qo.shape)})}),l=(0,d.pi)((0,d.pi)({},X),{color:kC,shapes:wv,start:p,end:y})}else if(t==="shape"){var Sv=n,DC=Sv.render,Eu=(0,d._T)(Sv,["render"]),OC=function(RC){if((0,c.mf)(n.render))return DC(RC,a.view,{parsePosition:a.parsePosition.bind(a)})};l=(0,d.pi)((0,d.pi)({},Eu),{render:OC})}else if(t==="html"){var Iu=n,Lu=Iu.html,CA=Iu.position,Eu=(0,d._T)(Iu,["html","position"]),BC=function(ua){return(0,c.mf)(Lu)?Lu(ua,a.view):Lu};l=(0,d.pi)((0,d.pi)((0,d.pi)({},Eu),S),{parent:s.get("el").parentNode,html:BC})}var Na=(0,c.b$)({},i,(0,d.pi)((0,d.pi)({},l),{top:n.top,style:n.style,offsetX:n.offsetX,offsetY:n.offsetY}));return t!=="html"&&(Na.container=this.getComponentContainer(Na)),Na.animate=this.view.getOptions().animate&&Na.animate&&(0,c.U2)(n,"animate",Na.animate),Na.animateOption=(0,c.b$)({},bt,Na.animateOption,n.animateOption),Na},r.prototype.isTop=function(t){return(0,c.U2)(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return(0,c.U2)(this.view.getTheme(),["components","annotation",t],{})},r.prototype.updateOrCreate=function(t){var n=this.cache.get(this.getCacheKey(t));if(n){var i=t.type,a=this.getAnnotationTheme(i),o=this.getAnnotationCfg(i,t,a);o&&st(o,["container"]),n.component.update((0,d.pi)((0,d.pi)({},o||{}),{visible:!!o})),(0,c.q9)(gs,t.type)&&n.component.render()}else n=this.createAnnotation(t),n&&(n.component.init(),(0,c.q9)(gs,t.type)&&n.component.render());return n},r.prototype.syncCache=function(t){var n=this,i=new Map(this.cache);return t.forEach(function(a,o){i.set(o,a)}),i.forEach(function(a,o){(0,c.sE)(n.option,function(s){return o===n.getCacheKey(s)})||(a.component.destroy(),i.delete(o))}),i},r.prototype.getCacheKey=function(t){return t},r}(g),Ad=Cd;function oc(e,r){var t=(0,c.b$)({},(0,c.U2)(e,["components","axis","common"]),(0,c.U2)(e,["components","axis",r]));return(0,c.U2)(t,["grid"],{})}function ys(e,r,t,n){var i=[],a=r.getTicks();return e.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,l){var u=s.value;if(n)i.push({points:[e.convert(t==="y"?{x:0,y:u}:{x:u,y:0}),e.convert(t==="y"?{x:1,y:u}:{x:u,y:1})]});else if(l){var h=o.value,v=(h+u)/2;i.push({points:[e.convert(t==="y"?{x:0,y:v}:{x:v,y:0}),e.convert(t==="y"?{x:1,y:v}:{x:v,y:1})]})}return s},a[0]),i}function bl(e,r,t,n,i){var a=r.values.length,o=[],s=t.getTicks();return s.reduce(function(l,u){var h=l?l.value:u.value,v=u.value,p=(h+v)/2;return i==="x"?o.push({points:[e.convert({x:n?v:p,y:0}),e.convert({x:n?v:p,y:1})]}):o.push({points:(0,c.UI)(Array(a+1),function(y,S){return e.convert({x:S/a,y:n?v:p})})}),u},s[0]),o}function sc(e,r){var t=(0,c.U2)(r,"grid");if(t===null)return!1;var n=(0,c.U2)(e,"grid");return!(t===void 0&&n===null)}var ka=["container"],lc=(0,d.pi)((0,d.pi)({},bt),{appear:null}),Td=function(e){(0,d.ZT)(r,e);function r(t){var n=e.call(this,t)||this;return n.cache=new Map,n.gridContainer=n.view.getLayer(Ee.BG).addGroup(),n.gridForeContainer=n.view.getLayer(Ee.FORE).addGroup(),n.axisContainer=n.view.getLayer(Ee.BG).addGroup(),n.axisForeContainer=n.view.getLayer(Ee.FORE).addGroup(),n}return Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,n=this.view.getCoordinate();(0,c.S6)(this.getComponents(),function(i){var a=i.component,o=i.direction,s=i.type,l=i.extra,u=l.dim,h=l.scale,v=l.alignTick,p;if(s===Ae.AXIS)n.isPolar?u==="x"?p=n.isTransposed?Qe(n,o):St(n):u==="y"&&(p=n.isTransposed?St(n):Qe(n,o)):p=Qe(n,o);else if(s===Ae.GRID)if(n.isPolar){var y=void 0;n.isTransposed?y=u==="x"?bl(n,t.view.getYScales()[0],h,v,u):ys(n,h,u,v):y=u==="x"?ys(n,h,u,v):bl(n,t.view.getXScale(),h,v,u),p={items:y,center:t.view.getCoordinate().getCenter()}}else p={items:ys(n,h,u,v)};a.update(p)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var n=new Map;this.cache.forEach(function(i,a){t.has(a)?n.set(a,i):i.component.destroy()}),this.cache=n},r.prototype.clear=function(){e.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(n){t.push(n)}),t},r.prototype.updateXAxes=function(t){var n=this.view.getXScale();if(!(!n||n.isIdentity)){var i=$t(this.option,n.field);if(i!==!1){var a=ne(i,Tt.BOTTOM),o=Ee.BG,s="x",l=this.view.getCoordinate(),u=this.getId("axis",n.field),h=this.getId("grid",n.field);if(l.isRect){var v=this.cache.get(u);if(v){var p=this.getLineAxisCfg(n,i,a);st(p,ka),v.component.update(p),t.set(u,v)}else v=this.createLineAxis(n,i,o,a,s),this.cache.set(u,v),t.set(u,v);var y=this.cache.get(h);if(y){var p=this.getLineGridCfg(n,i,a,s);st(p,ka),y.component.update(p),t.set(h,y)}else y=this.createLineGrid(n,i,o,a,s),y&&(this.cache.set(h,y),t.set(h,y))}else if(l.isPolar){var v=this.cache.get(u);if(v){var p=l.isTransposed?this.getLineAxisCfg(n,i,Tt.RADIUS):this.getCircleAxisCfg(n,i,a);st(p,ka),v.component.update(p),t.set(u,v)}else{if(l.isTransposed){if((0,c.o8)(i))return;v=this.createLineAxis(n,i,o,Tt.RADIUS,s)}else v=this.createCircleAxis(n,i,o,a,s);this.cache.set(u,v),t.set(u,v)}var y=this.cache.get(h);if(y){var p=l.isTransposed?this.getCircleGridCfg(n,i,Tt.RADIUS,s):this.getLineGridCfg(n,i,Tt.CIRCLE,s);st(p,ka),y.component.update(p),t.set(h,y)}else{if(l.isTransposed){if((0,c.o8)(i))return;y=this.createCircleGrid(n,i,o,Tt.RADIUS,s)}else y=this.createLineGrid(n,i,o,Tt.CIRCLE,s);y&&(this.cache.set(h,y),t.set(h,y))}}}}},r.prototype.updateYAxes=function(t){var n=this,i=this.view.getYScales();(0,c.S6)(i,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,l=$t(n.option,s);if(l!==!1){var u=Ee.BG,h="y",v=n.getId("axis",s),p=n.getId("grid",s),y=n.view.getCoordinate();if(y.isRect){var S=ne(l,o===0?Tt.LEFT:Tt.RIGHT),E=n.cache.get(v);if(E){var O=n.getLineAxisCfg(a,l,S);st(O,ka),E.component.update(O),t.set(v,E)}else E=n.createLineAxis(a,l,u,S,h),n.cache.set(v,E),t.set(v,E);var D=n.cache.get(p);if(D){var O=n.getLineGridCfg(a,l,S,h);st(O,ka),D.component.update(O),t.set(p,D)}else D=n.createLineGrid(a,l,u,S,h),D&&(n.cache.set(p,D),t.set(p,D))}else if(y.isPolar){var E=n.cache.get(v);if(E){var O=y.isTransposed?n.getCircleAxisCfg(a,l,Tt.CIRCLE):n.getLineAxisCfg(a,l,Tt.RADIUS);st(O,ka),E.component.update(O),t.set(v,E)}else{if(y.isTransposed){if((0,c.o8)(l))return;E=n.createCircleAxis(a,l,u,Tt.CIRCLE,h)}else E=n.createLineAxis(a,l,u,Tt.RADIUS,h);n.cache.set(v,E),t.set(v,E)}var D=n.cache.get(p);if(D){var O=y.isTransposed?n.getLineGridCfg(a,l,Tt.CIRCLE,h):n.getCircleGridCfg(a,l,Tt.RADIUS,h);st(O,ka),D.component.update(O),t.set(p,D)}else{if(y.isTransposed){if((0,c.o8)(l))return;D=n.createLineGrid(a,l,u,Tt.CIRCLE,h)}else D=n.createCircleGrid(a,l,u,Tt.RADIUS,h);D&&(n.cache.set(p,D),t.set(p,D))}}}}})},r.prototype.createLineAxis=function(t,n,i,a,o){var s={component:new xe(this.getLineAxisCfg(t,n,a)),layer:i,direction:a===Tt.RADIUS?Tt.NONE:a,type:Ae.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createLineGrid=function(t,n,i,a,o){var s=this.getLineGridCfg(t,n,a,o);if(s){var l={component:new Ve(s),layer:i,direction:Tt.NONE,type:Ae.GRID,extra:{dim:o,scale:t,alignTick:(0,c.U2)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.createCircleAxis=function(t,n,i,a,o){var s={component:new oe(this.getCircleAxisCfg(t,n,a)),layer:i,direction:a,type:Ae.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createCircleGrid=function(t,n,i,a,o){var s=this.getCircleGridCfg(t,n,a,o);if(s){var l={component:new Xe(s),layer:i,direction:Tt.NONE,type:Ae.GRID,extra:{dim:o,scale:t,alignTick:(0,c.U2)(s,"alignTick",!0)}};return l.component.init(),l}},r.prototype.getLineAxisCfg=function(t,n,i){var a=(0,c.U2)(n,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),s=Qe(o,i),l=ge(t,n),u=N(this.view.getTheme(),i),h=(0,c.U2)(n,["title"])?(0,c.b$)({title:{style:{text:l}}},{title:ct(this.view.getTheme(),i,n.title)},n):n,v=(0,c.b$)((0,d.pi)((0,d.pi)({container:a},s),{ticks:t.getTicks().map(function(q){return{id:"".concat(q.tickValue),name:q.text,value:q.value}}),verticalFactor:o.isPolar?it(s,o.getCenter())*-1:it(s,o.getCenter()),theme:u}),u,h),p=this.getAnimateCfg(v),y=p.animate,S=p.animateOption;v.animateOption=S,v.animate=y;var E=Mt(s),O=(0,c.U2)(v,"verticalLimitLength",E?1/3:1/2);if(O<=1){var D=this.view.getCanvas().get("width"),X=this.view.getCanvas().get("height");v.verticalLimitLength=O*(E?D:X)}return v},r.prototype.getLineGridCfg=function(t,n,i,a){if(!!sc(N(this.view.getTheme(),i),n)){var o=oc(this.view.getTheme(),i),s=(0,c.b$)({container:(0,c.U2)(n,["top"])?this.gridForeContainer:this.gridContainer},o,(0,c.U2)(n,"grid"),this.getAnimateCfg(n));return s.items=ys(this.view.getCoordinate(),t,a,(0,c.U2)(s,"alignTick",!0)),s}},r.prototype.getCircleAxisCfg=function(t,n,i){var a=(0,c.U2)(n,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(E){return{id:"".concat(E.tickValue),name:E.text,value:E.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.pop();var l=ge(t,n),u=N(this.view.getTheme(),Tt.CIRCLE),h=(0,c.U2)(n,["title"])?(0,c.b$)({title:{style:{text:l}}},{title:ct(this.view.getTheme(),i,n.title)},n):n,v=(0,c.b$)((0,d.pi)((0,d.pi)({container:a},St(this.view.getCoordinate())),{ticks:s,verticalFactor:1,theme:u}),u,h),p=this.getAnimateCfg(v),y=p.animate,S=p.animateOption;return v.animate=y,v.animateOption=S,v},r.prototype.getCircleGridCfg=function(t,n,i,a){if(!!sc(N(this.view.getTheme(),i),n)){var o=oc(this.view.getTheme(),Tt.RADIUS),s=(0,c.b$)({container:(0,c.U2)(n,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,(0,c.U2)(n,"grid"),this.getAnimateCfg(n)),l=(0,c.U2)(s,"alignTick",!0),u=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=bl(this.view.getCoordinate(),u,t,l,a),s}},r.prototype.getId=function(t,n){var i=this.view.getCoordinate();return"".concat(t,"-").concat(n,"-").concat(i.type)},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,c.U2)(t,"animate"),animateOption:t&&t.animateOption?(0,c.b$)({},lc,t.animateOption):lc}},r}(g),Fd=Td;function Pa(e,r,t){return t===Tt.TOP?[e.minX+e.width/2-r.width/2,e.minY]:t===Tt.BOTTOM?[e.minX+e.width/2-r.width/2,e.maxY-r.height]:t===Tt.LEFT?[e.minX,e.minY+e.height/2-r.height/2]:t===Tt.RIGHT?[e.maxX-r.width,e.minY+e.height/2-r.height/2]:t===Tt.TOP_LEFT||t===Tt.LEFT_TOP?[e.tl.x,e.tl.y]:t===Tt.TOP_RIGHT||t===Tt.RIGHT_TOP?[e.tr.x-r.width,e.tr.y]:t===Tt.BOTTOM_LEFT||t===Tt.LEFT_BOTTOM?[e.bl.x,e.bl.y-r.height]:t===Tt.BOTTOM_RIGHT||t===Tt.RIGHT_BOTTOM?[e.br.x-r.width,e.br.y-r.height]:[0,0]}function Ed(e,r){if(r.isTransposed)switch(e){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return e}function uc(e){return e===DIRECTION.LEFT?DIRECTION.RIGHT:e===DIRECTION.RIGHT?DIRECTION.LEFT:e}function cc(e){return e===DIRECTION.TOP?DIRECTION.BOTTOM:e===DIRECTION.BOTTOM?DIRECTION.TOP:e}function Id(e,r){var t=r.matrix[0],n=r.matrix[4],i=e;return t<0&&(i=uc(i)),n<0&&(i=cc(i)),i}function Ld(e,r){var t=e;return r.isReflect("x")&&(t=uc(t)),r.isReflect("y")&&(t=cc(t)),t}function $C(e,r){var t=e;return t=Ed(t,r),t=Id(t,r),t=Ld(t,r),t}function fc(e,r){return(0,c.jn)(e)?e===!1?!1:{}:(0,c.U2)(e,[r],e)}function ms(e){return(0,c.U2)(e,"position",Tt.BOTTOM)}var kd=function(e){(0,d.ZT)(r,e);function r(t){var n=e.call(this,t)||this;return n.container=n.view.getLayer(Ee.FORE).addGroup(),n}return Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,(0,c.S6)(this.components,function(n){var i=n.component,a=n.direction,o=dt(a),s=i.get("maxWidthRatio"),l=i.get("maxHeightRatio"),u=t.getCategoryLegendSizeCfg(o,s,l),h=i.get("maxWidth"),v=i.get("maxHeight");i.update({maxWidth:Math.min(u.maxWidth,h||0),maxHeight:Math.min(u.maxHeight,v||0)});var p=i.get("padding"),y=i.getLayoutBBox(),S=new qt(y.x,y.y,y.width,y.height).expand(p),E=(0,d.CR)(Pa(t.view.viewBBox,S,a),2),O=E[0],D=E[1],X=(0,d.CR)(Pa(t.layoutBBox,S,a),2),q=X[0],Q=X[1],pt=0,Wt=0;a.startsWith("top")||a.startsWith("bottom")?(pt=O,Wt=Q):(pt=q,Wt=D),i.setLocation({x:pt+p[3],y:Wt+p[0]}),t.layoutBBox=t.layoutBBox.cut(S,a)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var n={},i=function(p,y,S){var E=t.getId(S.field),O=t.getComponentById(E);if(O){var D=void 0,X=fc(t.option,S.field);X!==!1&&((0,c.U2)(X,"custom")?D=t.getCategoryCfg(p,y,S,X,!0):S.isLinear?D=t.getContinuousCfg(p,y,S,X):S.isCategory&&(D=t.getCategoryCfg(p,y,S,X))),D&&(st(D,["container"]),O.direction=ms(X),O.component.update(D),n[E]=!0)}else{var q=t.createFieldLegend(p,y,S);q&&(q.component.init(),t.components.push(q),n[E]=!0)}};if((0,c.U2)(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);st(s,["container"]),o.component.update(s),n[a]=!0}else{var l=this.createCustomLegend(void 0,void 0,void 0,this.option);if(l){l.init();var u=Ee.FORE,h=ms(this.option);this.components.push({id:a,component:l,layer:u,direction:h,type:Ae.LEGEND,extra:void 0}),n[a]=!0}}}else this.loopLegends(i);var v=[];(0,c.S6)(this.getComponents(),function(p){n[p.id]?v.push(p):p.component.destroy()}),this.components=v},r.prototype.clear=function(){e.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var n=this,i=t.geometries;return(0,c.S6)(t.views,function(a){i=i.concat(n.getGeometries(a))}),i},r.prototype.loopLegends=function(t){var n=this.view.getRootView()===this.view;if(!!n){var i=this.getGeometries(this.view),a={};(0,c.S6)(i,function(o){var s=o.getGroupAttributes();(0,c.S6)(s,function(l){var u=l.getScale(l.type);!u||u.type==="identity"||a[u.field]||(t(o,l,u),a[u.field]=!0)})})}},r.prototype.createFieldLegend=function(t,n,i){var a,o=fc(this.option,i.field),s=Ee.FORE,l=ms(o);if(o!==!1&&((0,c.U2)(o,"custom")?a=this.createCustomLegend(t,n,i,o):i.isLinear?a=this.createContinuousLegend(t,n,i,o):i.isCategory&&(a=this.createCategoryLegend(t,n,i,o))),a)return a.set("field",i.field),{id:this.getId(i.field),component:a,layer:s,direction:l,type:Ae.LEGEND,extra:{scale:i}}},r.prototype.createCustomLegend=function(t,n,i,a){var o=this.getCategoryCfg(t,n,i,a,!0);return new Re(o)},r.prototype.createContinuousLegend=function(t,n,i,a){var o=this.getContinuousCfg(t,n,i,st(a,["value"]));return new Ke(o)},r.prototype.createCategoryLegend=function(t,n,i,a){var o=this.getCategoryCfg(t,n,i,a);return new Re(o)},r.prototype.getContinuousCfg=function(t,n,i,a){var o=i.getTicks(),s=(0,c.sE)(o,function(E){return E.value===0}),l=(0,c.sE)(o,function(E){return E.value===1}),u=o.map(function(E){var O=E.value,D=E.tickValue,X=n.mapping(i.invert(O)).join("");return{value:D,attrValue:X,color:X,scaleValue:O}});s||u.push({value:i.min,attrValue:n.mapping(i.invert(0)).join(""),color:n.mapping(i.invert(0)).join(""),scaleValue:0}),l||u.push({value:i.max,attrValue:n.mapping(i.invert(1)).join(""),color:n.mapping(i.invert(1)).join(""),scaleValue:1}),u.sort(function(E,O){return E.value-O.value});var h={min:(0,c.YM)(u).value,max:(0,c.Z$)(u).value,colors:[],rail:{type:n.type},track:{}};n.type==="size"&&(h.track={style:{fill:n.type==="size"?this.view.getTheme().defaultColor:void 0}}),n.type==="color"&&(h.colors=u.map(function(E){return E.attrValue}));var v=this.container,p=ms(a),y=dt(p),S=(0,c.U2)(a,"title");return S&&(S=(0,c.b$)({text:nr(i)},S)),h.container=v,h.layout=y,h.title=S,h.animateOption=bt,this.mergeLegendCfg(h,a,"continuous")},r.prototype.getCategoryCfg=function(t,n,i,a,o){var s=this.container,l=(0,c.U2)(a,"position",Tt.BOTTOM),u=ye(this.view.getTheme(),l),h=(0,c.U2)(u,["marker"]),v=(0,c.U2)(a,"marker"),p=dt(l),y=(0,c.U2)(u,["pageNavigator"]),S=(0,c.U2)(a,"pageNavigator"),E=o?le(h,v,a.items):ce(this.view,t,n,h,v),O=(0,c.U2)(a,"title");O&&(O=(0,c.b$)({text:i?nr(i):""},O));var D=(0,c.U2)(a,"maxWidthRatio"),X=(0,c.U2)(a,"maxHeightRatio"),q=this.getCategoryLegendSizeCfg(p,D,X);q.container=s,q.layout=p,q.items=E,q.title=O,q.animateOption=bt,q.pageNavigator=(0,c.b$)({},y,S);var Q=this.mergeLegendCfg(q,a,l);Q.reversed&&Q.items.reverse();var pt=(0,c.U2)(Q,"maxItemWidth");return pt&&pt<=1&&(Q.maxItemWidth=this.view.viewBBox.width*pt),Q},r.prototype.mergeLegendCfg=function(t,n,i){var a=i.split("-")[0],o=ye(this.view.getTheme(),a);return(0,c.b$)({},o,t,n)},r.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},r.prototype.getComponentById=function(t){return(0,c.sE)(this.components,function(n){return n.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t,n,i){n===void 0&&(n=Pe),i===void 0&&(i=Pe);var a=this.view.viewBBox,o=a.width,s=a.height;return t==="vertical"?{maxWidth:o*n,maxHeight:s}:{maxWidth:o,maxHeight:s*i}},r}(g),Pd=kd,Dd=function(e){(0,d.ZT)(r,e);function r(t){var n=e.call(this,t)||this;return n.onChangeFn=c.ZT,n.resetMeasure=function(){n.clear()},n.onValueChange=function(i){var a=(0,d.CR)(i,2),o=a[0],s=a[1];n.start=o,n.end=s,n.changeViewData(o,s)},n.container=n.view.getLayer(Ee.FORE).addGroup(),n.onChangeFn=(0,c.P2)(n.onValueChange,20,{leading:!0}),n.width=0,n.view.on(se.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(se.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){e.prototype.destroy.call(this),this.view.off(se.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(se.BEFORE_CHANGE_SIZE,this.resetMeasure)},r.prototype.init=function(){},r.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),n=t.start,i=t.end;(0,c.UM)(this.start)&&(this.start=n,this.end=i);var a=this.view.getOptions().data;this.option&&!(0,c.xb)(a)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.start,t.end)},0)),this.slider){var n=this.view.coordinateBBox.width,i=this.slider.component.get("padding"),a=(0,d.CR)(i,4),o=a[0],s=a[1],l=a[2],u=a[3],h=this.slider.component.getLayoutBBox(),v=new qt(h.x,h.y,Math.min(h.width,n),h.height).expand(i),p=this.getMinMaxText(this.start,this.end),y=p.minText,S=p.maxText,E=(0,d.CR)(Pa(this.view.viewBBox,v,Tt.BOTTOM),2),O=E[0],D=E[1],X=(0,d.CR)(Pa(this.view.coordinateBBox,v,Tt.BOTTOM),2),q=X[0],Q=X[1];this.slider.component.update((0,d.pi)((0,d.pi)({},this.getSliderCfg()),{x:q+u,y:D+o,width:this.width,start:this.start,end:this.end,minText:y,maxText:S})),this.view.viewBBox=this.view.viewBBox.cut(v,Tt.BOTTOM)}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),n=new Pt.iR((0,d.pi)({container:this.container},t));return n.init(),{component:n,layer:Ee.FORE,direction:Tt.BOTTOM,type:Ae.SLIDER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var n=this.getMinMaxText(this.start,this.end),i=n.minText,a=n.maxText;t=(0,d.pi)((0,d.pi)({},t),{width:this.width,start:this.start,end:this.end,minText:i,maxText:a})}return this.slider.component.update(t),this.slider},r.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},r.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if((0,c.Kn)(this.option)){var n=(0,d.pi)({data:this.getData()},(0,c.U2)(this.option,"trendCfg",{}));t=(0,c.b$)({},t,this.getThemeOptions(),this.option),t=(0,d.pi)((0,d.pi)({},t),{trendCfg:n})}return t.start=(0,c.uZ)(Math.min((0,c.UM)(t.start)?0:t.start,(0,c.UM)(t.end)?1:t.end),0,1),t.end=(0,c.uZ)(Math.max((0,c.UM)(t.start)?0:t.start,(0,c.UM)(t.end)?1:t.end),0,1),t},r.prototype.getData=function(){var t=this.view.getOptions().data,n=(0,d.CR)(this.view.getYScales(),1),i=n[0],a=this.view.getGroupScales();if(a.length){var o=a[0],s=o.field,l=o.ticks;return t.reduce(function(u,h){return h[s]===l[0]&&u.push(h[i.field]),u},[])}return t.map(function(u){return u[i.field]||0})},r.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,c.U2)(t,["components","slider","common"],{})},r.prototype.getMinMaxText=function(t,n){var i=this.view.getOptions().data,a=this.view.getXScale(),o=!0,s=(0,c.I)(i,a.field);a.isLinear&&(s=s.sort());var l=o?s:s.reverse(),u=(0,c.dp)(i);if(!a||!u)return{};var h=(0,c.dp)(l),v=Math.floor(t*(h-1)),p=Math.floor(n*(h-1)),y=(0,c.U2)(l,[v]),S=(0,c.U2)(l,[p]),E=this.getSliderCfg().formatter;return E&&(y=E(y,i[v],v),S=E(S,i[p],p)),{minText:y,maxText:S}},r.prototype.changeViewData=function(t,n){var i=this.view.getOptions().data,a=this.view.getXScale(),o=(0,c.dp)(i);if(!(!a||!o)){var s=!0,l=(0,c.I)(i,a.field),u=this.view.getXScale().isLinear?l.sort(function(S,E){return Number(S)-Number(E)}):l,h=s?u:u.reverse(),v=(0,c.dp)(h),p=Math.floor(t*(v-1)),y=Math.floor(n*(v-1));this.view.filter(a.field,function(S,E){var O=h.indexOf(S);return O>-1?j(O,p,y):!0}),this.view.render(!0)}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},r}(g),Od=Dd,xs=0,hc=8,Bd=32,Rd=20,_d=function(e){(0,d.ZT)(r,e);function r(t){var n=e.call(this,t)||this;return n.onChangeFn=c.ZT,n.resetMeasure=function(){n.clear()},n.onValueChange=function(i){var a=i.ratio,o=n.getValidScrollbarCfg().animate;n.ratio=(0,c.uZ)(a,0,1);var s=n.view.getOptions().animate;o||n.view.animate(!1),n.changeViewData(n.getScrollRange(),!0),n.view.animate(s)},n.container=n.view.getLayer(Ee.FORE).addGroup(),n.onChangeFn=(0,c.P2)(n.onValueChange,20,{leading:!0}),n.trackLen=0,n.thumbLen=0,n.ratio=0,n.view.on(se.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(se.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object.defineProperty(r.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){e.prototype.destroy.call(this),this.view.off(se.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(se.BEFORE_CHANGE_SIZE,this.resetMeasure)},r.prototype.init=function(){},r.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},r.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)})),this.scrollbar){var n=this.view.coordinateBBox.width,i=this.scrollbar.component.get("padding"),a=this.scrollbar.component.getLayoutBBox(),o=new qt(a.x,a.y,Math.min(a.width,n),a.height).expand(i),s=this.getScrollbarComponentCfg(),l=void 0,u=void 0;if(s.isHorizontal){var h=(0,d.CR)(Pa(this.view.viewBBox,o,Tt.BOTTOM),2),v=h[0],p=h[1],y=(0,d.CR)(Pa(this.view.coordinateBBox,o,Tt.BOTTOM),2),S=y[0],E=y[1];l=S,u=p}else{var O=(0,d.CR)(Pa(this.view.viewBBox,o,Tt.RIGHT),2),v=O[0],p=O[1],D=(0,d.CR)(Pa(this.view.viewBBox,o,Tt.RIGHT),2),S=D[0],E=D[1];l=S,u=p}l+=i[3],u+=i[0],this.trackLen?this.scrollbar.component.update((0,d.pi)((0,d.pi)({},s),{x:l,y:u,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update((0,d.pi)((0,d.pi)({},s),{x:l,y:u})),this.view.viewBBox=this.view.viewBBox.cut(o,s.isHorizontal?Tt.BOTTOM:Tt.RIGHT)}},r.prototype.update=function(){this.render()},r.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},r.prototype.setValue=function(t){this.onValueChange({ratio:t})},r.prototype.getValue=function(){return this.ratio},r.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,c.U2)(t,["components","scrollbar","common"],{})},r.prototype.getScrollbarTheme=function(t){var n=(0,c.U2)(this.view.getTheme(),["components","scrollbar"]),i=t||{},a=i.thumbHighlightColor,o=(0,d._T)(i,["thumbHighlightColor"]);return{default:(0,c.b$)({},(0,c.U2)(n,["default","style"],{}),o),hover:(0,c.b$)({},(0,c.U2)(n,["hover","style"],{}),{thumbColor:a})}},r.prototype.measureScrollbar=function(){var t=this.view.getXScale(),n=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var i=this.getScrollbarComponentCfg(),a=i.trackLen,o=i.thumbLen;this.trackLen=a,this.thumbLen=o,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=n},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,c.uZ)(this.ratio,0,1)),n=Math.min(t+this.step-1,this.cnt-1);return[t,n]},r.prototype.changeViewData=function(t,n){var i=this,a=(0,d.CR)(t,2),o=a[0],s=a[1],l=this.getValidScrollbarCfg().type,u=l!=="vertical",h=(0,c.I)(this.data,this.xScaleCfg.field),v=this.view.getXScale().isLinear?h.sort(function(y,S){return Number(y)-Number(S)}):h,p=u?v:v.reverse();this.yScalesCfg.forEach(function(y){i.view.scale(y.field,{formatter:y.formatter,type:y.type,min:y.min,max:y.max,tickMethod:y.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(y){var S=p.indexOf(y);return S>-1?j(S,o,s):!0}),this.view.render(!0)},r.prototype.createScrollbar=function(){var t=this.getValidScrollbarCfg().type,n=t!=="vertical",i=new Pt.LW((0,d.pi)((0,d.pi)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return i.init(),{component:i,layer:Ee.FORE,direction:n?Tt.BOTTOM:Tt.RIGHT,type:Ae.SCROLLBAR}},r.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),n=this.trackLen?(0,d.pi)((0,d.pi)({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):(0,d.pi)({},t);return this.scrollbar.component.update(n),this.scrollbar},r.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,n=this.getValidScrollbarCfg(),i=n.type,a=n.categorySize,o=i!=="vertical";return Math.floor((o?t.width:t.height)/a)},r.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),n=this.getScrollbarData(),i=(0,c.I)(n,t.field);return(0,c.dp)(i)},r.prototype.getScrollbarComponentCfg=function(){var t=this.view,n=t.coordinateBBox,i=t.viewBBox,a=this.getValidScrollbarCfg(),o=a.type,s=a.padding,l=a.width,u=a.height,h=a.style,v=o!=="vertical",p=(0,d.CR)(s,4),y=p[0],S=p[1],E=p[2],O=p[3],D=v?{x:n.minX+O,y:i.maxY-u-E}:{x:i.maxX-l-S,y:n.minY+y},X=this.getStep(),q=this.getCnt(),Q=v?n.width-O-S:n.height-y-E,pt=Math.max(Q*(0,c.uZ)(X/q,0,1),Rd);return(0,d.pi)((0,d.pi)({},this.getThemeOptions()),{x:D.x,y:D.y,size:v?u:l,isHorizontal:v,trackLen:Q,thumbLen:pt,thumbOffset:0,theme:this.getScrollbarTheme(h)})},r.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:Bd,width:hc,height:hc,padding:[0,0,0,0],animate:!0,style:{}};return(0,c.Kn)(this.option)&&(t=(0,d.pi)((0,d.pi)({},t),this.option)),(!(0,c.Kn)(this.option)||!this.option.padding)&&(t.padding=t.type==="horizontal"?[xs,0,xs,0]:[0,xs,0,xs]),t},r.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),n=this.getValidScrollbarCfg(),i=this.view.getOptions().data||[];return t.isReflect("y")&&n.type==="vertical"&&(i=(0,d.ev)([],(0,d.CR)(i),!1).reverse()),i},r}(g),Nd=_d,zd={fill:"#CCD6EC",opacity:.3};function Vd(e,r,t){var n,i,a,o,s,l,u=Ha(e,r,t);if(u.length){u=(0,c.xH)(u);try{for(var h=(0,d.XA)(u),v=h.next();!v.done;v=h.next()){var p=v.value;try{for(var y=(a=void 0,(0,d.XA)(p)),S=y.next();!S.done;S=y.next()){var E=S.value,O=E.mappingData,D=O.x,X=O.y;E.x=(0,c.kJ)(D)?D[D.length-1]:D,E.y=(0,c.kJ)(X)?X[X.length-1]:X}}catch(ve){a={error:ve}}finally{try{S&&!S.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}}}catch(ve){n={error:ve}}finally{try{v&&!v.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}var q=t.shared;if(q===!1&&u.length>1){var Q=u[0],pt=Math.abs(r.y-Q[0].y);try{for(var Wt=(0,d.XA)(u),Kt=Wt.next();!Kt.done;Kt=Wt.next()){var ae=Kt.value,Fe=Math.abs(r.y-ae[0].y);Fe<=pt&&(Q=ae,pt=Fe)}}catch(ve){s={error:ve}}finally{try{Kt&&!Kt.done&&(l=Wt.return)&&l.call(Wt)}finally{if(s)throw s.error}}u=[Q]}return(0,c.jj)((0,c.xH)(u))}return[]}var Gd=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.show=function(t){var n=this.context.view,i=this.context.event,a=n.getController("tooltip").getTooltipCfg(),o=Vd(n,{x:i.x,y:i.y},a);if(!(0,c.Xy)(o,this.items)&&(this.items=o,o.length)){var s=n.getXScale().field,l=o[0].data[s],u=[],h=n.geometries;if((0,c.S6)(h,function(Pr){if(Pr.type==="interval"||Pr.type==="schema"){var xr=Pr.getElementsBy(function(Ir){var _r=Ir.getData();return _r[s]===l});u=u.concat(xr)}}),u.length){var v=n.getCoordinate(),p=u[0].shape.getCanvasBBox(),y=u[0].shape.getCanvasBBox(),S=p;(0,c.S6)(u,function(Pr){var xr=Pr.shape.getCanvasBBox();v.isTransposed?(xr.minY<p.minY&&(p=xr),xr.maxY>y.maxY&&(y=xr)):(xr.minX<p.minX&&(p=xr),xr.maxX>y.maxX&&(y=xr)),S.x=Math.min(xr.minX,S.minX),S.y=Math.min(xr.minY,S.minY),S.width=Math.max(xr.maxX,S.maxX)-S.x,S.height=Math.max(xr.maxY,S.maxY)-S.y});var E=n.backgroundGroup,O=n.coordinateBBox,D=void 0;if(v.isRect){var X=n.getXScale(),q=t||{},Q=q.appendRatio,pt=q.appendWidth;(0,c.UM)(pt)&&(Q=(0,c.UM)(Q)?X.isLinear?0:.25:Q,pt=v.isTransposed?Q*y.height:Q*p.width);var Wt=void 0,Kt=void 0,ae=void 0,Fe=void 0;v.isTransposed?(Wt=O.minX,Kt=Math.min(y.minY,p.minY)-pt,ae=O.width,Fe=S.height+pt*2):(Wt=Math.min(p.minX,y.minX)-pt,Kt=O.minY,ae=S.width+pt*2,Fe=O.height),D=[["M",Wt,Kt],["L",Wt+ae,Kt],["L",Wt+ae,Kt+Fe],["L",Wt,Kt+Fe],["Z"]]}else{var ve=(0,c.YM)(u),Ze=(0,c.Z$)(u),dr=k(ve.getModel(),v).startAngle,Or=k(Ze.getModel(),v).endAngle,Rr=v.getCenter(),sn=v.getRadius(),We=v.innerRadius*sn;D=C(Rr.x,Rr.y,sn,dr,Or,We)}if(this.regionPath)this.regionPath.attr("path",D),this.regionPath.show();else{var gr=(0,c.U2)(t,"style",zd);this.regionPath=E.addShape({type:"path",name:"active-region",capture:!1,attrs:(0,d.pi)((0,d.pi)({},gr),{path:D})})}}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),e.prototype.destroy.call(this)},r}(Vr),Ud=Gd,Hd=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.context,n=t.event,i=t.view,a=i.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date,l=(0,c.U2)(t.view.getOptions(),"tooltip.showDelay",16);if(s-o>l){var u=this.location,h={x:n.x,y:n.y};(!u||!(0,c.Xy)(u,h))&&this.showTooltip(i,h),this.timeStamp=s,this.location=h}}},r.prototype.hide=function(){var t=this.context.view,n=t.getController("tooltip"),i=this.context.event,a=i.clientX,o=i.clientY;n.isCursorEntered({x:a,y:o})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,n){t.showTooltip(n)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}(Vr),vc=Hd,Yd=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.showTooltip=function(t,n){var i=sr(t);(0,c.S6)(i,function(a){var o=fn(t,a,n);a.showTooltip(o)})},r.prototype.hideTooltip=function(t){var n=sr(t);(0,c.S6)(n,function(i){i.hideTooltip()})},r}(vc),Xd=Yd,Wd=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var t=this.context,n=t.event,i=this.timeStamp,a=+new Date;if(a-i>16){var o=this.location,s={x:n.x,y:n.y};(!o||!(0,c.Xy)(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var n=this.context,i=n.event,a=i.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=a.get("tip");this.tooltip.update((0,d.pi)({title:o},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,n=this.context.view,i=n.canvas,a={start:{x:0,y:0},end:{x:i.get("width"),y:i.get("height")}},o=n.getTheme(),s=(0,c.U2)(o,["components","tooltip","domStyles"],{}),l=new we({parent:i.get("el").parentNode,region:a,visible:!1,crosshairs:null,domStyles:(0,d.pi)({},(0,c.b$)({},s,(t={},t[Pt.LP.CONTAINER_CLASS]={"max-width":"50%"},t[Pt.LP.TITLE_CLASS]={"word-break":"break-all"},t)))});l.init(),l.setCapture(!1),this.tooltip=l},r}(Vr),Zd=Wd,jd=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="",t}return r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,n){t.setState(this.stateName,n)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},r.prototype.clearViewState=function(t){var n=this,i=fi(t,this.stateName);(0,c.S6)(i,function(a){n.setElementState(a,!1)})},r}(Vr),Cl=jd;function pc(e){return(0,c.U2)(e.get("delegateObject"),"item")}var $d=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return r.prototype.isItemIgnore=function(t,n){var i=this.ignoreListItemStates,a=i.filter(function(o){return n.hasState(t,o)});return!!a.length},r.prototype.setStateByComponent=function(t,n,i){var a=this.context.view,o=t.get("field"),s=hn(a);this.setElementsStateByItem(s,o,n,i)},r.prototype.setStateByElement=function(t,n){this.setElementState(t,n)},r.prototype.isMathItem=function(t,n,i){var a=this.context.view,o=xn(a,n),s=Z(t,n);return!(0,c.UM)(s)&&i.name===o.getText(s)},r.prototype.setElementsStateByItem=function(t,n,i,a){var o=this;(0,c.S6)(t,function(s){o.isMathItem(s,n,i)&&s.setState(o.stateName,a)})},r.prototype.setStateEnable=function(t){var n=$r(this.context);if(n)Mn(this.context)&&this.setStateByElement(n,t);else{var i=an(this.context);if(ln(i)){var a=i.item,o=i.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&pc(s.fromShape)===pc(s.toShape))return;this.setStateByComponent(o,a,t)}}}},r.prototype.toggle=function(){var t=$r(this.context);if(t){var n=t.hasState(this.stateName);this.setElementState(t,!n)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(Cl),Al=$d,qd=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Al),Jd=qd,Kd=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.cache={},t}return r.prototype.getColorScale=function(t,n){var i=n.geometry.getAttribute("color");if(!i)return null;var a=t.getScaleByField(i.getFields()[0]);return a},r.prototype.getLinkPath=function(t,n){var i=this.context.view,a=i.getCoordinate().isTransposed,o=t.shape.getCanvasBBox(),s=n.shape.getCanvasBBox(),l=a?[["M",o.minX,o.minY],["L",s.minX,s.maxY],["L",s.maxX,s.maxY],["L",o.maxX,o.minY],["Z"]]:[["M",o.maxX,o.minY],["L",s.minX,s.minY],["L",s.minX,s.maxY],["L",o.maxX,o.maxY],["Z"]];return l},r.prototype.addLinkShape=function(t,n,i,a){var o={opacity:.4,fill:n.shape.attr("fill")};t.addShape({type:"path",attrs:(0,d.pi)((0,d.pi)({},(0,c.b$)({},o,(0,c.mf)(a)?a(o,n):a)),{path:this.getLinkPath(n,i)})})},r.prototype.linkByElement=function(t,n){var i=this,a=this.context.view,o=this.getColorScale(a,t);if(!!o){var s=Z(t,o.field);if(!this.cache[s]){var l=wn(a,o.field,s),u=this.linkGroup,h=u.addGroup();this.cache[s]=h;var v=l.length;(0,c.S6)(l,function(p,y){if(y<v-1){var S=l[y+1];i.addLinkShape(h,p,S,n)}})}}},r.prototype.removeLink=function(t){var n=this.getColorScale(this.context.view,t);if(!!n){var i=Z(t,n.field);this.cache[i]&&(this.cache[i].remove(),this.cache[i]=null)}},r.prototype.link=function(t){var n=this.context;this.linkGroup||(this.linkGroup=n.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var i=$r(n);i&&this.linkByElement(i,t==null?void 0:t.style)},r.prototype.unlink=function(){var t=$r(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}(Vr),Qd=Kd,tg=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(yn(this.context))t=tn(this.context,10);else{var n=this.startPoint,i=this.isStarted?this.getCurrentPoint():this.endPoint;if(!n||!i)return;var a={minX:Math.min(n.x,i.x),minY:Math.min(n.y,i.y),maxX:Math.max(n.x,i.x),maxY:Math.max(n.y,i.y)},o=this.context.view;t=ft(o,a)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var n=hn(this.context.view),i=this.getIntersectElements();i&&i.length?this.effectByRecord?this.setSiblingsStateByRecord(i,t):this.setElementsState(i,t,n):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,n){var i=this,a=this.context.view,o=sr(a),s=t.map(function(h){return h.getModel().data}),l=a.getXScale().field,u=a.getYScales()[0].field;(0,c.S6)(o,function(h){var v=hn(h),p=v.filter(function(y){var S=y.getModel().data;return qr(s,S,l,u)});i.setElementsState(p,n,v)})},r.prototype.setSiblingsState=function(t){var n=this,i=this.context.view,a=sr(i);yn(this.context)&&(0,c.S6)(a,function(o){var s=hn(o),l=Dn(n.context,o,10);l&&l.length?n.setElementsState(l,t,s):n.clearViewState(o)})},r.prototype.setElementsState=function(t,n,i){var a=this;(0,c.S6)(i,function(o){t.includes(o)?a.setElementState(o,n):a.setElementState(o,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,n=this.context.view;if(this.effectSiblings){var i=sr(n);(0,c.S6)(i,function(a){t.clearViewState(a)})}else this.clearViewState(n)},r}(Cl),Tl=tg,eg=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Tl),rg=eg,ng=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.setStateEnable=function(t){var n=$r(this.context);if(n){if(!Mn(this.context))return;t?(this.clear(),this.setElementState(n,!0)):this.hasState(n)&&this.setElementState(n,!1)}},r.prototype.toggle=function(){var t=$r(this.context);if(t){var n=this.hasState(t);n||this.clear(),this.setElementState(t,!n)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(Cl),Fl=ng,ig=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Fl),ag=ig,Oo="inactive",Bo="active";function El(e){var r=hn(e);(0,c.S6)(r,function(t){t.hasState(Bo)&&t.setState(Bo,!1),t.hasState(Oo)&&t.setState(Oo,!1)})}function dc(e,r,t){(0,c.S6)(e,function(n){r(n)?(n.hasState(Oo)&&n.setState(Oo,!1),n.setState(Bo,t)):(n.hasState(Bo)&&n.setState(Bo,!1),n.setState(Oo,t))})}var Wa=Ct.INACTIVE,Sa=Ct.ACTIVE,og=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName=Sa,t}return r.prototype.setElementsStateByItem=function(t,n,i,a){var o=this,s=function(l){return o.isMathItem(l,n,i)};this.setHighlightBy(t,s,a)},r.prototype.setElementHighlight=function(t,n){n(t)?(t.hasState(Wa)&&t.setState(Wa,!1),t.setState(Sa,!0)):t.hasState(Sa)||t.setState(Wa,!0)},r.prototype.setHighlightBy=function(t,n,i){var a=this;if(i)(0,c.S6)(t,function(l){a.setElementHighlight(l,n)});else{var o=fi(this.context.view,Sa),s=!0;(0,c.S6)(o,function(l){if(!n(l))return s=!1,!1}),s?this.clear():(0,c.S6)(t,function(l){n(l)&&(l.hasState(Sa)&&l.setState(Sa,!1),l.setState(Wa,!0))})}},r.prototype.setElementState=function(t,n){var i=this.context.view,a=hn(i);this.setHighlightBy(a,function(o){return t===o},n)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.context.view;El(t)},r}(Al),Il=og,sg=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.setStateByElement=function(t,n){var i=this.context.view,a=t.geometry.getAttribute("color");if(!!a){var o=i.getScaleByField(a.getFields()[0]),s=Z(t,o.field),l=hn(i),u=l.filter(function(h){return Z(h,o.field)===s});this.setHighlightBy(l,function(h){return u.includes(h)},n)}},r}(Il),lg=sg,ug=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.setElementHighlight=function(t,n){n(t)?(t.hasState(Wa)&&t.setState(Wa,!1),t.setState(Sa,!0)):(t.setState(Wa,!0),t.hasState(Sa)&&t.setState(Sa,!1))},r.prototype.setStateByElement=function(t,n){var i=this.context.view,a=i.getXScale(),o=Z(t,a.field),s=hn(i),l=s.filter(function(u){return Z(u,a.field)===o});this.setHighlightBy(s,function(u){return l.includes(u)},n)},r.prototype.toggle=function(){var t=$r(this.context);if(t){var n=t.hasState(this.stateName);this.setStateByElement(t,!n)}},r}(Il),cg=ug,ji;(function(e){e.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",e.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",e.BEFORE_CLEAR="element-range-highlight:beforeclear",e.AFTER_CLEAR="element-range-highlight:afterclear"})(ji||(ji={}));var fg=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.clearViewState=function(t){El(t)},r.prototype.highlight=function(){var t=this.context,n=t.view,i=t.event,a=this.getIntersectElements(),o={view:n,event:i,highlightElements:a};n.emit(ji.BEFORE_HIGHLIGHT,Gt.fromData(n,ji.BEFORE_HIGHLIGHT,o)),this.setState(),n.emit(ji.AFTER_HIGHLIGHT,Gt.fromData(n,ji.AFTER_HIGHLIGHT,o))},r.prototype.clear=function(){var t=this.context.view;t.emit(ji.BEFORE_CLEAR,Gt.fromData(t,ji.BEFORE_CLEAR,{})),e.prototype.clear.call(this),t.emit(ji.AFTER_CLEAR,Gt.fromData(t,ji.AFTER_CLEAR,{}))},r.prototype.setElementsState=function(t,n,i){dc(i,function(a){return t.indexOf(a)>=0},n)},r}(Tl),gc=fg,hg=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,n){var i=this.context.view,a=hn(i);dc(a,function(o){return t===o},n)},r.prototype.clear=function(){var t=this.context.view;El(t)},r}(Fl),vg=hg,pg=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Tl),dg=pg,gg=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Al),yg=gg,mg=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Fl),xg=mg,wg=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return r.prototype.getTriggerListInfo=function(){var t=an(this.context),n=null;return ln(t)&&(n={item:t.item,list:t.component}),n},r.prototype.getAllowComponents=function(){var t=this,n=this.context.view,i=re(n),a=[];return(0,c.S6)(i,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},r.prototype.hasState=function(t,n){return t.hasState(n,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,n=this.getAllowComponents();(0,c.S6)(n,function(i){i.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var n=t.get("field");if(!n)return!1;if(this.cfg&&this.cfg.componentNames){var i=t.get("name");if(this.cfg.componentNames.indexOf(i)===-1)return!1}var a=this.context.view,o=xn(a,n);return o&&o.isCategory},r.prototype.allowSetStateByItem=function(t,n){var i=this.ignoreItemStates;if(i.length){var a=i.filter(function(o){return n.hasState(t,o)});return a.length===0}return!0},r.prototype.setStateByElement=function(t,n,i){var a=t.get("field"),o=this.context.view,s=xn(o,a),l=Z(n,a),u=s.getText(l);this.setItemsState(t,u,i)},r.prototype.setStateEnable=function(t){var n=this,i=$r(this.context);if(i){var a=this.getAllowComponents();(0,c.S6)(a,function(u){n.setStateByElement(u,i,t)})}else{var o=an(this.context);if(ln(o)){var s=o.item,l=o.component;this.allowSetStateByElement(l)&&this.allowSetStateByItem(s,l)&&this.setItemState(l,s,t)}}},r.prototype.setItemsState=function(t,n,i){var a=this,o=t.getItems();(0,c.S6)(o,function(s){s.name===n&&a.setItemState(t,s,i)})},r.prototype.setItemState=function(t,n,i){t.setItemState(n,this.stateName,i)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var n=t.list,i=t.item,a=this.hasState(n,i);this.setItemState(n,i,!a)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}(Vr),Za=wg,Sg=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Za),Mg=Sg,yc="inactive",mc="active";function bg(e){var r=e.getItems();(0,c.S6)(r,function(t){e.hasState(t,mc)&&e.setItemState(t,mc,!1),e.hasState(t,yc)&&e.setItemState(t,yc,!1)})}var Ro="inactive",ja="active",Cg=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName=ja,t.ignoreItemStates=["unchecked"],t}return r.prototype.setItemsState=function(t,n,i){this.setHighlightBy(t,function(a){return a.name===n},i)},r.prototype.setItemState=function(t,n,i){var a=t.getItems();this.setHighlightBy(t,function(o){return o===n},i)},r.prototype.setHighlightBy=function(t,n,i){var a=t.getItems();if(i)(0,c.S6)(a,function(l){n(l)?(t.hasState(l,Ro)&&t.setItemState(l,Ro,!1),t.setItemState(l,ja,!0)):t.hasState(l,ja)||t.setItemState(l,Ro,!0)});else{var o=t.getItemsByState(ja),s=!0;(0,c.S6)(o,function(l){if(!n(l))return s=!1,!1}),s?this.clear():(0,c.S6)(a,function(l){n(l)&&(t.hasState(l,ja)&&t.setItemState(l,ja,!1),t.setItemState(l,Ro,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)bg(t.list);else{var n=this.getAllowComponents();(0,c.S6)(n,function(i){i.clearItemsState(ja),i.clearItemsState(Ro)})}},r}(Za),Ll=Cg,Ag=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Za),Tg=Ag,Fg=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="unchecked",t}return r.prototype.unchecked=function(){this.setState()},r}(Za),Eg=Fg,po="unchecked",ws="checked",Ig=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName=ws,t}return r.prototype.setItemState=function(t,n,i){this.setCheckedBy(t,function(a){return a===n},i)},r.prototype.setCheckedBy=function(t,n,i){var a=t.getItems();i&&(0,c.S6)(a,function(o){n(o)?(t.hasState(o,po)&&t.setItemState(o,po,!1),t.setItemState(o,ws,!0)):t.hasState(o,ws)||t.setItemState(o,po,!0)})},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var n=t.list,i=t.item,a=!(0,c.G)(n.getItems(),function(o){return n.hasState(o,po)});a||n.hasState(i,po)?this.setItemState(n,i,!0):this.reset()}},r.prototype.checked=function(){this.setState()},r.prototype.reset=function(){var t=this.getAllowComponents();(0,c.S6)(t,function(n){n.clearItemsState(ws),n.clearItemsState(po)})},r}(Za),Lg=Ig,go="unchecked",kg=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.toggle=function(){var t,n,i,a,o,s,l,u,h=this.getTriggerListInfo();if(h==null?void 0:h.item){var v=h.list,p=h.item,y=v.getItems(),S=y.filter(function(ve){return!v.hasState(ve,go)}),E=y.filter(function(ve){return v.hasState(ve,go)}),O=S[0];if(y.length===S.length)try{for(var D=(0,d.XA)(y),X=D.next();!X.done;X=D.next()){var q=X.value;v.setItemState(q,go,q.id!==p.id)}}catch(ve){t={error:ve}}finally{try{X&&!X.done&&(n=D.return)&&n.call(D)}finally{if(t)throw t.error}}else if(y.length-E.length==1)if(O.id===p.id)try{for(var Q=(0,d.XA)(y),pt=Q.next();!pt.done;pt=Q.next()){var q=pt.value;v.setItemState(q,go,!1)}}catch(ve){i={error:ve}}finally{try{pt&&!pt.done&&(a=Q.return)&&a.call(Q)}finally{if(i)throw i.error}}else try{for(var Wt=(0,d.XA)(y),Kt=Wt.next();!Kt.done;Kt=Wt.next()){var q=Kt.value;v.setItemState(q,go,q.id!==p.id)}}catch(ve){o={error:ve}}finally{try{Kt&&!Kt.done&&(s=Wt.return)&&s.call(Wt)}finally{if(o)throw o.error}}else try{for(var ae=(0,d.XA)(y),Fe=ae.next();!Fe.done;Fe=ae.next()){var q=Fe.value;v.setItemState(q,go,q.id!==p.id)}}catch(ve){l={error:ve}}finally{try{Fe&&!Fe.done&&(u=ae.return)&&u.call(ae)}finally{if(l)throw l.error}}}},r}(Za),Pg=kg,xc="showRadio",kl="legend-radio-tip",Dg=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.getTriggerListInfo();if(t==null?void 0:t.item){var n=t.list,i=t.item;n.setItemState(i,xc,!0)}},r.prototype.hide=function(){var t=this.getTriggerListInfo();if(t==null?void 0:t.item){var n=t.list,i=t.item;n.setItemState(i,xc,!1)}},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.showTip=function(){var t=this.context,n=t.event,i=this.timeStamp,a=+new Date,o=this.context.event.target;if(a-i>16&&o.get("name")==="legend-item-radio"){var s=this.location,l={x:n.x,y:n.y};this.timeStamp=a,this.location=l,(!s||!(0,c.Xy)(s,l))&&this.showTooltip(l)}},r.prototype.hideTip=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var n=this.context,i=n.event,a=i.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=n.view.getCanvas().get("el").getBoundingClientRect(),s=o.x,l=o.y;this.tooltip.update((0,d.pi)((0,d.pi)({title:a.get("tip")},t),{x:t.x+s,y:t.y+l})),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,n=(t={},t[Pt.LP.CONTAINER_CLASS]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},t[Pt.LP.TITLE_CLASS]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},t);document.getElementById(kl)&&document.body.removeChild(document.getElementById(kl));var i=new we({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:n,containerId:kl});i.init(),i.setCapture(!1),this.tooltip=i},r}(Za),Og=Dg,Bg=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var n="mask:".concat(t),i=this.context.view,a=this.context.event;i.emit(n,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},r.prototype.createMask=function(){var t=this.context.view,n=this.getMaskAttrs(),i=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,d.pi)({fill:"#C5D4EB",opacity:.3},n)});return i},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(t==null?void 0:t.maskStyle),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),n=this.preMovePoint,i=t.x-n.x,a=t.y-n.y,o=this.points;(0,c.S6)(o,function(s){s.x+=i,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(t){var n=(0,c.b$)({},this.getMaskAttrs(),t);this.maskShape.attr(n)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,e.prototype.destroy.call(this)},r}(Vr),Pl=Bg,Rg=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.shapeType="circle",t}return r.prototype.getMaskAttrs=function(){var t=this.points,n=(0,c.Z$)(this.points),i=0,a=0,o=0;if(t.length){var s=t[0];i=Ue(s,n)/2,a=(n.x+s.x)/2,o=(n.y+s.y)/2}return{x:a,y:o,r:i}},r}(Pl),_g=Rg,Ng=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.shapeType="rect",t}return r.prototype.getRegion=function(){var t=this.points;return{start:(0,c.YM)(t),end:(0,c.Z$)(t)}},r.prototype.getMaskAttrs=function(){var t=this.getRegion(),n=t.start,i=t.end,a=Math.min(n.x,i.x),o=Math.min(n.y,i.y),s=Math.abs(i.x-n.x),l=Math.abs(i.y-n.y);return{x:a,y:o,width:s,height:l}},r}(Pl),wc=Ng;function Sc(e){e.x=(0,c.uZ)(e.x,0,1),e.y=(0,c.uZ)(e.y,0,1)}var zg=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return r.prototype.getRegion=function(){var t=null,n=null,i=this.points,a=this.dim,o=this.context.view.getCoordinate(),s=o.invert((0,c.YM)(i)),l=o.invert((0,c.Z$)(i));return this.inPlot&&(Sc(s),Sc(l)),a==="x"?(t=o.convert({x:s.x,y:0}),n=o.convert({x:l.x,y:1})):(t=o.convert({x:0,y:s.y}),n=o.convert({x:1,y:l.y})),{start:t,end:n}},r}(wc),Mc=zg,Vg=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points,n=[];return t.length&&((0,c.S6)(t,function(i,a){a===0?n.push(["M",i.x,i.y]):n.push(["L",i.x,i.y])}),n.push(["L",t[0].x,t[0].y])),n},r.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},r.prototype.addPoint=function(){this.resize()},r}(Pl),bc=Vg,Gg=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points;return $e(t,!0)},r}(bc),Ug=Gg,Hg=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.setCursor=function(t){var n=this.context.view;n.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r}(Vr),Yg=Hg,Xg=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.filterView=function(t,n,i){var a=this;t.getScaleByField(n)&&t.filter(n,i),t.views&&t.views.length&&(0,c.S6)(t.views,function(o){a.filterView(o,n,i)})},r.prototype.filter=function(){var t=an(this.context);if(t){var n=this.context.view,i=t.component,a=i.get("field");if(ln(t)){if(a){var o=i.getItemsByState("unchecked"),s=xn(n,a),l=o.map(function(y){return y.name});l.length?this.filterView(n,a,function(y){var S=s.getText(y);return!l.includes(S)}):this.filterView(n,a,null),n.render(!0)}}else if(En(t)){var u=i.getValue(),h=(0,d.CR)(u,2),v=h[0],p=h[1];this.filterView(n,a,function(y){return y>=v&&y<=p}),n.render(!0)}}},r}(Vr),Wg=Xg;function Cc(e,r,t,n){var i=Math.min(t[r],n[r]),a=Math.max(t[r],n[r]),o=(0,d.CR)(e.range,2),s=o[0],l=o[1];if(i<s&&(i=s),a>l&&(a=l),i===l&&a===l)return null;var u=e.invert(i),h=e.invert(a);if(e.isCategory){var v=e.values.indexOf(u),p=e.values.indexOf(h),y=e.values.slice(v,p+1);return function(S){return y.includes(S)}}else return function(S){return S>=u&&S<=h}}var gi;(function(e){e.FILTER="brush-filter-processing",e.RESET="brush-filter-reset",e.BEFORE_FILTER="brush-filter:beforefilter",e.AFTER_FILTER="brush-filter:afterfilter",e.BEFORE_RESET="brush-filter:beforereset",e.AFTER_RESET="brush-filter:afterreset"})(gi||(gi={}));var Zg=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,n;if(yn(this.context)){var i=this.context.event.target,a=i.getCanvasBBox();t={x:a.x,y:a.y},n={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,n=this.context.getCurrentPoint()}if(!(Math.abs(t.x-n.x)<5||Math.abs(t.x-n.y)<5)){var o=this.context,s=o.view,l=o.event,u={view:s,event:l,dims:this.dims};s.emit(gi.BEFORE_FILTER,Gt.fromData(s,gi.BEFORE_FILTER,u));var h=s.getCoordinate(),v=h.invert(n),p=h.invert(t);if(this.hasDim("x")){var y=s.getXScale(),S=Cc(y,"x",v,p);this.filterView(s,y.field,S)}if(this.hasDim("y")){var E=s.getYScales()[0],S=Cc(E,"y",v,p);this.filterView(s,E.field,S)}this.reRender(s,{source:gi.FILTER}),s.emit(gi.AFTER_FILTER,Gt.fromData(s,gi.AFTER_FILTER,u))}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(t.emit(gi.BEFORE_RESET,Gt.fromData(t,gi.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var n=t.getXScale();this.filterView(t,n.field,null)}if(this.hasDim("y")){var i=t.getYScales()[0];this.filterView(t,i.field,null)}this.reRender(t,{source:gi.RESET}),t.emit(gi.AFTER_RESET,Gt.fromData(t,gi.AFTER_RESET,{}))},r.prototype.filterView=function(t,n,i){t.filter(n,i)},r.prototype.reRender=function(t,n){t.render(!0,n)},r}(Vr),Ss=Zg,jg=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.filterView=function(t,n,i){var a=sr(t);(0,c.S6)(a,function(o){o.filter(n,i)})},r.prototype.reRender=function(t){var n=sr(t);(0,c.S6)(n,function(i){i.render(!0)})},r}(Ss),Dl=jg,$g=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.filter=function(){var t=an(this.context),n=this.context.view,i=hn(n);if(yn(this.context)){var a=tn(this.context,10);a&&(0,c.S6)(i,function(E){a.includes(E)?E.show():E.hide()})}else if(t){var o=t.component,s=o.get("field");if(ln(t)){if(s){var l=o.getItemsByState("unchecked"),u=xn(n,s),h=l.map(function(E){return E.name});(0,c.S6)(i,function(E){var O=Z(E,s),D=u.getText(O);h.indexOf(D)>=0?E.hide():E.show()})}}else if(En(t)){var v=o.getValue(),p=(0,d.CR)(v,2),y=p[0],S=p[1];(0,c.S6)(i,function(E){var O=Z(E,s);O>=y&&O<=S?E.show():E.hide()})}}},r.prototype.clear=function(){var t=hn(this.context.view);(0,c.S6)(t,function(n){n.show()})},r.prototype.reset=function(){this.clear()},r}(Vr),qg=$g,Jg=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.byRecord=!1,t}return r.prototype.filter=function(){yn(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,n=tn(this.context,10);if(!!n){var i=t.getXScale().field,a=t.getYScales()[0].field,o=n.map(function(l){return l.getModel().data}),s=sr(t);(0,c.S6)(s,function(l){var u=hn(l);(0,c.S6)(u,function(h){var v=h.getModel().data;qr(o,v,i,a)?h.show():h.hide()})})}},r.prototype.filterByBBox=function(){var t=this,n=this.context.view,i=sr(n);(0,c.S6)(i,function(a){var o=Dn(t.context,a,10),s=hn(a);o&&(0,c.S6)(s,function(l){o.includes(l)?l.show():l.hide()})})},r.prototype.reset=function(){var t=sr(this.context.view);(0,c.S6)(t,function(n){var i=hn(n);(0,c.S6)(i,function(a){a.show()})})},r}(Vr),Ac=Jg,Kg=10,Qg=5,t0=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return r.prototype.getButtonCfg=function(){return(0,c.b$)(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:t.name}),i=n.addShape({type:"text",name:"button-text",attrs:(0,d.pi)({text:t.text},t.textStyle)}),a=i.getBBox(),o=ga(t.padding),s=n.addShape({type:"rect",name:"button-rect",attrs:(0,d.pi)({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),n.on("mouseenter",function(){s.attr(t.activeStyle)}),n.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=n},r.prototype.resetPosition=function(){var t=this.context.view,n=t.getCoordinate(),i=n.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=bn.vs(null,[["t",i.x-o.width-Kg,i.y+o.height+Qg]]);a.setMatrix(s)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),e.prototype.destroy.call(this)},r}(Vr),e0=t0,r0=4,n0=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(!!this.startPoint){var t=this.context.getCurrentPoint(),n=this.context.view,i=this.context.event;this.dragStart?n.emit("drag",{target:i.target,x:i.x,y:i.y}):Ue(t,this.startPoint)>r0&&(n.emit("dragstart",{target:i.target,x:i.x,y:i.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var t=this.context.view,n=this.context.event;t.emit("dragend",{target:n.target,x:n.x,y:n.y})}this.starting=!1,this.dragStart=!1},r}(Vr),i0=n0,a0=5,o0=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(!!this.starting){var t=this.startPoint,n=this.context.getCurrentPoint(),i=Ue(t,n);if(i>a0&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=bn.vs(this.startMatrix,[["t",n.x-t.x,n.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}(Vr),s0=o0,Tc="x",Fc="y",l0=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dims=[Tc,Fc],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var n=this.context.view;return t==="x"?n.getXScale():n.getYScales()[0]},r.prototype.resetDim=function(t){var n=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var i=this.getScale(t);n.scale(i.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim(Tc),this.resetDim(Fc);var t=this.context.view;t.render(!0)},r}(Vr),Ec=l0,u0=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var n=this.dims;(0,c.S6)(n,function(i){var a=t.getScale(i),o=a.min,s=a.max,l=a.values;t.startCache[i]={min:o,max:s,values:l}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(!!this.starting){var n=this.startPoint,i=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=i.invert(n),s=i.invert(a),l=s.x-o.x,u=s.y-o.y,h=this.context.view,v=this.dims;(0,c.S6)(v,function(p){t.translateDim(p,{x:l*-1,y:u*-1})}),h.render(!0)}},r.prototype.translateDim=function(t,n){if(this.hasDim(t)){var i=this.getScale(t);i.isLinear&&this.translateLinear(t,i,n)}},r.prototype.translateLinear=function(t,n,i){var a=this.context.view,o=this.startCache[t],s=o.min,l=o.max,u=l-s,h=i[t]*u;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:n.nice,min:s,max:l}),a.scale(n.field,{nice:!1,min:s+h,max:l+h})},r.prototype.reset=function(){e.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}(Ec),c0=u0,f0=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.zoomRatio=.05,t}return r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var n=this,i=this.dims;(0,c.S6)(i,function(a){n.zoomDim(a,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,n){if(this.hasDim(t)){var i=this.getScale(t);i.isLinear&&this.zoomLinear(t,i,n)}},r.prototype.zoomLinear=function(t,n,i){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:n.nice,min:n.min,max:n.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,l=n.min,u=n.max,h=i*s,v=l-h,p=u+h,y=p-v,S=y/s;p>v&&S<100&&S>.01&&a.scale(n.field,{nice:!1,min:l-h,max:u+h})},r}(Ec),h0=f0;function v0(e){var r=e.gEvent.originalEvent;return r.deltaY>0}var p0=1,d0=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.scroll=function(t){var n=this.context,i=n.view,a=n.event;if(!!i.getOptions().scrollbar){var o=(t==null?void 0:t.wheelDelta)||p0,s=i.getController("scrollbar"),l=i.getXScale(),u=i.getOptions().data,h=(0,c.dp)((0,c.I)(u,l.field)),v=(0,c.dp)(l.values),p=s.getValue(),y=Math.floor((h-v)*p),S=y+(v0(a)?o:-o),E=o/(h-v)/1e4,O=(0,c.uZ)(S/(h-v)+E,0,1);s.setValue(O)}},r}(Vr),g0=d0,y0="aixs-description-tooltip",m0=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.context,n=an(t).axis,i=n.cfg.title,a=i.description,o=i.text,s=t.event,l=s.x,u=s.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:o||"",customContent:function(){return`
          <div class="`.concat(Pt.LP.CONTAINER_CLASS,`">
            <div class="`).concat(Pt.LP.TITLE_CLASS,`">
              `).concat(o,`
            </div>
            <div class="`).concat(Pt.LP.LIST_CLASS,`">
              `).concat(a,`
            </div>
          </div>
        `)},x:l,y:u}),this.tooltip.show()},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,n=this.context.view,i=n.canvas,a={start:{x:0,y:0},end:{x:i.get("width"),y:i.get("height")}},o=new we({parent:i.get("el").parentNode,region:a,visible:!1,containerId:y0,domStyles:(0,d.pi)({},(0,c.b$)({},(t={},t[Pt.LP.CONTAINER_CLASS]={"max-width":"50%",padding:"5px","line-height":"15px"},t[Pt.LP.TITLE_CLASS]={"word-break":"break-all","font-size":"14px","margin-bottom":"3px"},t[Pt.LP.LIST_CLASS]={"word-break":"break-all",opacity:".5"},t)))});o.init(),o.setCapture(!1),this.tooltip=o},r}(Vr),x0=m0;fa("dark",zi(ss)),Nt("canvas",xa),Nt("svg",ls),In("Polygon",zv),In("Interval",kv),In("Schema",Gv),In("Path",fo),In("Point",Rv),In("Line",Dv),In("Area",ul),In("Edge",bv),In("Heatmap",Av),In("Violin",Yv),Bn("base",m),Bn("interval",sp),Bn("pie",cp),Bn("polar",Gu),Cn("overlap",Cp),Cn("distribute",hp),Cn("fixed-overlap",bp),Cn("hide-overlap",Dp),Cn("limit-in-shape",xp),Cn("limit-in-canvas",mp),Cn("limit-in-plot",qp),Cn("pie-outer",pp),Cn("adjust-color",Bp),Cn("interval-adjust-position",zp),Cn("interval-hide-overlap",Gp),Cn("point-adjust-position",Yp),Cn("pie-spider",yp),Cn("path-adjust-position",Zp),vt("fade-in",Jp),vt("fade-out",Kp),vt("grow-in-x",td),vt("grow-in-xy",rd),vt("grow-in-y",ed),vt("scale-in-x",ad),vt("scale-in-y",od),vt("wave-in",ld),vt("zoom-in",ud),vt("zoom-out",cd),vt("position-update",id),vt("sector-path-update",sd),vt("path-in",nd),Nr("rect",wd),Nr("mirror",md),Nr("list",pd),Nr("matrix",gd),Nr("circle",hd),Nr("tree",Md),ii("axis",Fd),ii("legend",Pd),ii("tooltip",z),ii("annotation",Ad),ii("slider",Od),ii("scrollbar",Nd),Sr("tooltip",vc),Sr("sibling-tooltip",Xd),Sr("ellipsis-text",Zd),Sr("element-active",Jd),Sr("element-single-active",ag),Sr("element-range-active",rg),Sr("element-highlight",Il),Sr("element-highlight-by-x",cg),Sr("element-highlight-by-color",lg),Sr("element-single-highlight",vg),Sr("element-range-highlight",gc),Sr("element-sibling-highlight",gc,{effectSiblings:!0,effectByRecord:!0}),Sr("element-selected",yg),Sr("element-single-selected",xg),Sr("element-range-selected",dg),Sr("element-link-by-color",Qd),Sr("active-region",Ud),Sr("list-active",Mg),Sr("list-selected",Tg),Sr("list-highlight",Ll),Sr("list-unchecked",Eg),Sr("list-checked",Lg),Sr("list-focus",Pg),Sr("list-radio",Og),Sr("legend-item-highlight",Ll,{componentNames:["legend"]}),Sr("axis-label-highlight",Ll,{componentNames:["axis"]}),Sr("axis-description",x0),Sr("rect-mask",wc),Sr("x-rect-mask",Mc,{dim:"x"}),Sr("y-rect-mask",Mc,{dim:"y"}),Sr("circle-mask",_g),Sr("path-mask",bc),Sr("smooth-path-mask",Ug),Sr("cursor",Yg),Sr("data-filter",Wg),Sr("brush",Ss),Sr("brush-x",Ss,{dims:["x"]}),Sr("brush-y",Ss,{dims:["y"]}),Sr("sibling-filter",Dl),Sr("sibling-x-filter",Dl),Sr("sibling-y-filter",Dl),Sr("element-filter",qg),Sr("element-sibling-filter",Ac),Sr("element-sibling-filter-record",Ac,{byRecord:!0}),Sr("view-drag",i0),Sr("view-move",s0),Sr("scale-translate",c0),Sr("scale-zoom",h0),Sr("reset-button",e0,{name:"reset-button",text:"reset"}),Sr("mousewheel-scroll",g0);function Da(e){return e.isInPlot()}Er("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),Er("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),Er("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),Er("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),Er("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),Er("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),Er("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),Er("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),Er("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),Er("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),Er("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),Er("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(e){return!e.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(e){return!e.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),Er("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Da,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Da,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Da,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),Er("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),Er("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Da,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Da,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Da,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),Er("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Da,action:"path-mask:start"},{trigger:"mousedown",isEnable:Da,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),Er("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),Er("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(e){return!e.isInShape("legend-item-radio")},action:["list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]}),Er("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),Er("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),Er("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),Er("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),Er("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]});function Ic(e){return e.gEvent.preventDefault(),e.gEvent.originalEvent.deltaY>0}Er("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(e){return Ic(e.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(e){return!Ic(e.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),Er("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]}),Er("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]});function Br(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(t){return e.reduce(function(n,i){return i(n)},t)}}function pn(e,r){var t={};return e!==null&&typeof e=="object"&&r.forEach(function(n){var i=e[n];i!==void 0&&(t[n]=i)}),t}function Lc(e,r){return r?(0,c.u4)(r,function(t,n,i){return t.replace(new RegExp("{\\s*"+i+"\\s*}","g"),n)},e):e}var $i;(function(e){e.ERROR="error",e.WARN="warn",e.INFO="log"})($i||($i={}));var kc="AntV/G2Plot";function Pc(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var n=0;return kc+": "+e.replace(/%s/g,function(){return""+r[n++]})}function qC(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(!e){var i=new Error(Pc.apply(void 0,__spreadArrays([r],t)));throw i.name=kc,i}}function Ma(e,r,t){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];r||console[e](Pc.apply(void 0,(0,d.pr)([t],n)))}function Ol(e){if(!e)return{width:0,height:0};var r=getComputedStyle(e);return{width:(e.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(e.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function li(e,r){return e.geometries.find(function(t){return t.type===r})}function Ms(e){return(0,c.u4)(e.geometries,function(r,t){return r.concat(t.elements)},[])}function _o(e){return(0,c.U2)(e,["views","length"],0)<=0?Ms(e):(0,c.u4)(e.views,function(r,t){return r.concat(_o(t))},Ms(e))}function w0(e){return(0,c.U2)(e,["views","length"],0)<=0?e.geometries:(0,c.u4)(e.views,function(r,t){return r.concat(t.geometries)},e.geometries)}function jr(e,r){return e.views.find(function(t){return t.id===r})}function No(e){var r=e.parent;return r?r.views:[]}function Dc(e){return No(e).filter(function(r){return r!==e})}function ei(e){if(!(0,c.P9)(e,"Object"))return e;var r=(0,d.pi)({},e);return r.formatter&&!r.content&&(r.content=r.formatter),r}function S0(e,r){var t=[];if(e.length){t.push(["M",e[0].x,e[0].y]);for(var n=1,i=e.length;n<i;n+=1){var a=e[n];t.push(["L",a.x,a.y])}r&&t.push(["Z"])}return t}var M0=function(e,r,t,n){var i=[],a,o,s=!!n,l,u;if(s){l=[Infinity,Infinity],u=[-Infinity,-Infinity];for(var h=0,v=e.length;h<v;h++){var p=e[h];l=De.VV([0,0],l,p),u=De.Fp([0,0],u,p)}l=De.VV([0,0],l,n[0]),u=De.Fp([0,0],u,n[1])}for(var h=0,y=e.length;h<y;h++){var p=e[h];if(t)a=e[h?h-1:y-1],o=e[(h+1)%y];else if(h===0||h===y-1){i.push(p);continue}else a=e[h-1],o=e[h+1];var S=[0,0];S=De.lu(S,o,a),S=De.bA(S,S,r);var E=De.TE(p,a),O=De.TE(p,o),D=E+O;D!==0&&(E/=D,O/=D);var X=De.bA([0,0],S,-E),q=De.bA([0,0],S,O),Q=De.IH([0,0],p,X),pt=De.IH([0,0],p,q);s&&(Q=De.Fp([0,0],Q,l),Q=De.VV([0,0],Q,u),pt=De.Fp([0,0],pt,l),pt=De.VV([0,0],pt,u)),i.push(Q),i.push(pt)}return t&&i.push(i.shift()),i};function b0(e,r,t){for(var n=!!r,i=[],a=0,o=e.length;a<o;a+=2)i.push([e[a],e[a+1]]);for(var s=M0(i,.4,n,t),l=i.length,u=[],h,v,p,a=0;a<l-1;a++)h=s[a*2],v=s[a*2+1],p=i[a+1],u.push(["C",h[0],h[1],v[0],v[1],p[0],p[1]]);return n&&(h=s[l],v=s[l+1],p=i[0],u.push(["C",h[0],h[1],v[0],v[1],p[0],p[1]])),u}function C0(e,r,t){var n=[],i=e[0],a=null;if(e.length<=2)return S0(e,r);for(var o=0,s=e.length;o<s;o++){var l=e[o];(!a||!(a.x===l.x&&a.y===l.y))&&(n.push(l.x),n.push(l.y),a=l)}var u=t||[[0,0],[1,1]],h=b0(n,r,u);return h.unshift(["M",i.x,i.y]),h}var A0=5,T0={}.toString,Oc=function(e,r){return T0.call(e)==="[object "+r+"]"},F0=function(e){return Oc(e,"Array")},E0=function(e){return typeof e=="object"&&e!==null},Bc=function(e){if(!E0(e)||!Oc(e,"Object"))return!1;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r},Rc=function(e,r,t,n){t=t||0,n=n||A0;for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var a=r[i];a?Bc(a)?(Bc(e[i])||(e[i]={}),t<n?Rc(e[i],a,t+1,n):e[i]=r[i]):F0(a)?(e[i]=[],e[i]=e[i].concat(a)):e[i]=a:e[i]=a}},ie=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];for(var n=0;n<r.length;n+=1)Rc(e,r[n]);return e};function _c(e){if(!e)return e;var r=e.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);return r.map(function(t){return t.toLowerCase()}).join("-")}function Nc(e){var r={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},t=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];(0,c.U2)(e,"fill")&&(r.color=e.fill);var n=pn(e,t),i=n.shadowColor,a=n.shadowBlur,o=a===void 0?0:a,s=n.shadowOffsetX,l=s===void 0?0:s,u=n.shadowOffsetY,h=u===void 0?0:u;r["text-shadow"]=""+[i,l+"px",h+"px",o+"px"].join(" ");var v=pn(e,t),p=v.stroke,y=v.lineWidth,S=y===void 0?0:y;return r["-webkit-text-stroke"]=""+[S+"px",p].join(" "),(0,c.S6)(e,function(E,O){["fontSize"].includes(O)&&(0,c.hj)(E)?r[_c(O)]=E+"px":O&&!t.includes(O)&&(r[_c(O)]=""+E)}),r}function zc(e,r){e.style["pointer-events"]="none",(0,c.S6)(r,function(t,n){n&&t&&(e.style[n]=t)})}var bs=function(e,r,t){var n=r.statistic,i=r.plotType,a=n.title,o=n.content;[a,o].forEach(function(s,l){if(!!s){var u="";l===0?u=o?"translate(-50%, -100%)":"translate(-50%, -50%)":u=a?"translate(-50%, 0)":"translate(-50%, -50%)";var h=(0,c.mf)(s.style)?s.style(t):s.style;e.annotation().html((0,d.pi)({position:["50%","50%"],html:function(v,p){var y=p.getCoordinate(),S=0;if(i==="pie"||i==="ring-progress")S=y.getRadius()*y.innerRadius*2;else if(i==="liquid"){var E=(0,c.U2)(p.geometries,[0,"elements",0,"shape"]);if(E){var O=E.find(function(Q){return Q.get("name")==="wrap"}),D=O.getCanvasBBox().width;S=D}}else S||(S=y.getWidth());zc(v,(0,d.pi)({width:S+"px",transform:u},Nc(h)));var X=p.getData();if(s.customHtml)return s.customHtml(v,p,t,X);var q=s.content;return s.formatter&&(q=s.formatter(t,X)),q?(0,c.HD)(q)?q:""+q:"<div></div>"},key:(l===0?"top":"bottom")+"-statistic"},pn(s,["offsetX","offsetY","rotate","style","formatter"])))}})},I0=function(e,r,t){var n=r.statistic,i=n.title,a=n.content;[i,a].forEach(function(o){if(!!o){var s=(0,c.mf)(o.style)?o.style(t):o.style;e.annotation().html((0,d.pi)({position:["50%","100%"],html:function(l,u){var h=u.getCoordinate(),v=u.views[0].getCoordinate(),p=v.getCenter(),y=v.getRadius(),S=Math.max(Math.sin(v.startAngle),Math.sin(v.endAngle))*y,E=p.y+S-h.y.start-parseFloat((0,c.U2)(s,"fontSize",0)),O=h.getRadius()*h.innerRadius*2;zc(l,(0,d.pi)({width:O+"px",transform:"translate(-50%, "+E+"px)"},Nc(s)));var D=u.getData();if(o.customHtml)return o.customHtml(l,u,t,D);var X=o.content;return o.formatter&&(X=o.formatter(t,D)),X?(0,c.HD)(X)?X:""+X:"<div></div>"}},pn(o,["offsetX","offsetY","rotate","style","formatter"])))}})},Bl;function L0(){return Bl||(Bl=document.createElement("canvas").getContext("2d")),Bl}var JC=(0,c.HP)(function(e,r){r===void 0&&(r={});var t=r.fontSize,n=r.fontFamily,i=n===void 0?"sans-serif":n,a=r.fontWeight,o=r.fontStyle,s=r.fontVariant,l=L0();l.font=[o,a,s,t+"px",i].join(" ");var u=l.measureText((0,c.HD)(e)?e:"");return u.width},function(e,r){return r===void 0&&(r={}),(0,d.pr)([e],(0,c.VO)(r)).join("")});function $a(e){return typeof e=="number"&&!isNaN(e)}function k0(e,r,t){var n=Math.min(r,t),i=Math.max(r,t);return e>=n&&e<=i}function Rl(e,r){if(!e)return{};var t=e.filter(function(a){var o=(0,c.U2)(a,[r]);return(0,c.hj)(o)&&!isNaN(o)}),n=t.every(function(a){return(0,c.U2)(a,[r])>=0}),i=t.every(function(a){return(0,c.U2)(a,[r])<=0});return n?{min:0}:i?{max:0}:{}}function Vc(e,r,t,n,i){if(i===void 0&&(i=[]),!Array.isArray(e))return{nodes:[],links:[]};var a=[],o={},s=-1;return e.forEach(function(l){var u=l[r],h=l[t],v=l[n],p=pn(l,i);o[u]||(o[u]=(0,d.pi)({id:++s,name:u},p)),o[h]||(o[h]=(0,d.pi)({id:++s,name:h},p)),a.push((0,d.pi)({source:o[u].id,target:o[h].id,value:v},p))}),{nodes:Object.values(o).sort(function(l,u){return l.id-u.id}),links:a}}function yo(e,r){var t=(0,c.hX)(e,function(n){var i=n[r];return i===null||typeof i=="number"&&!isNaN(i)});return Ma($i.WARN,t.length===e.length,"illegal data existed in chart data."),t}function Oa(e){if((0,c.hj)(e))return[e,e,e,e];if((0,c.kJ)(e)){var r=e.length;if(r===1)return[e[0],e[0],e[0],e[0]];if(r===2)return[e[0],e[1],e[0],e[1]];if(r===3)return[e[0],e[1],e[2],e[1]];if(r===4)return e}return[0,0,0,0]}function Cs(e,r,t){r===void 0&&(r="bottom"),t===void 0&&(t=25);var n=Oa(e),i=[r.startsWith("top")?t:0,r.startsWith("right")?t:0,r.startsWith("bottom")?t:0,r.startsWith("left")?t:0];return[n[0]+i[0],n[1]+i[1],n[2]+i[2],n[3]+i[3]]}function _l(e){var r=e.map(function(n){return Oa(n)}),t=[0,0,0,0];return r.length>0&&(t=t.map(function(n,i){return r.forEach(function(a,o){n+=r[o][i]}),n})),t}var Gc={locale:"en-US"};function KC(e){each(e,function(r,t){return Gc[t]=r})}var As={};function Uc(e,r){As[e]=r}function Ts(e){return{get:function(r,t){return Lc((0,c.U2)(As[e],r)||(0,c.U2)(As[Gc.locale],r)||(0,c.U2)(As["en-US"],r)||r,t)}}}var P0={locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}},D0={locale:"zh-CN",general:{increase:"\u589E\u52A0",decrease:"\u51CF\u5C11",root:"\u521D\u59CB"},statistic:{total:"\u603B\u8BA1"},conversionTag:{label:"\u8F6C\u5316\u7387"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"\u603B\u8BA1"}},O0=Rt(18587),Hc="data-chart-source-type",Yc=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],Gr=function(e){(0,d.ZT)(r,e);function r(t,n){var i=e.call(this)||this;return i.container=typeof t=="string"?document.getElementById(t):t,i.options=ie({},i.getDefaultOptions(),n),i.createG2(),i.bindEvents(),i}return r.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},r.prototype.createG2=function(){var t=this.options,n=t.width,i=t.height,a=t.defaultInteractions;this.chart=new f((0,d.pi)((0,d.pi)((0,d.pi)((0,d.pi)({container:this.container,autoFit:!1},this.getChartSize(n,i)),{localRefresh:!1}),pn(this.options,Yc)),{defaultInteractions:a})),this.container.setAttribute(Hc,"G2Plot")},r.prototype.getChartSize=function(t,n){var i=Ol(this.container);return{width:t||i.width||400,height:n||i.height||400}},r.prototype.bindEvents=function(){var t=this;this.chart&&this.chart.on("*",function(n){(n==null?void 0:n.type)&&t.emit(n.type,n)})},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},r.prototype.update=function(t){this.updateOption(t),this.render()},r.prototype.updateOption=function(t){this.options=ie({},this.options,t)},r.prototype.setState=function(t,n,i){i===void 0&&(i=!0);var a=_o(this.chart);(0,c.S6)(a,function(o){n(o.getData())&&o.setState(t,i)})},r.prototype.getStates=function(){var t=_o(this.chart),n=[];return(0,c.S6)(t,function(i){var a=i.getData(),o=i.getStates();(0,c.S6)(o,function(s){n.push({data:a,state:s,geometry:i.geometry,element:i})})}),n},r.prototype.changeData=function(t){this.update({data:t})},r.prototype.changeSize=function(t,n){this.chart.changeSize(t,n)},r.prototype.addAnnotations=function(t,n){n=n||this.chart;var i=(0,d.pr)(t),a=n.getController("annotation"),o=a.getComponents().map(function(u){return u.extra});a.clear(!0);for(var s=function(u){var h=o[u],v=i.findIndex(function(p){return p.id&&p.id===h.id});v!==-1&&(h=ie({},h,i[v]),i.splice(v,1)),a.annotation(h)},l=0;l<o.length;l++)s(l);i.forEach(function(u){return a.annotation(u)}),n.render(!0)},r.prototype.removeAnnotations=function(t){var n=this.chart.getController("annotation"),i=n.getComponents().map(function(s){return s.extra});n.clear(!0);for(var a=function(s){var l=i[s];t.find(function(u){return u.id&&u.id===l.id})||n.annotation(l)},o=0;o<i.length;o++)a(o);this.chart.render(!0)},r.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(Hc)},r.prototype.execAdaptor=function(){var t=this.getSchemaAdaptor(),n=this.options,i=n.padding,a=n.appendPadding;this.chart.padding=i,this.chart.appendPadding=a,t({chart:this.chart,options:this.options})},r.prototype.triggerResize=function(){this.chart.forceFit()},r.prototype.bindSizeSensor=function(){var t=this;if(!this.unbind){var n=this.options.autoFit,i=n===void 0?!0:n;i&&(this.unbind=(0,O0.ak)(this.container,function(){var a=Ol(t.container),o=a.width,s=a.height;(o!==t.chart.width||s!==t.chart.height)&&t.triggerResize()}))}},r.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},r}(Yt.Z),wi=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"];function Fs(){return typeof window=="object"?window==null?void 0:window.devicePixelRatio:2}function Nl(e,r){r===void 0&&(r=e);var t=document.createElement("canvas"),n=Fs();t.width=e*n,t.height=r*n,t.style.width=e+"px",t.style.height=r+"px";var i=t.getContext("2d");return i.scale(n,n),t}function zl(e,r,t,n){n===void 0&&(n=t);var i=r.backgroundColor,a=r.opacity;e.globalAlpha=a,e.fillStyle=i,e.beginPath(),e.fillRect(0,0,t,n),e.closePath()}function Xc(e,r,t){var n=e+r;return t?n*2:n}function Wc(e,r){var t=r?[[e*(1/4),e*(1/4)],[e*(3/4),e*(3/4)]]:[[e*(1/2),e*(1/2)]];return t}function Vl(e,r){var t=r*Math.PI/180,n={a:Math.cos(t)*(1/e),b:Math.sin(t)*(1/e),c:-Math.sin(t)*(1/e),d:Math.cos(t)*(1/e),e:0,f:0};return n}var B0={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function R0(e,r,t,n){var i=r.size,a=r.fill,o=r.lineWidth,s=r.stroke,l=r.fillOpacity;e.beginPath(),e.globalAlpha=l,e.fillStyle=a,e.strokeStyle=s,e.lineWidth=o,e.arc(t,n,i/2,0,2*Math.PI,!1),e.fill(),o&&e.stroke(),e.closePath()}function _0(e){var r=ie({},B0,e),t=r.size,n=r.padding,i=r.isStagger,a=r.rotation,o=Xc(t,n,i),s=Wc(o,i),l=Nl(o,o),u=l.getContext("2d");zl(u,r,o);for(var h=0,v=s;h<v.length;h++){var p=v[h],y=p[0],S=p[1];R0(u,r,y,S)}var E=u.createPattern(l,"repeat");if(E){var O=Fs(),D=Vl(O,a);E.setTransform(D)}return E}var N0={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};function z0(e,r,t){var n=r.stroke,i=r.lineWidth,a=r.strokeOpacity,o=new Path2D(t);e.globalAlpha=a,e.lineCap="square",e.strokeStyle=i?n:"transparent",e.lineWidth=i,e.stroke(o)}function V0(e){var r=ie({},N0,e),t=r.spacing,n=r.rotation,i=r.lineWidth,a=t+i||1,o=t+i||1,s=`
            M 0 0 L `+a+` 0
            M 0 `+o+" L "+a+" "+o+`
            `,l=Nl(a,o),u=l.getContext("2d");zl(u,r,a,o),z0(u,r,s);var h=u.createPattern(l,"repeat");if(h){var v=Fs(),p=Vl(v,n);h.setTransform(p)}return h}var G0={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function U0(e,r,t,n){var i=r.stroke,a=r.size,o=r.fill,s=r.lineWidth,l=r.fillOpacity;e.globalAlpha=l,e.strokeStyle=i,e.lineWidth=s,e.fillStyle=o,e.strokeRect(t-a/2,n-a/2,a,a),e.fillRect(t-a/2,n-a/2,a,a)}function H0(e){var r=ie({},G0,e),t=r.size,n=r.padding,i=r.isStagger,a=r.rotation,o=Xc(t,n,i),s=Wc(o,i),l=Nl(o,o),u=l.getContext("2d");zl(u,r,o);for(var h=0,v=s;h<v.length;h++){var p=v[h],y=p[0],S=p[1];U0(u,r,y,S)}var E=u.createPattern(l,"repeat");if(E){var O=Fs(),D=Vl(O,a);E.setTransform(D)}return E}function Y0(e){var r=e.type,t=e.cfg,n;switch(r){case"dot":n=_0(t);break;case"line":n=V0(t);break;case"square":n=H0(t);break;default:break}return n}function Ti(e){var r=this;return function(t){var n,i=t.options,a=t.chart,o=i.pattern;if(!o)return t;var s=function(l){for(var u,h,v,p=[],y=1;y<arguments.length;y++)p[y-1]=arguments[y];var S=a.getTheme().defaultColor,E=S,O=(h=(u=a.geometries)===null||u===void 0?void 0:u[0])===null||h===void 0?void 0:h.getAttribute("color");if(O){var D=O.getFields()[0],X=(0,c.U2)(l,D);E=si.getMappingValue(O,X,((v=O.values)===null||v===void 0?void 0:v[0])||S)}var q=o;typeof o=="function"&&(q=o.call(r,l,E)),q instanceof CanvasPattern||(q=Y0(ie({},{cfg:{backgroundColor:E}},q)));var Q=i[e];return(0,d.pi)((0,d.pi)({},typeof Q=="function"?Q.call.apply(Q,(0,d.pr)([r,l],p)):Q||{}),{fill:q||E})};return ie({},t,{options:(n={},n[e]=s,n)})}}function qa(e){var r=e.chart,t=e.options,n=t.legend,i=t.colorField,a=t.seriesField;return n===!1?r.legend(!1):(i||a)&&r.legend(i||a,n),e}function qn(e){var r=e.chart,t=e.options,n=t.tooltip;return n!==void 0&&r.tooltip(n),e}function An(e){var r=e.chart,t=e.options,n=t.interactions;return(0,c.S6)(n,function(i){i.enable===!1?r.removeInteraction(i.type):r.interaction(i.type,i.cfg||{})}),e}function dn(e){var r=e.chart,t=e.options,n=t.animation;return typeof n=="boolean"?r.animate(n):r.animate(!0),(0,c.S6)(r.geometries,function(i){i.animate(n)}),e}function un(e){var r=e.chart,t=e.options,n=t.theme;return n&&r.theme(n),e}function Ba(e){var r=e.chart,t=e.options,n=t.state;return n&&(0,c.S6)(r.geometries,function(i){i.state(n)}),e}function zo(e){var r=e.chart,t=e.options,n=t.slider;return r.option("slider",n),e}function Gl(e){var r=e.chart,t=e.options,n=t.scrollbar;return r.option("scrollbar",n),e}function Rn(e,r){return function(t){var n=t.chart,i=t.options,a={};return(0,c.S6)(e,function(o,s){a[s]=pn(o,wi)}),a=ie({},r,i.meta,a),n.scale(a),t}}function Pn(e){return function(r){var t=r.chart,n=r.options,i=t.getController("annotation");return(0,c.S6)((0,d.pr)(n.annotations||[],e||[]),function(a){i.annotation(a)}),r}}function Ja(e){var r=e.chart,t=e.options,n=t.yAxis,i=t.limitInPlot,a=i;return(0,c.Kn)(n)&&(0,c.UM)(i)&&(Object.values(pn(n,["min","max","minLimit","maxLimit"])).some(function(o){return!(0,c.UM)(o)})?a=!0:a=!1),r.limitInPlot=a,e}function Zc(e){return e===void 0&&(e="rect"),function(r){var t=r.chart,n=r.options,i=n.coordinate,a=Array.from(i||[]).map(function(o){return o.type==="reflectX"?["reflect","x"]:o.type==="reflectY"?["reflect","y"]:o.type==="transpose"?["transpose"]:null}).filter(function(o){return!!o});return a.length!==0&&t.coordinate({type:e,actions:a}),r}}function Bi(e,r){if(e===!1)return{fields:!1};var t=(0,c.U2)(e,"fields"),n=(0,c.U2)(e,"formatter");return n&&!t&&(t=r),{fields:t,formatter:n}}function Es(e,r){var t=e.type,n=e.xField,i=e.yField,a=e.colorField,o=e.shapeField,s=e.sizeField,l=e.styleField,u=e.rawFields,h=u===void 0?[]:u,v=[];if(r==="color")v=(0,d.pr)([a||n],h);else if(r==="shape")v=(0,d.pr)([o||n],h);else if(r==="size")v=(0,d.pr)([s||n],h);else{v=(0,d.pr)([n,i,a,o,s,l],h);var p=["x","y","color","shape","size","style"].indexOf(r),y=v[p];v.splice(p,1),v.unshift(y)}var S=(0,c.jj)(v.filter(function(O){return!!O})),E=t==="line"&&[n,i].includes(S.join("*"))?"":S.join("*");return{mappingFields:S,tileMappingField:E}}function mo(e,r){if(!!r)return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i={};return e.forEach(function(a,o){i[a]=t[o]}),delete i.undefined,r(i)}}function Si(e){var r=e.chart,t=e.options,n=t.type,i=t.args,a=t.mapping,o=t.xField,s=t.yField,l=t.colorField,u=t.shapeField,h=t.sizeField,v=t.tooltipFields,p=t.label,y=t.state,S=t.customInfo;if(!a)return e;var E=a.color,O=a.shape,D=a.size,X=a.style,q=a.tooltip,Q=r[n](i).position(o+"*"+s);if((0,c.HD)(E))l?Q.color(l,E):Q.color(E);else if((0,c.mf)(E)){var pt=Es(t,"color"),Wt=pt.mappingFields,Kt=pt.tileMappingField;Q.color(Kt,mo(Wt,E))}else l&&Q.color(l,E);if((0,c.HD)(O))u?Q.shape(u,[O]):Q.shape(O);else if((0,c.mf)(O)){var ae=Es(t,"shape"),Wt=ae.mappingFields,Kt=ae.tileMappingField;Q.shape(Kt,mo(Wt,O))}else u&&Q.shape(u,O);if((0,c.hj)(D))h?Q.size(h,D):Q.size(D);else if((0,c.mf)(D)){var Fe=Es(t,"size"),Wt=Fe.mappingFields,Kt=Fe.tileMappingField;Q.size(Kt,mo(Wt,D))}else h&&Q.size(h,D);if((0,c.mf)(X)){var ve=Es(t,"style"),Wt=ve.mappingFields,Kt=ve.tileMappingField;Q.style(Kt,mo(Wt,X))}else(0,c.Kn)(X)&&Q.style(X);if(v===!1?Q.tooltip(!1):(0,c.xb)(v)||Q.tooltip(v.join("*"),mo(v,q)),p===!1)Q.label(!1);else if(p){var Ze=p.callback,dr=p.fields,Or=(0,d._T)(p,["callback","fields"]);Q.label({fields:dr||[s],callback:Ze,cfg:ei(Or)})}return y&&Q.state(y),S&&Q.customInfo(S),[o,s].filter(function(Rr){return Rr!==l}).forEach(function(Rr){r.legend(Rr,!1)}),(0,d.pi)((0,d.pi)({},e),{ext:{geometry:Q}})}function Is(e){var r=e.options,t=r.area,n=r.xField,i=r.yField,a=r.seriesField,o=r.smooth,s=r.tooltip,l=r.useDeferredLabel,u=Bi(s,[n,i,a]),h=u.fields,v=u.formatter;return t?Si(ie({},e,{options:{type:"area",colorField:a,tooltipFields:h,mapping:(0,d.pi)({shape:o?"smooth":"area",tooltip:v},t),args:{useDeferredLabel:l}}})):e}function xo(e){var r=e.options,t=r.line,n=r.stepType,i=r.xField,a=r.yField,o=r.seriesField,s=r.smooth,l=r.connectNulls,u=r.tooltip,h=r.useDeferredLabel,v=Bi(u,[i,a,o]),p=v.fields,y=v.formatter;return t?Si(ie({},e,{options:{type:"line",colorField:o,tooltipFields:p,mapping:(0,c.b$)({shape:n||(s?"smooth":"line"),tooltip:y},t),args:{connectNulls:l,useDeferredLabel:h}}})):e}function Fi(e){var r=e.options,t=r.point,n=r.xField,i=r.yField,a=r.seriesField,o=r.sizeField,s=r.shapeField,l=r.tooltip,u=r.useDeferredLabel,h=Bi(l,[n,i,a,o,s]),v=h.fields,p=h.formatter;return t?Si(ie({},e,{options:{type:"point",colorField:a,shapeField:s,tooltipFields:v,mapping:(0,d.pi)({tooltip:p},t),args:{useDeferredLabel:u}}})):e}function X0(e){var r=e.chart,t=e.options,n=e.ext,i=t.seriesField,a=t.isGroup,o=t.isStack,s=t.marginRatio,l=t.widthRatio,u=t.groupField,h=t.theme,v=[];if(i&&(a&&v.push({type:"dodge",dodgeBy:u||i,marginRatio:s}),o&&v.push({type:"stack",marginRatio:s})),v.length&&(n==null?void 0:n.geometry)){var p=n==null?void 0:n.geometry;p.adjust(v)}return(0,c.UM)(l)||r.theme(ie({},(0,c.Kn)(h)?h:Di(h),{columnWidthRatio:l})),e}function ui(e){var r=e.options,t=r.xField,n=r.yField,i=r.interval,a=r.seriesField,o=r.tooltip,s=r.minColumnWidth,l=r.maxColumnWidth,u=r.columnBackground,h=r.dodgePadding,v=r.intervalPadding,p=r.useDeferredLabel,y=Bi(o,[t,n,a]),S=y.fields,E=y.formatter,O=(i?Si(ie({},e,{options:{type:"interval",colorField:a,tooltipFields:S,mapping:(0,d.pi)({tooltip:E},i),args:{dodgePadding:h,intervalPadding:v,minColumnWidth:s,maxColumnWidth:l,background:u,useDeferredLabel:p}}})):e).ext;return X0((0,d.pi)((0,d.pi)({},e),{ext:O}))}function Ls(e){var r=e.options,t=r.polygon,n=r.xField,i=r.yField,a=r.seriesField,o=r.tooltip,s=r.useDeferredLabel,l=Bi(o,[n,i,a]),u=l.fields,h=l.formatter;return t?Si(ie({},e,{options:{type:"polygon",colorField:a,tooltipFields:u,mapping:(0,d.pi)({tooltip:h},t),args:{useDeferredLabel:s}}})):e}function jc(e){var r=e.options,t=r.edge,n=r.xField,i=r.yField,a=r.seriesField,o=r.tooltip,s=r.useDeferredLabel,l=Bi(o,[n,i,a]),u=l.fields,h=l.formatter;return t?Si(ie({},e,{options:{type:"edge",colorField:a,tooltipFields:u,mapping:(0,d.pi)({tooltip:h},t),args:{useDeferredLabel:s}}})):e}function Ul(e){var r=e.options,t=r.schema,n=r.xField,i=r.yField,a=r.seriesField,o=r.tooltip,s=r.useDeferredLabel,l=Bi(o,[n,i,a]),u=l.fields,h=l.formatter;return t?Si(ie({},e,{options:{type:"schema",colorField:a,tooltipFields:u,mapping:(0,d.pi)({tooltip:h},t),args:{useDeferredLabel:s}}})):e}function W0(e){var r=e.options,t=r.violin,n=r.xField,i=r.yField,a=r.seriesField,o=r.sizeField,s=r.tooltip,l=Bi(s,[n,i,a,o]),u=l.fields,h=l.formatter;return t?Si(ie({},e,{options:{type:"violin",colorField:a,tooltipFields:u,mapping:(0,d.pi)({tooltip:h},t)}})):e}function Z0(e){var r=e.chart,t=e.options,n=t.data,i=t.color,a=t.lineStyle,o=t.lineShape,s=t.point,l=t.area,u=t.seriesField,h=s==null?void 0:s.state,v=l==null?void 0:l.state;r.data(n);var p=ie({},e,{options:{shapeField:u,line:{color:i,style:a,shape:o},point:s&&(0,d.pi)({color:i,shape:"circle"},s),area:l&&(0,d.pi)({color:i},l),label:void 0}}),y=ie({},p,{options:{tooltip:!1,state:h}}),S=ie({},p,{options:{tooltip:!1,state:v}});return xo(p),Fi(y),Is(S),e}function ks(e){var r,t,n=e.options,i=n.xAxis,a=n.yAxis,o=n.xField,s=n.yField,l=n.data;return Br(Rn((r={},r[o]=i,r[s]=a,r),(t={},t[o]={type:"cat"},t[s]=Rl(l,s),t)))(e)}function j0(e){var r=e.chart,t=e.options,n=t.reflect;if(n){var i=n;(0,c.kJ)(i)||(i=[i]);var a=i.map(function(o){return["reflect",o]});r.coordinate({type:"rect",actions:a})}return e}function $c(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField;return n===!1?r.axis(a,!1):r.axis(a,n),i===!1?r.axis(o,!1):r.axis(o,i),e}function qc(e){var r=e.chart,t=e.options,n=t.legend,i=t.seriesField;return n&&i?r.legend(i,n):n===!1&&r.legend(!1),e}function $0(e){var r=e.chart,t=e.options,n=t.label,i=t.yField,a=li(r,"line");if(!n)a.label(!1);else{var o=n.callback,s=(0,d._T)(n,["callback"]);a.label({fields:[i],callback:o,cfg:(0,d.pi)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},ei(s))})}return e}function q0(e){var r=e.chart,t=e.options,n=t.isStack;return n&&(0,c.S6)(r.geometries,function(i){i.adjust("stack")}),e}function Jc(e){return Br(Z0,ks,q0,un,j0,$c,qc,qn,$0,zo,Gl,An,dn,Pn(),Ja)(e)}var J0=ie({},Gr.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1}),K0=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.active=function(){var t=this.getView(),n=this.context.event;if(n.data){var i=n.data.items,a=t.geometries.filter(function(o){return o.type==="point"});(0,c.S6)(a,function(o){(0,c.S6)(o.elements,function(s){var l=(0,c.cx)(i,function(u){return u.data===s.data})!==-1;s.setState("active",l)})})}},r.prototype.reset=function(){var t=this.getView(),n=t.geometries.filter(function(i){return i.type==="point"});(0,c.S6)(n,function(i){(0,c.S6)(i.elements,function(a){a.setState("active",!1)})})},r.prototype.getView=function(){return this.context.view},r}(Vr);Sr("marker-active",K0),Er("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var Kc=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="line",t}return r.getDefaultOptions=function(){return J0},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this,i=n.chart,a=n.options;ks({chart:i,options:a}),this.chart.changeData(t)},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Jc},r}(Gr);function Qc(e,r,t,n){var i=(0,c.u4)(e,function(a,o){var s=o[t],l=a.has(s)?a.get(s):0,u=o[r];return l=$a(u)?l+u:l,a.set(s,l),a},new Map);return(0,c.UI)(e,function(a){var o,s=a[r],l=a[t],u=$a(s)&&i.get(l)!==0?s/i.get(l):0;return(0,d.pi)((0,d.pi)({},a),(o={},o[n]=u,o))})}function Q0(e,r,t,n){var i=(0,c.u4)(e,function(a,o){var s=(0,c.u4)(t,function(h,v){return""+h+o[v]},""),l=a.has(s)?a.get(s):0,u=o[r];return l=$a(u)?l+u:l,a.set(s,l),a},new Map);return(0,c.UI)(e,function(a){var o,s=a[r],l=(0,c.u4)(t,function(h,v){return""+h+a[v]},""),u=$a(s)&&i.get(l)!==0?s/i.get(l):0;return(0,d.pi)((0,d.pi)({},a),(o={},o[n]=u,o))})}function Vo(e,r,t,n,i){return i?Qc(e,r,t,n):e}function ty(e){var r=e.chart,t=e.options,n=t.data,i=t.areaStyle,a=t.color,o=t.point,s=t.line,l=t.isPercent,u=t.xField,h=t.yField,v=t.tooltip,p=t.seriesField,y=t.startOnZero,S=o==null?void 0:o.state,E=Vo(n,h,u,h,l);r.data(E);var O=l?(0,d.pi)({formatter:function(Q){return{name:Q[p]||Q[u],value:(Number(Q[h])*100).toFixed(2)+"%"}}},v):v,D=ie({},e,{options:{area:{color:a,style:i},point:o&&(0,d.pi)({color:a},o),tooltip:O,label:void 0,args:{startOnZero:y}}}),X={chart:r,options:ie({line:{size:2}},(0,c.CE)(t,["state"]),{line:s&&(0,d.pi)({color:a},s),sizeField:p,state:s==null?void 0:s.state,tooltip:!1,label:void 0,args:{startOnZero:y}})},q=ie({},D,{options:{tooltip:!1,state:S}});return Is(D),xo(X),Fi(q),e}function ey(e){var r=e.chart,t=e.options,n=t.label,i=t.yField,a=li(r,"area");if(!n)a.label(!1);else{var o=n.callback,s=(0,d._T)(n,["callback"]);a.label({fields:[i],callback:o,cfg:(0,d.pi)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},ei(s))})}return e}function ry(e){var r=e.chart,t=e.options,n=t.isStack,i=t.isPercent,a=t.seriesField;return(i||n)&&a&&(0,c.S6)(r.geometries,function(o){o.adjust("stack")}),e}function tf(e){return Br(un,Ti("areaStyle"),Zc("rect"),ty,ks,ry,$c,qc,qn,ey,zo,Pn(),An,dn,Ja)(e)}var ny=ie({},Gr.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}}),iy=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="area",t}return r.getDefaultOptions=function(){return ny},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options,i=n.isPercent,a=n.xField,o=n.yField,s=this,l=s.chart,u=s.options;ks({chart:l,options:u}),this.chart.changeData(Vo(t,o,a,o,i))},r.prototype.getSchemaAdaptor=function(){return tf},r}(Gr);function ef(e,r){return!(0,c.hj)(e)||!(0,c.hj)(r)?"-":e===r?"100%":e===0?"\u221E":r===0?"-\u221E":(100*r/e).toFixed(2)+"%"}function ay(e,r){return ie({size:r?32:80,spacing:r?8:12,offset:r?32:0,arrow:e.arrow!==!1&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:e.text!==!1&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:ef}},e)}function Ps(e,r){return(0,c.UI)(r.getModel().points,function(t){return e.convertPoint(t)})}function oy(e,r,t){var n=e.view,i=e.geometry,a=e.group,o=e.options,s=e.horizontal,l=o.offset,u=o.size,h=o.arrow,v=n.getCoordinate(),p=Ps(v,r)[3],y=Ps(v,t)[0],S=y.y-p.y,E=y.x-p.x;if(typeof h!="boolean"){var O=h.headSize,D=o.spacing,X;s?(E-O)/2<D?(D=Math.max(1,(E-O)/2),X=[[p.x+D,p.y-l],[p.x+D,p.y-l-u],[y.x-D,y.y-l-u/2]]):X=[[p.x+D,p.y-l],[p.x+D,p.y-l-u],[y.x-D-O,y.y-l-u],[y.x-D,y.y-l-u/2],[y.x-D-O,y.y-l]]:(S-O)/2<D?(D=Math.max(1,(S-O)/2),X=[[p.x+l,p.y+D],[p.x+l+u,p.y+D],[y.x+l+u/2,y.y-D]]):X=[[p.x+l,p.y+D],[p.x+l+u,p.y+D],[y.x+l+u,y.y-D-O],[y.x+l+u/2,y.y-D],[y.x+l,y.y-D-O]],a.addShape("polygon",{id:n.id+"-conversion-tag-arrow-"+i.getElementId(r.getModel().mappingData),name:"conversion-tag-arrow",origin:{element:r,nextElement:t},attrs:(0,d.pi)((0,d.pi)({},h.style||{}),{points:X})})}}function sy(e,r,t){var n,i,a,o=e.view,s=e.geometry,l=e.group,u=e.options,h=e.field,v=e.horizontal,p=u.offset,y=u.size;if(typeof u.text!="boolean"){var S=o.getCoordinate(),E=((n=u.text)===null||n===void 0?void 0:n.formatter)&&((i=u.text)===null||i===void 0?void 0:i.formatter(r.getData()[h],t.getData()[h])),O=Ps(S,r)[v?3:0],D=Ps(S,t)[v?0:3],X=l.addShape("text",{id:o.id+"-conversion-tag-text-"+s.getElementId(r.getModel().mappingData),name:"conversion-tag-text",origin:{element:r,nextElement:t},attrs:(0,d.pi)((0,d.pi)({},((a=u.text)===null||a===void 0?void 0:a.style)||{}),{text:E,x:v?(O.x+D.x)/2:O.x+p+y/2,y:v?O.y-p-y/2:(O.y+D.y)/2})});if(v){var q=D.x-O.x,Q=X.getBBox().width;if(Q>q){var pt=Q/E.length,Wt=Math.max(1,Math.ceil(q/pt)-1),Kt=E.slice(0,Wt)+"...";X.attr("text",Kt)}}}}function ly(e,r,t){oy(e,r,t),sy(e,r,t)}function uy(e,r,t){return r===void 0&&(r=!0),t===void 0&&(t=!1),function(n){var i=n.options,a=n.chart,o=i.conversionTag,s=i.theme;return o&&!t&&(a.theme(ie({},(0,c.Kn)(s)?s:Di(s),{columnWidthRatio:1/3})),a.annotation().shape({render:function(l,u){var h=l.addGroup({id:a.id+"-conversion-tag-group",name:"conversion-tag-group"}),v=(0,c.sE)(a.geometries,function(S){return S.type==="interval"}),p={view:u,geometry:v,group:h,field:e,horizontal:r,options:ay(o,r)},y=v.elements;(0,c.S6)(y,function(S,E){E>0&&ly(p,y[E-1],S)})}})),n}}var Ka={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},Hl=function(e,r){return e==="hover"?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:r}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:r}]}]};Er(Ka.hover,{start:Hl(Ka.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),Er(Ka.click,{start:Hl(Ka.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});function cy(e){return e===void 0&&(e=!1),function(r){var t=r.chart,n=r.options,i=n.connectedArea,a=function(){t.removeInteraction(Ka.hover),t.removeInteraction(Ka.click)};if(!e&&i){var o=i.trigger||"hover";a(),t.interaction(Ka[o],{start:Hl(o,i.style)})}else a();return r}}var fy=10,hy=5,vy={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},py=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg=(0,d.pi)({name:"button"},vy),t}return r.prototype.getButtonCfg=function(){var t=this.context.view,n=(0,c.U2)(t,["interactions","filter-action","cfg","buttonConfig"]);return ie(this.buttonCfg,n,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:t.name}),i=this.drawText(n);this.drawBackground(n,i.getBBox()),this.buttonGroup=n},r.prototype.drawText=function(t){var n,i=this.getButtonCfg();return t.addShape({type:"text",name:"button-text",attrs:(0,d.pi)({text:i.text},(n=i.textStyle)===null||n===void 0?void 0:n.default)})},r.prototype.drawBackground=function(t,n){var i,a=this.getButtonCfg(),o=Oa(a.padding),s=t.addShape({type:"rect",name:"button-rect",attrs:(0,d.pi)({x:n.x-o[3],y:n.y-o[0],width:n.width+o[1]+o[3],height:n.height+o[0]+o[2]},(i=a.buttonStyle)===null||i===void 0?void 0:i.default)});return s.toBack(),t.on("mouseenter",function(){var l;s.attr((l=a.buttonStyle)===null||l===void 0?void 0:l.active)}),t.on("mouseleave",function(){var l;s.attr((l=a.buttonStyle)===null||l===void 0?void 0:l.default)}),s},r.prototype.resetPosition=function(){var t=this.context.view,n=t.getCoordinate(),i=n.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=si.transform(null,[["t",i.x-o.width-fy,i.y+o.height+hy]]);a.setMatrix(s)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),e.prototype.destroy.call(this)},r}(Vr);Sr("brush-reset-button",py,{name:"brush-reset-button"}),Er("filter-action",{});function ba(e){return e.isInPlot()}function Qa(e,r,t){var n=t||{},i=n.mask,a=n.isStartEnable,o=r||"rect";switch(e){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:a||ba,action:["brush:start",o+"-mask:start",o+"-mask:show"],arg:[null,{maskStyle:i==null?void 0:i.style}]}],processing:[{trigger:"mousemove",isEnable:ba,action:[o+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:ba,action:["brush:filter","brush:end",o+"-mask:end",o+"-mask:hide","brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:default",isEnable:function(s){return a?!a(s):!1}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:a||function(s){return!s.isInShape("mask")},action:[o+"-mask:start",o+"-mask:show"],arg:[{maskStyle:i==null?void 0:i.style}]},{trigger:"mask:dragstart",action:[o+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[o+"-mask:resize"]},{trigger:"mask:drag",action:[o+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[o+"-mask:end"]},{trigger:"mask:dragend",action:[o+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(s){return!s.isInPlot()},action:["element-range-highlight:clear",o+"-mask:end",o+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",o+"-mask:hide"]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:a||ba,action:["brush-x:start",o+"-mask:start",o+"-mask:show"],arg:[null,{maskStyle:i==null?void 0:i.style}]}],processing:[{trigger:"mousemove",isEnable:ba,action:[o+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:ba,action:["brush-x:filter","brush-x:end",o+"-mask:end",o+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-x-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:a||function(s){return!s.isInShape("mask")},action:[o+"-mask:start",o+"-mask:show"],arg:[{maskStyle:i==null?void 0:i.style}]},{trigger:"mask:dragstart",action:[o+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[o+"-mask:resize"]},{trigger:"mask:drag",action:[o+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[o+"-mask:end"]},{trigger:"mask:dragend",action:[o+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(s){return!s.isInPlot()},action:["element-range-highlight:clear",o+"-mask:end",o+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",o+"-mask:hide"]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:a||ba,action:["brush-y:start",o+"-mask:start",o+"-mask:show"],arg:[null,{maskStyle:i==null?void 0:i.style}]}],processing:[{trigger:"mousemove",isEnable:ba,action:[o+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:ba,action:["brush-y:filter","brush-y:end",o+"-mask:end",o+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:a||function(s){return!s.isInShape("mask")},action:[o+"-mask:start",o+"-mask:show"],arg:[{maskStyle:i==null?void 0:i.style}]},{trigger:"mask:dragstart",action:[o+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[o+"-mask:resize"]},{trigger:"mask:drag",action:[o+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[o+"-mask:end"]},{trigger:"mask:dragend",action:[o+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(s){return!s.isInPlot()},action:["element-range-highlight:clear",o+"-mask:end",o+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",o+"-mask:hide"]}]};default:return{}}}Er("brush",Qa("brush")),Er("brush-highlight",Qa("brush-highlight")),Er("brush-x",Qa("brush-x","x-rect")),Er("brush-y",Qa("brush-y","y-rect")),Er("brush-x-highlight",Qa("brush-x-highlight","x-rect")),Er("brush-y-highlight",Qa("brush-y-highlight","y-rect"));var rf=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function nf(e){var r=e.options,t=r.brush,n=(0,c.hX)(r.interactions||[],function(i){return rf.indexOf(i.type)===-1});return(t==null?void 0:t.enabled)&&(rf.forEach(function(i){var a=!1;switch(t.type){case"x-rect":a=i===(t.action==="highlight"?"brush-x-highlight":"brush-x");break;case"y-rect":a=i===(t.action==="highlight"?"brush-y-highlight":"brush-y");break;default:a=i===(t.action==="highlight"?"brush-highlight":"brush");break}var o={type:i,enable:a};t&&(o.cfg=Qa(i,t.type,t)),n.push(o)}),(t==null?void 0:t.action)!=="highlight"&&n.push({type:"filter-action",cfg:{buttonConfig:t.button}})),ie({},e,{options:{interactions:n}})}function dy(e){var r=e.options,t=r.legend,n=r.seriesField,i=r.isStack;return n?t!==!1&&(t=(0,d.pi)({position:i?"right-top":"top-left"},t)):t=!1,e.options.legend=t,e}function gy(e){var r=e.chart,t=e.options,n=t.data,i=t.columnStyle,a=t.color,o=t.columnWidthRatio,s=t.isPercent,l=t.isGroup,u=t.isStack,h=t.xField,v=t.yField,p=t.seriesField,y=t.groupField,S=t.tooltip,E=t.shape,O=s&&l&&u?Q0(n,v,[h,y],v):Vo(n,v,h,v,s),D=[];u&&p&&!l?O.forEach(function(Q){var pt=D.find(function(Wt){return Wt[h]===Q[h]&&Wt[p]===Q[p]});pt?pt[v]+=Q[v]||0:D.push((0,d.pi)({},Q))}):D=O,r.data(D);var X=s?(0,d.pi)({formatter:function(Q){return{name:l&&u?Q[p]+" - "+Q[y]:Q[p]||Q[h],value:(Number(Q[v])*100).toFixed(2)+"%"}}},S):S,q=ie({},e,{options:{data:D,widthRatio:o,tooltip:X,interval:{shape:E,style:i,color:a}}});return ui(q),q}function Yl(e){var r,t,n=e.options,i=n.xAxis,a=n.yAxis,o=n.xField,s=n.yField,l=n.data,u=n.isPercent,h=u?{max:1,min:0,minLimit:0,maxLimit:1}:{};return Br(Rn((r={},r[o]=i,r[s]=a,r),(t={},t[o]={type:"cat"},t[s]=(0,d.pi)((0,d.pi)({},Rl(l,s)),h),t)))(e)}function yy(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField;return n===!1?r.axis(a,!1):r.axis(a,n),i===!1?r.axis(o,!1):r.axis(o,i),e}function my(e){var r=e.chart,t=e.options,n=t.legend,i=t.seriesField;return n&&i?r.legend(i,n):n===!1&&r.legend(!1),e}function xy(e){var r=e.chart,t=e.options,n=t.label,i=t.yField,a=t.isRange,o=li(r,"interval");if(!n)o.label(!1);else{var s=n.callback,l=(0,d._T)(n,["callback"]);o.label({fields:[i],callback:s,cfg:(0,d.pi)({layout:(l==null?void 0:l.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},ei(a?(0,d.pi)({content:function(u){var h;return(h=u[i])===null||h===void 0?void 0:h.join("-")}},l):l))})}return e}function wy(e){var r=e.chart,t=e.options,n=t.tooltip,i=t.isGroup,a=t.isStack,o=t.groupField,s=t.data,l=t.xField,u=t.yField,h=t.seriesField;if(n===!1)r.tooltip(!1);else{var v=n;if(i&&a){var p=(v==null?void 0:v.formatter)||function(y){return{name:y[h]+" - "+y[o],value:y[u]}};v=(0,d.pi)((0,d.pi)({},v),{customItems:function(y){var S=[];return(0,c.S6)(y,function(E){var O=(0,c.hX)(s,function(D){return(0,c.BD)(D,pn(E.data,[l,h]))});O.forEach(function(D){S.push((0,d.pi)((0,d.pi)((0,d.pi)({},E),{value:D[u],data:D,mappingData:{_origin:D}}),p(D)))})}),S}})}r.tooltip(v)}return e}function Ds(e,r){r===void 0&&(r=!1);var t=e.options,n=t.seriesField;return Br(dy,un,Ti("columnStyle"),Ba,Zc("rect"),gy,Yl,yy,my,wy,zo,Gl,xy,nf,An,dn,Pn(),uy(t.yField,!r,!!n),cy(!t.isStack),Ja)(e)}var Sy=ie({},Gr.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),My=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="column",t}return r.getDefaultOptions=function(){return Sy},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options,i=n.yField,a=n.xField,o=n.isPercent,s=this,l=s.chart,u=s.options;Yl({chart:l,options:u}),this.chart.changeData(Vo(t,i,a,i,o))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Ds},r}(Gr);function by(e){var r=e.options,t=r.xField,n=r.yField,i=r.xAxis,a=r.yAxis,o={left:"bottom",right:"top",top:"left",bottom:"right"},s=a!==!1?(0,d.pi)({position:o[(a==null?void 0:a.position)||"left"]},a):!1,l=i!==!1?(0,d.pi)({position:o[(i==null?void 0:i.position)||"bottom"]},i):!1;return(0,d.pi)((0,d.pi)({},e),{options:(0,d.pi)((0,d.pi)({},r),{xField:n,yField:t,xAxis:s,yAxis:l})})}function Cy(e){var r=e.options,t=r.label;return t&&!t.position&&(t.position="left",t.layout||(t.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),ie({},e,{options:{label:t}})}function Ay(e){var r=e.options,t=r.seriesField,n=r.isStack,i=r.legend;return t?i!==!1&&(i=(0,d.pi)({position:n?"top-left":"right-top"},i||{})):i=!1,ie({},e,{options:{legend:i}})}function Ty(e){var r=e.options,t=[{type:"transpose"},{type:"reflectY"}].concat(r.coordinate||[]);return ie({},e,{options:{coordinate:t}})}function Fy(e){var r=e.chart,t=e.options,n=t.barStyle,i=t.barWidthRatio,a=t.minBarWidth,o=t.maxBarWidth,s=t.barBackground;return Ds({chart:r,options:(0,d.pi)((0,d.pi)({},t),{columnStyle:n,columnWidthRatio:i,minColumnWidth:a,maxColumnWidth:o,columnBackground:s})},!0)}function af(e){return Br(by,Cy,Ay,qn,Ty,Fy)(e)}var Ey=ie({},Gr.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),Iy=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="bar",t}return r.getDefaultOptions=function(){return Ey},r.prototype.changeData=function(t){var n,i;this.updateOption({data:t});var a=this,o=a.chart,s=a.options,l=s.isPercent,u=s.xField,h=s.yField,v=s.xAxis,p=s.yAxis;n=[h,u],u=n[0],h=n[1],i=[p,v],v=i[0],p=i[1];var y=(0,d.pi)((0,d.pi)({},s),{xField:u,yField:h,yAxis:p,xAxis:v});Yl({chart:o,options:y}),o.changeData(Vo(t,u,h,u,l))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return af},r}(Gr),of=ie({},Gr.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}});function Ly(e,r){var t=null;return(0,c.S6)(e,function(n){typeof n[r]=="number"&&(t+=n[r])}),t}function ky(e,r){var t;switch(e){case"inner":return t="-30%",(0,c.HD)(r)&&r.endsWith("%")?parseFloat(r)*.01>0?t:r:r<0?r:t;case"outer":return t=12,(0,c.HD)(r)&&r.endsWith("%")?parseFloat(r)*.01<0?t:r:r>0?r:t;default:return r}}function Os(e,r){return(0,c.yW)(yo(e,r),function(t){return t[r]===0})}var Py=[1,0,0,0,1,0,0,0,1];function Xl(e,r){var t=r?(0,d.pr)(r):(0,d.pr)(Py);return si.transform(t,e)}var Dy=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getActiveElements=function(){var t=si.getDelegationObject(this.context);if(t){var n=this.context.view,i=t.component,a=t.item,o=i.get("field");if(o){var s=n.geometries[0].elements;return s.filter(function(l){return l.getModel().data[o]===a.value})}}return[]},r.prototype.getActiveElementLabels=function(){var t=this.context.view,n=this.getActiveElements(),i=t.geometries[0].labelsContainer.getChildren();return i.filter(function(a){return n.find(function(o){return(0,c.Xy)(o.getData(),a.get("data"))})})},r.prototype.transfrom=function(t){t===void 0&&(t=7.5);var n=this.getActiveElements(),i=this.getActiveElementLabels();n.forEach(function(a,o){var s=i[o],l=a.geometry.coordinate;if(l.isPolar&&l.isTransposed){var u=si.getAngle(a.getModel(),l),h=u.startAngle,v=u.endAngle,p=(h+v)/2,y=t,S=y*Math.cos(p),E=y*Math.sin(p);a.shape.setMatrix(Xl([["t",S,E]])),s.setMatrix(Xl([["t",S,E]]))}})},r.prototype.active=function(){this.transfrom()},r.prototype.reset=function(){this.transfrom(0)},r}(Vr);function Oy(e){var r=e.event,t,n=r.target;return n&&(t=n.get("element")),t}var By=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getAnnotations=function(t){var n=t||this.context.view;return n.getController("annotation").option},r.prototype.getInitialAnnotation=function(){return this.initialAnnotation},r.prototype.init=function(){var t=this,n=this.context.view;n.removeInteraction("tooltip"),n.on("afterchangesize",function(){var i=t.getAnnotations(n);t.initialAnnotation=i})},r.prototype.change=function(t){var n=this.context,i=n.view,a=n.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var o=(0,c.U2)(a,["data","data"]);if(a.type.match("legend-item")){var s=si.getDelegationObject(this.context),l=i.getGroupedFields()[0];if(s&&l){var u=s.item;o=i.getData().find(function(y){return y[l]===u.value})}}if(o){var h=(0,c.U2)(t,"annotations",[]),v=(0,c.U2)(t,"statistic",{});i.getController("annotation").clear(!0),(0,c.S6)(h,function(y){typeof y=="object"&&i.annotation()[y.type](y)}),bs(i,{statistic:v,plotType:"pie"},o),i.render(!0)}var p=Oy(this.context);p&&p.shape.toFront()},r.prototype.reset=function(){var t=this.context.view,n=t.getController("annotation");n.clear(!0);var i=this.getInitialAnnotation();(0,c.S6)(i,function(a){t.annotation()[a.type](a)}),t.render(!0)},r}(Vr),sf="pie-statistic";Sr(sf,By),Er("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),Sr("pie-legend",Dy),Er("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});function Ry(e){var r=e.chart,t=e.options,n=t.data,i=t.angleField,a=t.colorField,o=t.color,s=t.pieStyle,l=yo(n,i);if(Os(l,i)){var u="$$percentage$$";l=l.map(function(v){var p;return(0,d.pi)((0,d.pi)({},v),(p={},p[u]=1/l.length,p))}),r.data(l);var h=ie({},e,{options:{xField:"1",yField:u,seriesField:a,isStack:!0,interval:{color:o,style:s},args:{zIndexReversed:!0,sortZIndex:!0}}});ui(h)}else{r.data(l);var h=ie({},e,{options:{xField:"1",yField:i,seriesField:a,isStack:!0,interval:{color:o,style:s},args:{zIndexReversed:!0,sortZIndex:!0}}});ui(h)}return e}function _y(e){var r,t=e.chart,n=e.options,i=n.meta,a=n.colorField,o=ie({},i);return t.scale(o,(r={},r[a]={type:"cat"},r)),e}function Ny(e){var r=e.chart,t=e.options,n=t.radius,i=t.innerRadius,a=t.startAngle,o=t.endAngle;return r.coordinate({type:"theta",cfg:{radius:n,innerRadius:i,startAngle:a,endAngle:o}}),e}function zy(e){var r=e.chart,t=e.options,n=t.label,i=t.colorField,a=t.angleField,o=r.geometries[0];if(!n)o.label(!1);else{var s=n.callback,l=(0,d._T)(n,["callback"]),u=ei(l);if(u.content){var h=u.content;u.content=function(S,E,O){var D=S[i],X=S[a],q=r.getScaleByField(a),Q=q==null?void 0:q.scale(X);return(0,c.mf)(h)?h((0,d.pi)((0,d.pi)({},S),{percent:Q}),E,O):(0,c.HD)(h)?Lc(h,{value:X,name:D,percentage:(0,c.hj)(Q)&&!(0,c.UM)(X)?(Q*100).toFixed(2)+"%":null}):h}}var v={inner:"",outer:"pie-outer",spider:"pie-spider"},p=u.type?v[u.type]:"pie-outer",y=u.layout?(0,c.kJ)(u.layout)?u.layout:[u.layout]:[];u.layout=(p?[{type:p}]:[]).concat(y),o.label({fields:i?[a,i]:[a],callback:s,cfg:(0,d.pi)((0,d.pi)({},u),{offset:ky(u.type,u.offset),type:"pie"})})}return e}function lf(e){var r=e.innerRadius,t=e.statistic,n=e.angleField,i=e.colorField,a=e.meta,o=e.locale,s=Ts(o);if(r&&t){var l=ie({},of.statistic,t),u=l.title,h=l.content;return u!==!1&&(u=ie({},{formatter:function(v){var p=v?v[i]:(0,c.UM)(u.content)?s.get(["statistic","total"]):u.content,y=(0,c.U2)(a,[i,"formatter"])||function(S){return S};return y(p)}},u)),h!==!1&&(h=ie({},{formatter:function(v,p){var y=v?v[n]:Ly(p,n),S=(0,c.U2)(a,[n,"formatter"])||function(E){return E};return v||(0,c.UM)(h.content)?S(y):h.content}},h)),ie({},{statistic:{title:u,content:h}},e)}return e}function uf(e){var r=e.chart,t=e.options,n=lf(t),i=n.innerRadius,a=n.statistic;return r.getController("annotation").clear(!0),Br(Pn())(e),i&&a&&bs(r,{statistic:a,plotType:"pie"}),e}function Vy(e){var r=e.chart,t=e.options,n=t.tooltip,i=t.colorField,a=t.angleField,o=t.data;if(n===!1)r.tooltip(n);else if(r.tooltip(ie({},n,{shared:!1})),Os(o,a)){var s=(0,c.U2)(n,"fields"),l=(0,c.U2)(n,"formatter");(0,c.xb)((0,c.U2)(n,"fields"))&&(s=[i,a],l=l||function(u){return{name:u[i],value:(0,c.BB)(u[a])}}),r.geometries[0].tooltip(s.join("*"),mo(s,l))}return e}function Gy(e){var r=e.chart,t=e.options,n=lf(t),i=n.interactions,a=n.statistic,o=n.annotations;return(0,c.S6)(i,function(s){var l,u;if(s.enable===!1)r.removeInteraction(s.type);else if(s.type==="pie-statistic-active"){var h=[];((l=s.cfg)===null||l===void 0?void 0:l.start)||(h=[{trigger:"element:mouseenter",action:sf+":change",arg:{statistic:a,annotations:o}}]),(0,c.S6)((u=s.cfg)===null||u===void 0?void 0:u.start,function(v){h.push((0,d.pi)((0,d.pi)({},v),{arg:{statistic:a,annotations:o}}))}),r.interaction(s.type,ie({},s.cfg,{start:h}))}else r.interaction(s.type,s.cfg||{})}),e}function cf(e){return Br(Ti("pieStyle"),Ry,_y,un,Ny,qa,Vy,zy,Ba,uf,Gy,dn)(e)}var ff=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="pie",t}return r.getDefaultOptions=function(){return of},r.prototype.changeData=function(t){this.chart.emit(se.BEFORE_CHANGE_DATA,Gt.fromData(this.chart,se.BEFORE_CHANGE_DATA,null));var n=this.options,i=this.options.angleField,a=yo(n.data,i),o=yo(t,i);Os(a,i)||Os(o,i)?this.update({data:t}):(this.updateOption({data:t}),this.chart.data(o),uf({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(se.AFTER_CHANGE_DATA,Gt.fromData(this.chart,se.AFTER_CHANGE_DATA,null))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return cf},r}(Gr);function Uy(e){var r=e.chart,t=e.options,n=t.data,i=t.sectorStyle,a=t.color;return r.data(n),Br(ui)(ie({},e,{options:{marginRatio:1,interval:{style:i,color:a}}})),e}function Hy(e){var r=e.chart,t=e.options,n=t.label,i=t.xField,a=li(r,"interval");if(n===!1)a.label(!1);else if((0,c.Kn)(n)){var o=n.callback,s=n.fields,l=(0,d._T)(n,["callback","fields"]),u=l.offset,h=l.layout;(u===void 0||u>=0)&&(h=h?(0,c.kJ)(h)?h:[h]:[],l.layout=(0,c.hX)(h,function(v){return v.type!=="limit-in-shape"}),l.layout.length||delete l.layout),a.label({fields:s||[i],callback:o,cfg:ei(l)})}else Ma($i.WARN,n===null,"the label option must be an Object."),a.label({fields:[i]});return e}function Yy(e){var r=e.chart,t=e.options,n=t.legend,i=t.seriesField;return n===!1?r.legend(!1):i&&r.legend(i,n),e}function Xy(e){var r=e.chart,t=e.options,n=t.radius,i=t.innerRadius,a=t.startAngle,o=t.endAngle;return r.coordinate({type:"polar",cfg:{radius:n,innerRadius:i,startAngle:a,endAngle:o}}),e}function Wy(e){var r,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField;return Br(Rn((r={},r[a]=n,r[o]=i,r)))(e)}function Zy(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField;return n?r.axis(a,n):r.axis(a,!1),i?r.axis(o,i):r.axis(o,!1),e}function jy(e){Br(Ti("sectorStyle"),Uy,Wy,Hy,Xy,Zy,Yy,qn,An,dn,un,Pn(),Ba)(e)}var $y=ie({},Gr.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",radio:{}},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),QC=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="rose",t}return r.getDefaultOptions=function(){return $y},r.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return jy},r}(Gr),qy={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function Jy(e,r){return r=(0,c.f0)({},qy,r),Ky(e,r)}function Ky(e,r){var t=fm();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(l){(0,c.UM)(r[l])||t[l](r[l])}),t.words(e),r.imageMask&&t.createMask(r.imageMask);var n=t.start(),i=n._tags;i.forEach(function(l){l.x+=r.size[0]/2,l.y+=r.size[1]/2});var a=r.size,o=a[0],s=a[1];return i.push({text:"",value:0,x:0,y:0,opacity:0}),i.push({text:"",value:0,x:o,y:s,opacity:0}),i}var Wl=Math.PI/180,Go=1<<11>>5,Bs=1<<11;function Qy(e){return e.text}function tm(){return"serif"}function hf(){return"normal"}function em(e){return e.value}function rm(){return~~(Math.random()*2)*90}function nm(){return 1}function im(e,r,t,n){if(!r.sprite){var i=e.context,a=e.ratio;i.clearRect(0,0,(Go<<5)/a,Bs/a);var o=0,s=0,l=0,u=t.length;for(--n;++n<u;){r=t[n],i.save(),i.font=r.style+" "+r.weight+" "+~~((r.size+1)/a)+"px "+r.font;var h=i.measureText(r.text+"m").width*a,v=r.size<<1;if(r.rotate){var p=Math.sin(r.rotate*Wl),y=Math.cos(r.rotate*Wl),S=h*y,E=h*p,O=v*y,D=v*p;h=Math.max(Math.abs(S+D),Math.abs(S-D))+31>>5<<5,v=~~Math.max(Math.abs(E+O),Math.abs(E-O))}else h=h+31>>5<<5;if(v>l&&(l=v),o+h>=Go<<5&&(o=0,s+=l,l=0),s+v>=Bs)break;i.translate((o+(h>>1))/a,(s+(v>>1))/a),r.rotate&&i.rotate(r.rotate*Wl),i.fillText(r.text,0,0),r.padding&&(i.lineWidth=2*r.padding,i.strokeText(r.text,0,0)),i.restore(),r.width=h,r.height=v,r.xoff=o,r.yoff=s,r.x1=h>>1,r.y1=v>>1,r.x0=-r.x1,r.y0=-r.y1,r.hasText=!0,o+=h}for(var X=i.getImageData(0,0,(Go<<5)/a,Bs/a).data,q=[];--n>=0;)if(r=t[n],!!r.hasText){for(var h=r.width,Q=h>>5,v=r.y1-r.y0,pt=0;pt<v*Q;pt++)q[pt]=0;if(o=r.xoff,o==null)return;s=r.yoff;for(var Wt=0,Kt=-1,ae=0;ae<v;ae++){for(var pt=0;pt<h;pt++){var Fe=Q*ae+(pt>>5),ve=X[(s+ae)*(Go<<5)+(o+pt)<<2]?1<<31-pt%32:0;q[Fe]|=ve,Wt|=ve}Wt?Kt=ae:(r.y0++,v--,ae--,s++)}r.y1=r.y0+Kt,r.sprite=q.slice(0,(r.y1-r.y0)*Q)}}}function am(e,r,t){t>>=5;for(var n=e.sprite,i=e.width>>5,a=e.x-(i<<4),o=a&127,s=32-o,l=e.y1-e.y0,u=(e.y+e.y0)*t+(a>>5),h,v=0;v<l;v++){h=0;for(var p=0;p<=i;p++)if((h<<s|(p<i?(h=n[v*i+p])>>>o:0))&r[u+p])return!0;u+=t}return!1}function om(e,r){var t=e[0],n=e[1];r.x+r.x0<t.x&&(t.x=r.x+r.x0),r.y+r.y0<t.y&&(t.y=r.y+r.y0),r.x+r.x1>n.x&&(n.x=r.x+r.x1),r.y+r.y1>n.y&&(n.y=r.y+r.y1)}function sm(e,r){return e.x+e.x1>r[0].x&&e.x+e.x0<r[1].x&&e.y+e.y1>r[0].y&&e.y+e.y0<r[1].y}function vf(e){var r=e[0]/e[1];return function(t){return[r*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function lm(e){var r=4,t=r*e[0]/e[1],n=0,i=0;return function(a){var o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:n+=t;break;case 1:i+=r;break;case 2:n-=t;break;default:i-=r;break}return[n,i]}}function pf(e){for(var r=[],t=-1;++t<e;)r[t]=0;return r}function um(){return document.createElement("canvas")}function ia(e){return(0,c.mf)(e)?e:function(){return e}}var cm={archimedean:vf,rectangular:lm};function fm(){var e=[256,256],r=tm,t=em,n=hf,i=rm,a=nm,o=vf,s=Math.random,l=[],u=Infinity,h=Qy,v=hf,p=um,y={};y.start=function(){var O=e[0],D=e[1],X=S(p()),q=y.board?y.board:pf((e[0]>>5)*e[1]),Q=l.length,pt=[],Wt=l.map(function(ve,Ze,dr){return ve.text=h.call(this,ve,Ze,dr),ve.font=r.call(this,ve,Ze,dr),ve.style=v.call(this,ve,Ze,dr),ve.weight=n.call(this,ve,Ze,dr),ve.rotate=i.call(this,ve,Ze,dr),ve.size=~~t.call(this,ve,Ze,dr),ve.padding=a.call(this,ve,Ze,dr),ve}).sort(function(ve,Ze){return Ze.size-ve.size}),Kt=-1,ae=y.board?[{x:0,y:0},{x:O,y:D}]:null;Fe();function Fe(){for(var ve=Date.now();Date.now()-ve<u&&++Kt<Q;){var Ze=Wt[Kt];Ze.x=O*(s()+.5)>>1,Ze.y=D*(s()+.5)>>1,im(X,Ze,Wt,Kt),Ze.hasText&&E(q,Ze,ae)&&(pt.push(Ze),ae?y.hasImage||om(ae,Ze):ae=[{x:Ze.x+Ze.x0,y:Ze.y+Ze.y0},{x:Ze.x+Ze.x1,y:Ze.y+Ze.y1}],Ze.x-=e[0]>>1,Ze.y-=e[1]>>1)}y._tags=pt,y._bounds=ae}return y};function S(O){O.width=O.height=1;var D=Math.sqrt(O.getContext("2d").getImageData(0,0,1,1).data.length>>2);O.width=(Go<<5)/D,O.height=Bs/D;var X=O.getContext("2d");return X.fillStyle=X.strokeStyle="red",X.textAlign="center",{context:X,ratio:D}}function E(O,D,X){for(var q=D.x,Q=D.y,pt=Math.sqrt(e[0]*e[0]+e[1]*e[1]),Wt=o(e),Kt=s()<.5?1:-1,ae,Fe=-Kt,ve,Ze;(ae=Wt(Fe+=Kt))&&(ve=~~ae[0],Ze=~~ae[1],!(Math.min(Math.abs(ve),Math.abs(Ze))>=pt));)if(D.x=q+ve,D.y=Q+Ze,!(D.x+D.x0<0||D.y+D.y0<0||D.x+D.x1>e[0]||D.y+D.y1>e[1])&&(!X||!am(D,O,e[0]))&&(!X||sm(D,X))){for(var dr=D.sprite,Or=D.width>>5,Rr=e[0]>>5,sn=D.x-(Or<<4),We=sn&127,gr=32-We,Pr=D.y1-D.y0,xr=void 0,Ir=(D.y+D.y0)*Rr+(sn>>5),_r=0;_r<Pr;_r++){xr=0;for(var rn=0;rn<=Or;rn++)O[Ir+rn]|=xr<<gr|(rn<Or?(xr=dr[_r*Or+rn])>>>We:0);Ir+=Rr}return delete D.sprite,!0}return!1}return y.createMask=function(O){var D=document.createElement("canvas"),X=e[0],q=e[1];if(!(!X||!q)){var Q=X>>5,pt=pf((X>>5)*q);D.width=X,D.height=q;var Wt=D.getContext("2d");Wt.drawImage(O,0,0,O.width,O.height,0,0,X,q);for(var Kt=Wt.getImageData(0,0,X,q).data,ae=0;ae<q;ae++)for(var Fe=0;Fe<X;Fe++){var ve=Q*ae+(Fe>>5),Ze=ae*X+Fe<<2,dr=Kt[Ze]>=250&&Kt[Ze+1]>=250&&Kt[Ze+2]>=250,Or=dr?1<<31-Fe%32:0;pt[ve]|=Or}y.board=pt,y.hasImage=!0}},y.timeInterval=function(O){u=O==null?Infinity:O},y.words=function(O){l=O},y.size=function(O){e=[+O[0],+O[1]]},y.font=function(O){r=ia(O)},y.fontWeight=function(O){n=ia(O)},y.rotate=function(O){i=ia(O)},y.spiral=function(O){o=cm[O]||O},y.fontSize=function(O){t=ia(O)},y.padding=function(O){a=ia(O)},y.random=function(O){s=ia(O)},y}function df(e){var r=e.options,t=e.chart,n=t,i=n.width,a=n.height,o=n.padding,s=n.appendPadding,l=n.ele,u=r.data,h=r.imageMask,v=r.wordField,p=r.weightField,y=r.colorField,S=r.wordStyle,E=r.timeInterval,O=r.random,D=r.spiral,X=r.autoFit,q=X===void 0?!0:X,Q=r.placementStrategy;if(!u||!u.length)return[];var pt=S.fontFamily,Wt=S.fontWeight,Kt=S.padding,ae=S.fontSize,Fe=gm(u,p),ve=[xm(Fe),wm(Fe)],Ze=u.map(function(Rr){return{text:Rr[v],value:Rr[p],color:Rr[y],datum:Rr}}),dr={imageMask:h,font:pt,fontSize:dm(ae,ve),fontWeight:Wt,size:hm({width:i,height:a,padding:o,appendPadding:s,autoFit:q,container:l}),padding:Kt,timeInterval:E,random:O,spiral:D,rotate:ym(r)};if((0,c.mf)(Q)){var Or=Ze.map(function(Rr,sn,We){return(0,d.pi)((0,d.pi)((0,d.pi)({},Rr),{hasText:!!Rr.text,font:ia(dr.font)(Rr,sn,We),weight:ia(dr.fontWeight)(Rr,sn,We),rotate:ia(dr.rotate)(Rr,sn,We),size:ia(dr.fontSize)(Rr,sn,We),style:"normal"}),Q.call(t,Rr,sn,We))});return Or.push({text:"",value:0,x:0,y:0,opacity:0}),Or.push({text:"",value:0,x:dr.size[0],y:dr.size[1],opacity:0}),Or}return Jy(Ze,dr)}function hm(e){var r=e.width,t=e.height,n=e.container,i=e.autoFit,a=e.padding,o=e.appendPadding;if(i){var s=Ol(n);r=s.width,t=s.height}r=r||400,t=t||400;var l=vm({padding:a,appendPadding:o}),u=l[0],h=l[1],v=l[2],p=l[3],y=[r-(p+h),t-(u+v)];return y}function vm(e){var r=Oa(e.padding),t=Oa(e.appendPadding),n=r[0]+t[0],i=r[1]+t[1],a=r[2]+t[2],o=r[3]+t[3];return[n,i,a,o]}function pm(e){return new Promise(function(r,t){if(e instanceof HTMLImageElement){r(e);return}if((0,c.HD)(e)){var n=new Image;n.crossOrigin="anonymous",n.src=e,n.onload=function(){r(n)},n.onerror=function(){Ma($i.ERROR,!1,"image %s load failed !!!",e),t()};return}Ma($i.WARN,e===void 0,"The type of imageMask option must be String or HTMLImageElement."),t()})}function dm(e,r){if((0,c.mf)(e))return e;if((0,c.kJ)(e)){var t=e[0],n=e[1];if(!r)return function(){return(n+t)/2};var i=r[0],a=r[1];return a===i?function(){return(n+t)/2}:function(s){var l=s.value;return(n-t)/(a-i)*(l-i)+t}}return function(){return e}}function gm(e,r){return e.map(function(t){return t[r]}).filter(function(t){return typeof t=="number"&&!isNaN(t)})}function ym(e){var r=mm(e),t=r.rotation,n=r.rotationSteps;if(!(0,c.kJ)(t))return t;var i=t[0],a=t[1],o=n===1?0:(a-i)/(n-1);return function(){return a===i?a:Math.floor(Math.random()*n)*o}}function mm(e){var r=e.wordStyle.rotationSteps;return r<1&&(Ma($i.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),r=1),{rotation:e.wordStyle.rotation,rotationSteps:r}}function xm(e){return Math.min.apply(Math,e)}function wm(e){return Math.max.apply(Math,e)}var Zl="color",Sm=ie({},Gr.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",Zl],formatter:function(e){return{name:e.text,value:e.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}});function Mm(e){var r=e.chart,t=e.options,n=t.colorField,i=t.color,a=df(e);r.data(a);var o=ie({},e,{options:{xField:"x",yField:"y",seriesField:n&&Zl,rawFields:(0,c.mf)(i)&&(0,d.pr)((0,c.U2)(t,"rawFields",[]),["datum"]),point:{color:i,shape:"word-cloud"}}}),s=Fi(o).ext;return s.geometry.label(!1),r.coordinate().reflect("y"),r.axis(!1),e}function bm(e){return Br(Rn({x:{nice:!1},y:{nice:!1}}))(e)}function Cm(e){var r=e.chart,t=e.options,n=t.legend,i=t.colorField;return n===!1?r.legend(!1):i&&r.legend(Zl,n),e}function Am(e){Br(Mm,bm,qn,Cm,An,dn,un,Ba)(e)}en("point","word-cloud",{draw:function(e,r){var t=e.x,n=e.y,i=r.addShape("text",{attrs:(0,d.pi)((0,d.pi)({},Tm(e)),{x:t,y:n})}),a=e.data.rotate;return typeof a=="number"&&si.rotate(i,a*Math.PI/180),i}});function Tm(e){return{fontSize:e.data.size,text:e.data.text,textAlign:"center",fontFamily:e.data.font,fontWeight:e.data.weight,fill:e.color||e.defaultStyle.stroke,textBaseline:"alphabetic"}}var tA=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="word-cloud",t}return r.getDefaultOptions=function(){return Sm},r.prototype.changeData=function(t){this.updateOption({data:t}),this.options.imageMask?this.render():this.chart.changeData(df({chart:this.chart,options:this.options}))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.render=function(){var t=this;return new Promise(function(n){var i=t.options.imageMask;if(!i){e.prototype.render.call(t),n();return}var a=function(o){t.options=(0,d.pi)((0,d.pi)({},t.options),{imageMask:o||null}),e.prototype.render.call(t),n()};pm(i).then(a).catch(a)})},r.prototype.getSchemaAdaptor=function(){return Am},r.prototype.triggerResize=function(){var t=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){e.prototype.triggerResize.call(t)}))},r}(Gr),to=Rt(56645),Fm={exp:to.regressionExp,linear:to.regressionLinear,loess:to.regressionLoess,log:to.regressionLog,poly:to.regressionPoly,pow:to.regressionPow,quad:to.regressionQuad};function Em(e,r){var t=10,n={regionStyle:[{position:{start:[e,"max"],end:["max",r]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[e,r]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",r],end:[e,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[e,r],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",r],offsetX:-t,offsetY:-t,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",r],offsetX:t,offsetY:-t,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",r],offsetX:t,offsetY:t,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",r],offsetX:-t,offsetY:t,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]};return n}var Im=function(e,r){var t=r.view,n=r.options,i=n.xField,a=n.yField,o=t.getScaleByField(i),s=t.getScaleByField(a),l=e.map(function(u){return t.getCoordinate().convert({x:o.scale(u[0]),y:s.scale(u[1])})});return C0(l,!1)},Lm=function(e){var r=e.options,t=r.xField,n=r.yField,i=r.data,a=r.regressionLine,o=a.type,s=o===void 0?"linear":o,l=a.algorithm,u;if(l)u=(0,c.kJ)(l)?l:l(i);else{var h=Fm[s]().x(function(v){return v[t]}).y(function(v){return v[n]});u=h(i)}return Im(u,e)},km=function(e){var r,t=e.meta,n=t===void 0?{}:t,i=e.xField,a=e.yField,o=e.data,s=o[0][i],l=o[0][a],u=s>0,h=l>0;function v(p,y){var S=(0,c.U2)(n,[p]);function E(D){return(0,c.U2)(S,D)}var O={};return y==="x"?((0,c.hj)(s)&&((0,c.hj)(E("min"))||(O.min=u?0:s*2),(0,c.hj)(E("max"))||(O.max=u?s*2:0)),O):((0,c.hj)(l)&&((0,c.hj)(E("min"))||(O.min=h?0:l*2),(0,c.hj)(E("max"))||(O.max=h?l*2:0)),O)}return(0,d.pi)((0,d.pi)({},n),(r={},r[i]=(0,d.pi)((0,d.pi)({},n[i]),v(i,"x")),r[a]=(0,d.pi)((0,d.pi)({},n[a]),v(a,"y")),r))};function gf(e){var r=e.data,t=r===void 0?[]:r,n=e.xField,i=e.yField;if(t.length){for(var a=!0,o=!0,s=t[0],l=void 0,u=1;u<t.length&&(l=t[u],s[n]!==l[n]&&(a=!1),s[i]!==l[i]&&(o=!1),!(!a&&!o));u++)s=l;var h=[];a&&h.push(n),o&&h.push(i);var v=pn(km(e),h);return ie({},e,{meta:v})}return e}function Pm(e){var r=e.chart,t=e.options,n=t.data,i=t.type,a=t.color,o=t.shape,s=t.pointStyle,l=t.shapeField,u=t.colorField,h=t.xField,v=t.yField,p=t.sizeField,y=t.size,S=t.tooltip;p&&(y||(y=[2,8]),(0,c.hj)(y)&&(y=[y,y])),S&&!S.fields&&(S=(0,d.pi)((0,d.pi)({},S),{fields:[h,v,u,p,l]})),r.data(n),Fi(ie({},e,{options:{seriesField:u,point:{color:a,shape:o,size:y,style:s},tooltip:S}}));var E=li(r,"point");return i&&E.adjust(i),e}function Rs(e){var r,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField,s=gf(t);return Br(Rn((r={},r[a]=n,r[o]=i,r)))(ie({},e,{options:s}))}function Dm(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField;return r.axis(a,n),r.axis(o,i),e}function Om(e){var r=e.chart,t=e.options,n=t.legend,i=t.colorField,a=t.shapeField,o=t.sizeField,s=t.shapeLegend,l=t.sizeLegend,u=n!==!1;return i&&r.legend(i,u?n:!1),a&&(s?r.legend(a,s):r.legend(a,s===!1?!1:n)),o&&r.legend(o,l||!1),!u&&!s&&!l&&r.legend(!1),e}function Bm(e){var r=e.chart,t=e.options,n=t.label,i=t.yField,a=li(r,"point");if(!n)a.label(!1);else{var o=n.callback,s=(0,d._T)(n,["callback"]);a.label({fields:[i],callback:o,cfg:ei(s)})}return e}function Rm(e){var r=e.options,t=r.quadrant,n=[];if(t){var i=t.xBaseline,a=i===void 0?0:i,o=t.yBaseline,s=o===void 0?0:o,l=t.labels,u=t.regionStyle,h=t.lineStyle,v=Em(a,s),p=new Array(4).join(",").split(",");p.forEach(function(y,S){n.push((0,d.pi)((0,d.pi)({type:"region",top:!1},v.regionStyle[S].position),{style:ie({},v.regionStyle[S].style,u==null?void 0:u[S])}),(0,d.pi)({type:"text",top:!0},ie({},v.labelStyle[S],l==null?void 0:l[S])))}),n.push({type:"line",top:!1,start:["min",s],end:["max",s],style:ie({},v.lineStyle,h)},{type:"line",top:!1,start:[a,"min"],end:[a,"max"],style:ie({},v.lineStyle,h)})}return Br(Pn(n))(e)}function _m(e){var r=e.options,t=e.chart,n=r.regressionLine;if(n){var i=n.style,a=n.top,o=a===void 0?!1:a,s={stroke:"#9ba29a",lineWidth:2,opacity:.5};t.annotation().shape({top:o,render:function(l,u){var h=l.addGroup({id:t.id+"-regression-line",name:"regression-line-group"}),v=Lm({view:u,options:r});h.addShape("path",{name:"regression-line",attrs:(0,d.pi)((0,d.pi)({path:v},s),i)})}})}return e}function Nm(e){var r=e.chart,t=e.options,n=t.tooltip;return n?r.tooltip(n):n===!1&&r.tooltip(!1),e}function yf(e){return Br(Pm,Rs,Dm,Om,Nm,Bm,nf,zo,Gl,An,Rm,dn,un,_m)(e)}var zm=ie({},Gr.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});Er("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var Vm=function(e){(0,d.ZT)(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i.type="scatter",i.on(se.BEFORE_RENDER,function(a){var o,s,l=i,u=l.options,h=l.chart;if(((o=a.data)===null||o===void 0?void 0:o.source)===gi.FILTER){var v=i.chart.filterData(i.chart.getData());Rs({chart:h,options:(0,d.pi)((0,d.pi)({},u),{data:v})})}((s=a.data)===null||s===void 0?void 0:s.source)===gi.RESET&&Rs({chart:h,options:u})}),i}return r.getDefaultOptions=function(){return zm},r.prototype.changeData=function(t){this.updateOption(gf(ie({},this.options,{data:t})));var n=this,i=n.options,a=n.chart;Rs({chart:a,options:i}),this.chart.changeData(t)},r.prototype.getSchemaAdaptor=function(){return yf},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r}(Gr);function Gm(e){var r=e.chart,t=e.options,n=t.data,i=t.lineStyle,a=t.color,o=t.point,s=t.area;r.data(n);var l=ie({},e,{options:{line:{style:i,color:a},point:o&&(0,d.pi)({color:a},o),area:s&&(0,d.pi)({color:a},s),label:void 0}}),u=ie({},l,{options:{tooltip:!1}}),h=(o==null?void 0:o.state)||t.state,v=ie({},l,{options:{tooltip:!1,state:h}});return xo(l),Fi(v),Is(u),e}function Um(e){var r,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField;return Br(Rn((r={},r[a]=n,r[o]=i,r)))(e)}function Hm(e){var r=e.chart,t=e.options,n=t.radius,i=t.startAngle,a=t.endAngle;return r.coordinate("polar",{radius:n,startAngle:i,endAngle:a}),e}function Ym(e){var r=e.chart,t=e.options,n=t.xField,i=t.xAxis,a=t.yField,o=t.yAxis;return r.axis(n,i),r.axis(a,o),e}function Xm(e){var r=e.chart,t=e.options,n=t.label,i=t.yField,a=li(r,"line");if(!n)a.label(!1);else{var o=n.callback,s=(0,d._T)(n,["callback"]);a.label({fields:[i],callback:o,cfg:ei(s)})}return e}function Wm(e){return Br(Gm,Um,un,Hm,Ym,qa,qn,Xm,An,dn,Pn())(e)}var Zm=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),r.prototype.getTooltipItems=function(t){var n=this.getTooltipCfg(),i=n.shared,a=n.title,o=e.prototype.getTooltipItems.call(this,t);if(o.length>0){var s=this.view.geometries[0],l=s.dataArray,u=o[0].name,h=[];return l.forEach(function(v){v.forEach(function(p){var y=si.getTooltipItems(p,s),S=y[0];if(!i&&S&&S.name===u){var E=(0,c.UM)(a)?u:a;h.push((0,d.pi)((0,d.pi)({},S),{name:S.title,title:E}))}else if(i&&S){var E=(0,c.UM)(a)?S.name||u:a;h.push((0,d.pi)((0,d.pi)({},S),{name:S.title,title:E}))}})}),h}return[]},r}(z);ii("radar-tooltip",Zm);var jm=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.context.view;t.removeInteraction("tooltip")},r.prototype.show=function(){var t=this.context.event,n=this.getTooltipController();n.showTooltip({x:t.x,y:t.y})},r.prototype.hide=function(){var t=this.getTooltipController();t.hideTooltip()},r.prototype.getTooltipController=function(){var t=this.context.view;return t.getController("radar-tooltip")},r}(Vr);Sr("radar-tooltip",jm),Er("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var eA=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="radar",t}return r.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},r.prototype.getDefaultOptions=function(){return ie({},e.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},r.prototype.getSchemaAdaptor=function(){return Wm},r}(Gr),wo;(function(e){e.Left="Left",e.Right="Right"})(wo||(wo={}));var eo;(function(e){e.Line="line",e.Column="column"})(eo||(eo={}));var Ei="left-axes-view",Ii="right-axes-view",mf={nice:!0,label:{autoHide:!0,autoRotate:!1}},$m=(0,d.pi)((0,d.pi)({},mf),{position:"left"}),qm=(0,d.pi)((0,d.pi)({},mf),{position:"right",grid:null});function jl(e){return(0,c.U2)(e,"geometry")===eo.Line}function $l(e){return(0,c.U2)(e,"geometry")===eo.Column}function xf(e,r,t){return $l(t)?ie({},{geometry:eo.Column,label:t.label&&t.isRange?{content:function(n){var i;return(i=n[r])===null||i===void 0?void 0:i.join("-")}}:void 0},t):(0,d.pi)({geometry:eo.Line},t)}function wf(e,r){var t=e[0],n=e[1];if((0,c.kJ)(r)){var i=r[0],a=r[1];return[i,a]}var o=(0,c.U2)(r,t),s=(0,c.U2)(r,n);return[o,s]}function Sf(e,r){return r===wo.Left?e===!1?!1:ie({},$m,e):r===wo.Right?e===!1?!1:ie({},qm,e):e}function Mf(e){var r=e.view,t=e.geometryOption,n=e.yField,i=e.legend,a=(0,c.U2)(i,"marker"),o=li(r,jl(t)?"line":"interval");if(!t.seriesField){var s=(0,c.U2)(r,"options.scales."+n+".alias")||n,l=o.getAttribute("color"),u=r.getTheme().defaultColor;l&&(u=si.getMappingValue(l,s,(0,c.U2)(l,["values",0],u)));var h=((0,c.mf)(a)?a:!(0,c.xb)(a)&&ie({},{style:{stroke:u,fill:u}},a))||(jl(t)?{symbol:function(p,y,S){return[["M",p-S,y],["L",p+S,y]]},style:{lineWidth:2,r:6,stroke:u}}:{symbol:"square",style:{fill:u}});return[{value:n,name:s,marker:h,isGeometry:!0,viewId:r.id}]}var v=o.getGroupAttributes();return(0,c.u4)(v,function(p,y){var S=si.getLegendItems(r,o,y,r.getTheme(),a);return p.concat(S)},[])}function Jm(e){var r=e.options,t=e.chart,n=r.geometryOption,i=n.isStack,a=n.color,o=n.seriesField,s=n.groupField,l=n.isGroup,u=["xField","yField"];if(jl(n)){xo(ie({},e,{options:(0,d.pi)((0,d.pi)((0,d.pi)({},pn(r,u)),n),{line:{color:n.color,style:n.lineStyle}})})),Fi(ie({},e,{options:(0,d.pi)((0,d.pi)((0,d.pi)({},pn(r,u)),n),{point:n.point&&(0,d.pi)({color:a,shape:"circle"},n.point)})}));var h=[];l&&h.push({type:"dodge",dodgeBy:s||o,customOffset:0}),i&&h.push({type:"stack"}),h.length&&(0,c.S6)(t.geometries,function(v){v.adjust(h)})}return $l(n)&&Ds(ie({},e,{options:(0,d.pi)((0,d.pi)((0,d.pi)({},pn(r,u)),n),{widthRatio:n.columnWidthRatio,interval:(0,d.pi)((0,d.pi)({},pn(n,["color"])),{style:n.columnStyle})})})),e}var bf=function(e,r){var t=r[0],n=r[1],i=e.getOptions().data,a=e.getXScale(),o=(0,c.dp)(i);if(!(!a||!o)){var s=!0,l=(0,c.I)(i,a.field),u=s?l:l.reverse(),h=(0,c.dp)(u),v=Math.floor(t*(h-1)),p=Math.floor(n*(h-1));e.filter(a.field,function(y){var S=u.indexOf(y);return S>-1?k0(S,v,p):!0}),e.getRootView().render(!0)}};function Km(e){var r,t=e.options,n=t.geometryOptions,i=n===void 0?[]:n,a=t.xField,o=t.yField,s=(0,c.yW)(i,function(l){var u=l.geometry;return u===eo.Line||u===void 0});return ie({},{options:{geometryOptions:[],meta:(r={},r[a]={type:"cat",sync:!0,range:s?[0,1]:void 0},r),tooltip:{showMarkers:s,showCrosshairs:s,shared:!0,crosshairs:{type:"x"}},interactions:s?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},e,{options:{yAxis:wf(o,t.yAxis),geometryOptions:[xf(a,o[0],i[0]),xf(a,o[1],i[1])],annotations:wf(o,t.annotations)}})}function Qm(e){var r,t,n=e.chart,i=e.options,a=i.geometryOptions,o={line:0,column:1},s=[{type:(r=a[0])===null||r===void 0?void 0:r.geometry,id:Ei},{type:(t=a[1])===null||t===void 0?void 0:t.geometry,id:Ii}];return s.sort(function(l,u){return-o[l.type]+o[u.type]}).forEach(function(l){return n.createView({id:l.id})}),e}function tx(e){var r=e.chart,t=e.options,n=t.xField,i=t.yField,a=t.geometryOptions,o=t.data,s=t.tooltip,l=[(0,d.pi)((0,d.pi)({},a[0]),{id:Ei,data:o[0],yField:i[0]}),(0,d.pi)((0,d.pi)({},a[1]),{id:Ii,data:o[1],yField:i[1]})];return l.forEach(function(u){var h=u.id,v=u.data,p=u.yField,y=$l(u)&&u.isPercent,S=y?Qc(v,p,n,p):v,E=jr(r,h).data(S),O=y?(0,d.pi)({formatter:function(D){return{name:D[u.seriesField]||p,value:(Number(D[p])*100).toFixed(2)+"%"}}},s):s;Jm({chart:E,options:{xField:n,yField:p,tooltip:O,geometryOption:u}})}),e}function ex(e){var r,t=e.chart,n=e.options,i=n.geometryOptions,a=((r=t.getTheme())===null||r===void 0?void 0:r.colors10)||[],o=0;return t.once("beforepaint",function(){(0,c.S6)(i,function(s,l){var u=jr(t,l===0?Ei:Ii);if(!s.color){var h=u.getGroupScales(),v=(0,c.U2)(h,[0,"values","length"],1),p=a.slice(o,o+v).concat(l===0?[]:a);u.geometries.forEach(function(y){s.seriesField?y.color(s.seriesField,p):y.color(p[0])}),o+=v}}),t.render(!0)}),e}function rx(e){var r,t,n=e.chart,i=e.options,a=i.xAxis,o=i.yAxis,s=i.xField,l=i.yField;return Rn((r={},r[s]=a,r[l[0]]=o[0],r))(ie({},e,{chart:jr(n,Ei)})),Rn((t={},t[s]=a,t[l[1]]=o[1],t))(ie({},e,{chart:jr(n,Ii)})),e}function nx(e){var r=e.chart,t=e.options,n=jr(r,Ei),i=jr(r,Ii),a=t.xField,o=t.yField,s=t.xAxis,l=t.yAxis;return r.axis(a,!1),r.axis(o[0],!1),r.axis(o[1],!1),n.axis(a,s),n.axis(o[0],Sf(l[0],wo.Left)),i.axis(a,!1),i.axis(o[1],Sf(l[1],wo.Right)),e}function ix(e){var r=e.chart,t=e.options,n=t.tooltip,i=jr(r,Ei),a=jr(r,Ii);return r.tooltip(n),i.tooltip({shared:!0}),a.tooltip({shared:!0}),e}function ax(e){var r=e.chart;return An(ie({},e,{chart:jr(r,Ei)})),An(ie({},e,{chart:jr(r,Ii)})),e}function ox(e){var r=e.chart,t=e.options,n=t.annotations,i=(0,c.U2)(n,[0]),a=(0,c.U2)(n,[1]);return Pn(i)(ie({},e,{chart:jr(r,Ei),options:{annotations:i}})),Pn(a)(ie({},e,{chart:jr(r,Ii),options:{annotations:a}})),e}function sx(e){var r=e.chart;return un(ie({},e,{chart:jr(r,Ei)})),un(ie({},e,{chart:jr(r,Ii)})),un(e),e}function lx(e){var r=e.chart;return dn(ie({},e,{chart:jr(r,Ei)})),dn(ie({},e,{chart:jr(r,Ii)})),e}function ux(e){var r=e.chart,t=e.options,n=t.yAxis;return Ja(ie({},e,{chart:jr(r,Ei),options:{yAxis:n[0]}})),Ja(ie({},e,{chart:jr(r,Ii),options:{yAxis:n[1]}})),e}function cx(e){var r=e.chart,t=e.options,n=t.legend,i=t.geometryOptions,a=t.yField,o=t.data,s=jr(r,Ei),l=jr(r,Ii);if(n===!1)r.legend(!1);else if((0,c.Kn)(n)&&n.custom===!0)r.legend(n);else{var u=(0,c.U2)(i,[0,"legend"],n),h=(0,c.U2)(i,[1,"legend"],n);r.once("beforepaint",function(){var v=o[0].length?Mf({view:s,geometryOption:i[0],yField:a[0],legend:u}):[],p=o[1].length?Mf({view:l,geometryOption:i[1],yField:a[1],legend:h}):[];r.legend(ie({},n,{custom:!0,items:v.concat(p)}))}),i[0].seriesField&&s.legend(i[0].seriesField,u),i[1].seriesField&&l.legend(i[1].seriesField,h),r.on("legend-item:click",function(v){var p=(0,c.U2)(v,"gEvent.delegateObject",{});if(p&&p.item){var y=p.item,S=y.value,E=y.isGeometry,O=y.viewId;if(E){var D=(0,c.cx)(a,function(Q){return Q===S});if(D>-1){var X=(0,c.U2)(jr(r,O),"geometries");(0,c.S6)(X,function(Q){Q.changeVisible(!p.item.unchecked)})}}else{var q=(0,c.U2)(r.getController("legend"),"option.items",[]);(0,c.S6)(r.views,function(Q){var pt=Q.getGroupScales();(0,c.S6)(pt,function(Wt){Wt.values&&Wt.values.indexOf(S)>-1&&Q.filter(Wt.field,function(Kt){var ae=(0,c.sE)(q,function(Fe){return Fe.value===Kt});return!ae.unchecked})}),r.render(!0)})}}})}return e}function fx(e){var r=e.chart,t=e.options,n=t.slider,i=jr(r,Ei),a=jr(r,Ii);return n&&(i.option("slider",n),i.on("slider:valuechanged",function(o){var s=o.event,l=s.value,u=s.originValue;(0,c.Xy)(l,u)||bf(a,l)}),r.once("afterpaint",function(){if(!(0,c.jn)(n)){var o=n.start,s=n.end;(o||s)&&bf(a,[o,s])}})),e}function hx(e){return Br(Km,Qm,sx,tx,rx,nx,ux,ix,ax,ox,lx,ex,cx,fx)(e)}var rA=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="dual-axes",t}return r.prototype.getDefaultOptions=function(){return ie({},e.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},r.prototype.getSchemaAdaptor=function(){return hx},r}(Gr),Uo="x",So="y",Cf={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(e,r){return""+(0,c.U2)(r,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},vx={appendPadding:2,tooltip:(0,d.pi)({},Cf),animation:{}};function ro(e){return(0,c.UI)(e||[],function(r,t){return{x:""+t,y:r}})}function px(e){var r=e.chart,t=e.options,n=t.data,i=t.color,a=t.areaStyle,o=t.point,s=t.line,l=o==null?void 0:o.state,u=ro(n);r.data(u);var h=ie({},e,{options:{xField:Uo,yField:So,area:{color:i,style:a},line:s,point:o}}),v=ie({},h,{options:{tooltip:!1}}),p=ie({},h,{options:{tooltip:!1,state:l}});return Is(h),xo(v),Fi(p),r.axis(!1),r.legend(!1),e}function Mo(e){var r,t,n=e.options,i=n.xAxis,a=n.yAxis,o=n.data,s=ro(o);return Br(Rn((r={},r[Uo]=i,r[So]=a,r),(t={},t[Uo]={type:"cat"},t[So]=Rl(s,So),t)))(e)}function Af(e){return Br(Ti("areaStyle"),px,Mo,qn,un,dn,Pn())(e)}function dx(e){var r=e.chart,t=e.options,n=t.data,i=t.color,a=t.lineStyle,o=t.point,s=o==null?void 0:o.state,l=ro(n);r.data(l);var u=ie({},e,{options:{xField:Uo,yField:So,line:{color:i,style:a},point:o}}),h=ie({},u,{options:{tooltip:!1,state:s}});return xo(u),Fi(h),r.axis(!1),r.legend(!1),e}function Tf(e){return Br(dx,Mo,un,qn,dn,Pn())(e)}var gx=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="tiny-line",t}return r.getDefaultOptions=function(){return vx},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this,i=n.chart,a=n.options;Mo({chart:i,options:a}),i.changeData(ro(t))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Tf},r}(Gr);function yx(e){var r=e.chart,t=e.options,n=t.data,i=t.color,a=t.columnStyle,o=t.columnWidthRatio,s=ro(n);r.data(s);var l=ie({},e,{options:{xField:Uo,yField:So,widthRatio:o,interval:{style:a,color:i}}});return ui(l),r.axis(!1),r.legend(!1),r.interaction("element-active"),e}function Ff(e){return Br(un,Ti("columnStyle"),yx,Mo,qn,dn,Pn())(e)}var mx={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(e,r){return""+(0,c.U2)(r,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},xx={appendPadding:2,tooltip:(0,d.pi)({},mx),animation:{}},wx=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="tiny-column",t}return r.getDefaultOptions=function(){return xx},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this,i=n.chart,a=n.options;Mo({chart:i,options:a}),i.changeData(ro(t))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Ff},r}(Gr),Sx={appendPadding:2,tooltip:(0,d.pi)({},Cf),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},Mx=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="tiny-area",t}return r.getDefaultOptions=function(){return Sx},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this,i=n.chart,a=n.options;Mo({chart:i,options:a}),i.changeData(ro(t))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Af},r}(Gr);function Ef(e,r,t){if(t===1)return[0,r];var n=Math.floor(e/r);return[r*n,r*(n+1)]}function bx(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function If(e,r,t,n,i){var a=(0,c.d9)(e);(0,c.MR)(a,r);var o=(0,c.I)(a,r),s=(0,c.rx)(o),l=s.max-s.min,u=t;if(!t&&n&&(u=n>1?l/(n-1):s.max),!t&&!n){var h=bx(o);u=l/h}var v={},p=(0,c.vM)(a,i);(0,c.xb)(p)?(0,c.S6)(a,function(S){var E=S[r],O=Ef(E,u,n),D=O[0]+"-"+O[1];(0,c.wH)(v,D)||(v[D]={range:O,count:0}),v[D].count+=1}):Object.keys(p).forEach(function(S){(0,c.S6)(p[S],function(E){var O=E[r],D=Ef(O,u,n),X=D[0]+"-"+D[1],q=X+"-"+S;(0,c.wH)(v,q)||(v[q]={range:D,count:0},v[q][i]=S),v[q].count+=1})});var y=[];return(0,c.S6)(v,function(S){y.push(S)}),y}var _s="range",Ho="count",Cx=ie({},Gr.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function Ax(e){var r=e.chart,t=e.options,n=t.data,i=t.binField,a=t.binNumber,o=t.binWidth,s=t.color,l=t.stackField,u=t.legend,h=t.columnStyle,v=If(n,i,o,a,l);r.data(v);var p=ie({},e,{options:{xField:_s,yField:Ho,seriesField:l,isStack:!0,interval:{color:s,style:h}}});return ui(p),u&&l&&r.legend(l,u),e}function Tx(e){var r,t=e.options,n=t.xAxis,i=t.yAxis;return Br(Rn((r={},r[_s]=n,r[Ho]=i,r)))(e)}function Fx(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis;return n===!1?r.axis(_s,!1):r.axis(_s,n),i===!1?r.axis(Ho,!1):r.axis(Ho,i),e}function Ex(e){var r=e.chart,t=e.options,n=t.label,i=li(r,"interval");if(!n)i.label(!1);else{var a=n.callback,o=(0,d._T)(n,["callback"]);i.label({fields:[Ho],callback:a,cfg:ei(o)})}return e}function Lf(e){return Br(un,Ti("columnStyle"),Ax,Tx,Fx,Ba,Ex,qn,An,dn)(e)}var Ix=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="histogram",t}return r.getDefaultOptions=function(){return Cx},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options,i=n.binField,a=n.binNumber,o=n.binWidth,s=n.stackField;this.chart.changeData(If(t,i,o,a,s))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Lf},r}(Gr),kf=["#FAAD14","#E8EDF3"],Lx={percent:.2,color:kf,animation:{}};function ql(e){var r=(0,c.uZ)($a(e)?e:0,0,1);return[{type:"current",percent:r},{type:"target",percent:1-r}]}function Pf(e){var r=e.chart,t=e.options,n=t.percent,i=t.progressStyle,a=t.color,o=t.barWidthRatio;r.data(ql(n));var s=ie({},e,{options:{xField:"1",yField:"percent",seriesField:"type",isStack:!0,widthRatio:o,interval:{style:i,color:(0,c.HD)(a)?[a,kf[1]]:a},args:{zIndexReversed:!0,sortZIndex:!0}}});return ui(s),r.tooltip(!1),r.axis(!1),r.legend(!1),e}function kx(e){var r=e.chart;return r.coordinate("rect").transpose(),e}function Df(e){return Br(Pf,Rn({}),kx,dn,un,Pn())(e)}var Px=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="process",t}return r.getDefaultOptions=function(){return Lx},r.prototype.changeData=function(t){this.updateOption({percent:t}),this.chart.changeData(ql(t))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Df},r}(Gr);function Dx(e){var r=e.chart,t=e.options,n=t.innerRadius,i=t.radius;return r.coordinate("theta",{innerRadius:n,radius:i}),e}function Of(e,r){var t=e.chart,n=e.options,i=n.innerRadius,a=n.statistic,o=n.percent,s=n.meta;if(t.getController("annotation").clear(!0),i&&a){var l=(0,c.U2)(s,["percent","formatter"])||function(h){return(h*100).toFixed(2)+"%"},u=a.content;u&&(u=ie({},u,{content:(0,c.UM)(u.content)?l(o):u.content})),bs(t,{statistic:(0,d.pi)((0,d.pi)({},a),{content:u}),plotType:"ring-progress"},{percent:o})}return r&&t.render(!0),e}function Bf(e){return Br(Pf,Rn({}),Dx,Of,dn,un,Pn())(e)}var Ox={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},Bx=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="ring-process",t}return r.getDefaultOptions=function(){return Ox},r.prototype.changeData=function(t){this.chart.emit(se.BEFORE_CHANGE_DATA,Gt.fromData(this.chart,se.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(ql(t)),Of({chart:this.chart,options:this.options},!0),this.chart.emit(se.AFTER_CHANGE_DATA,Gt.fromData(this.chart,se.AFTER_CHANGE_DATA,null))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Bf},r}(Gr);function Rx(e){var r=e.chart,t=e.options,n=t.data,i=t.type,a=t.xField,o=t.yField,s=t.colorField,l=t.sizeField,u=t.sizeRatio,h=t.shape,v=t.color,p=t.tooltip,y=t.heatmapStyle;r.data(n);var S="polygon";i==="density"&&(S="heatmap");var E=Bi(p,[a,o,s]),O=E.fields,D=E.formatter,X=1;return(u||u===0)&&(!h&&!l?console.warn("sizeRatio is not in effect: Must define shape or sizeField first"):u<0||u>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):X=u),Si(ie({},e,{options:{type:S,colorField:s,tooltipFields:O,shapeField:l||"",label:void 0,mapping:{tooltip:D,shape:h&&(l?function(q){var Q=n.map(function(Kt){return Kt[l]}),pt=Math.min.apply(Math,Q),Wt=Math.max.apply(Math,Q);return[h,((0,c.U2)(q,l)-pt)/(Wt-pt),X]}:function(){return[h,1,X]}),color:v||s&&r.getTheme().sequenceColors.join("-"),style:y}}})),e}function _x(e){var r,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField;return Br(Rn((r={},r[a]=n,r[o]=i,r)))(e)}function Nx(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField;return n===!1?r.axis(a,!1):r.axis(a,n),i===!1?r.axis(o,!1):r.axis(o,i),e}function zx(e){var r=e.chart,t=e.options,n=t.legend,i=t.colorField,a=t.sizeField,o=t.sizeLegend,s=n!==!1;return i&&r.legend(i,s?n:!1),a&&r.legend(a,o===void 0?n:o),!s&&!o&&r.legend(!1),e}function Vx(e){var r=e.chart,t=e.options,n=t.label,i=t.colorField,a=t.type,o=li(r,a==="density"?"heatmap":"polygon");if(!n)o.label(!1);else if(i){var s=n.callback,l=(0,d._T)(n,["callback"]);o.label({fields:[i],callback:s,cfg:ei(l)})}return e}function Gx(e){var r=e.chart,t=e.options,n=t.coordinate,i=t.reflect;return n&&r.coordinate({type:n.type||"rect",cfg:n.cfg}),i&&r.coordinate().reflect(i),e}function Ux(e){return Br(un,Ti("heatmapStyle"),_x,Gx,Rx,Nx,zx,qn,Vx,Pn(),An,dn,Ba)(e)}var Hx=ie({},Gr.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});en("polygon","circle",{draw:function(e,r){var t,n,i=e.x,a=e.y,o=this.parsePoints(e.points),s=Math.abs(o[2].x-o[1].x),l=Math.abs(o[1].y-o[0].y),u=Math.min(s,l)/2,h=Number(e.shape[1]),v=Number(e.shape[2]),p=Math.sqrt(v),y=u*p*Math.sqrt(h),S=((t=e.style)===null||t===void 0?void 0:t.fill)||e.color||((n=e.defaultStyle)===null||n===void 0?void 0:n.fill),E=r.addShape("circle",{attrs:(0,d.pi)((0,d.pi)((0,d.pi)({x:i,y:a,r:y},e.defaultStyle),e.style),{fill:S})});return E}}),en("polygon","square",{draw:function(e,r){var t,n,i=e.x,a=e.y,o=this.parsePoints(e.points),s=Math.abs(o[2].x-o[1].x),l=Math.abs(o[1].y-o[0].y),u=Math.min(s,l),h=Number(e.shape[1]),v=Number(e.shape[2]),p=Math.sqrt(v),y=u*p*Math.sqrt(h),S=((t=e.style)===null||t===void 0?void 0:t.fill)||e.color||((n=e.defaultStyle)===null||n===void 0?void 0:n.fill),E=r.addShape("rect",{attrs:(0,d.pi)((0,d.pi)((0,d.pi)({x:i-y/2,y:a-y/2,width:y,height:y},e.defaultStyle),e.style),{fill:S})});return E}});var nA=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="heatmap",t}return r.getDefaultOptions=function(){return Hx},r.prototype.getSchemaAdaptor=function(){return Ux},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r}(Gr),Jl,bo="$$range$$",Yx="low-q1-median-q3-high",Xx="$$y_outliers$$",Rf="outliers_view",Wx=ie({},Gr.getDefaultOptions(),{meta:(Jl={},Jl[bo]={min:0,alias:Yx},Jl),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),_f=function(e,r){var t=e;if(Array.isArray(r)){var n=r[0],i=r[1],a=r[2],o=r[3],s=r[4];t=(0,c.UI)(e,function(l){return l[bo]=[l[n],l[i],l[a],l[o],l[s]],l})}return t};function Zx(e){var r=e.chart,t=e.options,n=t.xField,i=t.yField,a=t.groupField,o=t.color,s=t.tooltip,l=t.boxStyle;r.data(_f(t.data,i));var u=(0,c.kJ)(i)?bo:i,h=i?(0,c.kJ)(i)?i:[i]:[],v=s;v!==!1&&(v=ie({},{fields:(0,c.kJ)(i)?i:[]},v));var p=Ul(ie({},e,{options:{xField:n,yField:u,seriesField:a,tooltip:v,rawFields:h,label:!1,schema:{shape:"box",color:o,style:l}}})).ext;return a&&p.geometry.adjust("dodge"),e}function jx(e){var r=e.chart,t=e.options,n=t.xField,i=t.data,a=t.outliersField,o=t.outliersStyle,s=t.padding,l=t.label;if(!a)return e;var u=r.createView({padding:s,id:Rf}),h=i.reduce(function(v,p){var y=p[a];return y.forEach(function(S){var E;return v.push((0,d.pi)((0,d.pi)({},p),(E={},E[a]=S,E)))}),v},[]);return u.data(h),Fi({chart:u,options:{xField:n,yField:a,point:{shape:"circle",style:o},label:l}}),u.axis(!1),e}function $x(e){var r,t,n=e.chart,i=e.options,a=i.meta,o=i.xAxis,s=i.yAxis,l=i.xField,u=i.yField,h=i.outliersField,v=Array.isArray(u)?bo:u,p={};if(h){var y=Xx;p=(r={},r[h]={sync:y,nice:!0},r[v]={sync:y,nice:!0},r)}var S=ie(p,a,(t={},t[l]=pn(o,wi),t[v]=pn(s,wi),t));return n.scale(S),e}function qx(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField,s=Array.isArray(o)?bo:o;return n===!1?r.axis(a,!1):r.axis(a,n),i===!1?r.axis(bo,!1):r.axis(s,i),e}function Jx(e){var r=e.chart,t=e.options,n=t.legend,i=t.groupField;return i?n?r.legend(i,n):r.legend(i,{position:"bottom"}):r.legend(!1),e}function Kx(e){return Br(Zx,jx,$x,qx,Jx,qn,An,dn,un)(e)}var iA=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="box",t}return r.getDefaultOptions=function(){return Wx},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options.yField,i=this.chart.views.find(function(a){return a.id===Rf});i&&i.data(t),this.chart.changeData(_f(t,n))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Kx},r}(Gr),Qx=Rt(53843),t1=Rt.n(Qx);function Nf(e,r){var t=e.length*r;if(e.length===0)throw new Error("quantile requires at least one data point.");if(r<0||r>1)throw new Error("quantiles must be between 0 and 1");return r===1?e[e.length-1]:r===0?e[0]:t%1!=0?e[Math.ceil(t)-1]:e.length%2==0?(e[t-1]+e[t])/2:e[t]}function Yo(e,r,t){var n=e[r];e[r]=e[t],e[t]=n}function Ns(e,r,t,n){for(t=t||0,n=n||e.length-1;n>t;){if(n-t>600){var i=n-t+1,a=r-t+1,o=Math.log(i),s=.5*Math.exp(2*o/3),l=.5*Math.sqrt(o*s*(i-s)/i);a-i/2<0&&(l*=-1);var u=Math.max(t,Math.floor(r-a*s/i+l)),h=Math.min(n,Math.floor(r+(i-a)*s/i+l));Ns(e,r,u,h)}var v=e[r],p=t,y=n;for(Yo(e,t,r),e[n]>v&&Yo(e,t,n);p<y;){for(Yo(e,p,y),p++,y--;e[p]<v;)p++;for(;e[y]>v;)y--}e[t]===v?Yo(e,t,y):(y++,Yo(e,y,n)),y<=r&&(t=y+1),r<=y&&(n=y-1)}}function Xo(e,r){var t=e.slice();if(Array.isArray(r)){e1(t,r);for(var n=[],i=0;i<r.length;i++)n[i]=Nf(t,r[i]);return n}else{var a=Vf(t.length,r);return zf(t,a,0,t.length-1),Nf(t,r)}}function zf(e,r,t,n){r%1==0?Ns(e,r,t,n):(r=Math.floor(r),Ns(e,r,t,n),Ns(e,r+1,r+1,n))}function e1(e,r){for(var t=[0],n=0;n<r.length;n++)t.push(Vf(e.length,r[n]));t.push(e.length-1),t.sort(r1);for(var i=[0,t.length-1];i.length;){var a=Math.ceil(i.pop()),o=Math.floor(i.pop());if(!(a-o<=1)){var s=Math.floor((o+a)/2);zf(e,t[s],Math.floor(t[o]),Math.ceil(t[a])),i.push(o,s,s,a)}}}function r1(e,r){return e-r}function Vf(e,r){var t=e*r;return r===1?e-1:r===0?0:t%1!=0?Math.ceil(t)-1:e%2==0?t-.5:t}var Gf=function(e){return{low:(0,c.VV)(e),high:(0,c.Fp)(e),q1:Xo(e,.25),q3:Xo(e,.75),median:Xo(e,[.5]),minMax:[(0,c.VV)(e),(0,c.Fp)(e)],quantile:[Xo(e,.25),Xo(e,.75)]}},Uf=function(e,r){var t=t1().create(e,r);return{violinSize:t.map(function(n){return n.y}),violinY:t.map(function(n){return n.x})}},Hf=function(e){var r=e.xField,t=e.yField,n=e.seriesField,i=e.data,a=e.kde,o={min:a.min,max:a.max,size:a.sampleSize,width:a.width};if(!n){var s=(0,c.vM)(i,r);return Object.keys(s).map(function(h){var v=s[h],p=v.map(function(y){return y[t]});return(0,d.pi)((0,d.pi)({x:h},Uf(p,o)),Gf(p))})}var l=[],u=(0,c.vM)(i,n);return Object.keys(u).forEach(function(h){var v=(0,c.vM)(u[h],r);return Object.keys(v).forEach(function(p){var y,S=v[p],E=S.map(function(O){return O[t]});l.push((0,d.pi)((0,d.pi)((y={x:p},y[n]=h,y),Uf(E,o)),Gf(E)))})}),l},Ri="x",no="violinY",n1="violinSize",Yf="minMax",Xf="quantile",Wf="median",Kl="violin_view",i1="min_max_view",a1="quantile_view",o1="median_view",s1=ie({},Gr.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),zs=["low","high","q1","q3","median"],Vs=[{type:"dodge",marginRatio:1/32}];function l1(e){var r=e.chart,t=e.options;return r.data(Hf(t)),e}function u1(e){var r=e.chart,t=e.options,n=t.seriesField,i=t.color,a=t.shape,o=a===void 0?"violin":a,s=t.violinStyle,l=t.tooltip,u=t.state,h=r.createView({id:Kl});return W0({chart:h,options:{xField:Ri,yField:no,seriesField:n||Ri,sizeField:n1,tooltip:(0,d.pi)({fields:zs},l),violin:{style:s,color:i,shape:o},state:u}}),h.geometries[0].adjust(Vs),e}function c1(e){var r=e.chart,t=e.options,n=t.seriesField,i=t.color,a=t.tooltip,o=t.box;if(o===!1)return e;var s=r.createView({id:i1});ui({chart:s,options:{xField:Ri,yField:Yf,seriesField:n||Ri,tooltip:(0,d.pi)({fields:zs},a),state:typeof o=="object"?o.state:{},interval:{color:i,size:1,style:{lineWidth:0}}}}),s.geometries[0].adjust(Vs);var l=r.createView({id:a1});ui({chart:l,options:{xField:Ri,yField:Xf,seriesField:n||Ri,tooltip:(0,d.pi)({fields:zs},a),state:typeof o=="object"?o.state:{},interval:{color:i,size:8,style:{fillOpacity:1}}}}),l.geometries[0].adjust(Vs);var u=r.createView({id:o1});return Fi({chart:u,options:{xField:Ri,yField:Wf,seriesField:n||Ri,tooltip:(0,d.pi)({fields:zs},a),state:typeof o=="object"?o.state:{},point:{color:i,size:1,style:{fill:"white",lineWidth:0}}}}),u.geometries[0].adjust(Vs),l.axis(!1),s.axis(!1),u.axis(!1),u.legend(!1),s.legend(!1),l.legend(!1),e}function f1(e){var r,t=e.chart,n=e.options,i=n.meta,a=n.xAxis,o=n.yAxis,s={},l=ie(s,i,(r={},r[Ri]=(0,d.pi)((0,d.pi)({sync:!0},pn(a,wi)),{type:"cat"}),r[no]=(0,d.pi)({sync:!0},pn(o,wi)),r[Yf]=(0,d.pi)({sync:no},pn(o,wi)),r[Xf]=(0,d.pi)({sync:no},pn(o,wi)),r[Wf]=(0,d.pi)({sync:no},pn(o,wi)),r));return t.scale(l),e}function h1(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=jr(r,Kl);return n===!1?a.axis(Ri,!1):a.axis(Ri,n),i===!1?a.axis(no,!1):a.axis(no,i),r.axis(!1),e}function v1(e){var r=e.chart,t=e.options,n=t.legend,i=t.seriesField,a=t.shape;if(n===!1)r.legend(!1);else{var o=i||Ri,s=(0,c.CE)(n,["selected"]);(!a||!a.startsWith("hollow"))&&((0,c.U2)(s,["marker","style","lineWidth"])||(0,c.t8)(s,["marker","style","lineWidth"],0)),r.legend(o,s),(0,c.U2)(n,"selected")&&(0,c.S6)(r.views,function(l){return l.legend(o,n)})}return e}function p1(e){var r=e.chart,t=jr(r,Kl);return Pn()((0,d.pi)((0,d.pi)({},e),{chart:t})),e}function d1(e){var r=e.chart,t=e.options,n=t.animation;return(0,c.S6)(r.views,function(i){typeof n=="boolean"?i.animate(n):i.animate(!0),(0,c.S6)(i.geometries,function(a){a.animate(n)})}),e}function g1(e){return Br(un,l1,u1,c1,f1,qn,h1,v1,An,p1,d1)(e)}var aA=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="violin",t}return r.getDefaultOptions=function(){return s1},r.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(Hf(this.options))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return g1},r}(Gr),y1=function(e){return function(r,t){var n=[];return n[0]=e(r[0],t[0]),n[1]=e(r[1],t[1]),n[2]=e(r[2],t[2]),n}},Zf={normal:function(e){return e},multiply:function(e,r){return e*r/255},screen:function(e,r){return 255*(1-(1-e/255)*(1-r/255))},overlay:function(e,r){return r<128?2*e*r/255:255*(1-2*(1-e/255)*(1-r/255))},darken:function(e,r){return e>r?r:e},lighten:function(e,r){return e>r?e:r},dodge:function(e,r){return e===255?255:(e=255*(r/255)/(1-e/255),e>255?255:e)},burn:function(e,r){return r===255?255:e===0?0:255*(1-Math.min(1,(1-r/255)/(e/255)))}},m1=function(e){if(!Zf[e])throw new Error("unknown blend mode "+e);return Zf[e]};function x1(e,r,t){t===void 0&&(t="normal");var n=y1(m1(t))(Gs(e),Gs(r)),i=Gs(e),a=i[0],o=i[1],s=i[2],l=i[3],u=Gs(r),h=u[0],v=u[1],p=u[2],y=u[3],S=Number((l+y*(1-l)).toFixed(2)),E=Math.round((l*(1-y)*(a/255)+l*y*(n[0]/255)+(1-l)*y*(h/255))/S*255),O=Math.round((l*(1-y)*(o/255)+l*y*(n[1]/255)+(1-l)*y*(v/255))/S*255),D=Math.round((l*(1-y)*(s/255)+l*y*(n[2]/255)+(1-l)*y*(p/255))/S*255);return"rgba("+E+", "+O+", "+D+", "+S+")"}function Gs(e){var r=e.replace("/s+/g",""),t;return typeof r=="string"&&!r.startsWith("rgba")&&!r.startsWith("#")?t=vo.Z.rgb2arr(vo.Z.toRGB(r)).concat([1]):(r.startsWith("rgba")&&(t=r.replace("rgba(","").replace(")","").split(",")),r.startsWith("#")&&(t=vo.Z.rgb2arr(r).concat([1])),t.map(function(n,i){return i===3?Number(n):n|0}))}var aa=Rt(69916),jf=1e-10;function Ql(e,r){var t=S1(e),n=t.filter(function(Kt){return w1(Kt,e)}),i=0,a=0,o,s=[];if(n.length>1){var l=Jf(n);for(o=0;o<n.length;++o){var u=n[o];u.angle=Math.atan2(u.x-l.x,u.y-l.y)}n.sort(function(Kt,ae){return ae.angle-Kt.angle});var h=n[n.length-1];for(o=0;o<n.length;++o){var v=n[o];a+=(h.x+v.x)*(v.y-h.y);for(var p={x:(v.x+h.x)/2,y:(v.y+h.y)/2},y=null,S=0;S<v.parentIndex.length;++S)if(h.parentIndex.indexOf(v.parentIndex[S])>-1){var E=e[v.parentIndex[S]],O=Math.atan2(v.x-E.x,v.y-E.y),D=Math.atan2(h.x-E.x,h.y-E.y),X=D-O;X<0&&(X+=2*Math.PI);var q=D-X/2,Q=qi(p,{x:E.x+E.radius*Math.sin(q),y:E.y+E.radius*Math.cos(q)});Q>E.radius*2&&(Q=E.radius*2),(y===null||y.width>Q)&&(y={circle:E,width:Q,p1:v,p2:h})}y!==null&&(s.push(y),i+=tu(y.circle.radius,y.width),h=v)}}else{var pt=e[0];for(o=1;o<e.length;++o)e[o].radius<pt.radius&&(pt=e[o]);var Wt=!1;for(o=0;o<e.length;++o)if(qi(e[o],pt)>Math.abs(pt.radius-e[o].radius)){Wt=!0;break}Wt?i=a=0:(i=pt.radius*pt.radius*Math.PI,s.push({circle:pt,p1:{x:pt.x,y:pt.y+pt.radius},p2:{x:pt.x-jf,y:pt.y+pt.radius},width:pt.radius*2}))}return a/=2,r&&(r.area=i+a,r.arcArea=i,r.polygonArea=a,r.arcs=s,r.innerPoints=n,r.intersectionPoints=t),i+a}function w1(e,r){for(var t=0;t<r.length;++t)if(qi(e,r[t])>r[t].radius+jf)return!1;return!0}function S1(e){for(var r=[],t=0;t<e.length;++t)for(var n=t+1;n<e.length;++n)for(var i=qf(e[t],e[n]),a=0;a<i.length;++a){var o=i[a];o.parentIndex=[t,n],r.push(o)}return r}function tu(e,r){return e*e*Math.acos(1-r/e)-(e-r)*Math.sqrt(r*(2*e-r))}function qi(e,r){return Math.sqrt((e.x-r.x)*(e.x-r.x)+(e.y-r.y)*(e.y-r.y))}function $f(e,r,t){if(t>=e+r)return 0;if(t<=Math.abs(e-r))return Math.PI*Math.min(e,r)*Math.min(e,r);var n=e-(t*t-r*r+e*e)/(2*t),i=r-(t*t-e*e+r*r)/(2*t);return tu(e,n)+tu(r,i)}function qf(e,r){var t=qi(e,r),n=e.radius,i=r.radius;if(t>=n+i||t<=Math.abs(n-i))return[];var a=(n*n-i*i+t*t)/(2*t),o=Math.sqrt(n*n-a*a),s=e.x+a*(r.x-e.x)/t,l=e.y+a*(r.y-e.y)/t,u=-(r.y-e.y)*(o/t),h=-(r.x-e.x)*(o/t);return[{x:s+u,y:l-h},{x:s-u,y:l+h}]}function Jf(e){for(var r={x:0,y:0},t=0;t<e.length;++t)r.x+=e[t].x,r.y+=e[t].y;return r.x/=e.length,r.y/=e.length,r}function M1(e,r){r=r||{},r.maxIterations=r.maxIterations||500;var t=r.initialLayout||T1,n=r.lossFunction||ru;e=b1(e);var i=t(e,r),a=[],o=[],s;for(s in i)i.hasOwnProperty(s)&&(a.push(i[s].x),a.push(i[s].y),o.push(s));for(var l=(0,aa.nelderMead)(function(v){for(var p={},y=0;y<o.length;++y){var S=o[y];p[S]={x:v[2*y],y:v[2*y+1],radius:i[S].radius}}return n(p,e)},a,r),u=l.x,h=0;h<o.length;++h)s=o[h],i[s].x=u[2*h],i[s].y=u[2*h+1];return i}var Kf=1e-10;function eu(e,r,t){return Math.min(e,r)*Math.min(e,r)*Math.PI<=t+Kf?Math.abs(e-r):(0,aa.bisect)(function(n){return $f(e,r,n)-t},0,e+r)}function b1(e){e=e.slice();var r=[],t={},n,i,a,o;for(n=0;n<e.length;++n){var s=e[n];s.sets.length==1?r.push(s.sets[0]):s.sets.length==2&&(a=s.sets[0],o=s.sets[1],t[[a,o]]=!0,t[[o,a]]=!0)}for(r.sort(function(l,u){return l>u?1:-1}),n=0;n<r.length;++n)for(a=r[n],i=n+1;i<r.length;++i)o=r[i],[a,o]in t||e.push({sets:[a,o],size:0});return e}function C1(e,r,t){var n=(0,aa.zerosM)(r.length,r.length),i=(0,aa.zerosM)(r.length,r.length);return e.filter(function(a){return a.sets.length==2}).map(function(a){var o=t[a.sets[0]],s=t[a.sets[1]],l=Math.sqrt(r[o].size/Math.PI),u=Math.sqrt(r[s].size/Math.PI),h=eu(l,u,a.size);n[o][s]=n[s][o]=h;var v=0;a.size+1e-10>=Math.min(r[o].size,r[s].size)?v=1:a.size<=1e-10&&(v=-1),i[o][s]=i[s][o]=v}),{distances:n,constraints:i}}function A1(e,r,t,n){var i=0,a;for(a=0;a<r.length;++a)r[a]=0;for(a=0;a<t.length;++a)for(var o=e[2*a],s=e[2*a+1],l=a+1;l<t.length;++l){var u=e[2*l],h=e[2*l+1],v=t[a][l],p=n[a][l],y=(u-o)*(u-o)+(h-s)*(h-s),S=Math.sqrt(y),E=y-v*v;p>0&&S<=v||p<0&&S>=v||(i+=2*E*E,r[2*a]+=4*E*(o-u),r[2*a+1]+=4*E*(s-h),r[2*l]+=4*E*(u-o),r[2*l+1]+=4*E*(h-s))}return i}function T1(e,r){var t=E1(e,r),n=r.lossFunction||ru;if(e.length>=8){var i=F1(e,r),a=n(i,e),o=n(t,e);a+1e-8<o&&(t=i)}return t}function F1(e,r){r=r||{};var t=r.restarts||10,n=[],i={},a;for(a=0;a<e.length;++a){var o=e[a];o.sets.length==1&&(i[o.sets[0]]=n.length,n.push(o))}var s=C1(e,n,i),l=s.distances,u=s.constraints,h=(0,aa.norm2)(l.map(aa.norm2))/l.length;l=l.map(function(X){return X.map(function(q){return q/h})});var v=function(X,q){return A1(X,q,l,u)},p,y;for(a=0;a<t;++a){var S=(0,aa.zeros)(l.length*2).map(Math.random);y=(0,aa.conjugateGradient)(v,S,r),(!p||y.fx<p.fx)&&(p=y)}var E=p.x,O={};for(a=0;a<n.length;++a){var D=n[a];O[D.sets[0]]={x:E[2*a]*h,y:E[2*a+1]*h,radius:Math.sqrt(D.size/Math.PI)}}if(r.history)for(a=0;a<r.history.length;++a)(0,aa.scale)(r.history[a].x,h);return O}function E1(e,r){for(var t=r&&r.lossFunction?r.lossFunction:ru,n={},i={},a,o=0;o<e.length;++o){var s=e[o];s.sets.length==1&&(a=s.sets[0],n[a]={x:1e10,y:1e10,rowid:Object.keys(n).length,size:s.size,radius:Math.sqrt(s.size/Math.PI)},i[a]=[])}e=e.filter(function(We){return We.sets.length==2});for(var o=0;o<e.length;++o){var l=e[o],u=l.hasOwnProperty("weight")?l.weight:1,h=l.sets[0],v=l.sets[1];l.size+Kf>=Math.min(n[h].size,n[v].size)&&(u=0),i[h].push({set:v,size:l.size,weight:u}),i[v].push({set:h,size:l.size,weight:u})}var p=[];for(a in i)if(i.hasOwnProperty(a)){for(var y=0,o=0;o<i[a].length;++o)y+=i[a][o].size*i[a][o].weight;p.push({set:a,size:y})}function S(We,gr){return gr.size-We.size}p.sort(S);var E={};function O(We){return We.set in E}function D(We,gr){n[gr].x=We.x,n[gr].y=We.y,E[gr]=!0}D({x:0,y:0},p[0].set);for(var o=1;o<p.length;++o){var X=p[o].set,q=i[X].filter(O);if(a=n[X],q.sort(S),q.length===0)throw"ERROR: missing pairwise overlap information";for(var Q=[],pt=0;pt<q.length;++pt){var Wt=n[q[pt].set],Kt=eu(a.radius,Wt.radius,q[pt].size);Q.push({x:Wt.x+Kt,y:Wt.y}),Q.push({x:Wt.x-Kt,y:Wt.y}),Q.push({y:Wt.y+Kt,x:Wt.x}),Q.push({y:Wt.y-Kt,x:Wt.x});for(var ae=pt+1;ae<q.length;++ae)for(var Fe=n[q[ae].set],ve=eu(a.radius,Fe.radius,q[ae].size),Ze=qf({x:Wt.x,y:Wt.y,radius:Kt},{x:Fe.x,y:Fe.y,radius:ve}),dr=0;dr<Ze.length;++dr)Q.push(Ze[dr])}for(var Or=1e50,Rr=Q[0],pt=0;pt<Q.length;++pt){n[X].x=Q[pt].x,n[X].y=Q[pt].y;var sn=t(n,e);sn<Or&&(Or=sn,Rr=Q[pt])}D(Rr,X)}return n}function ru(e,r){var t=0;function n(h){return h.map(function(v){return e[v]})}for(var i=0;i<r.length;++i){var a=r[i],o=void 0;if(a.sets.length!=1){if(a.sets.length==2){var s=e[a.sets[0]],l=e[a.sets[1]];o=$f(s.radius,l.radius,qi(s,l))}else o=Ql(n(a.sets));var u=a.hasOwnProperty("weight")?a.weight:1;t+=u*(o-a.size)*(o-a.size)}}return t}function I1(e,r,t){t===null?e.sort(function(E,O){return O.radius-E.radius}):e.sort(t);var n;if(e.length>0){var i=e[0].x,a=e[0].y;for(n=0;n<e.length;++n)e[n].x-=i,e[n].y-=a}if(e.length==2){var o=distance(e[0],e[1]);o<Math.abs(e[1].radius-e[0].radius)&&(e[1].x=e[0].x+e[0].radius-e[1].radius-1e-10,e[1].y=e[0].y)}if(e.length>1){var s=Math.atan2(e[1].x,e[1].y)-r,l=void 0,u=void 0,h=Math.cos(s),v=Math.sin(s);for(n=0;n<e.length;++n)l=e[n].x,u=e[n].y,e[n].x=h*l-v*u,e[n].y=v*l+h*u}if(e.length>2){for(var p=Math.atan2(e[2].x,e[2].y)-r;p<0;)p+=2*Math.PI;for(;p>2*Math.PI;)p-=2*Math.PI;if(p>Math.PI){var y=e[1].y/(1e-10+e[1].x);for(n=0;n<e.length;++n){var S=(e[n].x+y*e[n].y)/(1+y*y);e[n].x=2*S-e[n].x,e[n].y=2*S*y-e[n].y}}}}function L1(e){e.map(function(u){u.parent=u});function r(u){return u.parent!==u&&(u.parent=r(u.parent)),u.parent}function t(u,h){var v=r(u),p=r(h);v.parent=p}for(var n=0;n<e.length;++n)for(var i=n+1;i<e.length;++i){var a=e[n].radius+e[i].radius;distance(e[n],e[i])+1e-10<a&&t(e[i],e[n])}for(var o={},s,n=0;n<e.length;++n)s=r(e[n]).parent.setid,s in o||(o[s]=[]),o[s].push(e[n]);e.map(function(u){delete u.parent});var l=[];for(s in o)o.hasOwnProperty(s)&&l.push(o[s]);return l}function nu(e){var r=function(t){var n=Math.max.apply(null,e.map(function(a){return a[t]+a.radius})),i=Math.min.apply(null,e.map(function(a){return a[t]-a.radius}));return{max:n,min:i}};return{xRange:r("x"),yRange:r("y")}}function oA(e,r,t){r===null&&(r=Math.PI/2);var n=[],i,a;for(a in e)if(e.hasOwnProperty(a)){var o=e[a];n.push({x:o.x,y:o.y,radius:o.radius,setid:a})}var s=L1(n);for(i=0;i<s.length;++i){I1(s[i],r,t);var l=nu(s[i]);s[i].size=(l.xRange.max-l.xRange.min)*(l.yRange.max-l.yRange.min),s[i].bounds=l}s.sort(function(S,E){return E.size-S.size}),n=s[0];var u=n.bounds,h=(u.xRange.max-u.xRange.min)/50;function v(S,E,O){if(!!S){var D=S.bounds,X,q,Q;E?X=u.xRange.max-D.xRange.min+h:(X=u.xRange.max-D.xRange.max,Q=(D.xRange.max-D.xRange.min)/2-(u.xRange.max-u.xRange.min)/2,Q<0&&(X+=Q)),O?q=u.yRange.max-D.yRange.min+h:(q=u.yRange.max-D.yRange.max,Q=(D.yRange.max-D.yRange.min)/2-(u.yRange.max-u.yRange.min)/2,Q<0&&(q+=Q));for(var pt=0;pt<S.length;++pt)S[pt].x+=X,S[pt].y+=q,n.push(S[pt])}}for(var p=1;p<s.length;)v(s[p],!0,!1),v(s[p+1],!1,!0),v(s[p+2],!0,!0),p+=3,u=nu(n);var y={};for(i=0;i<n.length;++i)y[n[i].setid]=n[i];return y}function k1(e,r,t,n){var i=[],a=[];for(var o in e)e.hasOwnProperty(o)&&(a.push(o),i.push(e[o]));r-=2*n,t-=2*n;var s=nu(i),l=s.xRange,u=s.yRange;if(l.max==l.min||u.max==u.min)return console.log("not scaling solution: zero size detected"),e;for(var h=r/(l.max-l.min),v=t/(u.max-u.min),p=Math.min(v,h),y=(r-(l.max-l.min)*p)/2,S=(t-(u.max-u.min)*p)/2,E={},O=0;O<i.length;++O){var D=i[O];E[a[O]]={radius:p*D.radius,x:n+y+(D.x-l.min)*p,y:n+S+(D.y-u.min)*p}}return E}function iu(e,r,t){var n=r[0].radius-qi(r[0],e),i,a;for(i=1;i<r.length;++i)a=r[i].radius-qi(r[i],e),a<=n&&(n=a);for(i=0;i<t.length;++i)a=qi(t[i],e)-t[i].radius,a<=n&&(n=a);return n}function Qf(e,r){var t=[],n;for(n=0;n<e.length;++n){var i=e[n];t.push({x:i.x,y:i.y}),t.push({x:i.x+i.radius/2,y:i.y}),t.push({x:i.x-i.radius/2,y:i.y}),t.push({x:i.x,y:i.y+i.radius/2}),t.push({x:i.x,y:i.y-i.radius/2})}var a=t[0],o=iu(t[0],e,r);for(n=1;n<t.length;++n){var s=iu(t[n],e,r);s>=o&&(a=t[n],o=s)}var l=(0,aa.nelderMead)(function(p){return-1*iu({x:p[0],y:p[1]},e,r)},[a.x,a.y],{maxIterations:500,minErrorDelta:1e-10}).x,u={x:l[0],y:l[1]},h=!0;for(n=0;n<e.length;++n)if(qi(u,e[n])>e[n].radius){h=!1;break}for(n=0;n<r.length;++n)if(qi(u,r[n])<r[n].radius){h=!1;break}if(!h)if(e.length==1)u={x:e[0].x,y:e[0].y};else{var v={};Ql(e,v),v.arcs.length===0?u={x:0,y:-1e3,disjoint:!0}:v.arcs.length==1?u={x:v.arcs[0].circle.x,y:v.arcs[0].circle.y}:r.length?u=Qf(e,[]):u=Jf(v.arcs.map(function(p){return p.p1}))}return u}function P1(e){var r={},t=[];for(var n in e)t.push(n),r[n]=[];for(var i=0;i<t.length;i++)for(var a=e[t[i]],o=i+1;o<t.length;++o){var s=e[t[o]],l=qi(a,s);l+s.radius<=a.radius+1e-10?r[t[o]].push(t[i]):l+a.radius<=s.radius+1e-10&&r[t[i]].push(t[o])}return r}function D1(e,r){for(var t={},n=P1(e),i=0;i<r.length;++i){for(var a=r[i].sets,o={},s={},l=0;l<a.length;++l){o[a[l]]=!0;for(var u=n[a[l]],h=0;h<u.length;++h)s[u[h]]=!0}var v=[],p=[];for(var y in e)y in o?v.push(e[y]):y in s||p.push(e[y]);var S=Qf(v,p);t[a]=S,S.disjoint&&r[i].size>0&&console.log("WARNING: area "+a+" not represented on screen")}return t}function O1(e,r,t){var n=[],i=e-t,a=r;return n.push("M",i,a),n.push("A",t,t,0,1,0,i+2*t,a),n.push("A",t,t,0,1,0,i,a),n.join(" ")}function sA(e){var r=e.split(" ");return{x:parseFloat(r[1]),y:parseFloat(r[2]),radius:-parseFloat(r[4])}}function B1(e){var r={};Ql(e,r);var t=r.arcs;if(t.length===0)return"M 0 0";if(t.length==1){var n=t[0].circle;return O1(n.x,n.y,n.radius)}else{for(var i=[`
M`,t[0].p2.x,t[0].p2.y],a=0;a<t.length;++a){var o=t[a],s=o.circle.radius,l=o.width>s;i.push(`
A`,s,s,0,l?1:0,1,o.p1.x,o.p1.y)}return i.join(" ")}}var Ca="id",au="path",R1={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(e){return{name:e.id,value:e.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]},_1=(0,c.HP)(function(e,r,t,n){var i=new Map,a=e.length;return r.forEach(function(o,s){if(o[n].length===1)i.set(o[Ca],e[(s+a)%a]);else{var l=o[n].map(function(u){return i.get(u)});i.set(o[Ca],l.slice(1).reduce(function(u,h){return x1(u,h,t)},l[0]))}}),i},function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return JSON.stringify(e)});function N1(e,r,t,n){n===void 0&&(n=0);var i=e.data,a=e.setsField,o=e.sizeField;if(i.length===0)return Ma($i.WARN,!1,"warn: %s","\u6570\u636E\u4E0D\u80FD\u4E3A\u7A7A"),[];var s=i.map(function(v){var p;return(0,d.pi)((0,d.pi)({},v),(p={sets:v[a]||[],size:v[o]},p[au]="",p[Ca]="",p))});s.sort(function(v,p){return v.sets.length-p.sets.length});var l=M1(s),u=k1(l,r,t,n),h=D1(u,s);return s.forEach(function(v){var p=v.sets,y=p.join(",");v[Ca]=y;var S=p.map(function(D){return u[D]}),E=B1(S);/[zZ]$/.test(E)||(E+=" Z"),v[au]=E;var O=h[y]||{x:0,y:0};(0,c.f0)(v,O)}),s}function z1(e,r){for(var t=0;t<r.length;t++)if(!e.includes(r[t]))return!1;return!0}function V1(e){return ie({},e.defaultStyle,{fill:e.color},e.style)}en("schema","venn",{draw:function(e,r){var t=e.data,n=(0,ze.tr)(t[au]),i=V1(e),a=r.addGroup({name:"venn-shape"});a.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},i),{path:n}),name:"venn-path"});var o=e.customInfo,s=o.offsetX,l=o.offsetY,u=si.transform(null,[["t",s,l]]);return a.setMatrix(u),a},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{lineWidth:0,stroke:r,fill:r,r:4}}}});var G1=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getLabelPoint=function(t,n,i){var a=t.data,o=a.x,s=a.y,l=t.customLabelInfo,u=l.offsetX,h=l.offsetY;return{content:t.content[i],x:o+u,y:s+h}},r}(m);Bn("venn",G1);function Us(e){if(!!e){var r=e.geometries[0].elements;r.forEach(function(t){t.shape.toFront()})}}var U1=$n("element-active"),H1=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.syncElementsPos=function(){Us(this.context.view)},r.prototype.active=function(){e.prototype.active.call(this),this.syncElementsPos()},r.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},r.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},r}(U1),Y1=$n("element-highlight"),X1=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.syncElementsPos=function(){Us(this.context.view)},r.prototype.highlight=function(){e.prototype.highlight.call(this),this.syncElementsPos()},r.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},r.prototype.clear=function(){e.prototype.clear.call(this),this.syncElementsPos()},r.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},r}(Y1),W1=$n("element-selected"),Z1=$n("element-single-selected"),j1=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.syncElementsPos=function(){Us(this.context.view)},r.prototype.selected=function(){e.prototype.selected.call(this),this.syncElementsPos()},r.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},r.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},r}(W1),$1=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.syncElementsPos=function(){Us(this.context.view)},r.prototype.selected=function(){e.prototype.selected.call(this),this.syncElementsPos()},r.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},r.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},r}(Z1);Sr("venn-element-active",H1),Sr("venn-element-highlight",X1),Sr("venn-element-selected",j1),Sr("venn-element-single-selected",$1),Er("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]}),Er("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]}),Er("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]}),Er("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]}),Er("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]}),Er("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]});var q1=40;function th(e,r,t){var n=e.chart,i=e.options,a=i.blendMode,o=i.setsField,s=n.getTheme(),l=s.colors10,u=s.colors20,h=t;(0,c.kJ)(h)||(h=r.filter(function(p){return p[o].length===1}).length<=10?l:u);var v=_1(h,r,a,o);return function(p){return v.get(p)||h[0]}}function J1(e,r){var t=e.options,n=t.color;if(typeof n!="function"){var i=typeof n=="string"?[n]:n,a=th(e,r,i);return function(o){return a(o[Ca])}}return n}function K1(e){var r=e.chart,t=e.options,n=t.legend,i=t.appendPadding,a=t.padding,o=Oa(i);return n!==!1&&(o=Cs(i,(0,c.U2)(n,"position"),q1)),r.appendPadding=_l([o,a]),e}function Q1(e){var r=e.options,t=r.data;t||(Ma($i.WARN,!1,"warn: %s","\u6570\u636E\u4E0D\u80FD\u4E3A\u7A7A"),t=[]);var n=t.filter(function(a){return a.sets.length===1}).map(function(a){return a.sets[0]}),i=t.filter(function(a){var o=a.sets;return z1(n,o)});return(0,c.Xy)(i,t)||Ma($i.WARN,!1,"warn: %s","\u4EA4\u96C6\u4E2D\u4E0D\u80FD\u51FA\u73B0\u4E0D\u5B58\u5728\u7684\u96C6\u5408, \u8BF7\u8F93\u5165\u5408\u6CD5\u6570\u636E"),(0,c.b$)({},e,{options:{data:i}})}function tw(e){var r=e.chart,t=e.options,n=t.pointStyle,i=t.setsField,a=t.sizeField,o=Oa(r.appendPadding),s=o[0],l=o[1],u=o[2],h=o[3],v={offsetX:h,offsetY:s},p=r.viewBBox,y=p.width,S=p.height,E=N1(t,Math.max(y-(l+h),0),Math.max(S-(s+u),0),0);r.data(E);var O=Ul(ie({},e,{options:{xField:"x",yField:"y",sizeField:a,seriesField:Ca,rawFields:[i,a],schema:{shape:"venn",style:n}}})).ext,D=O.geometry;D.customInfo(v);var X=J1(e,E);return typeof X=="function"&&D.color(Ca,function(q){var Q=E.find(function(Wt){return Wt[Ca]===q}),pt=th(e,E)(q);return X(Q,pt)}),e}function ew(e){var r=e.chart,t=e.options,n=t.label,i=Oa(r.appendPadding),a=i[0],o=i[3],s={offsetX:o,offsetY:a},l=li(r,"schema");if(!n)l.label(!1);else{var u=n.callback,h=(0,d._T)(n,["callback"]);l.label({fields:["id"],callback:u,cfg:(0,c.b$)({},ei(h),{type:"venn",customLabelInfo:s})})}return e}function rw(e){var r=e.chart,t=e.options,n=t.legend,i=t.sizeField;return r.legend(Ca,n),r.legend(i,!1),e}function nw(e){var r=e.chart;return r.axis(!1),e}function iw(e){var r=e.options,t=e.chart,n=r.interactions;if(n){var i={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};An(ie({},e,{options:{interactions:n.map(function(a){return(0,d.pi)((0,d.pi)({},a),{type:i[a.type]||a.type})})}}))}return t.removeInteraction("legend-active"),t.removeInteraction("legend-highlight"),e}function aw(e){return Br(K1,un,Q1,tw,ew,Rn({}),rw,nw,qn,iw,dn)(e)}var lA=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="venn",t}return r.getDefaultOptions=function(){return R1},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return aw},r.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},r}(Gr),Wo="$$stock-range$$",Hs="trend",eh="up",rh="down",ow={showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(e,r,t){var n;if(e==="x"){var i=t[0];n=i?i.title:r}else n=r;return{position:e==="y"?"start":"end",content:n,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},sw=ie({},Gr.getDefaultOptions(),{tooltip:ow,interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function nh(e,r){return(0,c.UI)(e,function(t){if((0,c.kJ)(r)){var n=r[0],i=r[1],a=r[2],o=r[3];t[Hs]=t[n]<=t[i]?eh:rh,t[Wo]=[t[n],t[i],t[a],t[o]]}return t})}function lw(e){var r=e.chart,t=e.options,n=t.yField,i=t.data,a=t.risingFill,o=t.fallingFill,s=t.tooltip,l=t.stockStyle;r.data(nh(i,n));var u=s;return u!==!1&&(u=ie({},{fields:n},u)),Ul(ie({},e,{options:{schema:{shape:"candle",color:[a,o],style:l},yField:Wo,seriesField:Hs,rawFields:n,tooltip:u}})),e}function uw(e){var r,t,n=e.chart,i=e.options,a=i.meta,o=i.xAxis,s=i.yAxis,l=i.xField,u=(r={},r[l]={type:"timeCat",tickCount:6},r[Hs]={values:[eh,rh]},r),h=ie(u,a,(t={},t[l]=pn(o,wi),t[Wo]=pn(s,wi),t));return n.scale(h),e}function cw(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField;return n===!1?r.axis(a,!1):r.axis(a,n),i===!1?r.axis(Wo,!1):r.axis(Wo,i),e}function fw(e){var r=e.chart,t=e.options,n=t.tooltip;return n!==!1?r.tooltip(n):r.tooltip(!1),e}function hw(e){var r=e.chart,t=e.options,n=t.legend;return n?r.legend(Hs,n):n===!1&&r.legend(!1),e}function ih(e){Br(un,lw,uw,cw,fw,hw,An,dn,Pn(),zo)(e)}var vw=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="stock",t}return r.getDefaultOptions=function(){return sw},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return ih},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options.yField;this.chart.changeData(nh(t,n))},r}(Gr),ou,Ra="$$percentage$$",_a="$$mappingValue$$",Aa="$$conversion$$",su="$$totalPercentage$$",Zo="$$x$$",jo="$$y$$",pw={appendPadding:[0,80],minSize:0,maxSize:1,meta:(ou={},ou[_a]={min:0,max:1,nice:!1},ou),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}};function ah(e,r,t){var n=[],i=t.yField,a=t.maxSize,o=t.minSize,s=(0,c.U2)((0,c.UT)(r,i),[i]),l=(0,c.hj)(a)?a:1,u=(0,c.hj)(o)?o:0;return n=(0,c.UI)(e,function(h,v){var p=(h[i]||0)/s;return h[Ra]=p,h[_a]=(l-u)*p+u,h[Aa]=[(0,c.U2)(e,[v-1,i]),h[i]],h}),n}function lu(e){return function(r){var t=r.chart,n=r.options,i=n.conversionTag,a=t.getOptions().data;if(i){var o=i.formatter;a.forEach(function(s,l){if(!(l<=0||Number.isNaN(s[_a]))){var u=e(s,l,a,{top:!0,text:{content:(0,c.mf)(o)?o(s,a):o,offsetX:i.offsetX,offsetY:i.offsetY,position:"end",autoRotate:!1,style:(0,d.pi)({textAlign:"start",textBaseline:"middle"},i.style)}});t.annotation().line(u)}})}return r}}function dw(e){var r=e.chart,t=e.options,n=t.data,i=n===void 0?[]:n,a=t.yField,o=t.maxSize,s=t.minSize,l=ah(i,i,{yField:a,maxSize:o,minSize:s});return r.data(l),e}function gw(e){var r=e.chart,t=e.options,n=t.xField,i=t.yField,a=t.color,o=t.tooltip,s=t.label,l=t.shape,u=l===void 0?"funnel":l,h=t.funnelStyle,v=t.state,p=Bi(o,[n,i]),y=p.fields,S=p.formatter;Si({chart:r,options:{type:"interval",xField:n,yField:_a,colorField:n,tooltipFields:(0,c.kJ)(y)&&y.concat([Ra,Aa]),mapping:{shape:u,tooltip:S,color:a,style:h},label:s,state:v}});var E=li(e.chart,"interval");return E.adjust("symmetric"),e}function yw(e){var r=e.chart,t=e.options,n=t.isTransposed;return r.coordinate({type:"rect",actions:n?[]:[["transpose"],["scale",1,-1]]}),e}function mw(e){var r=e.options,t=r.maxSize,n=function(i,a,o,s){var l=t-(t-i[_a])/2;return(0,d.pi)((0,d.pi)({},s),{start:[a-.5,l],end:[a-.5,l+.05]})};return lu(n)(e),e}function oh(e){return Br(dw,gw,yw,mw)(e)}function xw(e){var r,t=e.chart,n=e.options,i=n.data,a=i===void 0?[]:i,o=n.yField;return t.data(a),t.scale((r={},r[o]={sync:!0},r)),e}function ww(e){var r=e.chart,t=e.options,n=t.data,i=t.xField,a=t.yField,o=t.color,s=t.compareField,l=t.isTransposed,u=t.tooltip,h=t.maxSize,v=t.minSize,p=t.label,y=t.funnelStyle,S=t.state,E=t.showFacetTitle;return r.facet("mirror",{fields:[s],transpose:!l,padding:l?0:[32,0,0,0],showTitle:E,eachView:function(O,D){var X=l?D.rowIndex:D.columnIndex;l||O.coordinate({type:"rect",actions:[["transpose"],["scale",X===0?-1:1,-1]]});var q=ah(D.data,n,{yField:a,maxSize:h,minSize:v});O.data(q);var Q=Bi(u,[i,a,s]),pt=Q.fields,Wt=Q.formatter,Kt=l?{offset:X===0?10:-23,position:X===0?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:X===0?"end":"start"}};Si({chart:O,options:{type:"interval",xField:i,yField:_a,colorField:i,tooltipFields:(0,c.kJ)(pt)&&pt.concat([Ra,Aa]),mapping:{shape:"funnel",tooltip:Wt,color:o,style:y},label:p===!1?!1:ie({},Kt,p),state:S}})}}),e}function Sw(e){var r=e.chart,t=e.options,n=t.conversionTag,i=t.isTransposed;return r.once("beforepaint",function(){r.views.forEach(function(a,o){var s=function(l,u,h,v){var p=o===0?-1:1;return ie({},v,{start:[u-.5,l[_a]],end:[u-.5,l[_a]+.05],text:i?{style:{textAlign:"start"}}:{offsetX:n!==!1?p*n.offsetX:0,style:{textAlign:o===0?"end":"start"}}})};lu(s)(ie({},{chart:a,options:t}))})}),e}function Mw(e){return Br(xw,ww,Sw)(e)}function bw(e){var r,t=e.chart,n=e.options,i=n.data,a=i===void 0?[]:i,o=n.yField;return t.data(a),t.scale((r={},r[o]={sync:!0},r)),e}function Cw(e){var r=e.chart,t=e.options,n=t.seriesField,i=t.isTransposed,a=t.showFacetTitle;return r.facet("rect",{fields:[n],padding:[i?0:32,10,0,10],showTitle:a,eachView:function(o,s){oh(ie({},e,{chart:o,options:{data:s.data}}))}}),e}function Aw(e){return Br(bw,Cw)(e)}function Tw(e){var r=e.chart,t=e.options,n=t.data,i=n===void 0?[]:n,a=t.yField,o=(0,c.u4)(i,function(u,h){return u+(h[a]||0)},0),s=(0,c.UT)(i,a)[a],l=(0,c.UI)(i,function(u,h){var v=[],p=[];if(u[su]=(u[a]||0)/o,h){var y=i[h-1][Zo],S=i[h-1][jo];v[0]=y[3],p[0]=S[3],v[1]=y[2],p[1]=S[2]}else v[0]=-.5,p[0]=1,v[1]=.5,p[1]=1;return p[2]=p[1]-u[su],v[2]=(p[2]+1)/4,p[3]=p[2],v[3]=-v[2],u[Zo]=v,u[jo]=p,u[Ra]=(u[a]||0)/s,u[Aa]=[(0,c.U2)(i,[h-1,a]),u[a]],u});return r.data(l),e}function Fw(e){var r=e.chart,t=e.options,n=t.xField,i=t.yField,a=t.color,o=t.tooltip,s=t.label,l=t.funnelStyle,u=t.state,h=Bi(o,[n,i]),v=h.fields,p=h.formatter;return Si({chart:r,options:{type:"polygon",xField:Zo,yField:jo,colorField:n,tooltipFields:(0,c.kJ)(v)&&v.concat([Ra,Aa]),label:s,state:u,mapping:{tooltip:p,color:a,style:l}}}),e}function Ew(e){var r=e.chart,t=e.options,n=t.isTransposed;return r.coordinate({type:"rect",actions:n?[["transpose"],["reflect","x"]]:[]}),e}function Iw(e){var r=function(t,n,i,a){return(0,d.pi)((0,d.pi)({},a),{start:[t[Zo][1],t[jo][1]],end:[t[Zo][1]+.05,t[jo][1]]})};return lu(r)(e),e}function Lw(e){return Br(Tw,Fw,Ew,Iw)(e)}function kw(e){var r=e.options,t=r.compareField,n=r.xField,i=r.yField,a=r.locale,o=r.funnelStyle,s=r.data,l=Ts(a),u={label:t?{fields:[n,i,t,Ra,Aa],formatter:function(v){return""+v[i]}}:{fields:[n,i,Ra,Aa],offset:0,position:"middle",formatter:function(v){return v[n]+" "+v[i]}},tooltip:{title:n,formatter:function(v){return{name:v[n],value:v[i]}}},conversionTag:{formatter:function(v){return l.get(["conversionTag","label"])+": "+ef.apply(void 0,v[Aa])}}},h;return(t||o)&&(h=function(v){return ie({},t&&{lineWidth:1,stroke:"#fff"},(0,c.mf)(o)?o(v):o)}),ie({options:u},e,{options:{funnelStyle:h,data:(0,c.d9)(s)}})}function Pw(e){var r=e.options,t=r.compareField,n=r.dynamicHeight,i=r.seriesField;return i?Aw(e):t?Mw(e):n?Lw(e):oh(e)}function Dw(e){var r,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField;return Br(Rn((r={},r[a]=n,r[o]=i,r)))(e)}function Ow(e){var r=e.chart;return r.axis(!1),e}function Bw(e){var r=e.chart,t=e.options,n=t.legend;return n===!1?r.legend(!1):r.legend(n),e}function sh(e){return Br(kw,Pw,Dw,Ow,qn,An,Bw,dn,un,Pn())(e)}var Rw=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="funnel",t}return r.getDefaultOptions=function(){return pw},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return sh},r.prototype.setState=function(t,n,i){i===void 0&&(i=!0);var a=_o(this.chart);(0,c.S6)(a,function(o){n(o.getData())&&o.setState(t,i)})},r.prototype.getStates=function(){var t=_o(this.chart),n=[];return(0,c.S6)(t,function(i){var a=i.getData(),o=i.getStates();(0,c.S6)(o,function(s){n.push({data:a,state:s,geometry:i.geometry,element:i})})}),n},r.CONVERSATION_FIELD=Aa,r.PERCENT_FIELD=Ra,r.TOTAL_PERCENT_FIELD=su,r}(Gr),_w="liquid";function lh(e){return[{percent:e,type:_w}]}function Nw(e){var r=e.chart,t=e.options,n=t.percent,i=t.liquidStyle,a=t.radius,o=t.outline,s=t.wave,l=t.shape,u=t.animation;r.scale({percent:{min:0,max:1}}),r.data(lh(n));var h=t.color||r.getTheme().defaultColor,v=ie({},e,{options:{xField:"type",yField:"percent",widthRatio:a,interval:{color:h,style:i,shape:"liquid-fill-gauge"}}}),p=ui(v).ext,y=p.geometry,S=r.getTheme().background,E={radius:a,outline:o,wave:s,shape:l,background:S,animation:u};return y.customInfo(E),r.legend(!1),r.axis(!1),r.tooltip(!1),e}function uh(e,r){var t=e.chart,n=e.options,i=n.statistic,a=n.percent,o=n.meta;t.getController("annotation").clear(!0);var s=(0,c.U2)(o,["percent","formatter"])||function(u){return(u*100).toFixed(2)+"%"},l=i.content;return l&&(l=ie({},l,{content:(0,c.UM)(l.content)?s(a):l.content})),bs(t,{statistic:(0,d.pi)((0,d.pi)({},i),{content:l}),plotType:"liquid"},{percent:a}),r&&t.render(!0),e}function zw(e){return Br(un,Ti("liquidStyle"),Nw,uh,Rn({}),dn,An)(e)}var Vw={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"},ch=5e3;function fh(e,r,t){return e+(r-e)*t}function Gw(e){var r=(0,d.pi)({opacity:1},e.style);return e.color&&!r.fill&&(r.fill=e.color),r}function Uw(e){var r={fill:"#fff",fillOpacity:0,lineWidth:4},t=(0,c.CD)({},r,e.style);return e.color&&!t.stroke&&(t.stroke=e.color),(0,c.hj)(e.opacity)&&(t.opacity=t.strokeOpacity=e.opacity),t}function Hw(e,r,t,n){return r===0?[[e+1/2*t/Math.PI/2,n/2],[e+1/2*t/Math.PI,n],[e+t/4,n]]:r===1?[[e+1/2*t/Math.PI/2*(Math.PI-2),n],[e+1/2*t/Math.PI/2*(Math.PI-1),n/2],[e+t/4,0]]:r===2?[[e+1/2*t/Math.PI/2,-n/2],[e+1/2*t/Math.PI,-n],[e+t/4,-n]]:[[e+1/2*t/Math.PI/2*(Math.PI-2),-n],[e+1/2*t/Math.PI/2*(Math.PI-1),-n/2],[e+t/4,0]]}function Yw(e,r,t,n,i,a,o){for(var s=Math.ceil(2*e/t*4)*4,l=[],u=n;u<-Math.PI*2;)u+=Math.PI*2;for(;u>0;)u-=Math.PI*2;u=u/Math.PI/2*t;var h=a-e+u-e*2;l.push(["M",h,r]);for(var v=0,p=0;p<s;++p){var y=p%4,S=Hw(p*t/4,y,t,i);l.push(["C",S[0][0]+h,-S[0][1]+r,S[1][0]+h,-S[1][1]+r,S[2][0]+h,-S[2][1]+r]),p===s-1&&(v=S[2][0])}return l.push(["L",v+h,o+e]),l.push(["L",h,o+e]),l.push(["Z"]),l}function Xw(e,r,t,n,i,a,o,s,l,u){for(var h=i.fill,v=i.opacity,p=o.getBBox(),y=p.maxX-p.minX,S=p.maxY-p.minY,E=0;E<n;E++){var O=n<=1?0:E/(n-1),D=a.addShape("path",{name:"waterwave-path",attrs:{path:Yw(s,p.minY+S*t,l,0,y/32,e,r),fill:h,opacity:fh(.2,.9,O)*v}});try{if(u===!1)return;var X=Xl([["t",l,0]]);D.stopAnimate(),D.animate({matrix:X},{duration:fh(.5*ch,ch,O),repeat:!0})}catch(q){console.warn("off-screen group animate error!")}}}function Ww(e,r,t,n){var i=t*2/3,a=Math.max(i,n),o=i/2,s=e,l=o+r-a/2,u=Math.asin(o/((a-o)*.85)),h=Math.sin(u)*o,v=Math.cos(u)*o,p=s-v,y=l+h,S=e,E=l+o/Math.sin(u);return`
      M `+p+" "+y+`
      A `+o+" "+o+" 0 1 1 "+(p+v*2)+" "+y+`
      Q `+S+" "+E+" "+e+" "+(r+a/2)+`
      Q `+S+" "+E+" "+p+" "+y+`
      Z 
    `}function Zw(e,r,t,n){var i=t/2,a=n/2;return`
      M `+e+" "+(r-a)+` 
      a `+i+" "+a+" 0 1 0 0 "+a*2+`
      a `+i+" "+a+" 0 1 0 0 "+-a*2+`
      Z
    `}function jw(e,r,t,n){var i=n/2,a=t/2;return`
      M `+e+" "+(r-i)+`
      L `+(e+a)+" "+r+`
      L `+e+" "+(r+i)+`
      L `+(e-a)+" "+r+`
      Z
    `}function $w(e,r,t,n){var i=n/2,a=t/2;return`
      M `+e+" "+(r-i)+`
      L `+(e+a)+" "+(r+i)+`
      L `+(e-a)+" "+(r+i)+`
      Z
    `}function qw(e,r,t,n){var i=.618,a=n/2,o=t/2*i;return`
      M `+(e-o)+" "+(r-a)+`
      L `+(e+o)+" "+(r-a)+`
      L `+(e+o)+" "+(r+a)+`
      L `+(e-o)+" "+(r+a)+`
      Z
    `}var hh={pin:Ww,circle:Zw,diamond:jw,triangle:$w,rect:qw};en("interval","liquid-fill-gauge",{draw:function(e,r){var t=.5,n=.5,i=e.customInfo,a=i,o=a.radius,s=a.shape,l=a.background,u=a.animation,h=i.outline,v=i.wave,p=h.border,y=h.distance,S=v.count,E=v.length,O=(0,c.u4)(e.points,function(dr,Or){return Math.min(dr,Or.x)},Infinity),D=this.parsePoint({x:t,y:n}),X=this.parsePoint({x:O,y:n}),q=D.x-X.x,Q=Math.min(q,X.y*o),pt=Gw(e),Wt=Uw((0,c.CD)({},e,h)),Kt=Q-p/2,ae=typeof s=="function"?s:hh[s]||hh.circle,Fe=ae(D.x,D.y,Kt*2,Kt*2),ve=r.addGroup({name:"waves"}),Ze=ve.setClip({type:"path",attrs:{path:Fe}});return Xw(D.x,D.y,1-e.points[1].y,S,pt,ve,Ze,Q*2,E,u),r.addShape("path",{name:"distance",attrs:{path:Fe,fill:"transparent",lineWidth:p+y*2,stroke:l==="transparent"?"#fff":l}}),r.addShape("path",{name:"wrap",attrs:(0,c.CD)(Wt,{path:Fe,fill:"transparent",lineWidth:p})}),r}});var uA=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="liquid",t}return r.getDefaultOptions=function(){return Vw},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.changeData=function(t){this.chart.emit(se.BEFORE_CHANGE_DATA,Gt.fromData(this.chart,se.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(lh(t)),uh({chart:this.chart,options:this.options},!0),this.chart.emit(se.AFTER_CHANGE_DATA,Gt.fromData(this.chart,se.AFTER_CHANGE_DATA,null))},r.prototype.getSchemaAdaptor=function(){return zw},r}(Gr);function vh(e,r,t){return e.length>1?r+"_"+t:""+r}function ph(e){var r=e.data,t=e.xField,n=e.measureField,i=e.rangeField,a=e.targetField,o=e.layout,s=[],l=[];r.forEach(function(v,p){var y=[v[i]].flat();y.sort(function(O,D){return O-D}),y.forEach(function(O,D){var X,q=D===0?O:y[D]-y[D-1];s.push((X={rKey:i+"_"+D},X[t]=t?v[t]:String(p),X[i]=q,X))});var S=[v[n]].flat();S.forEach(function(O,D){var X;s.push((X={mKey:vh(S,n,D)},X[t]=t?v[t]:String(p),X[n]=O,X))});var E=[v[a]].flat();E.forEach(function(O,D){var X;s.push((X={tKey:vh(E,a,D)},X[t]=t?v[t]:String(p),X[a]=O,X))}),l.push(v[i],v[n],v[a])});var u=Math.min.apply(Math,l.flat(Infinity)),h=Math.max.apply(Math,l.flat(Infinity));return u=u>0?0:u,o==="vertical"&&s.reverse(),{min:u,max:h,ds:s}}function Jw(e){var r=e.chart,t=e.options,n=t.bulletStyle,i=t.targetField,a=t.rangeField,o=t.measureField,s=t.xField,l=t.color,u=t.layout,h=t.size,v=t.label,p=ph(t),y=p.min,S=p.max,E=p.ds;r.data(E);var O=ie({},e,{options:{xField:s,yField:a,seriesField:"rKey",isStack:!0,label:(0,c.U2)(v,"range"),interval:{color:(0,c.U2)(l,"range"),style:(0,c.U2)(n,"range"),size:(0,c.U2)(h,"range")}}});ui(O),r.geometries[0].tooltip(!1);var D=ie({},e,{options:{xField:s,yField:o,seriesField:"mKey",isStack:!0,label:(0,c.U2)(v,"measure"),interval:{color:(0,c.U2)(l,"measure"),style:(0,c.U2)(n,"measure"),size:(0,c.U2)(h,"measure")}}});ui(D);var X=ie({},e,{options:{xField:s,yField:i,seriesField:"tKey",label:(0,c.U2)(v,"target"),point:{color:(0,c.U2)(l,"target"),style:(0,c.U2)(n,"target"),size:(0,c.mf)((0,c.U2)(h,"target"))?function(q){return(0,c.U2)(h,"target")(q)/2}:(0,c.U2)(h,"target")/2,shape:u==="horizontal"?"line":"hyphen"}}});return Fi(X),u==="horizontal"&&r.coordinate().transpose(),(0,d.pi)((0,d.pi)({},e),{ext:{data:{min:y,max:S}}})}function dh(e){var r,t,n=e.options,i=e.ext,a=n.xAxis,o=n.yAxis,s=n.targetField,l=n.rangeField,u=n.measureField,h=n.xField,v=i.data;return Br(Rn((r={},r[h]=a,r[u]=o,r),(t={},t[u]={min:v==null?void 0:v.min,max:v==null?void 0:v.max,sync:!0},t[s]={sync:""+u},t[l]={sync:""+u},t)))(e)}function Kw(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.measureField,s=t.rangeField,l=t.targetField;return r.axis(""+s,!1),r.axis(""+l,!1),n===!1?r.axis(""+a,!1):r.axis(""+a,n),i===!1?r.axis(""+o,!1):r.axis(""+o,i),e}function Qw(e){var r=e.chart,t=e.options,n=t.legend;return r.removeInteraction("legend-filter"),r.legend(n),r.legend("rKey",!1),r.legend("mKey",!1),r.legend("tKey",!1),e}function tS(e){var r=e.chart,t=e.options,n=t.label,i=t.measureField,a=t.targetField,o=t.rangeField,s=r.geometries,l=s[0],u=s[1],h=s[2];return(0,c.U2)(n,"range")?l.label(""+o,(0,d.pi)({layout:[{type:"limit-in-plot"}]},ei(n.range))):l.label(!1),(0,c.U2)(n,"measure")?u.label(""+i,(0,d.pi)({layout:[{type:"limit-in-plot"}]},ei(n.measure))):u.label(!1),(0,c.U2)(n,"target")?h.label(""+a,(0,d.pi)({layout:[{type:"limit-in-plot"}]},ei(n.target))):h.label(!1),e}function eS(e){Br(Jw,dh,Kw,Qw,un,tS,qn,An,dn)(e)}var rS=ie({},Gr.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}}),cA=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="bullet",t}return r.getDefaultOptions=function(){return rS},r.prototype.changeData=function(t){this.updateOption({data:t});var n=ph(this.options),i=n.min,a=n.max,o=n.ds;dh({options:this.options,ext:{data:{min:i,max:a}},chart:this.chart}),this.chart.changeData(o)},r.prototype.getSchemaAdaptor=function(){return eS},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r}(Gr),gh="nodeIndex",yh="childNodeCount",uu="nodeAncestor",cu="Invalid field: it must be a string!";function fu(e,r){var t=e.field,n=e.fields;if((0,c.HD)(t))return t;if((0,c.kJ)(t))return console.warn(cu),t[0];if(console.warn(cu+" will try to get fields instead."),(0,c.HD)(n))return n;if((0,c.kJ)(n)&&n.length)return n[0];if(r)return r;throw new TypeError(cu)}function hu(e){var r=[];if(e&&e.each){var t,n;e.each(function(i){var a,o;i.parent!==t?(t=i.parent,n=0):n+=1;var s=(0,c.hX)((((a=i.ancestors)===null||a===void 0?void 0:a.call(i))||[]).map(function(l){return r.find(function(u){return u.name===l.name})||l}),function(l){var u=l.depth;return u>0&&u<i.depth});i[uu]=s,i[yh]=((o=i.children)===null||o===void 0?void 0:o.length)||0,i[gh]=n,r.push(i)})}else e&&e.eachNode&&e.eachNode(function(i){r.push(i)});return r}var vu="ancestor-node",mh="value",$o="path",nS=[$o,gh,uu,yh,"name","depth","height"],iS=ie({},Gr.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}}),xh=4,aS=0,wh=5,Sh="drilldown-bread-crumb",oS={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},qo="hierarchy-data-transform-params",sS=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.name="drill-down",t.historyCache=[],t.breadCrumbGroup=null,t.breadCrumbCfg=oS,t}return r.prototype.click=function(){var t=(0,c.U2)(this.context,["event","data","data"]);if(!t)return!1;this.drill(t),this.drawBreadCrumb()},r.prototype.resetPosition=function(){if(!!this.breadCrumbGroup){var t=this.context.view.getCoordinate(),n=this.breadCrumbGroup,i=n.getBBox(),a=this.getButtonCfg().position,o={x:t.start.x,y:t.end.y-(i.height+wh*2)};t.isPolar&&(o={x:0,y:0}),a==="bottom-left"&&(o={x:t.start.x,y:t.start.y});var s=si.transform(null,[["t",o.x+aS,o.y+i.height+wh]]);n.setMatrix(s)}},r.prototype.back=function(){(0,c.dp)(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},r.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},r.prototype.drill=function(t){var n=this.context.view,i=(0,c.U2)(n,["interactions","drill-down","cfg","transformData"],function(u){return u}),a=i((0,d.pi)({data:t.data},t[qo]));n.changeData(a);for(var o=[],s=t;s;){var l=s.data;o.unshift({id:l.name+"_"+s.height+"_"+s.depth,name:l.name,children:i((0,d.pi)({data:l},t[qo]))}),s=s.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(o)},r.prototype.backTo=function(t){if(!(!t||t.length<=0)){var n=this.context.view,i=(0,c.Z$)(t).children;n.changeData(i),t.length>1?(this.historyCache=t,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},r.prototype.getButtonCfg=function(){var t=this.context.view,n=(0,c.U2)(t,["interactions","drill-down","cfg","drillDownConfig"]);return ie(this.breadCrumbCfg,n==null?void 0:n.breadCrumb,this.cfg)},r.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},r.prototype.drawBreadCrumbGroup=function(){var t=this,n=this.getButtonCfg(),i=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:Sh});var a=0;i.forEach(function(o,s){var l=t.breadCrumbGroup.addShape({type:"text",id:o.id,name:Sh+"_"+o.name+"_text",attrs:(0,d.pi)((0,d.pi)({text:s===0&&!(0,c.UM)(n.rootText)?n.rootText:o.name},n.textStyle),{x:a,y:0})}),u=l.getBBox();if(a+=u.width+xh,l.on("click",function(p){var y,S=p.target.get("id");if(S!==((y=(0,c.Z$)(i))===null||y===void 0?void 0:y.id)){var E=i.slice(0,i.findIndex(function(O){return O.id===S})+1);t.backTo(E)}}),l.on("mouseenter",function(p){var y,S=p.target.get("id");S!==((y=(0,c.Z$)(i))===null||y===void 0?void 0:y.id)?l.attr(n.activeTextStyle):l.attr({cursor:"default"})}),l.on("mouseleave",function(){l.attr(n.textStyle)}),s<i.length-1){var h=t.breadCrumbGroup.addShape({type:"text",name:n.name+"_"+o.name+"_divider",attrs:(0,d.pi)((0,d.pi)({text:n.dividerText},n.textStyle),{x:a,y:0})}),v=h.getBBox();a+=v.width+xh}})},r.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},r.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),e.prototype.destroy.call(this)},r}(Vr);function Mh(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Jo(e,r,t,n,i){for(var a=e.children,o,s=-1,l=a.length,u=e.value&&(n-r)/e.value;++s<l;)o=a[s],o.y0=t,o.y1=i,o.x0=r,o.x1=r+=o.value*u}function bh(){var e=1,r=1,t=0,n=!1;function i(o){var s=o.height+1;return o.x0=o.y0=t,o.x1=e,o.y1=r/s,o.eachBefore(a(r,s)),n&&o.eachBefore(Mh),o}function a(o,s){return function(l){l.children&&Jo(l,l.x0,o*(l.depth+1)/s,l.x1,o*(l.depth+2)/s);var u=l.x0,h=l.y0,v=l.x1-t,p=l.y1-t;v<u&&(u=v=(u+v)/2),p<h&&(h=p=(h+p)/2),l.x0=u,l.y0=h,l.x1=v,l.y1=p}}return i.round=function(o){return arguments.length?(n=!!o,i):n},i.size=function(o){return arguments.length?(e=+o[0],r=+o[1],i):[e,r]},i.padding=function(o){return arguments.length?(t=+o,i):t},i}var lS=Rt(32059);function uS(e){var r=0,t=e.children,n=t&&t.length;if(!n)r=1;else for(;--n>=0;)r+=t[n].value;e.value=r}function cS(){return this.eachAfter(uS)}var fS=Rt(64254);function Ch(e,r){var t;if(typeof Symbol=="undefined"||e[Symbol.iterator]==null){if(Array.isArray(e)||(t=(0,fS.Z)(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){t=e[Symbol.iterator]()},n:function(){var u=t.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}}}function hS(e,r){var t=-1,n=Ch(this),i;try{for(n.s();!(i=n.n()).done;){var a=i.value;e.call(r,a,++t,this)}}catch(o){n.e(o)}finally{n.f()}return this}function vS(e,r){for(var t=this,n=[t],i,a,o=-1;t=n.pop();)if(e.call(r,t,++o,this),i=t.children)for(a=i.length-1;a>=0;--a)n.push(i[a]);return this}function pS(e,r){for(var t=this,n=[t],i=[],a,o,s,l=-1;t=n.pop();)if(i.push(t),a=t.children)for(o=0,s=a.length;o<s;++o)n.push(a[o]);for(;t=i.pop();)e.call(r,t,++l,this);return this}function dS(e,r){var t=-1,n=Ch(this),i;try{for(n.s();!(i=n.n()).done;){var a=i.value;if(e.call(r,a,++t,this))return a}}catch(o){n.e(o)}finally{n.f()}}function gS(e){return this.eachAfter(function(r){for(var t=+e(r.data)||0,n=r.children,i=n&&n.length;--i>=0;)t+=n[i].value;r.value=t})}function yS(e){return this.eachBefore(function(r){r.children&&r.children.sort(e)})}function mS(e){for(var r=this,t=xS(r,e),n=[r];r!==t;)r=r.parent,n.push(r);for(var i=n.length;e!==t;)n.splice(i,0,e),e=e.parent;return n}function xS(e,r){if(e===r)return e;var t=e.ancestors(),n=r.ancestors(),i=null;for(e=t.pop(),r=n.pop();e===r;)i=e,e=t.pop(),r=n.pop();return i}function wS(){for(var e=this,r=[e];e=e.parent;)r.push(e);return r}function SS(){return Array.from(this)}function MS(){var e=[];return this.eachBefore(function(r){r.children||e.push(r)}),e}function bS(){var e=this,r=[];return e.each(function(t){t!==e&&r.push({source:t.parent,target:t})}),r}var CS=Rt(94043),Ah=Rt.n(CS),AS=Ah().mark(Th);function Th(){var e,r,t,n,i,a;return Ah().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:e=this,t=[e];case 1:r=t.reverse(),t=[];case 2:if(!(e=r.pop())){s.next=8;break}return s.next=5,e;case 5:if(n=e.children)for(i=0,a=n.length;i<a;++i)t.push(n[i]);s.next=2;break;case 8:if(t.length){s.next=1;break}case 9:case"end":return s.stop()}},AS,this)}function Co(e,r){e instanceof Map?(e=[void 0,e],r===void 0&&(r=ES)):r===void 0&&(r=FS);for(var t=new Ao(e),n,i=[t],a,o,s,l;n=i.pop();)if((o=r(n.data))&&(l=(o=Array.from(o)).length))for(n.children=o,s=l-1;s>=0;--s)i.push(a=o[s]=new Ao(o[s])),a.parent=n,a.depth=n.depth+1;return t.eachBefore(Fh)}function TS(){return Co(this).eachBefore(IS)}function FS(e){return e.children}function ES(e){return Array.isArray(e)?e[1]:null}function IS(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function Fh(e){var r=0;do e.height=r;while((e=e.parent)&&e.height<++r)}function Ao(e){this.data=e,this.depth=this.height=0,this.parent=null}Ao.prototype=Co.prototype=(0,lS.Z)({constructor:Ao,count:cS,each:hS,eachAfter:pS,eachBefore:vS,find:dS,sum:gS,sort:yS,path:mS,ancestors:wS,descendants:SS,leaves:MS,links:bS,copy:TS},Symbol.iterator,Th);var LS={field:"value",size:[1,1],round:!1,padding:0,sort:function(e,r){return r.value-e.value},as:["x","y"],ignoreParentValue:!0};function kS(e,r){r=(0,c.f0)({},LS,r);var t=r.as;if(!(0,c.kJ)(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var n;try{n=fu(r)}catch(l){console.warn(l)}var i=function(l){return bh().size(r.size).round(r.round).padding(r.padding)(Co(l).sum(function(u){return(0,c.dp)(u.children)?r.ignoreParentValue?0:u[n]-(0,c.u4)(u.children,function(h,v){return h+v[n]},0):u[n]}).sort(r.sort))},a=i(e),o=t[0],s=t[1];return a.each(function(l){var u,h;l[o]=[l.x0,l.x1,l.x1,l.x0],l[s]=[l.y1,l.y1,l.y0,l.y0],l.name=l.name||((u=l.data)===null||u===void 0?void 0:u.name)||((h=l.data)===null||h===void 0?void 0:h.label),l.data.name=l.name,["x0","x1","y0","y1"].forEach(function(v){t.indexOf(v)===-1&&delete l[v]})}),hu(a)}function PS(e,r){return e.parent===r.parent?1:2}function DS(e){return e.reduce(OS,0)/e.length}function OS(e,r){return e+r.x}function BS(e){return 1+e.reduce(RS,0)}function RS(e,r){return Math.max(e,r.y)}function _S(e){for(var r;r=e.children;)e=r[0];return e}function NS(e){for(var r;r=e.children;)e=r[r.length-1];return e}function zS(){var e=PS,r=1,t=1,n=!1;function i(a){var o,s=0;a.eachAfter(function(p){var y=p.children;y?(p.x=DS(y),p.y=BS(y)):(p.x=o?s+=e(p,o):0,p.y=0,o=p)});var l=_S(a),u=NS(a),h=l.x-e(l,u)/2,v=u.x+e(u,l)/2;return a.eachAfter(n?function(p){p.x=(p.x-a.x)*r,p.y=(a.y-p.y)*t}:function(p){p.x=(p.x-h)/(v-h)*r,p.y=(1-(a.y?p.y/a.y:1))*t})}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(n=!1,r=+a[0],t=+a[1],i):n?null:[r,t]},i.nodeSize=function(a){return arguments.length?(n=!0,r=+a[0],t=+a[1],i):n?[r,t]:null},i}function VS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function GS(e){for(var r=e.length,t,n;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}function Eh(e){for(var r=0,t=(e=GS(Array.from(e))).length,n=[],i,a;r<t;)i=e[r],a&&Ih(a,i)?++r:(a=HS(n=US(n,i)),r=0);return a}function US(e,r){var t,n;if(pu(r,e))return[r];for(t=0;t<e.length;++t)if(Ys(r,e[t])&&pu(Ko(e[t],r),e))return[e[t],r];for(t=0;t<e.length-1;++t)for(n=t+1;n<e.length;++n)if(Ys(Ko(e[t],e[n]),r)&&Ys(Ko(e[t],r),e[n])&&Ys(Ko(e[n],r),e[t])&&pu(Lh(e[t],e[n],r),e))return[e[t],e[n],r];throw new Error}function Ys(e,r){var t=e.r-r.r,n=r.x-e.x,i=r.y-e.y;return t<0||t*t<n*n+i*i}function Ih(e,r){var t=e.r-r.r+Math.max(e.r,r.r,1)*1e-9,n=r.x-e.x,i=r.y-e.y;return t>0&&t*t>n*n+i*i}function pu(e,r){for(var t=0;t<r.length;++t)if(!Ih(e,r[t]))return!1;return!0}function HS(e){switch(e.length){case 1:return YS(e[0]);case 2:return Ko(e[0],e[1]);case 3:return Lh(e[0],e[1],e[2])}}function YS(e){return{x:e.x,y:e.y,r:e.r}}function Ko(e,r){var t=e.x,n=e.y,i=e.r,a=r.x,o=r.y,s=r.r,l=a-t,u=o-n,h=s-i,v=Math.sqrt(l*l+u*u);return{x:(t+a+l/v*h)/2,y:(n+o+u/v*h)/2,r:(v+i+s)/2}}function Lh(e,r,t){var n=e.x,i=e.y,a=e.r,o=r.x,s=r.y,l=r.r,u=t.x,h=t.y,v=t.r,p=n-o,y=n-u,S=i-s,E=i-h,O=l-a,D=v-a,X=n*n+i*i-a*a,q=X-o*o-s*s+l*l,Q=X-u*u-h*h+v*v,pt=y*S-p*E,Wt=(S*Q-E*q)/(pt*2)-n,Kt=(E*O-S*D)/pt,ae=(y*q-p*Q)/(pt*2)-i,Fe=(p*D-y*O)/pt,ve=Kt*Kt+Fe*Fe-1,Ze=2*(a+Wt*Kt+ae*Fe),dr=Wt*Wt+ae*ae-a*a,Or=-(ve?(Ze+Math.sqrt(Ze*Ze-4*ve*dr))/(2*ve):dr/Ze);return{x:n+Wt+Kt*Or,y:i+ae+Fe*Or,r:Or}}function kh(e,r,t){var n=e.x-r.x,i,a,o=e.y-r.y,s,l,u=n*n+o*o;u?(a=r.r+t.r,a*=a,l=e.r+t.r,l*=l,a>l?(i=(u+l-a)/(2*u),s=Math.sqrt(Math.max(0,l/u-i*i)),t.x=e.x-i*n-s*o,t.y=e.y-i*o+s*n):(i=(u+a-l)/(2*u),s=Math.sqrt(Math.max(0,a/u-i*i)),t.x=r.x+i*n-s*o,t.y=r.y+i*o+s*n)):(t.x=r.x+t.r,t.y=r.y)}function Ph(e,r){var t=e.r+r.r-1e-6,n=r.x-e.x,i=r.y-e.y;return t>0&&t*t>n*n+i*i}function Dh(e){var r=e._,t=e.next._,n=r.r+t.r,i=(r.x*t.r+t.x*r.r)/n,a=(r.y*t.r+t.y*r.r)/n;return i*i+a*a}function Xs(e){this._=e,this.next=null,this.previous=null}function Oh(e){if(!(i=(e=VS(e)).length))return 0;var r,t,n,i,a,o,s,l,u,h,v;if(r=e[0],r.x=0,r.y=0,!(i>1))return r.r;if(t=e[1],r.x=-t.r,t.x=r.r,t.y=0,!(i>2))return r.r+t.r;kh(t,r,n=e[2]),r=new Xs(r),t=new Xs(t),n=new Xs(n),r.next=n.previous=t,t.next=r.previous=n,n.next=t.previous=r;t:for(s=3;s<i;++s){kh(r._,t._,n=e[s]),n=new Xs(n),l=t.next,u=r.previous,h=t._.r,v=r._.r;do if(h<=v){if(Ph(l._,n._)){t=l,r.next=t,t.previous=r,--s;continue t}h+=l._.r,l=l.next}else{if(Ph(u._,n._)){r=u,r.next=t,t.previous=r,--s;continue t}v+=u._.r,u=u.previous}while(l!==u.next);for(n.previous=r,n.next=t,r.next=t.previous=t=n,a=Dh(r);(n=n.next)!==t;)(o=Dh(n))<a&&(r=n,a=o);t=r.next}for(r=[t._],n=t;(n=n.next)!==t;)r.push(n._);for(n=Eh(r),s=0;s<i;++s)r=e[s],r.x-=n.x,r.y-=n.y;return n.r}function XS(e){return Oh(e),e}function WS(e){return e==null?null:Ws(e)}function Ws(e){if(typeof e!="function")throw new Error;return e}function io(){return 0}function To(e){return function(){return e}}function ZS(e){return Math.sqrt(e.value)}function Bh(){var e=null,r=1,t=1,n=io;function i(a){return a.x=r/2,a.y=t/2,e?a.eachBefore(Rh(e)).eachAfter(du(n,.5)).eachBefore(_h(1)):a.eachBefore(Rh(ZS)).eachAfter(du(io,1)).eachAfter(du(n,a.r/Math.min(r,t))).eachBefore(_h(Math.min(r,t)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(e=WS(a),i):e},i.size=function(a){return arguments.length?(r=+a[0],t=+a[1],i):[r,t]},i.padding=function(a){return arguments.length?(n=typeof a=="function"?a:To(+a),i):n},i}function Rh(e){return function(r){r.children||(r.r=Math.max(0,+e(r)||0))}}function du(e,r){return function(t){if(n=t.children){var n,i,a=n.length,o=e(t)*r||0,s;if(o)for(i=0;i<a;++i)n[i].r+=o;if(s=Oh(n),o)for(i=0;i<a;++i)n[i].r-=o;t.r=s+o}}}function _h(e){return function(r){var t=r.parent;r.r*=e,t&&(r.x=t.x+e*r.x,r.y=t.y+e*r.y)}}var jS={depth:-1},Nh={};function $S(e){return e.id}function qS(e){return e.parentId}function JS(){var e=$S,r=qS;function t(n){var i=Array.from(n),a=i.length,o,s,l,u,h,v,p,y=new Map;for(s=0;s<a;++s)o=i[s],h=i[s]=new Ao(o),(v=e(o,s,n))!=null&&(v+="")&&(p=h.id=v,y.set(p,y.has(p)?Nh:h)),(v=r(o,s,n))!=null&&(v+="")&&(h.parent=v);for(s=0;s<a;++s)if(h=i[s],v=h.parent){if(u=y.get(v),!u)throw new Error("missing: "+v);if(u===Nh)throw new Error("ambiguous: "+v);u.children?u.children.push(h):u.children=[h],h.parent=u}else{if(l)throw new Error("multiple roots");l=h}if(!l)throw new Error("no root");if(l.parent=jS,l.eachBefore(function(S){S.depth=S.parent.depth+1,--a}).eachBefore(Fh),l.parent=null,a>0)throw new Error("cycle");return l}return t.id=function(n){return arguments.length?(e=Ws(n),t):e},t.parentId=function(n){return arguments.length?(r=Ws(n),t):r},t}function KS(e,r){return e.parent===r.parent?1:2}function gu(e){var r=e.children;return r?r[0]:e.t}function yu(e){var r=e.children;return r?r[r.length-1]:e.t}function QS(e,r,t){var n=t/(r.i-e.i);r.c-=n,r.s+=t,e.c+=n,r.z+=t,r.m+=t}function tM(e){for(var r=0,t=0,n=e.children,i=n.length,a;--i>=0;)a=n[i],a.z+=r,a.m+=r,r+=a.s+(t+=a.c)}function eM(e,r,t){return e.a.parent===r.parent?e.a:t}function Zs(e,r){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=r}Zs.prototype=Object.create(Ao.prototype);function rM(e){for(var r=new Zs(e,0),t,n=[r],i,a,o,s;t=n.pop();)if(a=t._.children)for(t.children=new Array(s=a.length),o=s-1;o>=0;--o)n.push(i=t.children[o]=new Zs(a[o],o)),i.parent=t;return(r.parent=new Zs(null,0)).children=[r],r}function nM(){var e=KS,r=1,t=1,n=null;function i(u){var h=rM(u);if(h.eachAfter(a),h.parent.m=-h.z,h.eachBefore(o),n)u.eachBefore(l);else{var v=u,p=u,y=u;u.eachBefore(function(X){X.x<v.x&&(v=X),X.x>p.x&&(p=X),X.depth>y.depth&&(y=X)});var S=v===p?1:e(v,p)/2,E=S-v.x,O=r/(p.x+S+E),D=t/(y.depth||1);u.eachBefore(function(X){X.x=(X.x+E)*O,X.y=X.depth*D})}return u}function a(u){var h=u.children,v=u.parent.children,p=u.i?v[u.i-1]:null;if(h){tM(u);var y=(h[0].z+h[h.length-1].z)/2;p?(u.z=p.z+e(u._,p._),u.m=u.z-y):u.z=y}else p&&(u.z=p.z+e(u._,p._));u.parent.A=s(u,p,u.parent.A||v[0])}function o(u){u._.x=u.z+u.parent.m,u.m+=u.parent.m}function s(u,h,v){if(h){for(var p=u,y=u,S=h,E=p.parent.children[0],O=p.m,D=y.m,X=S.m,q=E.m,Q;S=yu(S),p=gu(p),S&&p;)E=gu(E),y=yu(y),y.a=u,Q=S.z+X-p.z-O+e(S._,p._),Q>0&&(QS(eM(S,u,v),u,Q),O+=Q,D+=Q),X+=S.m,O+=p.m,q+=E.m,D+=y.m;S&&!yu(y)&&(y.t=S,y.m+=X-D),p&&!gu(E)&&(E.t=p,E.m+=O-q,v=u)}return v}function l(u){u.x*=r,u.y=u.depth*t}return i.separation=function(u){return arguments.length?(e=u,i):e},i.size=function(u){return arguments.length?(n=!1,r=+u[0],t=+u[1],i):n?null:[r,t]},i.nodeSize=function(u){return arguments.length?(n=!0,r=+u[0],t=+u[1],i):n?[r,t]:null},i}function js(e,r,t,n,i){for(var a=e.children,o,s=-1,l=a.length,u=e.value&&(i-t)/e.value;++s<l;)o=a[s],o.x0=r,o.x1=n,o.y0=t,o.y1=t+=o.value*u}var zh=(1+Math.sqrt(5))/2;function Vh(e,r,t,n,i,a){for(var o=[],s=r.children,l,u,h=0,v=0,p=s.length,y,S,E=r.value,O,D,X,q,Q,pt,Wt;h<p;){y=i-t,S=a-n;do O=s[v++].value;while(!O&&v<p);for(D=X=O,pt=Math.max(S/y,y/S)/(E*e),Wt=O*O*pt,Q=Math.max(X/Wt,Wt/D);v<p;++v){if(O+=u=s[v].value,u<D&&(D=u),u>X&&(X=u),Wt=O*O*pt,q=Math.max(X/Wt,Wt/D),q>Q){O-=u;break}Q=q}o.push(l={value:O,dice:y<S,children:s.slice(h,v)}),l.dice?Jo(l,t,n,i,E?n+=S*O/E:a):js(l,t,n,E?t+=y*O/E:i,a),E-=O,h=v}return o}var Gh=function e(r){function t(n,i,a,o,s){Vh(r,n,i,a,o,s)}return t.ratio=function(n){return e((n=+n)>1?n:1)},t}(zh);function Uh(){var e=Gh,r=!1,t=1,n=1,i=[0],a=io,o=io,s=io,l=io,u=io;function h(p){return p.x0=p.y0=0,p.x1=t,p.y1=n,p.eachBefore(v),i=[0],r&&p.eachBefore(Mh),p}function v(p){var y=i[p.depth],S=p.x0+y,E=p.y0+y,O=p.x1-y,D=p.y1-y;O<S&&(S=O=(S+O)/2),D<E&&(E=D=(E+D)/2),p.x0=S,p.y0=E,p.x1=O,p.y1=D,p.children&&(y=i[p.depth+1]=a(p)/2,S+=u(p)-y,E+=o(p)-y,O-=s(p)-y,D-=l(p)-y,O<S&&(S=O=(S+O)/2),D<E&&(E=D=(E+D)/2),e(p,S,E,O,D))}return h.round=function(p){return arguments.length?(r=!!p,h):r},h.size=function(p){return arguments.length?(t=+p[0],n=+p[1],h):[t,n]},h.tile=function(p){return arguments.length?(e=Ws(p),h):e},h.padding=function(p){return arguments.length?h.paddingInner(p).paddingOuter(p):h.paddingInner()},h.paddingInner=function(p){return arguments.length?(a=typeof p=="function"?p:To(+p),h):a},h.paddingOuter=function(p){return arguments.length?h.paddingTop(p).paddingRight(p).paddingBottom(p).paddingLeft(p):h.paddingTop()},h.paddingTop=function(p){return arguments.length?(o=typeof p=="function"?p:To(+p),h):o},h.paddingRight=function(p){return arguments.length?(s=typeof p=="function"?p:To(+p),h):s},h.paddingBottom=function(p){return arguments.length?(l=typeof p=="function"?p:To(+p),h):l},h.paddingLeft=function(p){return arguments.length?(u=typeof p=="function"?p:To(+p),h):u},h}function iM(e,r,t,n,i){var a=e.children,o,s=a.length,l,u=new Array(s+1);for(u[0]=l=o=0;o<s;++o)u[o+1]=l+=a[o].value;h(0,s,e.value,r,t,n,i);function h(v,p,y,S,E,O,D){if(v>=p-1){var X=a[v];X.x0=S,X.y0=E,X.x1=O,X.y1=D;return}for(var q=u[v],Q=y/2+q,pt=v+1,Wt=p-1;pt<Wt;){var Kt=pt+Wt>>>1;u[Kt]<Q?pt=Kt+1:Wt=Kt}Q-u[pt-1]<u[pt]-Q&&v+1<pt&&--pt;var ae=u[pt]-q,Fe=y-ae;if(O-S>D-E){var ve=y?(S*Fe+O*ae)/y:O;h(v,pt,ae,S,E,ve,D),h(pt,p,Fe,ve,E,O,D)}else{var Ze=y?(E*Fe+D*ae)/y:D;h(v,pt,ae,S,E,O,Ze),h(pt,p,Fe,S,Ze,O,D)}}}function aM(e,r,t,n,i){(e.depth&1?js:Jo)(e,r,t,n,i)}var oM=function e(r){function t(n,i,a,o,s){if((l=n._squarify)&&l.ratio===r)for(var l,u,h,v,p=-1,y,S=l.length,E=n.value;++p<S;){for(u=l[p],h=u.children,v=u.value=0,y=h.length;v<y;++v)u.value+=h[v].value;u.dice?Jo(u,i,a,o,E?a+=(s-a)*u.value/E:s):js(u,i,a,E?i+=(o-i)*u.value/E:o,s),E-=u.value}else n._squarify=l=Vh(r,n,i,a,o,s),l.ratio=r}return t.ratio=function(n){return e((n=+n)>1?n:1)},t}(zh),sM={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(e,r){return r.value-e.value},ratio:.5*(1+Math.sqrt(5))};function lM(e,r){return e==="treemapSquarify"?wt[e].ratio(r):wt[e]}function Hh(e,r){r=(0,c.f0)({},sM,r);var t=r.as;if(!(0,c.kJ)(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var n;try{n=fu(r)}catch(u){console.warn(u)}var i=lM(r.tile,r.ratio),a=function(u){return Uh().tile(i).size(r.size).round(r.round).padding(r.padding).paddingInner(r.paddingInner).paddingOuter(r.paddingOuter).paddingTop(r.paddingTop).paddingRight(r.paddingRight).paddingBottom(r.paddingBottom).paddingLeft(r.paddingLeft)(Co(u).sum(function(h){return r.ignoreParentValue&&h.children?0:h[n]}).sort(r.sort))},o=a(e),s=t[0],l=t[1];return o.each(function(u){u[s]=[u.x0,u.x1,u.x1,u.x0],u[l]=[u.y1,u.y1,u.y0,u.y0],["x0","x1","y0","y1"].forEach(function(h){t.indexOf(h)===-1&&delete u[h]})}),hu(o)}function Yh(e){var r=e.data,t=e.colorField,n=e.rawFields,i=e.hierarchyConfig,a=i===void 0?{}:i,o=a.activeDepth,s={partition:kS,treemap:Hh},l=e.seriesField,u=e.type||"partition",h=s[u](r,(0,d.pi)((0,d.pi)({field:l||"value"},(0,c.CE)(a,["activeDepth"])),{type:"hierarchy."+u,as:["x","y"]})),v=[];return h.forEach(function(p){var y,S,E,O,D,X;if(p.depth===0||o>0&&p.depth>o)return null;for(var q=p.data.name,Q=(0,d.pi)({},p);Q.depth>1;)q=((S=Q.parent.data)===null||S===void 0?void 0:S.name)+" / "+q,Q=Q.parent;var pt=(0,d.pi)((0,d.pi)((0,d.pi)({},pn(p.data,(0,d.pr)(n||[],[a.field]))),(y={},y[$o]=q,y[vu]=Q.data.name,y)),p);l&&(pt[l]=p.data[l]||((O=(E=p.parent)===null||E===void 0?void 0:E.data)===null||O===void 0?void 0:O[l])),t&&(pt[t]=p.data[t]||((X=(D=p.parent)===null||D===void 0?void 0:D.data)===null||X===void 0?void 0:X[t])),pt.ext=a,pt[qo]={hierarchyConfig:a,colorField:t,rawFields:n},v.push(pt)}),v}function uM(e){var r=e.chart,t=e.options,n=t.color,i=t.colorField,a=i===void 0?vu:i,o=t.sunburstStyle,s=t.rawFields,l=s===void 0?[]:s,u=Yh(t);r.data(u);var h;return o&&(h=function(v){return ie({},{fillOpacity:Math.pow(.85,v.depth)},(0,c.mf)(o)?o(v):o)}),Ls(ie({},e,{options:{xField:"x",yField:"y",seriesField:a,rawFields:(0,c.jj)((0,d.pr)(nS,l)),polygon:{color:n,style:h}}})),e}function cM(e){var r=e.chart;return r.axis(!1),e}function fM(e){var r=e.chart,t=e.options,n=t.label,i=li(r,"polygon");if(!n)i.label(!1);else{var a=n.fields,o=a===void 0?["name"]:a,s=n.callback,l=(0,d._T)(n,["fields","callback"]);i.label({fields:o,callback:s,cfg:ei(l)})}return e}function hM(e){var r=e.chart,t=e.options,n=t.innerRadius,i=t.radius,a=t.reflect,o=r.coordinate({type:"polar",cfg:{innerRadius:n,radius:i}});return a&&o.reflect(a),e}function vM(e){var r,t=e.options,n=t.hierarchyConfig,i=t.meta;return Br(Rn({},(r={},r[mh]=(0,c.U2)(i,(0,c.U2)(n,["field"],"value")),r)))(e)}function pM(e){var r=e.chart,t=e.options,n=t.tooltip;if(n===!1)r.tooltip(!1);else{var i=n;(0,c.U2)(n,"fields")||(i=ie({},{customItems:function(a){return a.map(function(o){var s=(0,c.U2)(r.getOptions(),"scales"),l=(0,c.U2)(s,[$o,"formatter"],function(h){return h}),u=(0,c.U2)(s,[mh,"formatter"],function(h){return h});return(0,d.pi)((0,d.pi)({},o),{name:l(o.data[$o]),value:u(o.data.value)})})}},i)),r.tooltip(i)}return e}function dM(e){var r=e.drilldown,t=e.interactions,n=t===void 0?[]:t;return(r==null?void 0:r.enabled)?ie({},e,{interactions:(0,d.pr)(n,[{type:"drill-down",cfg:{drillDownConfig:r,transformData:Yh}}])}):e}function gM(e){var r=e.chart,t=e.options,n=t.drilldown;return An({chart:r,options:dM(t)}),(n==null?void 0:n.enabled)&&(r.appendPadding=Cs(r.appendPadding,(0,c.U2)(n,["breadCrumb","position"]))),e}function yM(e){return Br(un,Ti("sunburstStyle"),uM,cM,vM,qa,hM,pM,fM,gM,dn,Pn())(e)}function Xh(e){var r=(0,c.U2)(e,["event","data","data"],{});return(0,c.kJ)(r.children)&&r.children.length>0}function Wh(e){var r=e.view.getCoordinate(),t=r.innerRadius;if(t){var n=e.event,i=n.x,a=n.y,o=r.center,s=o.x,l=o.y,u=r.getRadius()*t,h=Math.sqrt(Math.pow(s-i,2)+Math.pow(l-a,2));return h<u}return!1}Sr("drill-down-action",sS),Er("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:Xh},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:Wh}],start:[{trigger:"element:click",isEnable:Xh,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:Wh,action:["drill-down-action:back"]}]});var fA=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="sunburst",t}return r.getDefaultOptions=function(){return iS},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return yM},r.SUNBURST_ANCESTOR_FIELD=vu,r.SUNBURST_PATH_FIELD=$o,r.NODE_ANCESTORS_FIELD=uu,r}(Gr),$s,qs="range",Zh="type",Ta="percent",mM="#f0f0f0",jh="indicator-view",$h="range-view",xM={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:($s={},$s[qs]={sync:"v"},$s[Ta]={sync:"v",tickCount:5,tickInterval:.2},$s),animation:!1};function wM(e,r){return e.map(function(t,n){var i;return i={},i[qs]=t-(e[n-1]||0),i[Zh]=""+n,i[Ta]=r,i}).filter(function(t){return!!t[qs]})}function qh(e){var r;return[(r={},r[Ta]=(0,c.uZ)(e,0,1),r)]}function Jh(e,r){var t=(0,c.U2)(r,["ticks"],[]),n=(0,c.dp)(t)?t:[0,(0,c.uZ)(e,0,1),1];return wM(n,e)}function SM(e){var r=e.chart,t=e.options,n=t.percent,i=t.range,a=t.radius,o=t.innerRadius,s=t.startAngle,l=t.endAngle,u=t.axis,h=t.indicator,v=t.gaugeStyle,p=t.type,y=t.meter,S=i.color,E=i.width;if(h){var O=qh(n),D=r.createView({id:jh});D.data(O),D.point().position(Ta+"*1").shape(h.shape||"gauge-indicator").customInfo({defaultColor:r.getTheme().defaultColor,indicator:h}),D.coordinate("polar",{startAngle:s,endAngle:l,radius:o*a}),D.axis(Ta,u),D.scale(Ta,pn(u,wi))}var X=Jh(n,t.range),q=r.createView({id:$h});q.data(X);var Q=(0,c.HD)(S)?[S,mM]:S,pt=ui({chart:q,options:{xField:"1",yField:qs,seriesField:Zh,rawFields:[Ta],isStack:!0,interval:{color:Q,style:v,shape:p==="meter"?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:E,maxColumnWidth:E}}).ext,Wt=pt.geometry;return Wt.customInfo({meter:y}),q.coordinate("polar",{innerRadius:o,radius:a,startAngle:s,endAngle:l}).transpose(),e}function MM(e){var r;return Br(Rn((r={range:{min:0,max:1,maxLimit:1,minLimit:0}},r[Ta]={},r)))(e)}function Kh(e,r){var t=e.chart,n=e.options,i=n.statistic,a=n.percent;if(t.getController("annotation").clear(!0),i){var o=i.content,s=void 0;o&&(s=ie({},{content:(a*100).toFixed(2)+"%",style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},o)),I0(t,{statistic:(0,d.pi)((0,d.pi)({},i),{content:s})},{percent:a})}return r&&t.render(!0),e}function bM(e){var r=e.chart,t=e.options,n=t.tooltip;return n?r.tooltip(ie({showTitle:!1,showMarkers:!1,containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',domStyles:{"g2-tooltip":{padding:"4px 8px",fontSize:"10px"}},customContent:function(i,a){var o=(0,c.U2)(a,[0,"data",Ta],0);return(o*100).toFixed(2)+"%"}},n)):r.tooltip(!1),e}function CM(e){var r=e.chart;return r.legend(!1),e}function Qh(e){return Br(un,dn,SM,MM,bM,Kh,An,Pn(),CM)(e)}en("point","gauge-indicator",{draw:function(e,r){var t=e.customInfo,n=t.indicator,i=t.defaultColor,a=n,o=a.pointer,s=a.pin,l=r.addGroup(),u=this.parsePoint({x:0,y:0});return o&&l.addShape("line",{name:"pointer",attrs:(0,d.pi)({x1:u.x,y1:u.y,x2:e.x,y2:e.y,stroke:i},o.style)}),s&&l.addShape("circle",{name:"pin",attrs:(0,d.pi)({x:u.x,y:u.y,stroke:i},s.style)}),l}}),en("interval","meter-gauge",{draw:function(e,r){var t=e.customInfo.meter,n=t===void 0?{}:t,i=n.steps,a=i===void 0?50:i,o=n.stepRatio,s=o===void 0?.5:o;a=a<1?1:a,s=(0,c.uZ)(s,0,1);var l=this.coordinate,u=l.startAngle,h=l.endAngle,v=0;if(s>0&&s<1){var p=h-u;v=p/a/(s/(1-s)+1-1/a)}for(var y=v/(1-s)*s,S=r.addGroup(),E=this.coordinate.getCenter(),O=this.coordinate.getRadius(),D=si.getAngle(e,this.coordinate),X=D.startAngle,q=D.endAngle,Q=X;Q<q;){var pt=void 0,Wt=(Q-u)%(y+v);Wt<y?pt=Q+(y-Wt):(Q+=y+v-Wt,pt=Q+y);var Kt=si.getSectorPath(E.x,E.y,O,Q,Math.min(pt,q),O*this.coordinate.innerRadius);S.addShape("path",{name:"meter-gauge",attrs:{path:Kt,fill:e.color,stroke:e.color,lineWidth:.5}}),Q=pt+v}return S}});var AM=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="gauge",t}return r.getDefaultOptions=function(){return xM},r.prototype.changeData=function(t){this.chart.emit(se.BEFORE_CHANGE_DATA,Gt.fromData(this.chart,se.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t});var n=this.chart.views.find(function(a){return a.id===jh});n&&n.data(qh(t));var i=this.chart.views.find(function(a){return a.id===$h});i&&i.data(Jh(t,this.options.range)),Kh({chart:this.chart,options:this.options},!0),this.chart.emit(se.AFTER_CHANGE_DATA,Gt.fromData(this.chart,se.AFTER_CHANGE_DATA,null))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Qh},r}(Gr),_i="$$yField$$",Js="$$diffField$$",mu="$$absoluteField$$",xu="$$isTotal$$",TM={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function FM(e,r,t,n,i){var a,o=[];if((0,c.u4)(e,function(l,u){var h;Ma($i.WARN,(0,c.hj)(u[t]),u[t]+" is not a valid number");var v=(0,c.o8)(u[t])?null:u[t];return o.push((0,d.pi)((0,d.pi)({},u),(h={},h[n]=[l,l+v],h))),l+v},0),o.length&&i){var s=(0,c.U2)(o,[[e.length-1],n,[1]]);o.push((a={},a[r]=i.label,a[t]=s,a[n]=[0,s],a))}return o}function tv(e,r,t,n){var i=FM(e,r,t,_i,n);return i.map(function(a,o){var s;return(0,c.Kn)(a)?(0,d.pi)((0,d.pi)({},a),(s={},s[mu]=a[_i][1],s[Js]=a[_i][1]-a[_i][0],s[xu]=o===e.length,s)):a})}function EM(e){for(var r=[],t=0;t<e.length;t++){var n=e[t];if(n){var i=t===0?"M":"L";r.push([i,n.x,n.y])}}var a=e[0];return r.push(["L",a.x,a.y]),r.push(["z"]),r}function IM(e){return ie({},e.defaultStyle,e.style,{fill:e.color})}en("interval","waterfall",{draw:function(e,r){var t=e.customInfo,n=e.points,i=e.nextPoints,a=r.addGroup(),o=this.parsePath(EM(n)),s=IM(e);a.addShape("path",{attrs:(0,d.pi)((0,d.pi)({},s),{path:o})});var l=(0,c.U2)(t,"leaderLine");if(l&&i){var u=[["M",n[2].x,n[2].y],["L",i[0].x,i[0].y]];n[2].y===i[1].y&&(u[1]=["L",i[1].x,i[1].y]),u=this.parsePath(u),a.addShape("path",{attrs:(0,d.pi)({path:u},l.style||{})})}return a}});function LM(e){var r=e.options,t=r.locale,n=r.total,i=Ts(t).get(["waterfall","total"]);return n&&typeof n.label!="string"&&i&&(e.options.total.label=i),e}function kM(e){var r=e.chart,t=e.options,n=t.data,i=t.xField,a=t.yField,o=t.total,s=t.leaderLine,l=t.columnWidthRatio,u=t.waterfallStyle,h=t.risingFill,v=t.fallingFill,p=t.color;r.data(tv(n,i,a,o));var y=p||function(D){return(0,c.U2)(D,[xu])?(0,c.U2)(o,["style","fill"],""):(0,c.U2)(D,[_i,1])-(0,c.U2)(D,[_i,0])>0?h:v},S=ie({},e,{options:{xField:i,yField:_i,seriesField:i,rawFields:[a,Js,xu,_i],widthRatio:l,interval:{style:u,shape:"waterfall",color:y}}}),E=ui(S).ext,O=E.geometry;return O.customInfo({leaderLine:s}),e}function PM(e){var r,t,n=e.options,i=n.xAxis,a=n.yAxis,o=n.xField,s=n.yField,l=n.meta,u=ie({},{alias:s},(0,c.U2)(l,s));return Br(Rn((r={},r[o]=i,r[s]=a,r[_i]=a,r),ie({},l,(t={},t[_i]=u,t[Js]=u,t[mu]=u,t))))(e)}function DM(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField;return n===!1?r.axis(a,!1):r.axis(a,n),i===!1?(r.axis(o,!1),r.axis(_i,!1)):(r.axis(o,i),r.axis(_i,i)),e}function OM(e){var r=e.chart,t=e.options,n=t.legend,i=t.total,a=t.risingFill,o=t.fallingFill,s=t.locale,l=Ts(s);if(n===!1)r.legend(!1);else{var u=[{name:l.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:a}}},{name:l.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:o}}}];i&&u.push({name:i.label||"",value:"total",marker:{symbol:"square",style:ie({},{r:5},(0,c.U2)(i,"style"))}}),r.legend(ie({},{custom:!0,position:"top",items:u},n)),r.removeInteraction("legend-filter")}return e}function BM(e){var r=e.chart,t=e.options,n=t.label,i=t.labelMode,a=t.xField,o=li(r,"interval");if(!n)o.label(!1);else{var s=n.callback,l=(0,d._T)(n,["callback"]);o.label({fields:i==="absolute"?[mu,a]:[Js,a],callback:s,cfg:ei(l)})}return e}function RM(e){var r=e.chart,t=e.options,n=t.tooltip,i=t.xField,a=t.yField;if(n!==!1){r.tooltip((0,d.pi)({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[a]},n));var o=r.geometries[0];(n==null?void 0:n.formatter)?o.tooltip(i+"*"+a,n.formatter):o.tooltip(a)}else r.tooltip(!1);return e}function _M(e){return Br(LM,un,kM,PM,DM,OM,RM,BM,Ba,An,dn,Pn())(e)}var hA=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="waterfall",t}return r.getDefaultOptions=function(){return TM},r.prototype.changeData=function(t){var n=this.options,i=n.xField,a=n.yField,o=n.total;this.updateOption({data:t}),this.chart.changeData(tv(t,i,a,o))},r.prototype.getSchemaAdaptor=function(){return _M},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r}(Gr);function NM(e,r,t){var n=t.map(function(o){return o[r]}).filter(function(o){return o!==void 0}),i=n.length>0?Math.max.apply(Math,n):0,a=Math.abs(e)%360;return a?i*360/a:i}function zM(e,r,t){var n=[];return e.forEach(function(i){var a=n.find(function(o){return o[r]===i[r]});a?a[t]+=i[t]||null:n.push((0,d.pi)({},i))}),n}function VM(e){var r=e.chart,t=e.options,n=t.barStyle,i=t.color,a=t.tooltip,o=t.colorField,s=t.type,l=t.xField,u=t.yField,h=t.data,v=yo(h,u);r.data(v);var p=ie({},e,{options:{tooltip:a,seriesField:o,interval:{style:n,color:i,shape:s==="line"?"line":"intervel"},minColumnWidth:t.minBarWidth,maxColumnWidth:t.maxBarWidth,columnBackground:t.barBackground}});return ui(p),s==="line"&&Fi({chart:r,options:{xField:l,yField:u,seriesField:o,point:{shape:"circle",color:i}}}),e}function ev(e){var r,t=e.options,n=t.yField,i=t.xField,a=t.data,o=t.isStack,s=t.isGroup,l=t.colorField,u=t.maxAngle,h=o&&!s&&l?zM(a,i,n):a,v=yo(h,n);return Br(Rn((r={},r[n]={min:0,max:NM(u,n,v)},r)))(e)}function GM(e){var r=e.chart,t=e.options,n=t.radius,i=t.innerRadius,a=t.startAngle,o=t.endAngle;return r.coordinate({type:"polar",cfg:{radius:n,innerRadius:i,startAngle:a,endAngle:o}}).transpose(),e}function UM(e){var r=e.chart,t=e.options,n=t.xField,i=t.xAxis;return r.axis(n,i),e}function HM(e){var r=e.chart,t=e.options,n=t.label,i=t.yField,a=li(r,"interval");if(!n)a.label(!1);else{var o=n.callback,s=(0,d._T)(n,["callback"]);a.label({fields:[i],callback:o,cfg:(0,d.pi)((0,d.pi)({},ei(s)),{type:"polar"})})}return e}function YM(e){return Br(Ti("barStyle"),VM,ev,UM,GM,An,dn,un,qn,qa,Pn(),HM)(e)}var XM=ie({},Gr.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240}),vA=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="radial-bar",t}return r.getDefaultOptions=function(){return XM},r.prototype.changeData=function(t){this.updateOption({data:t}),ev({chart:this.chart,options:this.options}),this.chart.changeData(t)},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return YM},r}(Gr),oa="first-axes-view",sa="second-axes-view",ao="series-field-key";function rv(e,r,t,n,i){var a=[];r.forEach(function(v){n.forEach(function(p){var y,S=(y={},y[e]=p[e],y[t]=v,y[v]=p[v],y);a.push(S)})});var o=Object.values((0,c.vM)(a,t)),s=o[0],l=s===void 0?[]:s,u=o[1],h=u===void 0?[]:u;return i?[l.reverse(),h.reverse()]:[l,h]}function Fa(e){return e!=="vertical"}function WM(e,r,t){var n=r[0],i=r[1],a=n.autoPadding,o=i.autoPadding,s=e.__axisPosition,l=s.layout,u=s.position;if(Fa(l)&&u==="top"&&(n.autoPadding=t.instance(a.top,0,a.bottom,a.left),i.autoPadding=t.instance(o.top,a.left,o.bottom,0)),Fa(l)&&u==="bottom"&&(n.autoPadding=t.instance(a.top,a.right/2+5,a.bottom,a.left),i.autoPadding=t.instance(o.top,o.right,o.bottom,a.right/2+5)),!Fa(l)&&u==="bottom"){var h=a.left>=o.left?a.left:o.left;n.autoPadding=t.instance(a.top,a.right,a.bottom/2+5,h),i.autoPadding=t.instance(a.bottom/2+5,o.right,o.bottom,h)}if(!Fa(l)&&u==="top"){var h=a.left>=o.left?a.left:o.left;n.autoPadding=t.instance(a.top,a.right,0,h),i.autoPadding=t.instance(0,o.right,a.top,h)}}function ZM(e){var r=e.chart,t=e.options,n=t.data,i=t.xField,a=t.yField,o=t.color,s=t.barStyle,l=t.widthRatio,u=t.legend,h=t.layout,v=rv(i,a,ao,n,Fa(h));u?r.legend(ao,u):u===!1&&r.legend(!1);var p,y,S=v[0],E=v[1];Fa(h)?(p=r.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:oa}),p.coordinate().transpose().reflect("x"),y=r.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:sa}),y.coordinate().transpose(),p.data(S),y.data(E)):(p=r.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:oa}),y=r.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:sa}),y.coordinate().reflect("y"),p.data(S),y.data(E));var O=ie({},e,{chart:p,options:{widthRatio:l,xField:i,yField:a[0],seriesField:ao,interval:{color:o,style:s}}});ui(O);var D=ie({},e,{chart:y,options:{xField:i,yField:a[1],seriesField:ao,widthRatio:l,interval:{color:o,style:s}}});return ui(D),e}function jM(e){var r,t,n,i=e.options,a=e.chart,o=i.xAxis,s=i.yAxis,l=i.xField,u=i.yField,h=jr(a,oa),v=jr(a,sa),p={};return(0,c.XP)((i==null?void 0:i.meta)||{}).map(function(y){(0,c.U2)(i==null?void 0:i.meta,[y,"alias"])&&(p[y]=i.meta[y].alias)}),a.scale((r={},r[ao]={sync:!0,formatter:function(y){return(0,c.U2)(p,y,y)}},r)),Rn((t={},t[l]=o,t[u[0]]=s[u[0]],t))(ie({},e,{chart:h})),Rn((n={},n[l]=o,n[u[1]]=s[u[1]],n))(ie({},e,{chart:v})),e}function $M(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField,s=t.layout,l=jr(r,oa),u=jr(r,sa);return(n==null?void 0:n.position)==="bottom"?u.axis(a,(0,d.pi)((0,d.pi)({},n),{label:{formatter:function(){return""}}})):u.axis(a,!1),n===!1?l.axis(a,!1):l.axis(a,(0,d.pi)({position:Fa(s)?"top":"bottom"},n)),i===!1?(l.axis(o[0],!1),u.axis(o[1],!1)):(l.axis(o[0],i[o[0]]),u.axis(o[1],i[o[1]])),r.__axisPosition={position:l.getOptions().axes[a].position,layout:s},e}function qM(e){var r=e.chart;return An(ie({},e,{chart:jr(r,oa)})),An(ie({},e,{chart:jr(r,sa)})),e}function JM(e){var r=e.chart,t=e.options,n=t.yField,i=t.yAxis;return Ja(ie({},e,{chart:jr(r,oa),options:{yAxis:i[n[0]]}})),Ja(ie({},e,{chart:jr(r,sa),options:{yAxis:i[n[1]]}})),e}function KM(e){var r=e.chart;return un(ie({},e,{chart:jr(r,oa)})),un(ie({},e,{chart:jr(r,sa)})),un(e),e}function QM(e){var r=e.chart;return dn(ie({},e,{chart:jr(r,oa)})),dn(ie({},e,{chart:jr(r,sa)})),e}function tb(e){var r=this,t,n,i=e.chart,a=e.options,o=a.label,s=a.yField,l=a.layout,u=jr(i,oa),h=jr(i,sa),v=li(u,"interval"),p=li(h,"interval");if(!o)v.label(!1),p.label(!1);else{var y=o.callback,S=(0,d._T)(o,["callback"]);S.position||(S.position="middle"),S.offset===void 0&&(S.offset=2);var E=(0,d.pi)({},S);if(Fa(l)){var O=((t=E.style)===null||t===void 0?void 0:t.textAlign)||(S.position==="middle"?"center":"left");S.style=ie({},S.style,{textAlign:O});var D={left:"right",right:"left",center:"center"};E.style=ie({},E.style,{textAlign:D[O]})}else{var X={top:"bottom",bottom:"top",middle:"middle"};typeof S.position=="string"?S.position=X[S.position]:typeof S.position=="function"&&(S.position=function(){for(var pt=[],Wt=0;Wt<arguments.length;Wt++)pt[Wt]=arguments[Wt];return X[S.position.apply(r,pt)]});var q=((n=E.style)===null||n===void 0?void 0:n.textBaseline)||"bottom";E.style=ie({},E.style,{textBaseline:q});var Q={top:"bottom",bottom:"top",middle:"middle"};S.style=ie({},S.style,{textBaseline:Q[q]})}v.label({fields:[s[0]],callback:y,cfg:ei(E)}),p.label({fields:[s[1]],callback:y,cfg:ei(S)})}return e}function eb(e){return Br(ZM,jM,$M,JM,KM,tb,qn,qM,QM)(e)}var pA=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="bidirectional-bar",t}return r.getDefaultOptions=function(){return ie({},e.getDefaultOptions.call(this),{syncViewPadding:WM})},r.prototype.changeData=function(t){t===void 0&&(t=[]),this.chart.emit(se.BEFORE_CHANGE_DATA,Gt.fromData(this.chart,se.BEFORE_CHANGE_DATA,null)),this.updateOption({data:t});var n=this.options,i=n.xField,a=n.yField,o=n.layout,s=rv(i,a,ao,t,Fa(o)),l=s[0],u=s[1],h=jr(this.chart,oa),v=jr(this.chart,sa);h.data(l),v.data(u),this.chart.render(!0),this.chart.emit(se.AFTER_CHANGE_DATA,Gt.fromData(this.chart,se.AFTER_CHANGE_DATA,null))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return eb},r.SERIES_FIELD_KEY=ao,r}(Gr);function nv(e,r){if(!!(0,c.kJ)(e))return e.find(function(t){return t.type===r})}function iv(e,r){var t=nv(e,r);return t&&t.enable!==!1}function wu(e){var r=e.interactions,t=e.drilldown;return(0,c.U2)(t,"enabled")||iv(r,"treemap-drill-down")}function rb(e){var r=e.interactions["drill-down"];if(!!r){var t=r.context.actions.find(function(n){return n.name==="drill-down-action"});t.reset()}}function Su(e){var r=e.data,t=e.colorField,n=e.enableDrillDown,i=e.hierarchyConfig,a=Hh(r,(0,d.pi)((0,d.pi)({},i),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),o=[];return a.forEach(function(s){if(s.depth===0||n&&s.depth!==1||!n&&s.children)return null;var l=s.ancestors().map(function(p){return{data:p.data,height:p.height,value:p.value}}),u=n&&(0,c.kJ)(r.path)?l.concat(r.path.slice(1)):l,h=Object.assign({},s.data,(0,d.pi)({x:s.x,y:s.y,depth:s.depth,value:s.value,path:u},s));if(!s.data[t]&&s.parent){var v=s.ancestors().find(function(p){return p.data[t]});h[t]=v==null?void 0:v.data[t]}else h[t]=s.data[t];h[qo]={hierarchyConfig:i,colorField:t,enableDrillDown:n},o.push(h)}),o}function nb(e){var r=e.options,t=r.colorField;return ie({options:{rawFields:["value"],tooltip:{fields:["name","value",t,"path"],formatter:function(n){return{name:n.name,value:n.value}}}}},e)}function ib(e){var r=e.chart,t=e.options,n=t.color,i=t.colorField,a=t.rectStyle,o=t.hierarchyConfig,s=t.rawFields,l=Su({data:t.data,colorField:t.colorField,enableDrillDown:wu(t),hierarchyConfig:o});return r.data(l),Ls(ie({},e,{options:{xField:"x",yField:"y",seriesField:i,rawFields:s,polygon:{color:n,style:a}}})),r.coordinate().reflect("y"),e}function ab(e){var r=e.chart;return r.axis(!1),e}function ob(e){var r=e.drilldown,t=e.interactions,n=t===void 0?[]:t,i=wu(e);return i?ie({},e,{interactions:(0,d.pr)(n,[{type:"drill-down",cfg:{drillDownConfig:r,transformData:Su}}])}):e}function sb(e){var r=e.chart,t=e.options,n=t.interactions,i=t.drilldown;An({chart:r,options:ob(t)});var a=nv(n,"view-zoom");a&&(a.enable!==!1?r.getCanvas().on("mousewheel",function(s){s.preventDefault()}):r.getCanvas().off("mousewheel"));var o=wu(t);return o&&(r.appendPadding=Cs(r.appendPadding,(0,c.U2)(i,["breadCrumb","position"]))),e}function lb(e){return Br(nb,un,Ti("rectStyle"),ib,ab,qa,qn,sb,dn,Pn())(e)}var ub={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"\u521D\u59CB",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}},dA=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="treemap",t}return r.getDefaultOptions=function(){return ub},r.prototype.changeData=function(t){var n=this.options,i=n.colorField,a=n.interactions,o=n.hierarchyConfig;this.updateOption({data:t});var s=Su({data:t,colorField:i,enableDrillDown:iv(a,"treemap-drill-down"),hierarchyConfig:o});this.chart.changeData(s),rb(this.chart)},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return lb},r}(Gr);function cb(e){return e.target.depth}function fb(e){return e.depth}function hb(e,r){return r-1-e.height}function Mu(e,r){return e.sourceLinks.length?e.depth:r-1}function vb(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?(0,c.F)(e.sourceLinks,cb)-1:0}function Ks(e){return function(){return e}}function bu(e,r){for(var t=0,n=0;n<e.length;n++)t+=r(e[n]);return t}function Cu(e,r){for(var t=-Infinity,n=0;n<e.length;n++)t=Math.max(r(e[n]),t);return t}function pb(e,r){for(var t=Infinity,n=0;n<e.length;n++)t=Math.min(r(e[n]),t);return t}function av(e,r){return Qs(e.source,r.source)||e.index-r.index}function ov(e,r){return Qs(e.target,r.target)||e.index-r.index}function Qs(e,r){return e.y0-r.y0}function Au(e){return e.value}function db(e){return e.index}function gb(e){return e.nodes}function yb(e){return e.links}function sv(e,r){var t=e.get(r);if(!t)throw new Error("missing: "+r);return t}function lv(e){for(var r=e.nodes,t=0,n=r;t<n.length;t++){for(var i=n[t],a=i.y0,o=a,s=0,l=i.sourceLinks;s<l.length;s++){var u=l[s];u.y0=a+u.width/2,a+=u.width}for(var h=0,v=i.targetLinks;h<v.length;h++){var u=v[h];u.y1=o+u.width/2,o+=u.width}}}function mb(){var e=0,r=0,t=1,n=1,i=24,a=8,o,s=db,l=Mu,u,h,v,p=gb,y=yb,S=6;function E(We){var gr={nodes:p(We),links:y(We)};return O(gr),D(gr),X(gr),q(gr),Wt(gr),lv(gr),gr}E.update=function(We){return lv(We),We},E.nodeId=function(We){return arguments.length?(s=typeof We=="function"?We:Ks(We),E):s},E.nodeAlign=function(We){return arguments.length?(l=typeof We=="function"?We:Ks(We),E):l},E.nodeDepth=function(We){return arguments.length?(u=(typeof We=="function",We),E):u},E.nodeSort=function(We){return arguments.length?(h=We,E):h},E.nodeWidth=function(We){return arguments.length?(i=+We,E):i},E.nodePadding=function(We){return arguments.length?(a=o=+We,E):a},E.nodes=function(We){return arguments.length?(p=typeof We=="function"?We:Ks(We),E):p},E.links=function(We){return arguments.length?(y=typeof We=="function"?We:Ks(We),E):y},E.linkSort=function(We){return arguments.length?(v=We,E):v},E.size=function(We){return arguments.length?(e=r=0,t=+We[0],n=+We[1],E):[t-e,n-r]},E.extent=function(We){return arguments.length?(e=+We[0][0],t=+We[1][0],r=+We[0][1],n=+We[1][1],E):[[e,r],[t,n]]},E.iterations=function(We){return arguments.length?(S=+We,E):S};function O(We){var gr=We.nodes,Pr=We.links;gr.forEach(function(Qr,gn){Qr.index=gn,Qr.sourceLinks=[],Qr.targetLinks=[]});var xr=new Map(gr.map(function(Qr){return[s(Qr),Qr]}));if(Pr.forEach(function(Qr,gn){Qr.index=gn;var Wn=Qr.source,Zn=Qr.target;typeof Wn!="object"&&(Wn=Qr.source=sv(xr,Wn)),typeof Zn!="object"&&(Zn=Qr.target=sv(xr,Zn)),Wn.sourceLinks.push(Qr),Zn.targetLinks.push(Qr)}),v!=null)for(var Ir=0,_r=gr;Ir<_r.length;Ir++){var rn=_r[Ir],nn=rn.sourceLinks,Yr=rn.targetLinks;nn.sort(v),Yr.sort(v)}}function D(We){for(var gr=We.nodes,Pr=0,xr=gr;Pr<xr.length;Pr++){var Ir=xr[Pr];Ir.value=Ir.fixedValue===void 0?Math.max(bu(Ir.sourceLinks,Au),bu(Ir.targetLinks,Au)):Ir.fixedValue}}function X(We){for(var gr=We.nodes,Pr=gr.length,xr=new Set(gr),Ir=new Set,_r=0;xr.size;){if(xr.forEach(function(Qr){Qr.depth=_r;for(var gn=0,Wn=Qr.sourceLinks;gn<Wn.length;gn++){var Zn=Wn[gn].target;Ir.add(Zn)}}),++_r>Pr)throw new Error("circular link");xr=Ir,Ir=new Set}if(u)for(var rn=Math.max(Cu(gr,function(Qr){return Qr.depth})+1,0),nn=void 0,Yr=0;Yr<gr.length;Yr++)nn=gr[Yr],nn.depth=u.call(null,nn,rn)}function q(We){for(var gr=We.nodes,Pr=gr.length,xr=new Set(gr),Ir=new Set,_r=0;xr.size;){if(xr.forEach(function(rn){rn.height=_r;for(var nn=0,Yr=rn.targetLinks;nn<Yr.length;nn++){var Qr=Yr[nn].source;Ir.add(Qr)}}),++_r>Pr)throw new Error("circular link");xr=Ir,Ir=new Set}}function Q(We){for(var gr=We.nodes,Pr=Math.max(Cu(gr,function(Zn){return Zn.depth})+1,0),xr=(t-e-i)/(Pr-1),Ir=new Array(Pr).fill(0).map(function(){return[]}),_r=0,rn=gr;_r<rn.length;_r++){var nn=rn[_r],Yr=Math.max(0,Math.min(Pr-1,Math.floor(l.call(null,nn,Pr))));nn.layer=Yr,nn.x0=e+Yr*xr,nn.x1=nn.x0+i,Ir[Yr]?Ir[Yr].push(nn):Ir[Yr]=[nn]}if(h)for(var Qr=0,gn=Ir;Qr<gn.length;Qr++){var Wn=gn[Qr];Wn.sort(h)}return Ir}function pt(We){for(var gr=pb(We,function(la){return(n-r-(la.length-1)*o)/bu(la,Au)}),Pr=0,xr=We;Pr<xr.length;Pr++){for(var Ir=xr[Pr],_r=r,rn=0,nn=Ir;rn<nn.length;rn++){var Yr=nn[rn];Yr.y0=_r,Yr.y1=_r+Yr.value*gr,_r=Yr.y1+o;for(var Qr=0,gn=Yr.sourceLinks;Qr<gn.length;Qr++){var Wn=gn[Qr];Wn.width=Wn.value*gr}}_r=(n-_r+o)/(Ir.length+1);for(var Zn=0;Zn<Ir.length;++Zn){var Yr=Ir[Zn];Yr.y0+=_r*(Zn+1),Yr.y1+=_r*(Zn+1)}Or(Ir)}}function Wt(We){var gr=Q(We);o=Math.min(a,(n-r)/(Cu(gr,function(_r){return _r.length})-1)),pt(gr);for(var Pr=0;Pr<S;++Pr){var xr=Math.pow(.99,Pr),Ir=Math.max(1-xr,(Pr+1)/S);ae(gr,xr,Ir),Kt(gr,xr,Ir)}}function Kt(We,gr,Pr){for(var xr=1,Ir=We.length;xr<Ir;++xr){for(var _r=We[xr],rn=0,nn=_r;rn<nn.length;rn++){for(var Yr=nn[rn],Qr=0,gn=0,Wn=0,Zn=Yr.targetLinks;Wn<Zn.length;Wn++){var la=Zn[Wn],oo=la.source,Ea=la.value,Eo=Ea*(Yr.layer-oo.layer);Qr+=Rr(oo,Yr)*Eo,gn+=Eo}if(gn>0){var Io=(Qr/gn-Yr.y0)*gr;Yr.y0+=Io,Yr.y1+=Io,dr(Yr)}}h===void 0&&_r.sort(Qs),_r.length&&Fe(_r,Pr)}}function ae(We,gr,Pr){for(var xr=We.length,Ir=xr-2;Ir>=0;--Ir){for(var _r=We[Ir],rn=0,nn=_r;rn<nn.length;rn++){for(var Yr=nn[rn],Qr=0,gn=0,Wn=0,Zn=Yr.sourceLinks;Wn<Zn.length;Wn++){var la=Zn[Wn],oo=la.target,Ea=la.value,Eo=Ea*(oo.layer-Yr.layer);Qr+=sn(Yr,oo)*Eo,gn+=Eo}if(gn>0){var Io=(Qr/gn-Yr.y0)*gr;Yr.y0+=Io,Yr.y1+=Io,dr(Yr)}}h===void 0&&_r.sort(Qs),_r.length&&Fe(_r,Pr)}}function Fe(We,gr){var Pr=We.length>>1,xr=We[Pr];Ze(We,xr.y0-o,Pr-1,gr),ve(We,xr.y1+o,Pr+1,gr),Ze(We,n,We.length-1,gr),ve(We,r,0,gr)}function ve(We,gr,Pr,xr){for(;Pr<We.length;++Pr){var Ir=We[Pr],_r=(gr-Ir.y0)*xr;_r>1e-6&&(Ir.y0+=_r,Ir.y1+=_r),gr=Ir.y1+o}}function Ze(We,gr,Pr,xr){for(;Pr>=0;--Pr){var Ir=We[Pr],_r=(Ir.y1-gr)*xr;_r>1e-6&&(Ir.y0-=_r,Ir.y1-=_r),gr=Ir.y0-o}}function dr(We){var gr=We.sourceLinks,Pr=We.targetLinks;if(v===void 0){for(var xr=0,Ir=Pr;xr<Ir.length;xr++){var _r=Ir[xr].source.sourceLinks;_r.sort(ov)}for(var rn=0,nn=gr;rn<nn.length;rn++){var Yr=nn[rn].target.targetLinks;Yr.sort(av)}}}function Or(We){if(v===void 0)for(var gr=0,Pr=We;gr<Pr.length;gr++){var xr=Pr[gr],Ir=xr.sourceLinks,_r=xr.targetLinks;Ir.sort(ov),_r.sort(av)}}function Rr(We,gr){for(var Pr=We.y0-(We.sourceLinks.length-1)*o/2,xr=0,Ir=We.sourceLinks;xr<Ir.length;xr++){var _r=Ir[xr],rn=_r.target,nn=_r.width;if(rn===gr)break;Pr+=nn+o}for(var Yr=0,Qr=gr.targetLinks;Yr<Qr.length;Yr++){var gn=Qr[Yr],rn=gn.source,nn=gn.width;if(rn===We)break;Pr-=nn}return Pr}function sn(We,gr){for(var Pr=gr.y0-(gr.targetLinks.length-1)*o/2,xr=0,Ir=gr.targetLinks;xr<Ir.length;xr++){var _r=Ir[xr],rn=_r.source,nn=_r.width;if(rn===We)break;Pr+=nn+o}for(var Yr=0,Qr=We.sourceLinks;Yr<Qr.length;Yr++){var gn=Qr[Yr],rn=gn.target,nn=gn.width;if(rn===gr)break;Pr-=nn}return Pr}return E}var xb={left:fb,right:hb,center:vb,justify:Mu},wb={nodeId:function(e){return e.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function Sb(e){var r=(0,c.HD)(e)?xb[e]:(0,c.mf)(e)?e:null;return r||Mu}function Mb(e){return(0,c.f0)({},wb,e)}function bb(e,r){var t=Mb(e),n=t.nodeId,i=t.nodeSort,a=t.nodeAlign,o=t.nodeWidth,s=t.nodePadding,l=t.nodeDepth,u=mb().nodeSort(i).nodeWidth(o).nodePadding(s).nodeDepth(l).nodeAlign(Sb(a)).extent([[0,0],[1,1]]).nodeId(n),h=u(r),v=h.nodes.map(function(y){var S=y.x0,E=y.x1,O=y.y0,D=y.y1;return y.x=[S,E,E,S],y.y=[O,O,D,D],y}).filter(function(y){return y.name!==null}),p=h.links.map(function(y){var S=y.source,E=y.target,O=S.x1,D=E.x0;y.x=[O,O,D,D];var X=y.width/2;return y.y=[y.y0+X,y.y0-X,y.y1+X,y.y1-X],y}).filter(function(y){var S=y.source,E=y.target;return S.name!==null&&E.name!==null});return{nodes:v,links:p}}function Cb(e,r,t){var n=[];return e.forEach(function(i){var a=i[r],o=i[t];n.includes(a)||n.push(a),n.includes(o)||n.push(o)}),n}function Ab(e,r,t,n){var i={};return r.forEach(function(a){i[a]={},r.forEach(function(o){i[a][o]=0})}),e.forEach(function(a){i[a[t]][a[n]]=1}),i}function Tb(e,r,t){if(!(0,c.kJ)(e))return[];var n=[],i=Cb(e,r,t),a=Ab(e,i,r,t),o={};i.forEach(function(l){o[l]=0});function s(l){o[l]=1,i.forEach(function(u){if(a[l][u]!=0)if(o[u]==1)n.push(l+"_"+u);else{if(o[u]==-1)return;s(u)}}),o[l]=-1}return i.forEach(function(l){o[l]!=-1&&s(l)}),n.length!==0&&console.warn("sankey data contains circle, "+n.length+" records removed.",n),e.filter(function(l){return n.findIndex(function(u){return u===l[r]+"_"+l[t]})<0})}function Fb(e){return e==="node-link"}function Eb(e,r,t){return $a(e)?e/t:r}function Ib(e,r,t){return $a(e)?e/t:r}function uv(e,r,t){var n=e.dataType,i=e.data,a=e.sourceField,o=e.targetField,s=e.weightField,l=e.nodeAlign,u=e.nodeSort,h=e.nodePadding,v=e.nodePaddingRatio,p=e.nodeWidth,y=e.nodeWidthRatio,S=e.nodeDepth,E=e.rawFields,O=E===void 0?[]:E,D;Fb(n)?D=i:D=Vc(Tb(i,a,o),a,o,s,O);var X=bb({nodeAlign:l,nodePadding:Ib(h,v,t),nodeWidth:Eb(p,y,r),nodeSort:u,nodeDepth:S},D),q=X.nodes,Q=X.links;return{nodes:q.map(function(pt){return(0,d.pi)((0,d.pi)({},pn(pt,(0,d.pr)(["x","y","name"],O))),{isNode:!0})}),edges:Q.map(function(pt){return(0,d.pi)((0,d.pi)({source:pt.source.name,target:pt.target.name,name:pt.source.name||pt.target.name},pn(pt,(0,d.pr)(["x","y","value"],O))),{isNode:!1})})}}var cv="x",fv="y",hv="name",tl="nodes",el="edges";function Lb(e){var r=e.options,t=r.rawFields,n=t===void 0?[]:t;return ie({},{options:{tooltip:{fields:(0,c.jj)((0,d.pr)(["name","source","target","value","isNode"],n))},label:{fields:(0,c.jj)((0,d.pr)(["x","name"],n))}}},e)}function kb(e){var r=e.chart,t=e.options,n=t.color,i=t.nodeStyle,a=t.edgeStyle,o=t.label,s=t.tooltip,l=t.nodeState,u=t.edgeState;r.legend(!1),r.tooltip(s),r.axis(!1),r.coordinate().reflect("y");var h=uv(t,r.width,r.height),v=h.nodes,p=h.edges,y=r.createView({id:el});y.data(p),jc({chart:y,options:{xField:cv,yField:fv,seriesField:hv,edge:{color:n,style:a,shape:"arc"},tooltip:s,state:u}});var S=r.createView({id:tl});return S.data(v),Ls({chart:S,options:{xField:cv,yField:fv,seriesField:hv,polygon:{color:n,style:i},label:o,tooltip:s,state:l}}),r.interaction("element-active"),r.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),e}function Pb(e){var r=e.chart,t=e.options,n=t.animation;typeof n=="boolean"?r.animate(n):r.animate(!0);var i=(0,d.pr)(r.views[0].geometries,r.views[1].geometries);return i.forEach(function(a){a.animate(n)}),e}function Db(e){var r=e.chart,t=e.options,n=t.nodeDraggable,i="sankey-node-draggable";return n?r.interaction(i):r.removeInteraction(i),e}function Ob(e){var r=e.chart,t=e.options,n=t.interactions,i=n===void 0?[]:n,a=[].concat(i,t.nodeInteractions||[]),o=[].concat(i,t.edgeInteractions||[]),s=jr(r,tl),l=jr(r,el);return a.forEach(function(u){(u==null?void 0:u.enable)===!1?s.removeInteraction(u.type):s.interaction(u.type,u.cfg||{})}),o.forEach(function(u){(u==null?void 0:u.enable)===!1?l.removeInteraction(u.type):l.interaction(u.type,u.cfg||{})}),e}function Bb(e){return Br(Lb,kb,Ob,Db,Pb,un)(e)}var Rb=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDragging=!1,t}return r.prototype.isNodeElement=function(){var t=(0,c.U2)(this.context,"event.target");if(t){var n=t.get("element");return n&&n.getModel().data.isNode}return!1},r.prototype.getNodeView=function(){return jr(this.context.view,tl)},r.prototype.getEdgeView=function(){return jr(this.context.view,el)},r.prototype.getCurrentDatumIdx=function(t){return this.getNodeView().geometries[0].elements.indexOf(t)},r.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:(0,c.U2)(this.context,"event.x"),y:(0,c.U2)(this.context,"event.y")};var t=this.context.event.target.get("element"),n=this.getCurrentDatumIdx(t);if(n===-1)return;this.currentElementIdx=n,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},r.prototype.translate=function(){if(this.isDragging){var t=this.context.view,n={x:(0,c.U2)(this.context,"event.x"),y:(0,c.U2)(this.context,"event.y")},i=n.x-this.prevPoint.x,a=n.y-this.prevPoint.y,o=this.getNodeView(),s=o.geometries[0].elements[this.currentElementIdx];if(s&&s.getModel()){var l=s.getModel().data,u=o.getOptions().data,h=o.getCoordinate(),v={x:i/h.getWidth(),y:a/h.getHeight()},p=(0,d.pi)((0,d.pi)({},l),{x:l.x.map(function(D){return D+=v.x}),y:l.y.map(function(D){return D+=v.y})}),y=(0,d.pr)(u);y[this.currentElementIdx]=p,o.data(y);var S=l.name,E=this.getEdgeView(),O=E.getOptions().data;O.forEach(function(D){D.source===S&&(D.x[0]+=v.x,D.x[1]+=v.x,D.y[0]+=v.y,D.y[1]+=v.y),D.target===S&&(D.x[2]+=v.x,D.x[3]+=v.x,D.y[2]+=v.y,D.y[3]+=v.y)}),E.data(O),this.prevPoint=n,t.render(!0)}}},r.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},r}(Vr);Sr("sankey-node-drag",Rb),Er("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(e){return e.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]});var gA=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="sankey",t}return r.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(t){var n=t.name;return n},callback:function(t){var n=t[1]===1;return{style:{fill:"#545454",textAlign:n?"end":"start"},offsetX:n?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(t){return!(0,c.U2)(t,[0,"data","isNode"])},formatter:function(t){var n=t.source,i=t.target,a=t.value;return{name:n+" -> "+i,value:a}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},r.prototype.changeData=function(t){this.updateOption({data:t});var n=uv(this.options,this.chart.width,this.chart.height),i=n.nodes,a=n.edges,o=jr(this.chart,tl),s=jr(this.chart,el);o.changeData(i),s.changeData(a)},r.prototype.getSchemaAdaptor=function(){return Bb},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r}(Gr),_b={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(e){return e.id},source:function(e){return e.source},target:function(e){return e.target},sourceWeight:function(e){return e.value||1},targetWeight:function(e){return e.value||1},sortBy:null};function Nb(e,r,t){(0,c.U5)(e,function(n,i){n.inEdges=r.filter(function(a){return""+t.target(a)==""+i}),n.outEdges=r.filter(function(a){return""+t.source(a)==""+i}),n.edges=n.outEdges.concat(n.inEdges),n.frequency=n.edges.length,n.value=0,n.inEdges.forEach(function(a){n.value+=t.targetWeight(a)}),n.outEdges.forEach(function(a){n.value+=t.sourceWeight(a)})})}function zb(e,r){var t={weight:function(i,a){return a.value-i.value},frequency:function(i,a){return a.frequency-i.frequency},id:function(i,a){return(""+r.id(i)).localeCompare(""+r.id(a))}},n=t[r.sortBy];!n&&(0,c.mf)(r.sortBy)&&(n=r.sortBy),n&&e.sort(n)}function Vb(e,r){var t=e.length;if(!t)throw new TypeError("Invalid nodes: it's empty!");if(r.weight){var n=r.nodePaddingRatio;if(n<0||n>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var i=n/(2*t),a=r.nodeWidthRatio;if(a<=0||a>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var o=0;e.forEach(function(l){o+=l.value}),e.forEach(function(l){l.weight=l.value/o,l.width=l.weight*(1-n),l.height=a}),e.forEach(function(l,u){for(var h=0,v=u-1;v>=0;v--)h+=e[v].width+2*i;var p=l.minX=i+h,y=l.maxX=l.minX+l.width,S=l.minY=r.y-a/2,E=l.maxY=S+a;l.x=[p,y,y,p],l.y=[S,S,E,E]})}else{var s=1/t;e.forEach(function(l,u){l.x=(u+.5)*s,l.y=r.y})}return e}function Gb(e,r,t){if(t.weight){var n={};(0,c.U5)(e,function(i,a){n[a]=i.value}),r.forEach(function(i){var a=t.source(i),o=t.target(i),s=e[a],l=e[o];if(s&&l){var u=n[a],h=t.sourceWeight(i),v=s.minX+(s.value-u)/s.value*s.width,p=v+h/s.value*s.width;n[a]-=h;var y=n[o],S=t.targetWeight(i),E=l.minX+(l.value-y)/l.value*l.width,O=E+S/l.value*l.width;n[o]-=S;var D=t.y;i.x=[v,p,E,O],i.y=[D,D,D,D],i.source=s,i.target=l}})}else r.forEach(function(i){var a=e[t.source(i)],o=e[t.target(i)];a&&o&&(i.x=[a.x,o.x],i.y=[a.y,o.y],i.source=a,i.target=o)});return r}function Ub(e){return(0,c.f0)({},_b,e)}function Hb(e,r){var t=Ub(e),n={},i=r.nodes,a=r.links;i.forEach(function(l){var u=t.id(l);n[u]=l}),Nb(n,a,t),zb(i,t);var o=Vb(i,t),s=Gb(n,a,t);return{nodes:o,links:s}}var vv="x",pv="y",dv="name",gv="source",Yb={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(e,r){var t=(e[0]+e[1])/2,n=t>.5?-4:4;return{labelEmit:!0,style:{fill:"#8c8c8c"},offsetX:n,content:r}}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(e){return!(0,c.U2)(e,[0,"data","isNode"])},formatter:function(e){var r=e.source,t=e.target,n=e.value;return{name:r+" -> "+t,value:n}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function Xb(e){var r=e.options,t=r.data,n=r.sourceField,i=r.targetField,a=r.weightField,o=r.nodePaddingRatio,s=r.nodeWidthRatio,l=r.rawFields,u=l===void 0?[]:l,h=Vc(t,n,i,a),v=Hb({weight:!0,nodePaddingRatio:o,nodeWidthRatio:s},h),p=v.nodes,y=v.links,S=p.map(function(O){return(0,d.pi)((0,d.pi)({},pn(O,(0,d.pr)(["id","x","y","name"],u))),{isNode:!0})}),E=y.map(function(O){return(0,d.pi)((0,d.pi)({source:O.source.name,target:O.target.name,name:O.source.name||O.target.name},pn(O,(0,d.pr)(["x","y","value"],u))),{isNode:!1})});return(0,d.pi)((0,d.pi)({},e),{ext:(0,d.pi)((0,d.pi)({},e.ext),{chordData:{nodesData:S,edgesData:E}})})}function Wb(e){var r,t=e.chart;return t.scale((r={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}},r[dv]={sync:"color"},r[gv]={sync:"color"},r)),e}function Zb(e){var r=e.chart;return r.axis(!1),e}function jb(e){var r=e.chart;return r.legend(!1),e}function $b(e){var r=e.chart,t=e.options,n=t.tooltip;return r.tooltip(n),e}function qb(e){var r=e.chart;return r.coordinate("polar").reflect("y"),e}function Jb(e){var r=e.chart,t=e.options,n=e.ext.chordData.nodesData,i=t.nodeStyle,a=t.label,o=t.tooltip,s=r.createView();return s.data(n),Ls({chart:s,options:{xField:vv,yField:pv,seriesField:dv,polygon:{style:i},label:a,tooltip:o}}),e}function Kb(e){var r=e.chart,t=e.options,n=e.ext.chordData.edgesData,i=t.edgeStyle,a=t.tooltip,o=r.createView();o.data(n);var s={xField:vv,yField:pv,seriesField:gv,edge:{style:i,shape:"arc"},tooltip:a};return jc({chart:o,options:s}),e}function Qb(e){var r=e.chart,t=e.options,n=t.animation;return typeof n=="boolean"?r.animate(n):r.animate(!0),(0,c.S6)(w0(r),function(i){i.animate(n)}),e}function tC(e){return Br(un,Xb,qb,Wb,Zb,jb,$b,Kb,Jb,An,Ba,Qb)(e)}var yA=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="chord",t}return r.getDefaultOptions=function(){return Yb},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return tC},r}(Gr),eC={field:"value",as:["x","y","r"],sort:function(e,r){return r.value-e.value}};function rC(e,r){r=(0,c.f0)({},eC,r);var t=r.as;if(!(0,c.kJ)(t)||t.length!==3)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var n;try{n=fu(r)}catch(u){console.warn(u)}var i=function(u){return Bh().size(r.size).padding(r.padding)(Co(u).sum(function(h){return h[n]}).sort(r.sort))},a=i(e),o=t[0],s=t[1],l=t[2];return a.each(function(u){u[o]=u.x,u[s]=u.y,u[l]=u.r}),hu(a)}function yv(e){var r=e.data,t=e.hierarchyConfig,n=e.rawFields,i=n===void 0?[]:n,a=e.enableDrillDown,o=rC(r,(0,d.pi)((0,d.pi)({},t),{field:"value",as:["x","y","r"]})),s=[];return o.forEach(function(l){for(var u,h=l.data.name,v=(0,d.pi)({},l);v.depth>1;)h=((u=v.parent.data)===null||u===void 0?void 0:u.name)+" / "+h,v=v.parent;if(a&&l.depth>2)return null;var p=ie({},l.data,(0,d.pi)((0,d.pi)((0,d.pi)({},pn(l.data,i)),{path:h}),l));p.ext=t,p[qo]={hierarchyConfig:t,rawFields:i,enableDrillDown:a},s.push(p)}),s}function mv(e,r,t){var n=_l([e,r]),i=n[0],a=n[1],o=n[2],s=n[3],l=t.width,u=t.height,h=l-(s+a),v=u-(i+o),p=Math.min(h,v),y=(h-p)/2,S=(v-p)/2,E=i+S,O=a+y,D=o+S,X=s+y,q=[E,O,D,X],Q=p<0?0:p;return{finalPadding:q,finalSize:Q}}var nC=["x","y","r","name","value","path","depth"],iC={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}};function aC(e){var r=e.chart,t=Math.min(r.viewBBox.width,r.viewBBox.height);return ie({options:{size:function(n){var i=n.r;return i*t}}},e)}function oC(e){var r=e.options,t=e.chart,n=t.viewBBox,i=r.padding,a=r.appendPadding,o=r.drilldown,s=a;if(o==null?void 0:o.enabled){var l=Cs(t.appendPadding,(0,c.U2)(o,["breadCrumb","position"]));s=_l([l,a])}var u=mv(i,s,n).finalPadding;return t.padding=u,t.appendPadding=0,e}function sC(e){var r=e.chart,t=e.options,n=r.padding,i=r.appendPadding,a=t.color,o=t.colorField,s=t.pointStyle,l=t.hierarchyConfig,u=t.sizeField,h=t.rawFields,v=h===void 0?[]:h,p=t.drilldown,y=yv({data:t.data,hierarchyConfig:l,enableDrillDown:p==null?void 0:p.enabled,rawFields:v});r.data(y);var S=r.viewBBox,E=mv(n,i,S).finalSize,O=function(D){var X=D.r;return X*E};return u&&(O=function(D){return D[u]*E}),Fi(ie({},e,{options:{xField:"x",yField:"y",seriesField:o,sizeField:u,rawFields:(0,d.pr)(nC,v),point:{color:a,style:s,shape:"circle",size:O}}})),e}function lC(e){return Br(Rn({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(e)}function uC(e){var r=e.chart,t=e.options,n=t.tooltip;if(n===!1)r.tooltip(!1);else{var i=n;(0,c.U2)(n,"fields")||(i=ie({},{customItems:function(a){return a.map(function(o){var s=(0,c.U2)(r.getOptions(),"scales"),l=(0,c.U2)(s,["name","formatter"],function(h){return h}),u=(0,c.U2)(s,["value","formatter"],function(h){return h});return(0,d.pi)((0,d.pi)({},o),{name:l(o.data.name),value:u(o.data.value)})})}},i)),r.tooltip(i)}return e}function cC(e){var r=e.chart;return r.axis(!1),e}function fC(e){var r=e.drilldown,t=e.interactions,n=t===void 0?[]:t;return(r==null?void 0:r.enabled)?ie({},e,{interactions:(0,d.pr)(n,[{type:"drill-down",cfg:{drillDownConfig:r,transformData:yv,enableDrillDown:!0}}])}):e}function hC(e){var r=e.chart,t=e.options;return An({chart:r,options:fC(t)}),e}function vC(e){return Br(Ti("pointStyle"),aC,oC,un,lC,sC,cC,qa,uC,hC,dn,Pn())(e)}var mA=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="circle-packing",t}return r.getDefaultOptions=function(){return iC},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return vC},r.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},r}(Gr),xA=function(e){(0,d.ZT)(r,e);function r(t,n,i,a){var o=e.call(this,t,ie({},a,n))||this;return o.type="g2-plot",o.defaultOptions=a,o.adaptor=i,o}return r.prototype.getDefaultOptions=function(){return this.defaultOptions},r.prototype.getSchemaAdaptor=function(){return this.adaptor},r}(Gr),pC={line:Jc,pie:cf,column:Ds,bar:af,area:tf,gauge:Qh,"tiny-line":Tf,"tiny-column":Ff,"tiny-area":Af,"ring-progress":Bf,progress:Df,scatter:yf,histogram:Lf,funnel:sh,stock:ih},dC={line:Kc,pie:ff,column:My,bar:Iy,area:iy,gauge:AM,"tiny-line":gx,"tiny-column":wx,"tiny-area":Mx,"ring-progress":Bx,progress:Px,scatter:Vm,histogram:Ix,funnel:Rw,stock:vw},gC={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function Tu(e,r,t){var n=dC[e];if(!n){console.error("could not find "+e+" plot");return}var i=pC[e];i({chart:r,options:ie({},n.getDefaultOptions(),(0,c.U2)(gC,e,{}),t)})}function yC(e){var r=e.chart,t=e.options,n=t.views,i=t.legend;return(0,c.S6)(n,function(a){var o=a.region,s=a.data,l=a.meta,u=a.axes,h=a.coordinate,v=a.interactions,p=a.annotations,y=a.tooltip,S=a.geometries,E=r.createView({region:o});E.data(s);var O={};u&&(0,c.S6)(u,function(D,X){O[X]=pn(D,wi)}),O=ie({},l,O),E.scale(O),u?(0,c.S6)(u,function(D,X){E.axis(X,D)}):E.axis(!1),E.coordinate(h),(0,c.S6)(S,function(D){var X=Si({chart:E,options:D}).ext,q=D.adjust;q&&X.geometry.adjust(q)}),(0,c.S6)(v,function(D){D.enable===!1?E.removeInteraction(D.type):E.interaction(D.type,D.cfg)}),(0,c.S6)(p,function(D){E.annotation()[D.type]((0,d.pi)({},D))}),typeof a.animation=="boolean"?E.animate(!1):(E.animate(!0),(0,c.S6)(E.geometries,function(D){D.animate(a.animation)})),y&&(E.interaction("tooltip"),E.tooltip(y))}),i?(0,c.S6)(i,function(a,o){r.legend(o,a)}):r.legend(!1),r.tooltip(t.tooltip),e}function mC(e){var r=e.chart,t=e.options,n=t.plots,i=t.data,a=i===void 0?[]:i;return(0,c.S6)(n,function(o){var s=o.type,l=o.region,u=o.options,h=u===void 0?{}:u,v=o.top,p=h.tooltip;if(v){Tu(s,r,(0,d.pi)((0,d.pi)({},h),{data:a}));return}var y=r.createView((0,d.pi)({region:l},pn(h,Yc)));p&&y.interaction("tooltip"),Tu(s,y,(0,d.pi)({data:a},h))}),e}function xC(e){var r=e.chart,t=e.options;return r.option("slider",t.slider),e}function wC(e){return Br(dn,yC,mC,An,dn,un,qn,xC,Pn())(e)}function SC(e,r){var t=e.getModel(),n=t.data,i;return(0,c.kJ)(n)?i=n[0][r]:i=n[r],i}function MC(e){var r=Ms(e);(0,c.S6)(r,function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("selected")&&t.setState("selected",!1),t.hasState("inactive")&&t.setState("inactive",!1)})}var bC=function(e){(0,d.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getAssociationItems=function(t,n){var i,a=this.context.event,o=n||{},s=o.linkField,l=o.dim,u=[];if((i=a.data)===null||i===void 0?void 0:i.data){var h=a.data.data;(0,c.S6)(t,function(v){var p,y,S=s;if(l==="x"?S=v.getXScale().field:l==="y"?S=(p=v.getYScales().find(function(O){return O.field===S}))===null||p===void 0?void 0:p.field:S||(S=(y=v.getGroupScales()[0])===null||y===void 0?void 0:y.field),!!S){var E=(0,c.UI)(Ms(v),function(O){var D=!1,X=!1,q=(0,c.kJ)(h)?(0,c.U2)(h[0],S):(0,c.U2)(h,S);return SC(O,S)===q?D=!0:X=!0,{element:O,view:v,active:D,inactive:X}});u.push.apply(u,E)}})}return u},r.prototype.showTooltip=function(t){var n=Dc(this.context.view),i=this.getAssociationItems(n,t);(0,c.S6)(i,function(a){if(a.active){var o=a.element.shape.getCanvasBBox();a.view.showTooltip({x:o.minX+o.width/2,y:o.minY+o.height/2})}})},r.prototype.hideTooltip=function(){var t=Dc(this.context.view);(0,c.S6)(t,function(n){n.hideTooltip()})},r.prototype.active=function(t){var n=No(this.context.view),i=this.getAssociationItems(n,t);(0,c.S6)(i,function(a){var o=a.active,s=a.element;o&&s.setState("active",!0)})},r.prototype.selected=function(t){var n=No(this.context.view),i=this.getAssociationItems(n,t);(0,c.S6)(i,function(a){var o=a.active,s=a.element;o&&s.setState("selected",!0)})},r.prototype.highlight=function(t){var n=No(this.context.view),i=this.getAssociationItems(n,t);(0,c.S6)(i,function(a){var o=a.inactive,s=a.element;o&&s.setState("inactive",!0)})},r.prototype.reset=function(){var t=No(this.context.view);(0,c.S6)(t,function(n){MC(n)})},r}(Vr);Sr("association",bC),Er("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Er("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Er("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Er("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var CC=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="mix",t}return r.prototype.getSchemaAdaptor=function(){return wC},r}(Gr);function AC(e,r){var t=r.data,n=r.coordinate,i=r.interactions,a=r.annotations,o=r.animation,s=r.tooltip,l=r.axes,u=r.meta,h=r.geometries;t&&e.data(t);var v={};l&&(0,c.S6)(l,function(p,y){v[y]=pn(p,wi)}),v=ie({},u,v),e.scale(v),n&&e.coordinate(n),l===!1?e.axis(!1):(0,c.S6)(l,function(p,y){e.axis(y,p)}),(0,c.S6)(h,function(p){var y=Si({chart:e,options:p}).ext,S=p.adjust;S&&y.geometry.adjust(S)}),(0,c.S6)(i,function(p){p.enable===!1?e.removeInteraction(p.type):e.interaction(p.type,p.cfg)}),(0,c.S6)(a,function(p){e.annotation()[p.type]((0,d.pi)({},p))}),typeof o=="boolean"?e.animate(!1):(e.animate(!0),(0,c.S6)(e.geometries,function(p){p.animate(o)})),s?(e.interaction("tooltip"),e.tooltip(s)):s===!1&&e.removeInteraction("tooltip")}function TC(e){var r=e.chart,t=e.options,n=t.type,i=t.data,a=t.fields,o=t.eachView,s=(0,c.CE)(t,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return r.data(i),r.facet(n,(0,d.pi)((0,d.pi)({},s),{fields:a,eachView:function(l,u){var h=o(l,u);if(h.geometries)AC(l,h);else{var v=h,p=v.options;p.tooltip&&l.interaction("tooltip"),Tu(v.type,l,p)}}})),e}function FC(e){var r=e.chart,t=e.options,n=t.axes,i=t.meta,a=t.tooltip,o=t.coordinate,s=t.theme,l=t.legend,u=t.interactions,h=t.annotations,v={};return n&&(0,c.S6)(n,function(p,y){v[y]=pn(p,wi)}),v=ie({},i,v),r.scale(v),r.coordinate(o),n?(0,c.S6)(n,function(p,y){r.axis(y,p)}):r.axis(!1),a?(r.interaction("tooltip"),r.tooltip(a)):a===!1&&r.removeInteraction("tooltip"),r.legend(l),s&&r.theme(s),(0,c.S6)(u,function(p){p.enable===!1?r.removeInteraction(p.type):r.interaction(p.type,p.cfg)}),(0,c.S6)(h,function(p){r.annotation()[p.type]((0,d.pi)({},p))}),e}function EC(e){return Br(un,TC,FC)(e)}var IC={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}},wA=function(e){(0,d.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="area",t}return r.getDefaultOptions=function(){return IC},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return EC},r}(Gr),Fo;(function(e){e.DEV="DEV",e.BETA="BETA",e.STABLE="STABLE"})(Fo||(Fo={}));function LC(e,r){console.warn(e===Fo.DEV?"Plot '"+r+"' is in DEV stage, just give us issues.":e===Fo.BETA?"Plot '"+r+"' is in BETA stage, DO NOT use it in production env.":e===Fo.STABLE?"Plot '"+r+`' is in STABLE stage, import it by "import { `+r+` } from '@antv/g2plot'".`:"invalid Stage type.")}var SA=function(){function e(){}return Object.defineProperty(e,"MultiView",{get:function(){return LC(Fo.STABLE,"MultiView"),CC},enumerable:!1,configurable:!0}),e}(),MA="2.4.20";Uc("en-US",P0),Uc("zh-CN",D0);var bA={scale:Rn,legend:qa,tooltip:qn,annotation:Pn,interaction:An,theme:un,animation:dn}},31506:function(Wr,cr,Rt){"use strict";Rt.d(cr,{m$:function(){return d},zu:function(){return c},lh:function(){return Ee},vs:function(){return Ae},Dg:function(){return se}});var Xt=Rt(35600),wt=Rt(31437);function d(Be,Ct,rt){var Jt=[0,0,0,0,0,0,0,0,0];return Xt.vc(Jt,rt),Xt.Jp(Be,Jt,Ct)}function c(Be,Ct,rt){var Jt=[0,0,0,0,0,0,0,0,0];return Xt.Us(Jt,rt),Xt.Jp(Be,Jt,Ct)}function Ee(Be,Ct,rt){var Jt=[0,0,0,0,0,0,0,0,0];return Xt.xJ(Jt,rt),Xt.Jp(Be,Jt,Ct)}function Tt(Be,Ct,rt){return Xt.Jp(Be,rt,Ct)}function Ae(Be,Ct){for(var rt=Be?[].concat(Be):[1,0,0,0,1,0,0,0,1],Jt=0,fe=Ct.length;Jt<fe;Jt++){var ke=Ct[Jt];switch(ke[0]){case"t":d(rt,rt,[ke[1],ke[2]]);break;case"s":Ee(rt,rt,[ke[1],ke[2]]);break;case"r":c(rt,rt,ke[1]);break;case"m":Tt(rt,rt,ke[1]);break;default:break}}return rt}function pe(Be,Ct){return Be[0]*Ct[1]-Ct[0]*Be[1]}function se(Be,Ct,rt){var Jt=wt.EU(Be,Ct),fe=pe(Be,Ct)>=0;return rt?fe?Math.PI*2-Jt:Jt:fe?Jt:Math.PI*2-Jt}function Ye(Be,Ct,rt){return rt?(Be[0]=Ct[1],Be[1]=-1*Ct[0]):(Be[0]=-1*Ct[1],Be[1]=Ct[0]),Be}},80389:function(Wr,cr,Rt){"use strict";Rt.d(cr,{e9:function(){return se},Wq:function(){return He},tr:function(){return ke},wb:function(){return _e},zx:function(){return L}});var Xt=Rt(41694),wt=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,d=/[^\s\,]+/ig;function c(J){var lt=J||[];if((0,Xt.kJ)(lt))return lt;if((0,Xt.HD)(lt))return lt=lt.match(wt),(0,Xt.S6)(lt,function(yt,Dt){if(yt=yt.match(d),yt[0].length>1){var te=yt[0].charAt(0);yt.splice(1,0,yt[0].substr(1)),yt[0]=te}(0,Xt.S6)(yt,function(Zt,ue){isNaN(Zt)||(yt[ue]=+Zt)}),lt[Dt]=yt}),lt}var Ee=c,Tt=Rt(31437);function Ae(J,lt,yt,Dt){var te=[],Zt=!!Dt,ue,de,ee,Ge,Te,nr,wr;if(Zt){ee=Dt[0],Ge=Dt[1];for(var er=0,De=J.length;er<De;er+=1){var hr=J[er];ee=Tt.VV([0,0],ee,hr),Ge=Tt.Fp([0,0],Ge,hr)}}for(var er=0,Mr=J.length;er<Mr;er+=1){var hr=J[er];if(er===0&&!yt)wr=hr;else if(er===Mr-1&&!yt)nr=hr,te.push(wr),te.push(nr);else{var Qe=[er?er-1:Mr-1,er-1][yt?0:1];ue=J[Qe],de=J[yt?(er+1)%Mr:er+1];var yr=[0,0];yr=Tt.lu(yr,de,ue),yr=Tt.bA(yr,yr,lt);var Mt=Tt.TE(hr,ue),it=Tt.TE(hr,de),N=Mt+it;N!==0&&(Mt/=N,it/=N);var ct=Tt.bA([0,0],yr,-Mt),St=Tt.bA([0,0],yr,it);nr=Tt.IH([0,0],hr,ct),Te=Tt.IH([0,0],hr,St),Te=Tt.VV([0,0],Te,Tt.Fp([0,0],de,hr)),Te=Tt.Fp([0,0],Te,Tt.VV([0,0],de,hr)),ct=Tt.lu([0,0],Te,hr),ct=Tt.bA([0,0],ct,-Mt/it),nr=Tt.IH([0,0],hr,ct),nr=Tt.VV([0,0],nr,Tt.Fp([0,0],ue,hr)),nr=Tt.Fp([0,0],nr,Tt.VV([0,0],ue,hr)),St=Tt.lu([0,0],hr,nr),St=Tt.bA([0,0],St,it/Mt),Te=Tt.IH([0,0],hr,St),Zt&&(nr=Tt.Fp([0,0],nr,ee),nr=Tt.VV([0,0],nr,Ge),Te=Tt.Fp([0,0],Te,ee),Te=Tt.VV([0,0],Te,Ge)),te.push(wr),te.push(nr),wr=Te}}return yt&&te.push(te.shift()),te}function pe(J,lt,yt){lt===void 0&&(lt=!1),yt===void 0&&(yt=[[0,0],[1,1]]);for(var Dt=!!lt,te=[],Zt=0,ue=J.length;Zt<ue;Zt+=2)te.push([J[Zt],J[Zt+1]]);for(var de=Ae(te,.4,Dt,yt),ee=te.length,Ge=[],Te,nr,wr,Zt=0;Zt<ee-1;Zt+=1)Te=de[Zt*2],nr=de[Zt*2+1],wr=te[Zt+1],Ge.push(["C",Te[0],Te[1],nr[0],nr[1],wr[0],wr[1]]);return Dt&&(Te=de[ee],nr=de[ee+1],wr=te[0],Ge.push(["C",Te[0],Te[1],nr[0],nr[1],wr[0],wr[1]])),Ge}var se=pe;function Ye(J,lt,yt){var Dt=null,te=yt;return lt<te&&(te=lt,Dt="add"),J<te&&(te=J,Dt="del"),{type:Dt,min:te}}var Be=function(J,lt){var yt=J.length,Dt=lt.length,te,Zt,ue=0;if(yt===0||Dt===0)return null;for(var de=[],ee=0;ee<=yt;ee++)de[ee]=[],de[ee][0]={min:ee};for(var Ge=0;Ge<=Dt;Ge++)de[0][Ge]={min:Ge};for(var ee=1;ee<=yt;ee++){te=J[ee-1];for(var Ge=1;Ge<=Dt;Ge++){Zt=lt[Ge-1],isEqual(te,Zt)?ue=0:ue=1;var Te=de[ee-1][Ge].min+1,nr=de[ee][Ge-1].min+1,wr=de[ee-1][Ge-1].min+ue;de[ee][Ge]=Ye(Te,nr,wr)}}return de};function Ct(J,lt){var yt=Be(J,lt),Dt=J.length,te=lt.length,Zt=[],ue=1,de=1;if(yt[Dt][te]!==Dt){for(var ee=1;ee<=Dt;ee++){var Ge=yt[ee][ee].min;de=ee;for(var Te=ue;Te<=te;Te++)yt[ee][Te].min<Ge&&(Ge=yt[ee][Te].min,de=Te);ue=de,yt[ee][ue].type&&Zt.push({index:ee-1,type:yt[ee][ue].type})}for(var ee=Zt.length-1;ee>=0;ee--)ue=Zt[ee].index,Zt[ee].type==="add"?J.splice(ue,0,[].concat(J[ue])):J.splice(ue,1)}if(Dt=J.length,Dt<te)for(var ee=0;ee<te-Dt;ee++)J[Dt-1][0]==="z"||J[Dt-1][0]==="Z"?J.splice(Dt-2,0,J[Dt-2]):J.push(J[Dt-1]);return J}var rt=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,Jt=new RegExp("([a-z])["+rt+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+rt+"]*,?["+rt+"]*)+)","ig"),fe=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+rt+"]*,?["+rt+"]*","ig");function ke(J){if(!J)return null;if((0,Xt.kJ)(J))return J;var lt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},yt=[];return String(J).replace(Jt,function(Dt,te,Zt){var ue=[],de=te.toLowerCase();if(Zt.replace(fe,function(ee,Ge){Ge&&ue.push(+Ge)}),de==="m"&&ue.length>2&&(yt.push([te].concat(ue.splice(0,2))),de="l",te=te==="m"?"l":"L"),de==="o"&&ue.length===1&&yt.push([te,ue[0]]),de==="r")yt.push([te].concat(ue));else for(;ue.length>=lt[de]&&(yt.push([te].concat(ue.splice(0,lt[de]))),!!lt[de]););return""}),yt}var Pe=/[a-z]/;function Me(J,lt){return[lt[0]+(lt[0]-J[0]),lt[1]+(lt[1]-J[1])]}function _e(J){var lt=ke(J);if(!lt||!lt.length)return[["M",0,0]];for(var yt=!1,Dt=0;Dt<lt.length;Dt++){var te=lt[Dt][0];if(Pe.test(te)||["V","H","T","S"].indexOf(te)>=0){yt=!0;break}}if(!yt)return lt;var Zt=[],ue=0,de=0,ee=0,Ge=0,Te=0,nr,wr,er=lt[0];(er[0]==="M"||er[0]==="m")&&(ue=+er[1],de=+er[2],ee=ue,Ge=de,Te++,Zt[0]=["M",ue,de]);for(var Dt=Te,De=lt.length;Dt<De;Dt++){var hr=lt[Dt],Mr=Zt[Dt-1],Qe=[],te=hr[0],yr=te.toUpperCase();if(te!==yr)switch(Qe[0]=yr,yr){case"A":Qe[1]=hr[1],Qe[2]=hr[2],Qe[3]=hr[3],Qe[4]=hr[4],Qe[5]=hr[5],Qe[6]=+hr[6]+ue,Qe[7]=+hr[7]+de;break;case"V":Qe[1]=+hr[1]+de;break;case"H":Qe[1]=+hr[1]+ue;break;case"M":ee=+hr[1]+ue,Ge=+hr[2]+de,Qe[1]=ee,Qe[2]=Ge;break;default:for(var Mt=1,it=hr.length;Mt<it;Mt++)Qe[Mt]=+hr[Mt]+(Mt%2?ue:de)}else Qe=lt[Dt];switch(yr){case"Z":ue=+ee,de=+Ge;break;case"H":ue=Qe[1],Qe=["L",ue,de];break;case"V":de=Qe[1],Qe=["L",ue,de];break;case"T":ue=Qe[1],de=Qe[2];var N=Me([Mr[1],Mr[2]],[Mr[3],Mr[4]]);Qe=["Q",N[0],N[1],ue,de];break;case"S":ue=Qe[Qe.length-2],de=Qe[Qe.length-1];var ct=Mr.length,St=Me([Mr[ct-4],Mr[ct-3]],[Mr[ct-2],Mr[ct-1]]);Qe=["C",St[0],St[1],Qe[1],Qe[2],ue,de];break;case"M":ee=Qe[Qe.length-2],Ge=Qe[Qe.length-1];break;default:ue=Qe[Qe.length-2],de=Qe[Qe.length-1]}Zt.push(Qe)}return Zt}var Nt=Math.PI*2,Ht=function(J,lt,yt,Dt,te,Zt,ue){var de=J.x,ee=J.y;de*=lt,ee*=yt;var Ge=Dt*de-te*ee,Te=te*de+Dt*ee;return{x:Ge+Zt,y:Te+ue}},be=function(J,lt){var yt=lt===1.5707963267948966?.551915024494:lt===-1.5707963267948966?-.551915024494:4/3*Math.tan(lt/4),Dt=Math.cos(J),te=Math.sin(J),Zt=Math.cos(J+lt),ue=Math.sin(J+lt);return[{x:Dt-te*yt,y:te+Dt*yt},{x:Zt+ue*yt,y:ue-Zt*yt},{x:Zt,y:ue}]},Se=function(J,lt,yt,Dt){var te=J*Dt-lt*yt<0?-1:1,Zt=J*yt+lt*Dt;return Zt>1&&(Zt=1),Zt<-1&&(Zt=-1),te*Math.acos(Zt)},Ne=function(J,lt,yt,Dt,te,Zt,ue,de,ee,Ge,Te,nr){var wr=Math.pow(te,2),er=Math.pow(Zt,2),De=Math.pow(Te,2),hr=Math.pow(nr,2),Mr=wr*er-wr*hr-er*De;Mr<0&&(Mr=0),Mr/=wr*hr+er*De,Mr=Math.sqrt(Mr)*(ue===de?-1:1);var Qe=Mr*te/Zt*nr,yr=Mr*-Zt/te*Te,Mt=Ge*Qe-ee*yr+(J+yt)/2,it=ee*Qe+Ge*yr+(lt+Dt)/2,N=(Te-Qe)/te,ct=(nr-yr)/Zt,St=(-Te-Qe)/te,$t=(-nr-yr)/Zt,ne=Se(1,0,N,ct),ge=Se(N,ct,St,$t);return de===0&&ge>0&&(ge-=Nt),de===1&&ge<0&&(ge+=Nt),[Mt,it,ne,ge]},lr=function(J){var lt=J.px,yt=J.py,Dt=J.cx,te=J.cy,Zt=J.rx,ue=J.ry,de=J.xAxisRotation,ee=de===void 0?0:de,Ge=J.largeArcFlag,Te=Ge===void 0?0:Ge,nr=J.sweepFlag,wr=nr===void 0?0:nr,er=[];if(Zt===0||ue===0)return[{x1:0,y1:0,x2:0,y2:0,x:Dt,y:te}];var De=Math.sin(ee*Nt/360),hr=Math.cos(ee*Nt/360),Mr=hr*(lt-Dt)/2+De*(yt-te)/2,Qe=-De*(lt-Dt)/2+hr*(yt-te)/2;if(Mr===0&&Qe===0)return[{x1:0,y1:0,x2:0,y2:0,x:Dt,y:te}];Zt=Math.abs(Zt),ue=Math.abs(ue);var yr=Math.pow(Mr,2)/Math.pow(Zt,2)+Math.pow(Qe,2)/Math.pow(ue,2);yr>1&&(Zt*=Math.sqrt(yr),ue*=Math.sqrt(yr));var Mt=Ne(lt,yt,Dt,te,Zt,ue,Te,wr,De,hr,Mr,Qe),it=Mt[0],N=Mt[1],ct=Mt[2],St=Mt[3],$t=Math.abs(St)/(Nt/4);Math.abs(1-$t)<1e-7&&($t=1);var ne=Math.max(Math.ceil($t),1);St/=ne;for(var ge=0;ge<ne;ge++)er.push(be(ct,St)),ct+=St;return er.map(function(Ie){var zr=Ht(Ie[0],Zt,ue,hr,De,it,N),Xr=zr.x,Nr=zr.y,Sn=Ht(Ie[1],Zt,ue,hr,De,it,N),Vr=Sn.x,Kn=Sn.y,jn=Ht(Ie[2],Zt,ue,hr,De,it,N),Vn=jn.x,ci=jn.y;return{x1:Xr,y1:Nr,x2:Vr,y2:Kn,x:Vn,y:ci}})};function fr(J,lt,yt,Dt,te,Zt,ue,de,ee){var Ge=lr({px:J,py:lt,cx:de,cy:ee,rx:yt,ry:Dt,xAxisRotation:te,largeArcFlag:Zt,sweepFlag:ue});return Ge.reduce(function(Te,nr){var wr=nr.x1,er=nr.y1,De=nr.x2,hr=nr.y2,Mr=nr.x,Qe=nr.y;return Te.push(wr,er,De,hr,Mr,Qe),Te},[])}function Yt(J,lt){"TQ".indexOf(J[0])<0&&(lt.qx=null,lt.qy=null);var yt=J.slice(1),Dt=yt[0],te=yt[1];switch(J[0]){case"M":return lt.x=Dt,lt.y=te,J;case"A":return["C"].concat(arcToCubic.apply(0,[lt.x1,lt.y1].concat(J.slice(1))));case"Q":return lt.qx=Dt,lt.qy=te,["C"].concat(quadToCubic.apply(0,[lt.x1,lt.y1].concat(J.slice(1))));case"L":return["C"].concat(lineToCubic(lt.x1,lt.y1,J[1],J[2]));case"H":return["C"].concat(lineToCubic(lt.x1,lt.y1,J[1],lt.y1));case"V":return["C"].concat(lineToCubic(lt.x1,lt.y1,lt.x1,J[1]));case"Z":return["C"].concat(lineToCubic(lt.x1,lt.y1,lt.x,lt.y));default:}return J}function xt(J,lt){lt===void 0&&(lt=!1);for(var yt=path2Absolute(J),Dt={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},te=[],Zt="",ue=yt.length,de,ee,Ge=[],Te=0;Te<ue;Te+=1)yt[Te]&&(Zt=yt[Te][0]),te[Te]=Zt,yt[Te]=segmentToCubic(yt[Te],Dt),Lt(yt,te,Te),ue=yt.length,Zt==="Z"&&Ge.push(Te),de=yt[Te],ee=de.length,Dt.x1=+de[ee-2],Dt.y1=+de[ee-1],Dt.x2=+de[ee-4]||Dt.x1,Dt.y2=+de[ee-3]||Dt.y1;return lt?[yt,Ge]:yt}function Lt(J,lt,yt){if(J[yt].length>7){J[yt].shift();for(var Dt=J[yt],te=yt;Dt.length;)lt[yt]="A",J.splice(te+=1,0,["C"].concat(Dt.splice(0,6)));J.splice(yt,1)}}var It=function(J,lt,yt,Dt,te){var Zt=-3*lt+9*yt-9*Dt+3*te,ue=J*Zt+6*lt-12*yt+6*Dt;return J*ue-3*lt+3*yt},Ft=function(J,lt,yt,Dt,te,Zt,ue,de,ee){ee===null&&(ee=1),ee=ee>1?1:ee<0?0:ee;for(var Ge=ee/2,Te=12,nr=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],wr=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],er=0,De=0;De<Te;De++){var hr=Ge*nr[De]+Ge,Mr=It(hr,J,yt,te,ue),Qe=It(hr,lt,Dt,Zt,de),yr=Mr*Mr+Qe*Qe;er+=wr[De]*Math.sqrt(yr)}return Ge*er},At=function(J,lt,yt,Dt,te,Zt,ue,de){for(var ee=[],Ge=[[],[]],Te,nr,wr,er,De=0;De<2;++De){if(De===0?(nr=6*J-12*yt+6*te,Te=-3*J+9*yt-9*te+3*ue,wr=3*yt-3*J):(nr=6*lt-12*Dt+6*Zt,Te=-3*lt+9*Dt-9*Zt+3*de,wr=3*Dt-3*lt),Math.abs(Te)<1e-12){if(Math.abs(nr)<1e-12)continue;er=-wr/nr,er>0&&er<1&&ee.push(er);continue}var hr=nr*nr-4*wr*Te,Mr=Math.sqrt(hr);if(!(hr<0)){var Qe=(-nr+Mr)/(2*Te);Qe>0&&Qe<1&&ee.push(Qe);var yr=(-nr-Mr)/(2*Te);yr>0&&yr<1&&ee.push(yr)}}for(var Mt=ee.length,it=Mt,N;Mt--;)er=ee[Mt],N=1-er,Ge[0][Mt]=N*N*N*J+3*N*N*er*yt+3*N*er*er*te+er*er*er*ue,Ge[1][Mt]=N*N*N*lt+3*N*N*er*Dt+3*N*er*er*Zt+er*er*er*de;return Ge[0][it]=J,Ge[1][it]=lt,Ge[0][it+1]=ue,Ge[1][it+1]=de,Ge[0].length=Ge[1].length=it+2,{min:{x:Math.min.apply(0,Ge[0]),y:Math.min.apply(0,Ge[1])},max:{x:Math.max.apply(0,Ge[0]),y:Math.max.apply(0,Ge[1])}}},B=function(J,lt,yt,Dt,te,Zt,ue,de){if(!(Math.max(J,yt)<Math.min(te,ue)||Math.min(J,yt)>Math.max(te,ue)||Math.max(lt,Dt)<Math.min(Zt,de)||Math.min(lt,Dt)>Math.max(Zt,de))){var ee=(J*Dt-lt*yt)*(te-ue)-(J-yt)*(te*de-Zt*ue),Ge=(J*Dt-lt*yt)*(Zt-de)-(lt-Dt)*(te*de-Zt*ue),Te=(J-yt)*(Zt-de)-(lt-Dt)*(te-ue);if(!!Te){var nr=ee/Te,wr=Ge/Te,er=+nr.toFixed(2),De=+wr.toFixed(2);if(!(er<+Math.min(J,yt).toFixed(2)||er>+Math.max(J,yt).toFixed(2)||er<+Math.min(te,ue).toFixed(2)||er>+Math.max(te,ue).toFixed(2)||De<+Math.min(lt,Dt).toFixed(2)||De>+Math.max(lt,Dt).toFixed(2)||De<+Math.min(Zt,de).toFixed(2)||De>+Math.max(Zt,de).toFixed(2)))return{x:nr,y:wr}}}},K=function(J,lt,yt){return lt>=J.x&&lt<=J.x+J.width&&yt>=J.y&&yt<=J.y+J.height},Pt=function(J,lt,yt,Dt){return J===null&&(J=lt=yt=Dt=0),lt===null&&(lt=J.y,yt=J.width,Dt=J.height,J=J.x),{x:J,y:lt,width:yt,w:yt,height:Dt,h:Dt,x2:J+yt,y2:lt+Dt,cx:J+yt/2,cy:lt+Dt/2,r1:Math.min(yt,Dt)/2,r2:Math.max(yt,Dt)/2,r0:Math.sqrt(yt*yt+Dt*Dt)/2,path:rectPath(J,lt,yt,Dt),vb:[J,lt,yt,Dt].join(" ")}},xe=function(J,lt){return J=Pt(J),lt=Pt(lt),K(lt,J.x,J.y)||K(lt,J.x2,J.y)||K(lt,J.x,J.y2)||K(lt,J.x2,J.y2)||K(J,lt.x,lt.y)||K(J,lt.x2,lt.y)||K(J,lt.x,lt.y2)||K(J,lt.x2,lt.y2)||(J.x<lt.x2&&J.x>lt.x||lt.x<J.x2&&lt.x>J.x)&&(J.y<lt.y2&&J.y>lt.y||lt.y<J.y2&&lt.y>J.y)},oe=function(J,lt,yt,Dt,te,Zt,ue,de){isArray(J)||(J=[J,lt,yt,Dt,te,Zt,ue,de]);var ee=At.apply(null,J);return Pt(ee.min.x,ee.min.y,ee.max.x-ee.min.x,ee.max.y-ee.min.y)},Ve=function(J,lt,yt,Dt,te,Zt,ue,de,ee){var Ge=1-ee,Te=Math.pow(Ge,3),nr=Math.pow(Ge,2),wr=ee*ee,er=wr*ee,De=Te*J+nr*3*ee*yt+Ge*3*ee*ee*te+er*ue,hr=Te*lt+nr*3*ee*Dt+Ge*3*ee*ee*Zt+er*de,Mr=J+2*ee*(yt-J)+wr*(te-2*yt+J),Qe=lt+2*ee*(Dt-lt)+wr*(Zt-2*Dt+lt),yr=yt+2*ee*(te-yt)+wr*(ue-2*te+yt),Mt=Dt+2*ee*(Zt-Dt)+wr*(de-2*Zt+Dt),it=Ge*J+ee*yt,N=Ge*lt+ee*Dt,ct=Ge*te+ee*ue,St=Ge*Zt+ee*de,$t=90-Math.atan2(Mr-yr,Qe-Mt)*180/Math.PI;return{x:De,y:hr,m:{x:Mr,y:Qe},n:{x:yr,y:Mt},start:{x:it,y:N},end:{x:ct,y:St},alpha:$t}},Xe=function(J,lt,yt){var Dt=oe(J),te=oe(lt);if(!xe(Dt,te))return yt?0:[];for(var Zt=Ft.apply(0,J),ue=Ft.apply(0,lt),de=~~(Zt/8),ee=~~(ue/8),Ge=[],Te=[],nr={},wr=yt?0:[],er=0;er<de+1;er++){var De=Ve.apply(0,J.concat(er/de));Ge.push({x:De.x,y:De.y,t:er/de})}for(var er=0;er<ee+1;er++){var De=Ve.apply(0,lt.concat(er/ee));Te.push({x:De.x,y:De.y,t:er/ee})}for(var er=0;er<de;er++)for(var hr=0;hr<ee;hr++){var Mr=Ge[er],Qe=Ge[er+1],yr=Te[hr],Mt=Te[hr+1],it=Math.abs(Qe.x-Mr.x)<.001?"y":"x",N=Math.abs(Mt.x-yr.x)<.001?"y":"x",ct=B(Mr.x,Mr.y,Qe.x,Qe.y,yr.x,yr.y,Mt.x,Mt.y);if(ct){if(nr[ct.x.toFixed(4)]===ct.y.toFixed(4))continue;nr[ct.x.toFixed(4)]=ct.y.toFixed(4);var St=Mr.t+Math.abs((ct[it]-Mr[it])/(Qe[it]-Mr[it]))*(Qe.t-Mr.t),$t=yr.t+Math.abs((ct[N]-yr[N])/(Mt[N]-yr[N]))*(Mt.t-yr.t);St>=0&&St<=1&&$t>=0&&$t<=1&&(yt?wr++:wr.push({x:ct.x,y:ct.y,t1:St,t2:$t}))}}return wr},Re=function(J,lt,yt){J=path2Curve(J),lt=path2Curve(lt);for(var Dt,te,Zt,ue,de,ee,Ge,Te,nr,wr,er=yt?0:[],De=0,hr=J.length;De<hr;De++){var Mr=J[De];if(Mr[0]==="M")Dt=de=Mr[1],te=ee=Mr[2];else{Mr[0]==="C"?(nr=[Dt,te].concat(Mr.slice(1)),Dt=nr[6],te=nr[7]):(nr=[Dt,te,Dt,te,de,ee,de,ee],Dt=de,te=ee);for(var Qe=0,yr=lt.length;Qe<yr;Qe++){var Mt=lt[Qe];if(Mt[0]==="M")Zt=Ge=Mt[1],ue=Te=Mt[2];else{Mt[0]==="C"?(wr=[Zt,ue].concat(Mt.slice(1)),Zt=wr[6],ue=wr[7]):(wr=[Zt,ue,Zt,ue,Ge,Te,Ge,Te],Zt=Ge,ue=Te);var it=Xe(nr,wr,yt);if(yt)er+=it;else{for(var N=0,ct=it.length;N<ct;N++)it[N].segment1=De,it[N].segment2=Qe,it[N].bez1=nr,it[N].bez2=wr;er=er.concat(it)}}}}}return er};function Ke(J,lt){return Re(J,lt)}function we(J){return Math.sqrt(J[0]*J[0]+J[1]*J[1])}function or(J,lt){return we(J)*we(lt)?(J[0]*lt[0]+J[1]*lt[1])/(we(J)*we(lt)):1}function Vt(J,lt){return(J[0]*lt[1]<J[1]*lt[0]?-1:1)*Math.acos(or(J,lt))}function et(J,lt){return J[0]===lt[0]&&J[1]===lt[1]}function P(J,lt){var yt=lt[1],Dt=lt[2],te=(0,Xt.wQ)((0,Xt.c$)(lt[3]),Math.PI*2),Zt=lt[4],ue=lt[5],de=J[0],ee=J[1],Ge=lt[6],Te=lt[7],nr=Math.cos(te)*(de-Ge)/2+Math.sin(te)*(ee-Te)/2,wr=-1*Math.sin(te)*(de-Ge)/2+Math.cos(te)*(ee-Te)/2,er=nr*nr/(yt*yt)+wr*wr/(Dt*Dt);er>1&&(yt*=Math.sqrt(er),Dt*=Math.sqrt(er));var De=yt*yt*(wr*wr)+Dt*Dt*(nr*nr),hr=De?Math.sqrt((yt*yt*(Dt*Dt)-De)/De):1;Zt===ue&&(hr*=-1),isNaN(hr)&&(hr=0);var Mr=Dt?hr*yt*wr/Dt:0,Qe=yt?hr*-Dt*nr/yt:0,yr=(de+Ge)/2+Math.cos(te)*Mr-Math.sin(te)*Qe,Mt=(ee+Te)/2+Math.sin(te)*Mr+Math.cos(te)*Qe,it=[(nr-Mr)/yt,(wr-Qe)/Dt],N=[(-1*nr-Mr)/yt,(-1*wr-Qe)/Dt],ct=Vt([1,0],it),St=Vt(it,N);return or(it,N)<=-1&&(St=Math.PI),or(it,N)>=1&&(St=0),ue===0&&St>0&&(St=St-2*Math.PI),ue===1&&St<0&&(St=St+2*Math.PI),{cx:yr,cy:Mt,rx:et(J,[Ge,Te])?0:yt,ry:et(J,[Ge,Te])?0:Dt,startAngle:ct,endAngle:ct+St,xRotation:te,arcFlag:Zt,sweepFlag:ue}}function C(J,lt){return[lt[0]+(lt[0]-J[0]),lt[1]+(lt[1]-J[1])]}function L(J){J=Ee(J);for(var lt=[],yt=null,Dt=null,te=null,Zt=0,ue=J.length,de=0;de<ue;de++){var ee=J[de];Dt=J[de+1];var Ge=ee[0],Te={command:Ge,prePoint:yt,params:ee,startTangent:null,endTangent:null};switch(Ge){case"M":te=[ee[1],ee[2]],Zt=de;break;case"A":var nr=P(yt,ee);Te.arcParams=nr;break;default:break}if(Ge==="Z")yt=te,Dt=J[Zt+1];else{var wr=ee.length;yt=[ee[wr-2],ee[wr-1]]}Dt&&Dt[0]==="Z"&&(Dt=J[Zt],lt[Zt]&&(lt[Zt].prePoint=yt)),Te.currentPoint=yt,lt[Zt]&&et(yt,lt[Zt].currentPoint)&&(lt[Zt].prePoint=Te.prePoint);var er=Dt?[Dt[Dt.length-2],Dt[Dt.length-1]]:null;Te.nextPoint=er;var De=Te.prePoint;if(["L","H","V"].includes(Ge))Te.startTangent=[De[0]-yt[0],De[1]-yt[1]],Te.endTangent=[yt[0]-De[0],yt[1]-De[1]];else if(Ge==="Q"){var hr=[ee[1],ee[2]];Te.startTangent=[De[0]-hr[0],De[1]-hr[1]],Te.endTangent=[yt[0]-hr[0],yt[1]-hr[1]]}else if(Ge==="T"){var Mr=lt[de-1],hr=C(Mr.currentPoint,De);Mr.command==="Q"?(Te.command="Q",Te.startTangent=[De[0]-hr[0],De[1]-hr[1]],Te.endTangent=[yt[0]-hr[0],yt[1]-hr[1]]):(Te.command="TL",Te.startTangent=[De[0]-yt[0],De[1]-yt[1]],Te.endTangent=[yt[0]-De[0],yt[1]-De[1]])}else if(Ge==="C"){var Qe=[ee[1],ee[2]],yr=[ee[3],ee[4]];Te.startTangent=[De[0]-Qe[0],De[1]-Qe[1]],Te.endTangent=[yt[0]-yr[0],yt[1]-yr[1]],Te.startTangent[0]===0&&Te.startTangent[1]===0&&(Te.startTangent=[Qe[0]-yr[0],Qe[1]-yr[1]]),Te.endTangent[0]===0&&Te.endTangent[1]===0&&(Te.endTangent=[yr[0]-Qe[0],yr[1]-Qe[1]])}else if(Ge==="S"){var Mr=lt[de-1],Qe=C(Mr.currentPoint,De),yr=[ee[1],ee[2]];Mr.command==="C"?(Te.command="C",Te.startTangent=[De[0]-Qe[0],De[1]-Qe[1]],Te.endTangent=[yt[0]-yr[0],yt[1]-yr[1]]):(Te.command="SQ",Te.startTangent=[De[0]-yr[0],De[1]-yr[1]],Te.endTangent=[yt[0]-yr[0],yt[1]-yr[1]])}else if(Ge==="A"){var Mt=.001,it=Te.arcParams||{},N=it.cx,ct=N===void 0?0:N,St=it.cy,$t=St===void 0?0:St,ne=it.rx,ge=ne===void 0?0:ne,Ie=it.ry,zr=Ie===void 0?0:Ie,Xr=it.sweepFlag,Nr=Xr===void 0?0:Xr,Sn=it.startAngle,Vr=Sn===void 0?0:Sn,Kn=it.endAngle,jn=Kn===void 0?0:Kn;Nr===0&&(Mt*=-1);var Vn=ge*Math.cos(Vr-Mt)+ct,ci=zr*Math.sin(Vr-Mt)+$t;Te.startTangent=[Vn-te[0],ci-te[1]];var $n=ge*Math.cos(Vr+jn+Mt)+ct,Sr=zr*Math.sin(Vr+jn-Mt)+$t;Te.endTangent=[De[0]-$n,De[1]-Sr]}lt.push(Te)}return lt}var k=1e-6;function T(J){return Math.abs(J)<k?0:J<0?-1:1}function R(J,lt,yt){return(yt[0]-J[0])*(lt[1]-J[1])==(lt[0]-J[0])*(yt[1]-J[1])&&Math.min(J[0],lt[0])<=yt[0]&&yt[0]<=Math.max(J[0],lt[0])&&Math.min(J[1],lt[1])<=yt[1]&&yt[1]<=Math.max(J[1],lt[1])}function j(J,lt,yt){var Dt=!1,te=J.length;if(te<=2)return!1;for(var Zt=0;Zt<te;Zt++){var ue=J[Zt],de=J[(Zt+1)%te];if(R(ue,de,[lt,yt]))return!0;T(ue[1]-yt)>0!=T(de[1]-yt)>0&&T(lt-(yt-ue[1])*(ue[0]-de[0])/(ue[1]-de[1])-ue[0])<0&&(Dt=!Dt)}return Dt}var tt=function(J,lt,yt){return J>=lt&&J<=yt};function st(J,lt,yt,Dt){var te=.001,Zt={x:yt.x-J.x,y:yt.y-J.y},ue={x:lt.x-J.x,y:lt.y-J.y},de={x:Dt.x-yt.x,y:Dt.y-yt.y},ee=ue.x*de.y-ue.y*de.x,Ge=ee*ee,Te=ue.x*ue.x+ue.y*ue.y,nr=de.x*de.x+de.y*de.y,wr=null;if(Ge>te*Te*nr){var er=(Zt.x*de.y-Zt.y*de.x)/ee,De=(Zt.x*ue.y-Zt.y*ue.x)/ee;tt(er,0,1)&&tt(De,0,1)&&(wr={x:J.x+er*ue.x,y:J.y+er*ue.y})}return wr}function Bt(J){for(var lt=[],yt=J.length,Dt=0;Dt<yt-1;Dt++){var te=J[Dt],Zt=J[Dt+1];lt.push({from:{x:te[0],y:te[1]},to:{x:Zt[0],y:Zt[1]}})}if(lt.length>1){var ue=J[0],de=J[yt-1];lt.push({from:{x:de[0],y:de[1]},to:{x:ue[0],y:ue[1]}})}return lt}function qt(J,lt){var yt=!1;return(0,Xt.S6)(J,function(Dt){if(st(Dt.from,Dt.to,lt.from,lt.to))return yt=!0,!1}),yt}function Qt(J){var lt=J.map(function(Dt){return Dt[0]}),yt=J.map(function(Dt){return Dt[1]});return{minX:Math.min.apply(null,lt),maxX:Math.max.apply(null,lt),minY:Math.min.apply(null,yt),maxY:Math.max.apply(null,yt)}}function me(J,lt){return!(lt.minX>J.maxX||lt.maxX<J.minX||lt.minY>J.maxY||lt.maxY<J.minY)}function He(J,lt){if(J.length<2||lt.length<2)return!1;var yt=Qt(J),Dt=Qt(lt);if(!me(yt,Dt))return!1;var te=!1;if((0,Xt.S6)(lt,function(ee){if(j(J,ee[0],ee[1]))return te=!0,!1}),te||((0,Xt.S6)(J,function(ee){if(j(lt,ee[0],ee[1]))return te=!0,!1}),te))return!0;var Zt=Bt(J),ue=Bt(lt),de=!1;return(0,Xt.S6)(ue,function(ee){if(qt(Zt,ee))return de=!0,!1}),de}},86429:function(Wr,cr,Rt){"use strict";Rt.d(cr,{WD:function(){return Ye},bJ:function(){return J},Ci:function(){return Ae},yZ:function(){return Qe}});var Xt={};Rt.r(Xt),Rt.d(Xt,{assign:function(){return Nt},default:function(){return we},defaultI18n:function(){return lr},format:function(){return Xe},parse:function(){return Re},setGlobalDateI18n:function(){return Yt},setGlobalDateMasks:function(){return Ve}});var wt=Rt(41694),d={};function c(Z){return d[Z]}function Ee(Z,nt){d[Z]=nt}var Tt=function(){function Z(nt){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=nt,this.initCfg(),this.init()}return Z.prototype.translate=function(nt){return nt},Z.prototype.change=function(nt){(0,wt.f0)(this.__cfg__,nt),this.init()},Z.prototype.clone=function(){return this.constructor(this.__cfg__)},Z.prototype.getTicks=function(){var nt=this;return(0,wt.UI)(this.ticks,function(ft,_t){return(0,wt.Kn)(ft)?ft:{text:nt.getText(ft,_t),tickValue:ft,value:nt.scale(ft)}})},Z.prototype.getText=function(nt,ft){var _t=this.formatter,Ot=_t?_t(nt,ft):nt;return(0,wt.UM)(Ot)||!(0,wt.mf)(Ot.toString)?"":Ot.toString()},Z.prototype.getConfig=function(nt){return this.__cfg__[nt]},Z.prototype.init=function(){(0,wt.f0)(this,this.__cfg__),this.setDomain(),(0,wt.xb)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},Z.prototype.initCfg=function(){},Z.prototype.setDomain=function(){},Z.prototype.calculateTicks=function(){var nt=this.tickMethod,ft=[];if((0,wt.HD)(nt)){var _t=c(nt);if(!_t)throw new Error("There is no method to to calculate ticks!");ft=_t(this)}else(0,wt.mf)(nt)&&(ft=nt(this));return ft},Z.prototype.rangeMin=function(){return this.range[0]},Z.prototype.rangeMax=function(){return this.range[1]},Z.prototype.calcPercent=function(nt,ft,_t){return(0,wt.hj)(nt)?(nt-ft)/(_t-ft):NaN},Z.prototype.calcValue=function(nt,ft,_t){return ft+nt*(_t-ft)},Z}(),Ae=Tt,pe=Rt(70655),se=function(Z){(0,pe.ZT)(nt,Z);function nt(){var ft=Z!==null&&Z.apply(this,arguments)||this;return ft.type="cat",ft.isCategory=!0,ft}return nt.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var ft=0;ft<this.values.length;ft++)this.translateIndexMap.set(this.values[ft],ft)}},nt.prototype.translate=function(ft){this.buildIndexMap();var _t=this.translateIndexMap.get(ft);return _t===void 0&&(_t=(0,wt.hj)(ft)?ft:NaN),_t},nt.prototype.scale=function(ft){var _t=this.translate(ft),Ot=this.calcPercent(_t,this.min,this.max);return this.calcValue(Ot,this.rangeMin(),this.rangeMax())},nt.prototype.invert=function(ft){var _t=this.max-this.min,Ot=this.calcPercent(ft,this.rangeMin(),this.rangeMax()),re=Math.round(_t*Ot)+this.min;return re<this.min||re>this.max?NaN:this.values[re]},nt.prototype.getText=function(ft){for(var _t=[],Ot=1;Ot<arguments.length;Ot++)_t[Ot-1]=arguments[Ot];var re=ft;return(0,wt.hj)(ft)&&!this.values.includes(ft)&&(re=this.values[re]),Z.prototype.getText.apply(this,(0,pe.pr)([re],_t))},nt.prototype.initCfg=function(){this.tickMethod="cat"},nt.prototype.setDomain=function(){if((0,wt.UM)(this.getConfig("min"))&&(this.min=0),(0,wt.UM)(this.getConfig("max"))){var ft=this.values.length;this.max=ft>1?ft-1:ft}this.translateIndexMap&&(this.translateIndexMap=void 0)},nt}(Ae),Ye=se,Be=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,Ct="\\d\\d?",rt="\\d\\d",Jt="\\d{3}",fe="\\d{4}",ke="[^\\s]+",Pe=/\[([^]*?)\]/gm;function Me(Z,nt){for(var ft=[],_t=0,Ot=Z.length;_t<Ot;_t++)ft.push(Z[_t].substr(0,nt));return ft}var _e=function(Z){return function(nt,ft){var _t=ft[Z].map(function(re){return re.toLowerCase()}),Ot=_t.indexOf(nt.toLowerCase());return Ot>-1?Ot:null}};function Nt(Z){for(var nt=[],ft=1;ft<arguments.length;ft++)nt[ft-1]=arguments[ft];for(var _t=0,Ot=nt;_t<Ot.length;_t++){var re=Ot[_t];for(var Ue in re)Z[Ue]=re[Ue]}return Z}var Ht=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],be=["January","February","March","April","May","June","July","August","September","October","November","December"],Se=Me(be,3),Ne=Me(Ht,3),lr={dayNamesShort:Ne,dayNames:Ht,monthNamesShort:Se,monthNames:be,amPm:["am","pm"],DoFn:function(Z){return Z+["th","st","nd","rd"][Z%10>3?0:(Z-Z%10!=10?1:0)*Z%10]}},fr=Nt({},lr),Yt=function(Z){return fr=Nt(fr,Z)},xt=function(Z){return Z.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Lt=function(Z,nt){for(nt===void 0&&(nt=2),Z=String(Z);Z.length<nt;)Z="0"+Z;return Z},It={D:function(Z){return String(Z.getDate())},DD:function(Z){return Lt(Z.getDate())},Do:function(Z,nt){return nt.DoFn(Z.getDate())},d:function(Z){return String(Z.getDay())},dd:function(Z){return Lt(Z.getDay())},ddd:function(Z,nt){return nt.dayNamesShort[Z.getDay()]},dddd:function(Z,nt){return nt.dayNames[Z.getDay()]},M:function(Z){return String(Z.getMonth()+1)},MM:function(Z){return Lt(Z.getMonth()+1)},MMM:function(Z,nt){return nt.monthNamesShort[Z.getMonth()]},MMMM:function(Z,nt){return nt.monthNames[Z.getMonth()]},YY:function(Z){return Lt(String(Z.getFullYear()),4).substr(2)},YYYY:function(Z){return Lt(Z.getFullYear(),4)},h:function(Z){return String(Z.getHours()%12||12)},hh:function(Z){return Lt(Z.getHours()%12||12)},H:function(Z){return String(Z.getHours())},HH:function(Z){return Lt(Z.getHours())},m:function(Z){return String(Z.getMinutes())},mm:function(Z){return Lt(Z.getMinutes())},s:function(Z){return String(Z.getSeconds())},ss:function(Z){return Lt(Z.getSeconds())},S:function(Z){return String(Math.round(Z.getMilliseconds()/100))},SS:function(Z){return Lt(Math.round(Z.getMilliseconds()/10),2)},SSS:function(Z){return Lt(Z.getMilliseconds(),3)},a:function(Z,nt){return Z.getHours()<12?nt.amPm[0]:nt.amPm[1]},A:function(Z,nt){return Z.getHours()<12?nt.amPm[0].toUpperCase():nt.amPm[1].toUpperCase()},ZZ:function(Z){var nt=Z.getTimezoneOffset();return(nt>0?"-":"+")+Lt(Math.floor(Math.abs(nt)/60)*100+Math.abs(nt)%60,4)},Z:function(Z){var nt=Z.getTimezoneOffset();return(nt>0?"-":"+")+Lt(Math.floor(Math.abs(nt)/60),2)+":"+Lt(Math.abs(nt)%60,2)}},Ft=function(Z){return+Z-1},At=[null,Ct],B=[null,ke],K=["isPm",ke,function(Z,nt){var ft=Z.toLowerCase();return ft===nt.amPm[0]?0:ft===nt.amPm[1]?1:null}],Pt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(Z){var nt=(Z+"").match(/([+-]|\d\d)/gi);if(nt){var ft=+nt[1]*60+parseInt(nt[2],10);return nt[0]==="+"?ft:-ft}return 0}],xe={D:["day",Ct],DD:["day",rt],Do:["day",Ct+ke,function(Z){return parseInt(Z,10)}],M:["month",Ct,Ft],MM:["month",rt,Ft],YY:["year",rt,function(Z){var nt=new Date,ft=+(""+nt.getFullYear()).substr(0,2);return+(""+(+Z>68?ft-1:ft)+Z)}],h:["hour",Ct,void 0,"isPm"],hh:["hour",rt,void 0,"isPm"],H:["hour",Ct],HH:["hour",rt],m:["minute",Ct],mm:["minute",rt],s:["second",Ct],ss:["second",rt],YYYY:["year",fe],S:["millisecond","\\d",function(Z){return+Z*100}],SS:["millisecond",rt,function(Z){return+Z*10}],SSS:["millisecond",Jt],d:At,dd:At,ddd:B,dddd:B,MMM:["month",ke,_e("monthNamesShort")],MMMM:["month",ke,_e("monthNames")],a:K,A:K,ZZ:Pt,Z:Pt},oe={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Ve=function(Z){return Nt(oe,Z)},Xe=function(Z,nt,ft){if(nt===void 0&&(nt=oe.default),ft===void 0&&(ft={}),typeof Z=="number"&&(Z=new Date(Z)),Object.prototype.toString.call(Z)!=="[object Date]"||isNaN(Z.getTime()))throw new Error("Invalid Date pass to format");nt=oe[nt]||nt;var _t=[];nt=nt.replace(Pe,function(re,Ue){return _t.push(Ue),"@@@"});var Ot=Nt(Nt({},fr),ft);return nt=nt.replace(Be,function(re){return It[re](Z,Ot)}),nt.replace(/@@@/g,function(){return _t.shift()})};function Re(Z,nt,ft){if(ft===void 0&&(ft={}),typeof nt!="string")throw new Error("Invalid format in fecha parse");if(nt=oe[nt]||nt,Z.length>1e3)return null;var _t=new Date,Ot={year:_t.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},re=[],Ue=[],$e=nt.replace(Pe,function(mn,Un){return Ue.push(xt(Un)),"@@@"}),pr={},sr={};$e=xt($e).replace(Be,function(mn){var Un=xe[mn],ni=Un[0],Hn=Un[1],Yn=Un[3];if(pr[ni])throw new Error("Invalid format. "+ni+" specified twice in format");return pr[ni]=!0,Yn&&(sr[Yn]=!0),re.push(Un),"("+Hn+")"}),Object.keys(sr).forEach(function(mn){if(!pr[mn])throw new Error("Invalid format. "+mn+" is required in specified format")}),$e=$e.replace(/@@@/g,function(){return Ue.shift()});var Ar=Z.match(new RegExp($e,"i"));if(!Ar)return null;for(var fn=Nt(Nt({},fr),ft),qr=1;qr<Ar.length;qr++){var xn=re[qr-1],Tn=xn[0],Gn=xn[2],On=Gn?Gn(Ar[qr],fn):+Ar[qr];if(On==null)return null;Ot[Tn]=On}Ot.isPm===1&&Ot.hour!=null&&+Ot.hour!=12?Ot.hour=+Ot.hour+12:Ot.isPm===0&&+Ot.hour==12&&(Ot.hour=0);var ri;if(Ot.timezoneOffset==null){ri=new Date(Ot.year,Ot.month,Ot.day,Ot.hour,Ot.minute,Ot.second,Ot.millisecond);for(var _n=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],qr=0,ai=_n.length;qr<ai;qr++)if(pr[_n[qr][0]]&&Ot[_n[qr][0]]!==ri[_n[qr][1]]())return null}else if(ri=new Date(Date.UTC(Ot.year,Ot.month,Ot.day,Ot.hour,Ot.minute-Ot.timezoneOffset,Ot.second,Ot.millisecond)),Ot.month>11||Ot.month<0||Ot.day>31||Ot.day<1||Ot.hour>23||Ot.hour<0||Ot.minute>59||Ot.minute<0||Ot.second>59||Ot.second<0)return null;return ri}var Ke={format:Xe,parse:Re,defaultI18n:lr,setGlobalDateI18n:Yt,setGlobalDateMasks:Ve},we=Ke;function or(Z){return function(nt,ft,_t,Ot){for(var re=(0,wt.UM)(_t)?0:_t,Ue=(0,wt.UM)(Ot)?nt.length:Ot;re<Ue;){var $e=re+Ue>>>1;Z(nt[$e])>ft?Ue=$e:re=$e+1}return re}}var Vt="format";function et(Z,nt){var ft=Xt[Vt]||we[Vt];return ft(Z,nt)}function P(Z){return(0,wt.HD)(Z)&&(Z.indexOf("T")>0?Z=new Date(Z).getTime():Z=new Date(Z.replace(/-/gi,"/")).getTime()),(0,wt.J_)(Z)&&(Z=Z.getTime()),Z}var C=1e3,L=60*C,k=60*L,T=24*k,R=T*31,j=T*365,tt=[["HH:mm:ss",C],["HH:mm:ss",C*10],["HH:mm:ss",C*30],["HH:mm",L],["HH:mm",L*10],["HH:mm",L*30],["HH",k],["HH",k*6],["HH",k*12],["YYYY-MM-DD",T],["YYYY-MM-DD",T*4],["YYYY-WW",T*7],["YYYY-MM",R],["YYYY-MM",R*4],["YYYY-MM",R*6],["YYYY",T*380]];function st(Z,nt,ft){var _t=(nt-Z)/ft,Ot=or(function(Ue){return Ue[1]})(tt,_t)-1,re=tt[Ot];return Ot<0?re=tt[0]:Ot>=tt.length&&(re=(0,wt.Z$)(tt)),re}var Bt=function(Z){(0,pe.ZT)(nt,Z);function nt(){var ft=Z!==null&&Z.apply(this,arguments)||this;return ft.type="timeCat",ft}return nt.prototype.translate=function(ft){ft=P(ft);var _t=this.values.indexOf(ft);return _t===-1&&((0,wt.hj)(ft)&&ft<this.values.length?_t=ft:_t=NaN),_t},nt.prototype.getText=function(ft,_t){var Ot=this.translate(ft);if(Ot>-1){var re=this.values[Ot],Ue=this.formatter;return re=Ue?Ue(re,_t):et(re,this.mask),re}return ft},nt.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},nt.prototype.setDomain=function(){var ft=this.values;(0,wt.S6)(ft,function(_t,Ot){ft[Ot]=P(_t)}),ft.sort(function(_t,Ot){return _t-Ot}),Z.prototype.setDomain.call(this)},nt}(Ye),qt=Bt,Qt=function(Z){(0,pe.ZT)(nt,Z);function nt(){var ft=Z!==null&&Z.apply(this,arguments)||this;return ft.isContinuous=!0,ft}return nt.prototype.scale=function(ft){if((0,wt.UM)(ft))return NaN;var _t=this.rangeMin(),Ot=this.rangeMax(),re=this.max,Ue=this.min;if(re===Ue)return _t;var $e=this.getScalePercent(ft);return _t+$e*(Ot-_t)},nt.prototype.init=function(){Z.prototype.init.call(this);var ft=this.ticks,_t=(0,wt.YM)(ft),Ot=(0,wt.Z$)(ft);_t<this.min&&(this.min=_t),Ot>this.max&&(this.max=Ot),(0,wt.UM)(this.minLimit)||(this.min=_t),(0,wt.UM)(this.maxLimit)||(this.max=Ot)},nt.prototype.setDomain=function(){var ft=(0,wt.rx)(this.values),_t=ft.min,Ot=ft.max;(0,wt.UM)(this.min)&&(this.min=_t),(0,wt.UM)(this.max)&&(this.max=Ot),this.min>this.max&&(this.min=_t,this.max=Ot)},nt.prototype.calculateTicks=function(){var ft=this,_t=Z.prototype.calculateTicks.call(this);return this.nice||(_t=(0,wt.hX)(_t,function(Ot){return Ot>=ft.min&&Ot<=ft.max})),_t},nt.prototype.getScalePercent=function(ft){var _t=this.max,Ot=this.min;return(ft-Ot)/(_t-Ot)},nt.prototype.getInvertPercent=function(ft){return(ft-this.rangeMin())/(this.rangeMax()-this.rangeMin())},nt}(Ae),me=Qt,He=function(Z){(0,pe.ZT)(nt,Z);function nt(){var ft=Z!==null&&Z.apply(this,arguments)||this;return ft.type="linear",ft.isLinear=!0,ft}return nt.prototype.invert=function(ft){var _t=this.getInvertPercent(ft);return this.min+_t*(this.max-this.min)},nt.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},nt}(me),J=He;function lt(Z,nt){var ft=Math.E,_t;return nt>=0?_t=Math.pow(ft,Math.log(nt)/Z):_t=Math.pow(ft,Math.log(-nt)/Z)*-1,_t}function yt(Z,nt){return Z===1?1:Math.log(nt)/Math.log(Z)}function Dt(Z,nt,ft){(0,wt.UM)(ft)&&(ft=Math.max.apply(null,Z));var _t=ft;return(0,wt.S6)(Z,function(Ot){Ot>0&&Ot<_t&&(_t=Ot)}),_t===ft&&(_t=ft/nt),_t>1&&(_t=1),_t}function te(Z){var nt=Z.toString().split(/[eE]/),ft=(nt[0].split(".")[1]||"").length-+(nt[1]||0);return ft>0?ft:0}function Zt(Z,nt){var ft=te(Z),_t=te(nt),Ot=Math.pow(10,Math.max(ft,_t));return(Z*Ot+nt*Ot)/Ot}var ue=function(Z){(0,pe.ZT)(nt,Z);function nt(){var ft=Z!==null&&Z.apply(this,arguments)||this;return ft.type="log",ft}return nt.prototype.invert=function(ft){var _t=this.base,Ot=yt(_t,this.max),re=this.rangeMin(),Ue=this.rangeMax()-re,$e,pr=this.positiveMin;if(pr){if(ft===0)return 0;$e=yt(_t,pr/_t);var sr=1/(Ot-$e)*Ue;if(ft<sr)return ft/sr*pr}else $e=yt(_t,this.min);var Ar=(ft-re)/Ue,fn=Ar*(Ot-$e)+$e;return Math.pow(_t,fn)},nt.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},nt.prototype.setDomain=function(){Z.prototype.setDomain.call(this);var ft=this.min;if(ft<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");ft===0&&(this.positiveMin=Dt(this.values,this.base,this.max))},nt.prototype.getScalePercent=function(ft){var _t=this.max,Ot=this.min;if(_t===Ot||ft<=0)return 0;var re=this.base,Ue=this.positiveMin;Ue&&(Ot=Ue*1/re);var $e;return ft<Ue?$e=ft/Ue/(yt(re,_t)-yt(re,Ot)):$e=(yt(re,ft)-yt(re,Ot))/(yt(re,_t)-yt(re,Ot)),$e},nt}(me),de=ue,ee=function(Z){(0,pe.ZT)(nt,Z);function nt(){var ft=Z!==null&&Z.apply(this,arguments)||this;return ft.type="pow",ft}return nt.prototype.invert=function(ft){var _t=this.getInvertPercent(ft),Ot=this.exponent,re=lt(Ot,this.max),Ue=lt(Ot,this.min),$e=_t*(re-Ue)+Ue,pr=$e>=0?1:-1;return Math.pow($e,Ot)*pr},nt.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},nt.prototype.getScalePercent=function(ft){var _t=this.max,Ot=this.min;if(_t===Ot)return 0;var re=this.exponent,Ue=(lt(re,ft)-lt(re,Ot))/(lt(re,_t)-lt(re,Ot));return Ue},nt}(me),Ge=ee,Te=function(Z){(0,pe.ZT)(nt,Z);function nt(){var ft=Z!==null&&Z.apply(this,arguments)||this;return ft.type="time",ft}return nt.prototype.getText=function(ft,_t){var Ot=this.translate(ft),re=this.formatter;return re?re(Ot,_t):et(Ot,this.mask)},nt.prototype.scale=function(ft){var _t=ft;return((0,wt.HD)(_t)||(0,wt.J_)(_t))&&(_t=this.translate(_t)),Z.prototype.scale.call(this,_t)},nt.prototype.translate=function(ft){return P(ft)},nt.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},nt.prototype.setDomain=function(){var ft=this.values,_t=this.getConfig("min"),Ot=this.getConfig("max");if((!(0,wt.UM)(_t)||!(0,wt.hj)(_t))&&(this.min=this.translate(this.min)),(!(0,wt.UM)(Ot)||!(0,wt.hj)(Ot))&&(this.max=this.translate(this.max)),ft&&ft.length){var re=[],Ue=Infinity,$e=Ue,pr=0;(0,wt.S6)(ft,function(sr){var Ar=P(sr);if(isNaN(Ar))throw new TypeError("Invalid Time: "+sr+" in time scale!");Ue>Ar?($e=Ue,Ue=Ar):$e>Ar&&($e=Ar),pr<Ar&&(pr=Ar),re.push(Ar)}),ft.length>1&&(this.minTickInterval=$e-Ue),(0,wt.UM)(_t)&&(this.min=Ue),(0,wt.UM)(Ot)&&(this.max=pr)}},nt}(J),nr=Te,wr=function(Z){(0,pe.ZT)(nt,Z);function nt(){var ft=Z!==null&&Z.apply(this,arguments)||this;return ft.type="quantize",ft}return nt.prototype.invert=function(ft){var _t=this.ticks,Ot=_t.length,re=this.getInvertPercent(ft),Ue=Math.floor(re*(Ot-1));if(Ue>=Ot-1)return(0,wt.Z$)(_t);if(Ue<0)return(0,wt.YM)(_t);var $e=_t[Ue],pr=_t[Ue+1],sr=Ue/(Ot-1),Ar=(Ue+1)/(Ot-1);return $e+(re-sr)/(Ar-sr)*(pr-$e)},nt.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},nt.prototype.calculateTicks=function(){var ft=Z.prototype.calculateTicks.call(this);return this.nice||((0,wt.Z$)(ft)!==this.max&&ft.push(this.max),(0,wt.YM)(ft)!==this.min&&ft.unshift(this.min)),ft},nt.prototype.getScalePercent=function(ft){var _t=this.ticks;if(ft<(0,wt.YM)(_t))return 0;if(ft>(0,wt.Z$)(_t))return 1;var Ot=0;return(0,wt.S6)(_t,function(re,Ue){if(ft>=re)Ot=Ue;else return!1}),Ot/(_t.length-1)},nt}(me),er=wr,De=function(Z){(0,pe.ZT)(nt,Z);function nt(){var ft=Z!==null&&Z.apply(this,arguments)||this;return ft.type="quantile",ft}return nt.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},nt}(er),hr=De,Mr={};function Qe(Z){return Mr[Z]}function yr(Z,nt){if(Qe(Z))throw new Error("type '"+Z+"' existed.");Mr[Z]=nt}var Mt=function(Z){(0,pe.ZT)(nt,Z);function nt(){var ft=Z!==null&&Z.apply(this,arguments)||this;return ft.type="identity",ft.isIdentity=!0,ft}return nt.prototype.calculateTicks=function(){return this.values},nt.prototype.scale=function(ft){return this.values[0]!==ft&&(0,wt.hj)(ft)?ft:this.range[0]},nt.prototype.invert=function(ft){var _t=this.range;return ft<_t[0]||ft>_t[1]?NaN:this.values[0]},nt}(Ae),it=Mt;function N(Z){var nt=Z.values,ft=Z.tickInterval,_t=Z.tickCount,Ot=Z.showLast;if((0,wt.hj)(ft)){var re=(0,wt.hX)(nt,function(Tn,Gn){return Gn%ft==0}),Ue=(0,wt.Z$)(nt);return Ot&&(0,wt.Z$)(re)!==Ue&&re.push(Ue),re}var $e=nt.length,pr=Z.min,sr=Z.max;if((0,wt.UM)(pr)&&(pr=0),(0,wt.UM)(sr)&&(sr=nt.length-1),!(0,wt.hj)(_t)||_t>=$e)return nt.slice(pr,sr+1);if(_t<=0||sr<=0)return[];for(var Ar=_t===1?$e:Math.floor($e/(_t-1)),fn=[],qr=pr,xn=0;xn<_t&&!(qr>=sr);xn++)qr=Math.min(pr+xn*Ar,sr),xn===_t-1&&Ot?fn.push(nt[sr]):fn.push(nt[qr]);return fn}function ct(Z){var nt=Z.min,ft=Z.max,_t=Z.nice,Ot=Z.tickCount,re=new Ie;return re.domain([nt,ft]),_t&&re.nice(Ot),re.ticks(Ot)}var St=5,$t=Math.sqrt(50),ne=Math.sqrt(10),ge=Math.sqrt(2),Ie=function(){function Z(){this._domain=[0,1]}return Z.prototype.domain=function(nt){return nt?(this._domain=Array.from(nt,Number),this):this._domain.slice()},Z.prototype.nice=function(nt){var ft,_t;nt===void 0&&(nt=St);var Ot=this._domain.slice(),re=0,Ue=this._domain.length-1,$e=this._domain[re],pr=this._domain[Ue],sr;return pr<$e&&(ft=[pr,$e],$e=ft[0],pr=ft[1],_t=[Ue,re],re=_t[0],Ue=_t[1]),sr=Xr($e,pr,nt),sr>0?($e=Math.floor($e/sr)*sr,pr=Math.ceil(pr/sr)*sr,sr=Xr($e,pr,nt)):sr<0&&($e=Math.ceil($e*sr)/sr,pr=Math.floor(pr*sr)/sr,sr=Xr($e,pr,nt)),sr>0?(Ot[re]=Math.floor($e/sr)*sr,Ot[Ue]=Math.ceil(pr/sr)*sr,this.domain(Ot)):sr<0&&(Ot[re]=Math.ceil($e*sr)/sr,Ot[Ue]=Math.floor(pr*sr)/sr,this.domain(Ot)),this},Z.prototype.ticks=function(nt){return nt===void 0&&(nt=St),zr(this._domain[0],this._domain[this._domain.length-1],nt||St)},Z}();function zr(Z,nt,ft){var _t,Ot=-1,re,Ue,$e;if(nt=+nt,Z=+Z,ft=+ft,Z===nt&&ft>0)return[Z];if((_t=nt<Z)&&(re=Z,Z=nt,nt=re),($e=Xr(Z,nt,ft))===0||!isFinite($e))return[];if($e>0)for(Z=Math.ceil(Z/$e),nt=Math.floor(nt/$e),Ue=new Array(re=Math.ceil(nt-Z+1));++Ot<re;)Ue[Ot]=(Z+Ot)*$e;else for(Z=Math.floor(Z*$e),nt=Math.ceil(nt*$e),Ue=new Array(re=Math.ceil(Z-nt+1));++Ot<re;)Ue[Ot]=(Z-Ot)/$e;return _t&&Ue.reverse(),Ue}function Xr(Z,nt,ft){var _t=(nt-Z)/Math.max(0,ft),Ot=Math.floor(Math.log(_t)/Math.LN10),re=_t/Math.pow(10,Ot);return Ot>=0?(re>=$t?10:re>=ne?5:re>=ge?2:1)*Math.pow(10,Ot):-Math.pow(10,-Ot)/(re>=$t?10:re>=ne?5:re>=ge?2:1)}function Nr(Z,nt,ft){var _t;return ft==="ceil"?_t=Math.ceil(Z/nt):ft==="floor"?_t=Math.floor(Z/nt):_t=Math.round(Z/nt),_t*nt}function Sn(Z,nt,ft){var _t=Nr(Z,ft,"floor"),Ot=Nr(nt,ft,"ceil");_t=(0,wt.ri)(_t,ft),Ot=(0,wt.ri)(Ot,ft);for(var re=[],Ue=Math.max((Ot-_t)/(Math.pow(2,12)-1),ft),$e=_t;$e<=Ot;$e=$e+Ue){var pr=(0,wt.ri)($e,Ue);re.push(pr)}return{min:_t,max:Ot,ticks:re}}function Vr(Z,nt,ft){var _t,Ot=Z.minLimit,re=Z.maxLimit,Ue=Z.min,$e=Z.max,pr=Z.tickCount,sr=pr===void 0?5:pr,Ar=(0,wt.UM)(Ot)?(0,wt.UM)(nt)?Ue:nt:Ot,fn=(0,wt.UM)(re)?(0,wt.UM)(ft)?$e:ft:re;if(Ar>fn&&(_t=[Ar,fn],fn=_t[0],Ar=_t[1]),sr<=2)return[Ar,fn];for(var qr=(fn-Ar)/(sr-1),xn=[],Tn=0;Tn<sr;Tn++)xn.push(Ar+qr*Tn);return xn}function Kn(Z){var nt=Z.min,ft=Z.max,_t=Z.tickInterval,Ot=Z.minLimit,re=Z.maxLimit,Ue=ct(Z);return!(0,wt.UM)(Ot)||!(0,wt.UM)(re)?Vr(Z,(0,wt.YM)(Ue),(0,wt.Z$)(Ue)):_t?Sn(nt,ft,_t).ticks:Ue}function jn(Z){return Math.abs(Z)<1e-15?Z:parseFloat(Z.toFixed(15))}var Vn=[1,5,2,2.5,4,3],ci=null,$n=Number.EPSILON*100;function Sr(Z,nt){return(Z%nt+nt)%nt}function yi(Z){return Math.round(Z*1e12)/1e12}function di(Z,nt,ft,_t,Ot,re){var Ue=(0,wt.dp)(nt),$e=(0,wt.cq)(nt,Z),pr=0,sr=Sr(_t,re);return(sr<$n||re-sr<$n)&&_t<=0&&Ot>=0&&(pr=1),1-$e/(Ue-1)-ft+pr}function ot(Z,nt,ft){var _t=(0,wt.dp)(nt),Ot=(0,wt.cq)(nt,Z),re=1;return 1-Ot/(_t-1)-ft+re}function H(Z,nt,ft,_t,Ot,re){var Ue=(Z-1)/(re-Ot),$e=(nt-1)/(Math.max(re,_t)-Math.min(ft,Ot));return 2-Math.max(Ue/$e,$e/Ue)}function I(Z,nt){return Z>=nt?2-(Z-1)/(nt-1):1}function V(Z,nt,ft,_t){var Ot=nt-Z;return 1-.5*(Math.pow(nt-_t,2)+Math.pow(Z-ft,2))/Math.pow(.1*Ot,2)}function $(Z,nt,ft){var _t=nt-Z;if(ft>_t){var Ot=(ft-_t)/2;return 1-Math.pow(Ot,2)/Math.pow(.1*_t,2)}return 1}function gt(){return 1}function Et(Z,nt,ft,_t,Ot,re){ft===void 0&&(ft=5),_t===void 0&&(_t=!0),Ot===void 0&&(Ot=Vn),re===void 0&&(re=[.25,.2,.5,.05]);var Ue=ft<0?0:Math.round(ft);if(Number.isNaN(Z)||Number.isNaN(nt)||typeof Z!="number"||typeof nt!="number"||!Ue)return{min:0,max:0,ticks:[]};if(nt-Z<1e-15||Ue===1)return{min:Z,max:nt,ticks:[Z]};for(var $e={score:-2,lmin:0,lmax:0,lstep:0},pr=1;pr<Infinity;){for(var sr=0;sr<Ot.length;sr+=1){var Ar=Ot[sr],fn=ot(Ar,Ot,pr);if(re[0]*fn+re[1]+re[2]+re[3]<$e.score){pr=Infinity;break}for(var qr=2;qr<Infinity;){var xn=I(qr,Ue);if(re[0]*fn+re[1]+re[2]*xn+re[3]<$e.score)break;for(var Tn=(nt-Z)/(qr+1)/pr/Ar,Gn=Math.ceil(Math.log10(Tn));Gn<Infinity;){var On=pr*Ar*Math.pow(10,Gn),ri=$(Z,nt,On*(qr-1));if(re[0]*fn+re[1]*ri+re[2]*xn+re[3]<$e.score)break;var _n=Math.floor(nt/On)*pr-(qr-1)*pr,ai=Math.ceil(Z/On)*pr;if(_n<=ai)for(var mn=ai-_n,Un=0;Un<=mn;Un+=1){var ni=_n+Un,Hn=ni*(On/pr),Yn=Hn+On*(qr-1),Er=On,Ni=di(Ar,Ot,pr,Hn,Yn,Er),bn=V(Z,nt,Hn,Yn),Li=H(qr,Ue,Z,nt,Hn,Yn),Mi=gt(),zi=re[0]*Ni+re[1]*bn+re[2]*Li+re[3]*Mi;zi>$e.score&&(!_t||Hn<=Z&&Yn>=nt)&&($e.lmin=Hn,$e.lmax=Yn,$e.lstep=Er,$e.score=zi)}Gn+=1}qr+=1}}pr+=1}var Jr=jn($e.lmax),oi=jn($e.lmin),bi=jn($e.lstep),ki=Math.floor(yi((Jr-oi)/bi))+1,hi=new Array(ki);hi[0]=jn(oi);for(var sr=1;sr<ki;sr++)hi[sr]=jn(hi[sr-1]+bi);return{min:Math.min(Z,(0,wt.YM)(hi)),max:Math.max(nt,(0,wt.Z$)(hi)),ticks:hi}}function Ut(Z){var nt=Z.min,ft=Z.max,_t=Z.tickCount,Ot=Z.nice,re=Z.tickInterval,Ue=Z.minLimit,$e=Z.maxLimit,pr=Et(nt,ft,_t,Ot).ticks;return!(0,wt.UM)(Ue)||!(0,wt.UM)($e)?Vr(Z,(0,wt.YM)(pr),(0,wt.Z$)(pr)):re?Sn(nt,ft,re).ticks:pr}function Oe(Z){var nt=Z.base,ft=Z.tickCount,_t=Z.min,Ot=Z.max,re=Z.values,Ue,$e=yt(nt,Ot);if(_t>0)Ue=Math.floor(yt(nt,_t));else{var pr=Dt(re,nt,Ot);Ue=Math.floor(yt(nt,pr))}for(var sr=$e-Ue,Ar=Math.ceil(sr/ft),fn=[],qr=Ue;qr<$e+Ar;qr=qr+Ar)fn.push(Math.pow(nt,qr));return _t<=0&&fn.unshift(0),fn}function je(Z,nt,ft){if(ft===void 0&&(ft=5),Z===nt)return{max:nt,min:Z,ticks:[Z]};var _t=ft<0?0:Math.round(ft);if(_t===0)return{max:nt,min:Z,ticks:[]};var Ot=1.5,re=.5+1.5*Ot,Ue=nt-Z,$e=Ue/_t,pr=Math.pow(10,Math.floor(Math.log10($e))),sr=pr;2*pr-$e<Ot*($e-sr)&&(sr=2*pr,5*pr-$e<re*($e-sr)&&(sr=5*pr,10*pr-$e<Ot*($e-sr)&&(sr=10*pr)));for(var Ar=Math.ceil(nt/sr),fn=Math.floor(Z/sr),qr=Math.max(Ar*sr,nt),xn=Math.min(fn*sr,Z),Tn=Math.floor((qr-xn)/sr)+1,Gn=new Array(Tn),On=0;On<Tn;On++)Gn[On]=jn(xn+On*sr);return{min:xn,max:qr,ticks:Gn}}function Je(Z){var nt=Z.exponent,ft=Z.tickCount,_t=Math.ceil(lt(nt,Z.max)),Ot=Math.floor(lt(nt,Z.min)),re=je(Ot,_t,ft).ticks;return re.map(function(Ue){var $e=Ue>=0?1:-1;return Math.pow(Ue,nt)*$e})}function ze(Z,nt){var ft=Z.length*nt;return nt===1?Z[Z.length-1]:nt===0?Z[0]:ft%1!=0?Z[Math.ceil(ft)-1]:Z.length%2==0?(Z[ft-1]+Z[ft])/2:Z[ft]}function vr(Z){var nt=Z.tickCount,ft=Z.values;if(!ft||!ft.length)return[];for(var _t=ft.slice().sort(function($e,pr){return $e-pr}),Ot=[],re=0;re<nt;re++){var Ue=re/(nt-1);Ot.push(ze(_t,Ue))}return Ot}function Lr(Z){var nt=Z.min,ft=Z.max,_t=Z.tickCount,Ot=Z.tickInterval,re=Z.minLimit,Ue=Z.maxLimit,$e=je(nt,ft,_t).ticks;return!(0,wt.UM)(re)||!(0,wt.UM)(Ue)?Vr(Z,(0,wt.YM)($e),(0,wt.Z$)($e)):Ot?Sn(nt,ft,Ot).ticks:$e}function $r(Z){var nt=Z.min,ft=Z.max,_t=Z.minTickInterval,Ot=Z.tickInterval,re=Z.tickCount;if(Ot)re=Math.ceil((ft-nt)/Ot);else{Ot=st(nt,ft,re)[1];var Ue=(ft-nt)/Ot,$e=Ue/re;$e>1&&(Ot=Ot*Math.ceil($e)),_t&&Ot<_t&&(Ot=_t)}Ot=Math.max(Math.floor((ft-nt)/(Math.pow(2,12)-1)),Ot);for(var pr=[],sr=nt;sr<ft+Ot;sr+=Ot)pr.push(sr);return pr}function an(Z){var nt=N((0,pe.pi)({showLast:!0},Z));return nt}function Mn(Z){return new Date(Z).getFullYear()}function ln(Z){return new Date(Z,0,1).getTime()}function En(Z){return new Date(Z).getMonth()}function yn(Z,nt){var ft=Mn(Z),_t=Mn(nt),Ot=En(Z),re=En(nt);return(_t-ft)*12+(re-Ot)%12}function tn(Z,nt){return new Date(Z,nt,1).getTime()}function Dn(Z,nt){return Math.ceil((nt-Z)/T)}function hn(Z,nt){return Math.ceil((nt-Z)/k)}function wn(Z,nt){return Math.ceil((nt-Z)/(60*1e3))}function fi(Z){var nt=Z.min,ft=Z.max,_t=Z.minTickInterval,Ot=Z.tickCount,re=Z.tickInterval,Ue=[];re||(re=(ft-nt)/Ot,_t&&re<_t&&(re=_t)),re=Math.max(Math.floor((ft-nt)/(Math.pow(2,12)-1)),re);var $e=Mn(nt);if(re>j)for(var pr=Mn(ft),sr=Math.ceil(re/j),Ar=$e;Ar<=pr+sr;Ar=Ar+sr)Ue.push(ln(Ar));else if(re>R)for(var fn=Math.ceil(re/R),qr=En(nt),xn=yn(nt,ft),Ar=0;Ar<=xn+fn;Ar=Ar+fn)Ue.push(tn($e,Ar+qr));else if(re>T)for(var Tn=new Date(nt),Gn=Tn.getFullYear(),On=Tn.getMonth(),ri=Tn.getDate(),_n=Math.ceil(re/T),ai=Dn(nt,ft),Ar=0;Ar<ai+_n;Ar=Ar+_n)Ue.push(new Date(Gn,On,ri+Ar).getTime());else if(re>k)for(var Tn=new Date(nt),Gn=Tn.getFullYear(),On=Tn.getMonth(),_n=Tn.getDate(),mn=Tn.getHours(),Un=Math.ceil(re/k),ni=hn(nt,ft),Ar=0;Ar<=ni+Un;Ar=Ar+Un)Ue.push(new Date(Gn,On,_n,mn+Ar).getTime());else if(re>L)for(var Hn=wn(nt,ft),Yn=Math.ceil(re/L),Ar=0;Ar<=Hn+Yn;Ar=Ar+Yn)Ue.push(nt+Ar*L);else{var Er=re;Er<C&&(Er=C);for(var Ni=Math.floor(nt/C)*C,bn=Math.ceil((ft-nt)/C),Li=Math.ceil(Er/C),Ar=0;Ar<bn+Li;Ar=Ar+Li)Ue.push(Ni+Ar*C)}return Ue.length>=512&&console.warn("Notice: current ticks length("+Ue.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+re+") is too small, increase the value to solve the problem!"),Ue}Ee("cat",N),Ee("time-cat",an),Ee("wilkinson-extended",Ut),Ee("r-pretty",Lr),Ee("time",$r),Ee("time-pretty",fi),Ee("log",Oe),Ee("pow",Je),Ee("quantile",vr),Ee("d3-linear",Kn),yr("cat",Ye),yr("category",Ye),yr("identity",it),yr("linear",J),yr("log",de),yr("pow",Ge),yr("time",nr),yr("timeCat",qt),yr("quantize",er),yr("quantile",hr)},41694:function(Wr,cr,Rt){"use strict";Rt.d(cr,{Ct:function(){return Xi},f0:function(){return La},uZ:function(){return Mt},VS:function(){return mn},d9:function(){return Yn},FX:function(){return c},Ds:function(){return Ni},b$:function(){return Jr},e5:function(){return pe},S6:function(){return Me},yW:function(){return Zt},hX:function(){return Tt},sE:function(){return xt},cx:function(){return It},Wx:function(){return At},ri:function(){return N},xH:function(){return K},U5:function(){return Oe},U2:function(){return Va},Lo:function(){return Ji},rx:function(){return Re},ru:function(){return wr},vM:function(){return Te},Ms:function(){return nr},wH:function(){return Je},YM:function(){return me},q9:function(){return c},cq:function(){return hi},kJ:function(){return fe},jn:function(){return ft},J_:function(){return Ot},kK:function(){return _n},xb:function(){return Pi},Xy:function(){return Qn},mf:function(){return Ct},BD:function(){return be},UM:function(){return Jt},Ft:function(){return sr},hj:function(){return St},vQ:function(){return Kn},Kn:function(){return ke},PO:function(){return fr},HD:function(){return tt},P9:function(){return Be},o8:function(){return On},XP:function(){return Nt},Z$:function(){return He},vl:function(){return Mn},UI:function(){return Ia},Q8:function(){return ha},Fp:function(){return oe},UT:function(){return Sr},HP:function(){return bn},VV:function(){return Ve},F:function(){return yi},CD:function(){return La},wQ:function(){return ot},ZT:function(){return Ha},CE:function(){return Ui},ei:function(){return Ua},u4:function(){return T},Od:function(){return j},U7:function(){return ai},t8:function(){return va},dp:function(){return Ya},G:function(){return de},MR:function(){return Bt},ng:function(){return En},P2:function(){return Hi},qo:function(){return pa},c$:function(){return Ut},BB:function(){return $r},jj:function(){return qt},EL:function(){return da},jC:function(){return tn},VO:function(){return vr},I:function(){return Qt}});var Xt=function(Y){return Y!==null&&typeof Y!="function"&&isFinite(Y.length)},wt=Xt,d=function(Y,mt){return wt(Y)?Y.indexOf(mt)>-1:!1},c=d,Ee=function(Y,mt){if(!wt(Y))return Y;for(var zt=[],Gt=0;Gt<Y.length;Gt++){var Ce=Y[Gt];mt(Ce,Gt)&&zt.push(Ce)}return zt},Tt=Ee,Ae=function(Y,mt){return mt===void 0&&(mt=[]),Tt(Y,function(zt){return!c(mt,zt)})},pe=Ae,se={}.toString,Ye=function(Y,mt){return se.call(Y)==="[object "+mt+"]"},Be=Ye,Ct=function(Y){return Be(Y,"Function")},rt=function(Y){return Y==null},Jt=rt,fe=function(Y){return Array.isArray?Array.isArray(Y):Be(Y,"Array")},ke=function(Y){var mt=typeof Y;return Y!==null&&mt==="object"||mt==="function"};function Pe(Y,mt){if(!!Y){var zt;if(fe(Y))for(var Gt=0,Ce=Y.length;Gt<Ce&&(zt=mt(Y[Gt],Gt),zt!==!1);Gt++);else if(ke(Y)){for(var ir in Y)if(Y.hasOwnProperty(ir)&&(zt=mt(Y[ir],ir),zt===!1))break}}}var Me=Pe,_e=Object.keys?function(Y){return Object.keys(Y)}:function(Y){var mt=[];return Me(Y,function(zt,Gt){Ct(Y)&&Gt==="prototype"||mt.push(Gt)}),mt},Nt=_e;function Ht(Y,mt){var zt=Nt(mt),Gt=zt.length;if(Jt(Y))return!Gt;for(var Ce=0;Ce<Gt;Ce+=1){var ir=zt[Ce];if(mt[ir]!==Y[ir]||!(ir in Y))return!1}return!0}var be=Ht,Se=function(Y){return typeof Y=="object"&&Y!==null},Ne=Se,lr=function(Y){if(!Ne(Y)||!Be(Y,"Object"))return!1;if(Object.getPrototypeOf(Y)===null)return!0;for(var mt=Y;Object.getPrototypeOf(mt)!==null;)mt=Object.getPrototypeOf(mt);return Object.getPrototypeOf(Y)===mt},fr=lr;function Yt(Y,mt){if(!fe(Y))return null;var zt;if(Ct(mt)&&(zt=mt),fr(mt)&&(zt=function(Ce){return be(Ce,mt)}),zt){for(var Gt=0;Gt<Y.length;Gt+=1)if(zt(Y[Gt]))return Y[Gt]}return null}var xt=Yt;function Lt(Y,mt,zt){zt===void 0&&(zt=0);for(var Gt=zt;Gt<Y.length;Gt++)if(mt(Y[Gt],Gt))return Gt;return-1}var It=Lt,Ft=function(Y,mt){for(var zt=null,Gt=0;Gt<Y.length;Gt++){var Ce=Y[Gt],ir=Ce[mt];if(!Jt(ir)){fe(ir)?zt=ir[0]:zt=ir;break}}return zt},At=Ft,B=function(Y){if(!fe(Y))return[];for(var mt=[],zt=0;zt<Y.length;zt++)mt=mt.concat(Y[zt]);return mt},K=B,Pt=function(Y,mt){if(mt===void 0&&(mt=[]),!isArray(Y))mt.push(Y);else for(var zt=0;zt<Y.length;zt+=1)Pt(Y[zt],mt);return mt},xe=null,oe=function(Y){if(!!fe(Y))return Y.reduce(function(mt,zt){return Math.max(mt,zt)},Y[0])},Ve=function(Y){if(!!fe(Y))return Y.reduce(function(mt,zt){return Math.min(mt,zt)},Y[0])},Xe=function(Y){var mt=Y.filter(function(Fr){return!isNaN(Fr)});if(!mt.length)return{min:0,max:0};if(fe(Y[0])){for(var zt=[],Gt=0;Gt<Y.length;Gt++)zt=zt.concat(Y[Gt]);mt=zt}var Ce=oe(mt),ir=Ve(mt);return{min:ir,max:Ce}},Re=Xe,Ke=Array.prototype,we=Ke.splice,or=Ke.indexOf,Vt=function(Y){for(var mt=[],zt=1;zt<arguments.length;zt++)mt[zt-1]=arguments[zt];for(var Gt=0;Gt<mt.length;Gt++)for(var Ce=mt[Gt],ir=-1;(ir=or.call(Y,Ce))>-1;)we.call(Y,ir,1);return Y},et=null,P=Array.prototype.splice,C=function(mt,zt){if(!wt(mt))return[];for(var Gt=mt?zt.length:0,Ce=Gt-1;Gt--;){var ir=void 0,Fr=zt[Gt];(Gt===Ce||Fr!==ir)&&(ir=Fr,P.call(mt,Fr,1))}return mt},L=C,k=function(Y,mt,zt){if(!fe(Y)&&!fr(Y))return Y;var Gt=zt;return Me(Y,function(Ce,ir){Gt=mt(Gt,Ce,ir)}),Gt},T=k,R=function(Y,mt){var zt=[];if(!wt(Y))return zt;for(var Gt=-1,Ce=[],ir=Y.length;++Gt<ir;){var Fr=Y[Gt];mt(Fr,Gt,Y)&&(zt.push(Fr),Ce.push(Gt))}return L(Y,Ce),zt},j=R,tt=function(Y){return Be(Y,"String")};function st(Y,mt){var zt;if(Ct(mt))zt=function(Ce,ir){return mt(Ce)-mt(ir)};else{var Gt=[];tt(mt)?Gt.push(mt):fe(mt)&&(Gt=mt),zt=function(Ce,ir){for(var Fr=0;Fr<Gt.length;Fr+=1){var Kr=Gt[Fr];if(Ce[Kr]>ir[Kr])return 1;if(Ce[Kr]<ir[Kr])return-1}return 0}}return Y.sort(zt),Y}var Bt=st;function qt(Y,mt){mt===void 0&&(mt=new Map);var zt=[];if(Array.isArray(Y))for(var Gt=0,Ce=Y.length;Gt<Ce;Gt++){var ir=Y[Gt];mt.has(ir)||(zt.push(ir),mt.set(ir,!0))}return zt}var Qt=function(Y,mt){for(var zt=[],Gt={},Ce=0;Ce<Y.length;Ce++){var ir=Y[Ce],Fr=ir[mt];if(!Jt(Fr)){fe(Fr)||(Fr=[Fr]);for(var Kr=0;Kr<Fr.length;Kr++){var Jn=Fr[Kr];Gt[Jn]||(zt.push(Jn),Gt[Jn]=!0)}}}return zt};function me(Y){if(wt(Y))return Y[0]}function He(Y){if(wt(Y)){var mt=Y;return mt[mt.length-1]}}function J(Y,mt){return isArray(Y)||isString(Y)?Y[0]===mt:!1}var lt=null;function yt(Y,mt){return isArray(Y)||isString(Y)?Y[Y.length-1]===mt:!1}var Dt=null,te=function(Y,mt){for(var zt=0;zt<Y.length;zt++)if(!mt(Y[zt],zt))return!1;return!0},Zt=te,ue=function(Y,mt){for(var zt=0;zt<Y.length;zt++)if(mt(Y[zt],zt))return!0;return!1},de=ue,ee=Object.prototype.hasOwnProperty;function Ge(Y,mt){if(!mt||!fe(Y))return{};for(var zt={},Gt=Ct(mt)?mt:function(Kr){return Kr[mt]},Ce,ir=0;ir<Y.length;ir++){var Fr=Y[ir];Ce=Gt(Fr),ee.call(zt,Ce)?zt[Ce].push(Fr):zt[Ce]=[Fr]}return zt}var Te=Ge;function nr(Y,mt){if(!mt)return{0:Y};if(!Ct(mt)){var zt=fe(mt)?mt:mt.replace(/\s+/g,"").split("*");mt=function(Gt){for(var Ce="_",ir=0,Fr=zt.length;ir<Fr;ir++)Ce+=Gt[zt[ir]]&&Gt[zt[ir]].toString();return Ce}}return Te(Y,mt)}var wr=function(Y,mt){if(!mt)return[Y];var zt=nr(Y,mt),Gt=[];for(var Ce in zt)Gt.push(zt[Ce]);return Gt},er={};function De(Y){var mt=er[Y];if(!mt){for(var zt=Y.toString(16),Gt=zt.length;Gt<6;Gt++)zt="0"+zt;mt="#"+zt,er[Y]=mt}return mt}var hr=null;function Mr(Y){var mt=0,zt=0,Gt=0,Ce=0;return isArray(Y)?Y.length===1?mt=zt=Gt=Ce=Y[0]:Y.length===2?(mt=Gt=Y[0],zt=Ce=Y[1]):Y.length===3?(mt=Y[0],zt=Ce=Y[1],Gt=Y[2]):(mt=Y[0],zt=Y[1],Gt=Y[2],Ce=Y[3]):mt=zt=Gt=Ce=Y,{r1:mt,r2:zt,r3:Gt,r4:Ce}}var Qe=null,yr=function(Y,mt,zt){return Y<mt?mt:Y>zt?zt:Y},Mt=yr,it=function(Y,mt){var zt=mt.toString(),Gt=zt.indexOf(".");if(Gt===-1)return Math.round(Y);var Ce=zt.substr(Gt+1).length;return Ce>20&&(Ce=20),parseFloat(Y.toFixed(Ce))},N=it,ct=function(Y){return Be(Y,"Number")},St=ct,$t=function(Y){return isNumber(Y)&&Y%1!=0},ne=null,ge=function(Y){return isNumber(Y)&&Y%2==0},Ie=null,zr=Number.isInteger?Number.isInteger:function(Y){return St(Y)&&Y%1==0},Xr=null,Nr=function(Y){return isNumber(Y)&&Y<0},Sn=null,Vr=1e-5;function Kn(Y,mt,zt){return zt===void 0&&(zt=Vr),Math.abs(Y-mt)<zt}var jn=function(Y){return isNumber(Y)&&Y%2!=0},Vn=null,ci=function(Y){return isNumber(Y)&&Y>0},$n=null,Sr=function(Y,mt){if(!!fe(Y)){for(var zt,Gt=-Infinity,Ce=0;Ce<Y.length;Ce++){var ir=Y[Ce],Fr=Ct(mt)?mt(ir):ir[mt];Fr>Gt&&(zt=ir,Gt=Fr)}return zt}},yi=function(Y,mt){if(!!fe(Y)){for(var zt,Gt=Infinity,Ce=0;Ce<Y.length;Ce++){var ir=Y[Ce],Fr=Ct(mt)?mt(ir):ir[mt];Fr<Gt&&(zt=ir,Gt=Fr)}return zt}},di=function(Y,mt){return(Y%mt+mt)%mt},ot=di,H=180/Math.PI,I=function(Y){return H*Y},V=null,$=parseInt,gt=Math.PI/180,Et=function(Y){return gt*Y},Ut=Et,Oe=Me,je=function(Y,mt){return Y.hasOwnProperty(mt)},Je=je,ze=Object.values?function(Y){return Object.values(Y)}:function(Y){var mt=[];return Me(Y,function(zt,Gt){Ct(Y)&&Gt==="prototype"||mt.push(zt)}),mt},vr=ze,Lr=function(Y,mt){return contains(values(Y),mt)},$r=function(Y){return Jt(Y)?"":Y.toString()},an=function(Y){return $r(Y).toLowerCase()},Mn=an;function ln(Y,mt){return!Y||!mt?Y:Y.replace(/\\?\{([^{}]+)\}/g,function(zt,Gt){return zt.charAt(0)==="\\"?zt.slice(1):mt[Gt]===void 0?"":mt[Gt]})}var En=ln,yn=function(Y){var mt=$r(Y);return mt.charAt(0).toUpperCase()+mt.substring(1)},tn=yn,Dn={}.toString,hn=function(Y){return Dn.call(Y).replace(/^\[object /,"").replace(/]$/,"")},wn=hn,fi=function(Y){return isType(Y,"Arguments")},Z=null,nt=function(Y){return Be(Y,"Boolean")},ft=nt,_t=function(Y){return Be(Y,"Date")},Ot=_t,re=function(Y){return isType(Y,"Error")},Ue=null;function $e(Y){return isNumber(Y)&&isFinite(Y)}var pr=function(Y){return Y===null},sr=pr,Ar=Object.prototype,fn=function(Y){var mt=Y&&Y.constructor,zt=typeof mt=="function"&&mt.prototype||Ar;return Y===zt},qr=fn,xn=function(Y){return isType(Y,"RegExp")},Tn=null,Gn=function(Y){return Y===void 0},On=Gn,ri=function(Y){return Y instanceof Element||Y instanceof HTMLDocument},_n=ri;function ai(Y){var mt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(zt){return setTimeout(zt,16)};return mt(Y)}function mn(Y){var mt=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;mt(Y)}var Un=function(){for(var Y=[],mt=0;mt<arguments.length;mt++)Y[mt]=arguments[mt];for(var zt=Y[0],Gt=1;Gt<Y.length;Gt++){var Ce=Y[Gt];isFunction(Ce)&&(Ce=Ce.prototype),mix(zt.prototype,Ce)}},ni=null,Hn=function(Y){if(typeof Y!="object"||Y===null)return Y;var mt;if(fe(Y)){mt=[];for(var zt=0,Gt=Y.length;zt<Gt;zt++)typeof Y[zt]=="object"&&Y[zt]!=null?mt[zt]=Hn(Y[zt]):mt[zt]=Y[zt]}else{mt={};for(var Ce in Y)typeof Y[Ce]=="object"&&Y[Ce]!=null?mt[Ce]=Hn(Y[Ce]):mt[Ce]=Y[Ce]}return mt},Yn=Hn;function Er(Y,mt,zt){var Gt;return function(){var Ce=this,ir=arguments,Fr=function(){Gt=null,zt||Y.apply(Ce,ir)},Kr=zt&&!Gt;clearTimeout(Gt),Gt=setTimeout(Fr,mt),Kr&&Y.apply(Ce,ir)}}var Ni=Er,bn=function(Y,mt){if(!Ct(Y))throw new TypeError("Expected a function");var zt=function(){for(var Gt=[],Ce=0;Ce<arguments.length;Ce++)Gt[Ce]=arguments[Ce];var ir=mt?mt.apply(this,Gt):Gt[0],Fr=zt.cache;if(Fr.has(ir))return Fr.get(ir);var Kr=Y.apply(this,Gt);return Fr.set(ir,Kr),Kr};return zt.cache=new Map,zt},Li=5;function Mi(Y,mt,zt,Gt){zt=zt||0,Gt=Gt||Li;for(var Ce in mt)if(mt.hasOwnProperty(Ce)){var ir=mt[Ce];ir!==null&&fr(ir)?(fr(Y[Ce])||(Y[Ce]={}),zt<Gt?Mi(Y[Ce],ir,zt+1,Gt):Y[Ce]=mt[Ce]):fe(ir)?(Y[Ce]=[],Y[Ce]=Y[Ce].concat(ir)):ir!==void 0&&(Y[Ce]=ir)}}var zi=function(Y){for(var mt=[],zt=1;zt<arguments.length;zt++)mt[zt-1]=arguments[zt];for(var Gt=0;Gt<mt.length;Gt+=1)Mi(Y,mt[Gt]);return Y},Jr=zi,oi=function(Y,mt,zt,Gt){isFunction(mt)||(zt=mt,mt=Y,Y=function(){});var Ce=Object.create?function(Fr,Kr){return Object.create(Fr,{constructor:{value:Kr}})}:function(Fr,Kr){function Jn(){}Jn.prototype=Fr;var Xn=new Jn;return Xn.constructor=Kr,Xn},ir=Ce(mt.prototype,Y);return Y.prototype=mix(ir,Y.prototype),Y.superclass=Ce(mt.prototype,mt),mix(ir,zt),mix(Y,Gt),Y},bi=null,ki=function(Y,mt){if(!wt(Y))return-1;var zt=Array.prototype.indexOf;if(zt)return zt.call(Y,mt);for(var Gt=-1,Ce=0;Ce<Y.length;Ce++)if(Y[Ce]===mt){Gt=Ce;break}return Gt},hi=ki,Vi=Object.prototype.hasOwnProperty;function ca(Y){if(Jt(Y))return!0;if(wt(Y))return!Y.length;var mt=wn(Y);if(mt==="Map"||mt==="Set")return!Y.size;if(qr(Y))return!Object.keys(Y).length;for(var zt in Y)if(Vi.call(Y,zt))return!1;return!0}var Pi=ca,Gi=function(Y,mt){if(Y===mt)return!0;if(!Y||!mt||tt(Y)||tt(mt))return!1;if(wt(Y)||wt(mt)){if(Y.length!==mt.length)return!1;for(var zt=!0,Gt=0;Gt<Y.length&&(zt=Gi(Y[Gt],mt[Gt]),!!zt);Gt++);return zt}if(Ne(Y)||Ne(mt)){var Ce=Object.keys(Y),ir=Object.keys(mt);if(Ce.length!==ir.length)return!1;for(var zt=!0,Gt=0;Gt<Ce.length&&(zt=Gi(Y[Ce[Gt]],mt[Ce[Gt]]),!!zt);Gt++);return zt}return!1},Qn=Gi,Di=function(Y,mt,zt){return isFunction(zt)?!!zt(Y,mt):isEqual(Y,mt)},fa=function(Y,mt){if(!wt(Y))return Y;for(var zt=[],Gt=0;Gt<Y.length;Gt++){var Ce=Y[Gt];zt.push(mt(Ce,Gt))}return zt},Ia=fa,za=function(Y){return Y},ha=function(Y,mt){mt===void 0&&(mt=za);var zt={};return ke(Y)&&!Jt(Y)&&Object.keys(Y).forEach(function(Gt){zt[Gt]=mt(Y[Gt],Gt)}),zt};function vi(Y,mt){for(var zt in mt)mt.hasOwnProperty(zt)&&zt!=="constructor"&&mt[zt]!==void 0&&(Y[zt]=mt[zt])}function La(Y,mt,zt,Gt){return mt&&vi(Y,mt),zt&&vi(Y,zt),Gt&&vi(Y,Gt),Y}var Va=function(Y,mt,zt){for(var Gt=0,Ce=tt(mt)?mt.split("."):mt;Y&&Gt<Ce.length;)Y=Y[Ce[Gt++]];return Y===void 0||Gt<Ce.length?zt:Y},va=function(Y,mt,zt){var Gt=Y,Ce=tt(mt)?mt.split("."):mt;return Ce.forEach(function(ir,Fr){Fr<Ce.length-1?(ke(Gt[ir])||(Gt[ir]=St(Ce[Fr+1])?[]:{}),Gt=Gt[ir]):Gt[ir]=zt}),Y},Ga=Object.prototype.hasOwnProperty,Ua=function(Y,mt){if(Y===null||!fr(Y))return{};var zt={};return Me(mt,function(Gt){Ga.call(Y,Gt)&&(zt[Gt]=Y[Gt])}),zt},Ui=function(Y,mt){return T(Y,function(zt,Gt,Ce){return mt.includes(Ce)||(zt[Ce]=Gt),zt},{})},Hi=function(Y,mt,zt){var Gt,Ce,ir,Fr,Kr=0;zt||(zt={});var Jn=function(){Kr=zt.leading===!1?0:Date.now(),Gt=null,Fr=Y.apply(Ce,ir),Gt||(Ce=ir=null)},Xn=function(){var In=Date.now();!Kr&&zt.leading===!1&&(Kr=In);var G=mt-(In-Kr);return Ce=this,ir=arguments,G<=0||G>mt?(Gt&&(clearTimeout(Gt),Gt=null),Kr=In,Fr=Y.apply(Ce,ir),Gt||(Ce=ir=null)):!Gt&&zt.trailing!==!1&&(Gt=setTimeout(Jn,G)),Fr};return Xn.cancel=function(){clearTimeout(Gt),Kr=0,Gt=Ce=ir=null},Xn},pa=function(Y){return wt(Y)?Array.prototype.slice.call(Y):[]},Yi={},da=function(Y){return Y=Y||"g",Yi[Y]?Yi[Y]+=1:Yi[Y]=1,Y+Yi[Y]},Ha=function(){};function Ya(Y){return Jt(Y)?0:wt(Y)?Y.length:Object.keys(Y).length}var ga=Rt(70655),Oi,ii=bn(function(Y,mt){mt===void 0&&(mt={});var zt=mt.fontSize,Gt=mt.fontFamily,Ce=mt.fontWeight,ir=mt.fontStyle,Fr=mt.fontVariant;return Oi||(Oi=document.createElement("canvas").getContext("2d")),Oi.font=[ir,Fr,Ce,zt+"px",Gt].join(" "),Oi.measureText(tt(Y)?Y:"").width},function(Y,mt){return mt===void 0&&(mt={}),(0,ga.pr)([Y],vr(mt)).join("")}),Ji=function(Y,mt,zt,Gt){Gt===void 0&&(Gt="...");var Ce=16,ir=ii(Gt,zt),Fr=tt(Y)?Y:$r(Y),Kr=mt,Jn=[],Xn,In;if(ii(Y,zt)<=mt)return Y;for(;Xn=Fr.substr(0,Ce),In=ii(Xn,zt),!(In+ir>Kr&&In>Kr);)if(Jn.push(Xn),Kr-=In,Fr=Fr.substr(Ce),!Fr)return Jn.join("");for(;Xn=Fr.substr(0,1),In=ii(Xn,zt),!(In+ir>Kr);)if(Jn.push(Xn),Kr-=In,Fr=Fr.substr(1),!Fr)return Jn.join("");return""+Jn.join("")+Gt},so=function(){function Y(){this.map={}}return Y.prototype.has=function(mt){return this.map[mt]!==void 0},Y.prototype.get=function(mt,zt){var Gt=this.map[mt];return Gt===void 0?zt:Gt},Y.prototype.set=function(mt,zt){this.map[mt]=zt},Y.prototype.clear=function(){this.map={}},Y.prototype.delete=function(mt){delete this.map[mt]},Y.prototype.size=function(){return Object.keys(this.map).length},Y}(),Xi=so},56645:function(Wr,cr){(function(Rt,Xt){Xt(cr)})(this,function(Rt){"use strict";function Xt(Yt,xt){return wt(Yt)||d(Yt,xt)||c()}function wt(Yt){if(Array.isArray(Yt))return Yt}function d(Yt,xt){var Lt=[],It=!0,Ft=!1,At=void 0;try{for(var B=Yt[Symbol.iterator](),K;!(It=(K=B.next()).done)&&(Lt.push(K.value),!(xt&&Lt.length===xt));It=!0);}catch(Pt){Ft=!0,At=Pt}finally{try{!It&&B.return!=null&&B.return()}finally{if(Ft)throw At}}return Lt}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Ee(Yt,xt,Lt,It){Yt=Yt.filter(function(Ke,we){var or=xt(Ke,we),Vt=Lt(Ke,we);return or!=null&&isFinite(or)&&Vt!=null&&isFinite(Vt)}),It&&Yt.sort(function(Ke,we){return xt(Ke)-xt(we)});for(var Ft=Yt.length,At=new Float64Array(Ft),B=new Float64Array(Ft),K=0,Pt=0,xe,oe,Ve,Xe=0;Xe<Ft;)Ve=Yt[Xe],At[Xe]=xe=+xt(Ve,Xe,Yt),B[Xe]=oe=+Lt(Ve,Xe,Yt),++Xe,K+=(xe-K)/Xe,Pt+=(oe-Pt)/Xe;for(var Re=0;Re<Ft;++Re)At[Re]-=K,B[Re]-=Pt;return[At,B,K,Pt]}function Tt(Yt,xt,Lt,It){for(var Ft=0,At=0,B=Yt.length;At<B;At++){var K=Yt[At],Pt=+xt(K,At,Yt),xe=+Lt(K,At,Yt);Pt!=null&&isFinite(Pt)&&xe!=null&&isFinite(xe)&&It(Pt,xe,Ft++)}}function Ae(Yt,xt,Lt,It,Ft){var At=0,B=0;return Tt(Yt,xt,Lt,function(K,Pt){var xe=Pt-Ft(K),oe=Pt-It;At+=xe*xe,B+=oe*oe}),1-At/B}function pe(Yt){return Math.atan2(Yt[1][1]-Yt[0][1],Yt[1][0]-Yt[0][0])*180/Math.PI}function se(Yt){return[(Yt[0][0]+Yt[1][0])/2,(Yt[0][1]+Yt[1][1])/2]}function Ye(Yt,xt,Lt){for(var It=Math.log(xt-Yt)*Math.LOG10E+1|0,Ft=1*Math.pow(10,-It/2-1),At=1e4,B=[Pt(Yt),Pt(xt)],K=0;xe(B)&&K<At;);return B;function Pt(oe){return[oe,Lt(oe)]}function xe(oe){K++;for(var Ve=oe.length,Xe=!1,Re=0;Re<Ve-1;Re++){var Ke=oe[Re],we=oe[Re+1],or=se([Ke,we]),Vt=Pt(or[0]),et=pe([Ke,or]),P=pe([Ke,Vt]),C=Math.abs(et-P);C>Ft&&(oe.splice(Re+1,0,Vt),Xe=!0)}return Xe}}function Be(Yt,xt,Lt,It){var Ft=It-Yt*Yt,At=Math.abs(Ft)<1e-24?0:(Lt-Yt*xt)/Ft,B=xt-At*Yt;return[B,At]}function Ct(){var Yt=function(At){return At[0]},xt=function(At){return At[1]},Lt;function It(Ft){var At=0,B=0,K=0,Pt=0,xe=0,oe=0,Ve=Lt?+Lt[0]:Infinity,Xe=Lt?+Lt[1]:-Infinity;Tt(Ft,Yt,xt,function(P,C){var L=Math.log(C),k=P*C;++At,B+=(C-B)/At,Pt+=(k-Pt)/At,oe+=(P*k-oe)/At,K+=(C*L-K)/At,xe+=(k*L-xe)/At,Lt||(P<Ve&&(Ve=P),P>Xe&&(Xe=P))});var Re=Be(Pt/B,K/B,xe/B,oe/B),Ke=Xt(Re,2),we=Ke[0],or=Ke[1];we=Math.exp(we);var Vt=function(C){return we*Math.exp(or*C)},et=Ye(Ve,Xe,Vt);return et.a=we,et.b=or,et.predict=Vt,et.rSquared=Ae(Ft,Yt,xt,B,Vt),et}return It.domain=function(Ft){return arguments.length?(Lt=Ft,It):Lt},It.x=function(Ft){return arguments.length?(Yt=Ft,It):Yt},It.y=function(Ft){return arguments.length?(xt=Ft,It):xt},It}function rt(){var Yt=function(At){return At[0]},xt=function(At){return At[1]},Lt;function It(Ft){var At=0,B=0,K=0,Pt=0,xe=0,oe=Lt?+Lt[0]:Infinity,Ve=Lt?+Lt[1]:-Infinity;Tt(Ft,Yt,xt,function(et,P){++At,B+=(et-B)/At,K+=(P-K)/At,Pt+=(et*P-Pt)/At,xe+=(et*et-xe)/At,Lt||(et<oe&&(oe=et),et>Ve&&(Ve=et))});var Xe=Be(B,K,Pt,xe),Re=Xt(Xe,2),Ke=Re[0],we=Re[1],or=function(P){return we*P+Ke},Vt=[[oe,or(oe)],[Ve,or(Ve)]];return Vt.a=we,Vt.b=Ke,Vt.predict=or,Vt.rSquared=Ae(Ft,Yt,xt,K,or),Vt}return It.domain=function(Ft){return arguments.length?(Lt=Ft,It):Lt},It.x=function(Ft){return arguments.length?(Yt=Ft,It):Yt},It.y=function(Ft){return arguments.length?(xt=Ft,It):xt},It}function Jt(Yt){Yt.sort(function(Lt,It){return Lt-It});var xt=Yt.length/2;return xt%1==0?(Yt[xt-1]+Yt[xt])/2:Yt[Math.floor(xt)]}var fe=2,ke=1e-12;function Pe(){var Yt=function(At){return At[0]},xt=function(At){return At[1]},Lt=.3;function It(Ft){for(var At=Ee(Ft,Yt,xt,!0),B=Xt(At,4),K=B[0],Pt=B[1],xe=B[2],oe=B[3],Ve=K.length,Xe=Math.max(2,~~(Lt*Ve)),Re=new Float64Array(Ve),Ke=new Float64Array(Ve),we=new Float64Array(Ve).fill(1),or=-1;++or<=fe;){for(var Vt=[0,Xe-1],et=0;et<Ve;++et){for(var P=K[et],C=Vt[0],L=Vt[1],k=P-K[C]>K[L]-P?C:L,T=0,R=0,j=0,tt=0,st=0,Bt=1/Math.abs(K[k]-P||1),qt=C;qt<=L;++qt){var Qt=K[qt],me=Pt[qt],He=Me(Math.abs(P-Qt)*Bt)*we[qt],J=Qt*He;T+=He,R+=J,j+=me*He,tt+=me*J,st+=Qt*J}var lt=Be(R/T,j/T,tt/T,st/T),yt=Xt(lt,2),Dt=yt[0],te=yt[1];Re[et]=Dt+te*P,Ke[et]=Math.abs(Pt[et]-Re[et]),_e(K,et+1,Vt)}if(or===fe)break;var Zt=Jt(Ke);if(Math.abs(Zt)<ke)break;for(var ue=0,de,ee;ue<Ve;++ue)de=Ke[ue]/(6*Zt),we[ue]=de>=1?ke:(ee=1-de*de)*ee}return Nt(K,Re,xe,oe)}return It.bandwidth=function(Ft){return arguments.length?(Lt=Ft,It):Lt},It.x=function(Ft){return arguments.length?(Yt=Ft,It):Yt},It.y=function(Ft){return arguments.length?(xt=Ft,It):xt},It}function Me(Yt){return(Yt=1-Yt*Yt*Yt)*Yt*Yt}function _e(Yt,xt,Lt){var It=Yt[xt],Ft=Lt[0],At=Lt[1]+1;if(!(At>=Yt.length))for(;xt>Ft&&Yt[At]-It<=It-Yt[Ft];)Lt[0]=++Ft,Lt[1]=At,++At}function Nt(Yt,xt,Lt,It){for(var Ft=Yt.length,At=[],B=0,K=0,Pt=[],xe;B<Ft;++B)xe=Yt[B]+Lt,Pt[0]===xe?Pt[1]+=(xt[B]-Pt[1])/++K:(K=0,Pt[1]+=It,Pt=[xe,xt[B]],At.push(Pt));return Pt[1]+=It,At}function Ht(){var Yt=function(B){return B[0]},xt=function(B){return B[1]},Lt=Math.E,It;function Ft(At){var B=0,K=0,Pt=0,xe=0,oe=0,Ve=It?+It[0]:Infinity,Xe=It?+It[1]:-Infinity,Re=Math.log(Lt);Tt(At,Yt,xt,function(C,L){var k=Math.log(C)/Re;++B,K+=(k-K)/B,Pt+=(L-Pt)/B,xe+=(k*L-xe)/B,oe+=(k*k-oe)/B,It||(C<Ve&&(Ve=C),C>Xe&&(Xe=C))});var Ke=Be(K,Pt,xe,oe),we=Xt(Ke,2),or=we[0],Vt=we[1],et=function(L){return Vt*Math.log(L)/Re+or},P=Ye(Ve,Xe,et);return P.a=Vt,P.b=or,P.predict=et,P.rSquared=Ae(At,Yt,xt,Pt,et),P}return Ft.domain=function(At){return arguments.length?(It=At,Ft):It},Ft.x=function(At){return arguments.length?(Yt=At,Ft):Yt},Ft.y=function(At){return arguments.length?(xt=At,Ft):xt},Ft.base=function(At){return arguments.length?(Lt=At,Ft):Lt},Ft}function be(){var Yt=function(At){return At[0]},xt=function(At){return At[1]},Lt;function It(Ft){var At=Ee(Ft,Yt,xt),B=Xt(At,4),K=B[0],Pt=B[1],xe=B[2],oe=B[3],Ve=K.length,Xe=0,Re=0,Ke=0,we=0,or=0,Vt,et,P,C;for(Vt=0;Vt<Ve;)et=K[Vt],P=Pt[Vt++],C=et*et,Xe+=(C-Xe)/Vt,Re+=(C*et-Re)/Vt,Ke+=(C*C-Ke)/Vt,we+=(et*P-we)/Vt,or+=(C*P-or)/Vt;var L=0,k=0,T=Lt?+Lt[0]:Infinity,R=Lt?+Lt[1]:-Infinity;Tt(Ft,Yt,xt,function(He,J){k++,L+=(J-L)/k,Lt||(He<T&&(T=He),He>R&&(R=He))});var j=Ke-Xe*Xe,tt=Xe*j-Re*Re,st=(or*Xe-we*Re)/tt,Bt=(we*j-or*Re)/tt,qt=-st*Xe,Qt=function(J){return J=J-xe,st*J*J+Bt*J+qt+oe},me=Ye(T,R,Qt);return me.a=st,me.b=Bt-2*st*xe,me.c=qt-Bt*xe+st*xe*xe+oe,me.predict=Qt,me.rSquared=Ae(Ft,Yt,xt,L,Qt),me}return It.domain=function(Ft){return arguments.length?(Lt=Ft,It):Lt},It.x=function(Ft){return arguments.length?(Yt=Ft,It):Yt},It.y=function(Ft){return arguments.length?(xt=Ft,It):xt},It}function Se(){var Yt=function(B){return B[0]},xt=function(B){return B[1]},Lt=3,It;function Ft(At){if(Lt===1){var B=rt().x(Yt).y(xt).domain(It)(At);return B.coefficients=[B.b,B.a],delete B.a,delete B.b,B}if(Lt===2){var K=be().x(Yt).y(xt).domain(It)(At);return K.coefficients=[K.c,K.b,K.a],delete K.a,delete K.b,delete K.c,K}var Pt=Ee(At,Yt,xt),xe=Xt(Pt,4),oe=xe[0],Ve=xe[1],Xe=xe[2],Re=xe[3],Ke=oe.length,we=[],or=[],Vt=Lt+1,et=0,P=0,C=It?+It[0]:Infinity,L=It?+It[1]:-Infinity;Tt(At,Yt,xt,function(Qt,me){++P,et+=(me-et)/P,It||(Qt<C&&(C=Qt),Qt>L&&(L=Qt))});var k,T,R,j,tt;for(k=0;k<Vt;++k){for(R=0,j=0;R<Ke;++R)j+=Math.pow(oe[R],k)*Ve[R];for(we.push(j),tt=new Float64Array(Vt),T=0;T<Vt;++T){for(R=0,j=0;R<Ke;++R)j+=Math.pow(oe[R],k+T);tt[T]=j}or.push(tt)}or.push(we);var st=lr(or),Bt=function(me){me-=Xe;var He=Re+st[0]+st[1]*me+st[2]*me*me;for(k=3;k<Vt;++k)He+=st[k]*Math.pow(me,k);return He},qt=Ye(C,L,Bt);return qt.coefficients=Ne(Vt,st,-Xe,Re),qt.predict=Bt,qt.rSquared=Ae(At,Yt,xt,et,Bt),qt}return Ft.domain=function(At){return arguments.length?(It=At,Ft):It},Ft.x=function(At){return arguments.length?(Yt=At,Ft):Yt},Ft.y=function(At){return arguments.length?(xt=At,Ft):xt},Ft.order=function(At){return arguments.length?(Lt=At,Ft):Lt},Ft}function Ne(Yt,xt,Lt,It){var Ft=Array(Yt),At,B,K,Pt;for(At=0;At<Yt;++At)Ft[At]=0;for(At=Yt-1;At>=0;--At)for(K=xt[At],Pt=1,Ft[At]+=K,B=1;B<=At;++B)Pt*=(At+1-B)/B,Ft[At-B]+=K*Math.pow(Lt,B)*Pt;return Ft[0]+=It,Ft}function lr(Yt){var xt=Yt.length-1,Lt=[],It,Ft,At,B,K;for(It=0;It<xt;++It){for(B=It,Ft=It+1;Ft<xt;++Ft)Math.abs(Yt[It][Ft])>Math.abs(Yt[It][B])&&(B=Ft);for(At=It;At<xt+1;++At)K=Yt[At][It],Yt[At][It]=Yt[At][B],Yt[At][B]=K;for(Ft=It+1;Ft<xt;++Ft)for(At=xt;At>=It;At--)Yt[At][Ft]-=Yt[At][It]*Yt[It][Ft]/Yt[It][It]}for(Ft=xt-1;Ft>=0;--Ft){for(K=0,At=Ft+1;At<xt;++At)K+=Yt[At][Ft]*Lt[At];Lt[Ft]=(Yt[xt][Ft]-K)/Yt[Ft][Ft]}return Lt}function fr(){var Yt=function(At){return At[0]},xt=function(At){return At[1]},Lt;function It(Ft){var At=0,B=0,K=0,Pt=0,xe=0,oe=0,Ve=Lt?+Lt[0]:Infinity,Xe=Lt?+Lt[1]:-Infinity;Tt(Ft,Yt,xt,function(P,C){var L=Math.log(P),k=Math.log(C);++At,B+=(L-B)/At,K+=(k-K)/At,Pt+=(L*k-Pt)/At,xe+=(L*L-xe)/At,oe+=(C-oe)/At,Lt||(P<Ve&&(Ve=P),P>Xe&&(Xe=P))});var Re=Be(B,K,Pt,xe),Ke=Xt(Re,2),we=Ke[0],or=Ke[1];we=Math.exp(we);var Vt=function(C){return we*Math.pow(C,or)},et=Ye(Ve,Xe,Vt);return et.a=we,et.b=or,et.predict=Vt,et.rSquared=Ae(Ft,Yt,xt,oe,Vt),et}return It.domain=function(Ft){return arguments.length?(Lt=Ft,It):Lt},It.x=function(Ft){return arguments.length?(Yt=Ft,It):Yt},It.y=function(Ft){return arguments.length?(xt=Ft,It):xt},It}Rt.regressionExp=Ct,Rt.regressionLinear=rt,Rt.regressionLoess=Pe,Rt.regressionLog=Ht,Rt.regressionPoly=Se,Rt.regressionPow=fr,Rt.regressionQuad=be,Object.defineProperty(Rt,"__esModule",{value:!0})})},43631:function(Wr,cr,Rt){"use strict";Rt.d(cr,{qY:function(){return rt}});var Xt=Rt(34155),wt=function(Nt,Ht,be){if(be||arguments.length===2)for(var Se=0,Ne=Ht.length,lr;Se<Ne;Se++)(lr||!(Se in Ht))&&(lr||(lr=Array.prototype.slice.call(Ht,0,Se)),lr[Se]=Ht[Se]);return Nt.concat(lr||Array.prototype.slice.call(Ht))},d=function(){function Nt(Ht,be,Se){this.name=Ht,this.version=be,this.os=Se,this.type="browser"}return Nt}(),c=function(){function Nt(Ht){this.version=Ht,this.type="node",this.name="node",this.os=Xt.platform}return Nt}(),Ee=function(){function Nt(Ht,be,Se,Ne){this.name=Ht,this.version=be,this.os=Se,this.bot=Ne,this.type="bot-device"}return Nt}(),Tt=function(){function Nt(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return Nt}(),Ae=function(){function Nt(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return Nt}(),pe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,se=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Ye=3,Be=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",pe]],Ct=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function rt(Nt){return Nt?ke(Nt):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new Ae:typeof navigator!="undefined"?ke(navigator.userAgent):Me()}function Jt(Nt){return Nt!==""&&Be.reduce(function(Ht,be){var Se=be[0],Ne=be[1];if(Ht)return Ht;var lr=Ne.exec(Nt);return!!lr&&[Se,lr]},!1)}function fe(Nt){var Ht=Jt(Nt);return Ht?Ht[0]:null}function ke(Nt){var Ht=Jt(Nt);if(!Ht)return null;var be=Ht[0],Se=Ht[1];if(be==="searchbot")return new Tt;var Ne=Se[1]&&Se[1].split(".").join("_").split("_").slice(0,3);Ne?Ne.length<Ye&&(Ne=wt(wt([],Ne,!0),_e(Ye-Ne.length),!0)):Ne=[];var lr=Ne.join("."),fr=Pe(Nt),Yt=se.exec(Nt);return Yt&&Yt[1]?new Ee(be,lr,fr,Yt[1]):new d(be,lr,fr)}function Pe(Nt){for(var Ht=0,be=Ct.length;Ht<be;Ht++){var Se=Ct[Ht],Ne=Se[0],lr=Se[1],fr=lr.exec(Nt);if(fr)return Ne}return null}function Me(){var Nt=typeof Xt!="undefined"&&Xt.version;return Nt?new c(Xt.version.slice(1)):null}function _e(Nt){for(var Ht=[],be=0;be<Nt;be++)Ht.push("0");return Ht}},69916:function(Wr,cr){(function(Rt,Xt){Xt(cr)})(this,function(Rt){"use strict";function Xt(rt,Jt,fe,ke){ke=ke||{};var Pe=ke.maxIterations||100,Me=ke.tolerance||1e-10,_e=rt(Jt),Nt=rt(fe),Ht=fe-Jt;if(_e*Nt>0)throw"Initial bisect points must have opposite signs";if(_e===0)return Jt;if(Nt===0)return fe;for(var be=0;be<Pe;++be){Ht/=2;var Se=Jt+Ht,Ne=rt(Se);if(Ne*_e>=0&&(Jt=Se),Math.abs(Ht)<Me||Ne===0)return Se}return Jt+Ht}function wt(rt){for(var Jt=new Array(rt),fe=0;fe<rt;++fe)Jt[fe]=0;return Jt}function d(rt,Jt){return wt(rt).map(function(){return wt(Jt)})}function c(rt,Jt){for(var fe=0,ke=0;ke<rt.length;++ke)fe+=rt[ke]*Jt[ke];return fe}function Ee(rt){return Math.sqrt(c(rt,rt))}function Tt(rt,Jt,fe){for(var ke=0;ke<Jt.length;++ke)rt[ke]=Jt[ke]*fe}function Ae(rt,Jt,fe,ke,Pe){for(var Me=0;Me<rt.length;++Me)rt[Me]=Jt*fe[Me]+ke*Pe[Me]}function pe(rt,Jt,fe){fe=fe||{};var ke=fe.maxIterations||Jt.length*200,Pe=fe.nonZeroDelta||1.05,Me=fe.zeroDelta||.001,_e=fe.minErrorDelta||1e-6,Nt=fe.minErrorDelta||1e-5,Ht=fe.rho!==void 0?fe.rho:1,be=fe.chi!==void 0?fe.chi:2,Se=fe.psi!==void 0?fe.psi:-.5,Ne=fe.sigma!==void 0?fe.sigma:.5,lr,fr=Jt.length,Yt=new Array(fr+1);Yt[0]=Jt,Yt[0].fx=rt(Jt),Yt[0].id=0;for(var xt=0;xt<fr;++xt){var Lt=Jt.slice();Lt[xt]=Lt[xt]?Lt[xt]*Pe:Me,Yt[xt+1]=Lt,Yt[xt+1].fx=rt(Lt),Yt[xt+1].id=xt+1}function It(Ke){for(var we=0;we<Ke.length;we++)Yt[fr][we]=Ke[we];Yt[fr].fx=Ke.fx}for(var Ft=function(Ke,we){return Ke.fx-we.fx},At=Jt.slice(),B=Jt.slice(),K=Jt.slice(),Pt=Jt.slice(),xe=0;xe<ke;++xe){if(Yt.sort(Ft),fe.history){var oe=Yt.map(function(Ke){var we=Ke.slice();return we.fx=Ke.fx,we.id=Ke.id,we});oe.sort(function(Ke,we){return Ke.id-we.id}),fe.history.push({x:Yt[0].slice(),fx:Yt[0].fx,simplex:oe})}for(lr=0,xt=0;xt<fr;++xt)lr=Math.max(lr,Math.abs(Yt[0][xt]-Yt[1][xt]));if(Math.abs(Yt[0].fx-Yt[fr].fx)<_e&&lr<Nt)break;for(xt=0;xt<fr;++xt){At[xt]=0;for(var Ve=0;Ve<fr;++Ve)At[xt]+=Yt[Ve][xt];At[xt]/=fr}var Xe=Yt[fr];if(Ae(B,1+Ht,At,-Ht,Xe),B.fx=rt(B),B.fx<Yt[0].fx)Ae(Pt,1+be,At,-be,Xe),Pt.fx=rt(Pt),Pt.fx<B.fx?It(Pt):It(B);else if(B.fx>=Yt[fr-1].fx){var Re=!1;if(B.fx>Xe.fx?(Ae(K,1+Se,At,-Se,Xe),K.fx=rt(K),K.fx<Xe.fx?It(K):Re=!0):(Ae(K,1-Se*Ht,At,Se*Ht,Xe),K.fx=rt(K),K.fx<B.fx?It(K):Re=!0),Re){if(Ne>=1)break;for(xt=1;xt<Yt.length;++xt)Ae(Yt[xt],1-Ne,Yt[0],Ne,Yt[xt]),Yt[xt].fx=rt(Yt[xt])}}else It(B)}return Yt.sort(Ft),{fx:Yt[0].fx,x:Yt[0]}}function se(rt,Jt,fe,ke,Pe,Me,_e){var Nt=fe.fx,Ht=c(fe.fxprime,Jt),be=Nt,Se=Nt,Ne=Ht,lr=0;Pe=Pe||1,Me=Me||1e-6,_e=_e||.1;function fr(xt,Lt,It){for(var Ft=0;Ft<16;++Ft)if(Pe=(xt+Lt)/2,Ae(ke.x,1,fe.x,Pe,Jt),be=ke.fx=rt(ke.x,ke.fxprime),Ne=c(ke.fxprime,Jt),be>Nt+Me*Pe*Ht||be>=It)Lt=Pe;else{if(Math.abs(Ne)<=-_e*Ht)return Pe;Ne*(Lt-xt)>=0&&(Lt=xt),xt=Pe,It=be}return 0}for(var Yt=0;Yt<10;++Yt){if(Ae(ke.x,1,fe.x,Pe,Jt),be=ke.fx=rt(ke.x,ke.fxprime),Ne=c(ke.fxprime,Jt),be>Nt+Me*Pe*Ht||Yt&&be>=Se)return fr(lr,Pe,Se);if(Math.abs(Ne)<=-_e*Ht)return Pe;if(Ne>=0)return fr(Pe,lr,be);Se=be,lr=Pe,Pe*=2}return Pe}function Ye(rt,Jt,fe){var ke={x:Jt.slice(),fx:0,fxprime:Jt.slice()},Pe={x:Jt.slice(),fx:0,fxprime:Jt.slice()},Me=Jt.slice(),_e,Nt,Ht=1,be;fe=fe||{},be=fe.maxIterations||Jt.length*20,ke.fx=rt(ke.x,ke.fxprime),_e=ke.fxprime.slice(),Tt(_e,ke.fxprime,-1);for(var Se=0;Se<be;++Se){if(Ht=se(rt,_e,ke,Pe,Ht),fe.history&&fe.history.push({x:ke.x.slice(),fx:ke.fx,fxprime:ke.fxprime.slice(),alpha:Ht}),!Ht)Tt(_e,ke.fxprime,-1);else{Ae(Me,1,Pe.fxprime,-1,ke.fxprime);var Ne=c(ke.fxprime,ke.fxprime),lr=Math.max(0,c(Me,Pe.fxprime)/Ne);Ae(_e,lr,_e,-1,Pe.fxprime),Nt=ke,ke=Pe,Pe=Nt}if(Ee(ke.fxprime)<=1e-5)break}return fe.history&&fe.history.push({x:ke.x.slice(),fx:ke.fx,fxprime:ke.fxprime.slice(),alpha:Ht}),ke}function Be(rt,Jt,fe){fe=fe||{};for(var ke=fe.maxIterations||Jt.length*100,Pe=fe.learnRate||.001,Me={x:Jt.slice(),fx:0,fxprime:Jt.slice()},_e=0;_e<ke&&(Me.fx=rt(Me.x,Me.fxprime),fe.history&&fe.history.push({x:Me.x.slice(),fx:Me.fx,fxprime:Me.fxprime.slice()}),Ae(Me.x,1,Me.x,-Pe,Me.fxprime),!(Ee(Me.fxprime)<=1e-5));++_e);return Me}function Ct(rt,Jt,fe){fe=fe||{};var ke={x:Jt.slice(),fx:0,fxprime:Jt.slice()},Pe={x:Jt.slice(),fx:0,fxprime:Jt.slice()},Me=fe.maxIterations||Jt.length*100,_e=fe.learnRate||1,Nt=Jt.slice(),Ht=fe.c1||.001,be=fe.c2||.1,Se,Ne=[];if(fe.history){var lr=rt;rt=function(Yt,xt){return Ne.push(Yt.slice()),lr(Yt,xt)}}ke.fx=rt(ke.x,ke.fxprime);for(var fr=0;fr<Me&&(Tt(Nt,ke.fxprime,-1),_e=se(rt,Nt,ke,Pe,_e,Ht,be),fe.history&&(fe.history.push({x:ke.x.slice(),fx:ke.fx,fxprime:ke.fxprime.slice(),functionCalls:Ne,learnRate:_e,alpha:_e}),Ne=[]),Se=ke,ke=Pe,Pe=Se,!(_e===0||Ee(ke.fxprime)<1e-5));++fr);return ke}Rt.bisect=Xt,Rt.nelderMead=pe,Rt.conjugateGradient=Ye,Rt.gradientDescent=Be,Rt.gradientDescentLineSearch=Ct,Rt.zeros=wt,Rt.zerosM=d,Rt.norm2=Ee,Rt.weightedSum=Ae,Rt.scale=Tt})},49685:function(Wr,cr,Rt){"use strict";Rt.d(cr,{WT:function(){return wt}});var Xt=1e-6,wt=typeof Float32Array!="undefined"?Float32Array:Array,d=Math.random;function c(pe){wt=pe}var Ee=Math.PI/180;function Tt(pe){return pe*Ee}function Ae(pe,se){return Math.abs(pe-se)<=Xt*Math.max(1,Math.abs(pe),Math.abs(se))}Math.hypot||(Math.hypot=function(){for(var pe=0,se=arguments.length;se--;)pe+=arguments[se]*arguments[se];return Math.sqrt(pe)})},35600:function(Wr,cr,Rt){"use strict";Rt.d(cr,{U_:function(){return se},Jp:function(){return Ct},vc:function(){return ke},Us:function(){return Pe},xJ:function(){return Me}});function Xt(){var B=new glMatrix.ARRAY_TYPE(9);return glMatrix.ARRAY_TYPE!=Float32Array&&(B[1]=0,B[2]=0,B[3]=0,B[5]=0,B[6]=0,B[7]=0),B[0]=1,B[4]=1,B[8]=1,B}function wt(B,K){return B[0]=K[0],B[1]=K[1],B[2]=K[2],B[3]=K[4],B[4]=K[5],B[5]=K[6],B[6]=K[8],B[7]=K[9],B[8]=K[10],B}function d(B){var K=new glMatrix.ARRAY_TYPE(9);return K[0]=B[0],K[1]=B[1],K[2]=B[2],K[3]=B[3],K[4]=B[4],K[5]=B[5],K[6]=B[6],K[7]=B[7],K[8]=B[8],K}function c(B,K){return B[0]=K[0],B[1]=K[1],B[2]=K[2],B[3]=K[3],B[4]=K[4],B[5]=K[5],B[6]=K[6],B[7]=K[7],B[8]=K[8],B}function Ee(B,K,Pt,xe,oe,Ve,Xe,Re,Ke){var we=new glMatrix.ARRAY_TYPE(9);return we[0]=B,we[1]=K,we[2]=Pt,we[3]=xe,we[4]=oe,we[5]=Ve,we[6]=Xe,we[7]=Re,we[8]=Ke,we}function Tt(B,K,Pt,xe,oe,Ve,Xe,Re,Ke,we){return B[0]=K,B[1]=Pt,B[2]=xe,B[3]=oe,B[4]=Ve,B[5]=Xe,B[6]=Re,B[7]=Ke,B[8]=we,B}function Ae(B){return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=1,B[5]=0,B[6]=0,B[7]=0,B[8]=1,B}function pe(B,K){if(B===K){var Pt=K[1],xe=K[2],oe=K[5];B[1]=K[3],B[2]=K[6],B[3]=Pt,B[5]=K[7],B[6]=xe,B[7]=oe}else B[0]=K[0],B[1]=K[3],B[2]=K[6],B[3]=K[1],B[4]=K[4],B[5]=K[7],B[6]=K[2],B[7]=K[5],B[8]=K[8];return B}function se(B,K){var Pt=K[0],xe=K[1],oe=K[2],Ve=K[3],Xe=K[4],Re=K[5],Ke=K[6],we=K[7],or=K[8],Vt=or*Xe-Re*we,et=-or*Ve+Re*Ke,P=we*Ve-Xe*Ke,C=Pt*Vt+xe*et+oe*P;return C?(C=1/C,B[0]=Vt*C,B[1]=(-or*xe+oe*we)*C,B[2]=(Re*xe-oe*Xe)*C,B[3]=et*C,B[4]=(or*Pt-oe*Ke)*C,B[5]=(-Re*Pt+oe*Ve)*C,B[6]=P*C,B[7]=(-we*Pt+xe*Ke)*C,B[8]=(Xe*Pt-xe*Ve)*C,B):null}function Ye(B,K){var Pt=K[0],xe=K[1],oe=K[2],Ve=K[3],Xe=K[4],Re=K[5],Ke=K[6],we=K[7],or=K[8];return B[0]=Xe*or-Re*we,B[1]=oe*we-xe*or,B[2]=xe*Re-oe*Xe,B[3]=Re*Ke-Ve*or,B[4]=Pt*or-oe*Ke,B[5]=oe*Ve-Pt*Re,B[6]=Ve*we-Xe*Ke,B[7]=xe*Ke-Pt*we,B[8]=Pt*Xe-xe*Ve,B}function Be(B){var K=B[0],Pt=B[1],xe=B[2],oe=B[3],Ve=B[4],Xe=B[5],Re=B[6],Ke=B[7],we=B[8];return K*(we*Ve-Xe*Ke)+Pt*(-we*oe+Xe*Re)+xe*(Ke*oe-Ve*Re)}function Ct(B,K,Pt){var xe=K[0],oe=K[1],Ve=K[2],Xe=K[3],Re=K[4],Ke=K[5],we=K[6],or=K[7],Vt=K[8],et=Pt[0],P=Pt[1],C=Pt[2],L=Pt[3],k=Pt[4],T=Pt[5],R=Pt[6],j=Pt[7],tt=Pt[8];return B[0]=et*xe+P*Xe+C*we,B[1]=et*oe+P*Re+C*or,B[2]=et*Ve+P*Ke+C*Vt,B[3]=L*xe+k*Xe+T*we,B[4]=L*oe+k*Re+T*or,B[5]=L*Ve+k*Ke+T*Vt,B[6]=R*xe+j*Xe+tt*we,B[7]=R*oe+j*Re+tt*or,B[8]=R*Ve+j*Ke+tt*Vt,B}function rt(B,K,Pt){var xe=K[0],oe=K[1],Ve=K[2],Xe=K[3],Re=K[4],Ke=K[5],we=K[6],or=K[7],Vt=K[8],et=Pt[0],P=Pt[1];return B[0]=xe,B[1]=oe,B[2]=Ve,B[3]=Xe,B[4]=Re,B[5]=Ke,B[6]=et*xe+P*Xe+we,B[7]=et*oe+P*Re+or,B[8]=et*Ve+P*Ke+Vt,B}function Jt(B,K,Pt){var xe=K[0],oe=K[1],Ve=K[2],Xe=K[3],Re=K[4],Ke=K[5],we=K[6],or=K[7],Vt=K[8],et=Math.sin(Pt),P=Math.cos(Pt);return B[0]=P*xe+et*Xe,B[1]=P*oe+et*Re,B[2]=P*Ve+et*Ke,B[3]=P*Xe-et*xe,B[4]=P*Re-et*oe,B[5]=P*Ke-et*Ve,B[6]=we,B[7]=or,B[8]=Vt,B}function fe(B,K,Pt){var xe=Pt[0],oe=Pt[1];return B[0]=xe*K[0],B[1]=xe*K[1],B[2]=xe*K[2],B[3]=oe*K[3],B[4]=oe*K[4],B[5]=oe*K[5],B[6]=K[6],B[7]=K[7],B[8]=K[8],B}function ke(B,K){return B[0]=1,B[1]=0,B[2]=0,B[3]=0,B[4]=1,B[5]=0,B[6]=K[0],B[7]=K[1],B[8]=1,B}function Pe(B,K){var Pt=Math.sin(K),xe=Math.cos(K);return B[0]=xe,B[1]=Pt,B[2]=0,B[3]=-Pt,B[4]=xe,B[5]=0,B[6]=0,B[7]=0,B[8]=1,B}function Me(B,K){return B[0]=K[0],B[1]=0,B[2]=0,B[3]=0,B[4]=K[1],B[5]=0,B[6]=0,B[7]=0,B[8]=1,B}function _e(B,K){return B[0]=K[0],B[1]=K[1],B[2]=0,B[3]=K[2],B[4]=K[3],B[5]=0,B[6]=K[4],B[7]=K[5],B[8]=1,B}function Nt(B,K){var Pt=K[0],xe=K[1],oe=K[2],Ve=K[3],Xe=Pt+Pt,Re=xe+xe,Ke=oe+oe,we=Pt*Xe,or=xe*Xe,Vt=xe*Re,et=oe*Xe,P=oe*Re,C=oe*Ke,L=Ve*Xe,k=Ve*Re,T=Ve*Ke;return B[0]=1-Vt-C,B[3]=or-T,B[6]=et+k,B[1]=or+T,B[4]=1-we-C,B[7]=P-L,B[2]=et-k,B[5]=P+L,B[8]=1-we-Vt,B}function Ht(B,K){var Pt=K[0],xe=K[1],oe=K[2],Ve=K[3],Xe=K[4],Re=K[5],Ke=K[6],we=K[7],or=K[8],Vt=K[9],et=K[10],P=K[11],C=K[12],L=K[13],k=K[14],T=K[15],R=Pt*Re-xe*Xe,j=Pt*Ke-oe*Xe,tt=Pt*we-Ve*Xe,st=xe*Ke-oe*Re,Bt=xe*we-Ve*Re,qt=oe*we-Ve*Ke,Qt=or*L-Vt*C,me=or*k-et*C,He=or*T-P*C,J=Vt*k-et*L,lt=Vt*T-P*L,yt=et*T-P*k,Dt=R*yt-j*lt+tt*J+st*He-Bt*me+qt*Qt;return Dt?(Dt=1/Dt,B[0]=(Re*yt-Ke*lt+we*J)*Dt,B[1]=(Ke*He-Xe*yt-we*me)*Dt,B[2]=(Xe*lt-Re*He+we*Qt)*Dt,B[3]=(oe*lt-xe*yt-Ve*J)*Dt,B[4]=(Pt*yt-oe*He+Ve*me)*Dt,B[5]=(xe*He-Pt*lt-Ve*Qt)*Dt,B[6]=(L*qt-k*Bt+T*st)*Dt,B[7]=(k*tt-C*qt-T*j)*Dt,B[8]=(C*Bt-L*tt+T*R)*Dt,B):null}function be(B,K,Pt){return B[0]=2/K,B[1]=0,B[2]=0,B[3]=0,B[4]=-2/Pt,B[5]=0,B[6]=-1,B[7]=1,B[8]=1,B}function Se(B){return"mat3("+B[0]+", "+B[1]+", "+B[2]+", "+B[3]+", "+B[4]+", "+B[5]+", "+B[6]+", "+B[7]+", "+B[8]+")"}function Ne(B){return Math.hypot(B[0],B[1],B[2],B[3],B[4],B[5],B[6],B[7],B[8])}function lr(B,K,Pt){return B[0]=K[0]+Pt[0],B[1]=K[1]+Pt[1],B[2]=K[2]+Pt[2],B[3]=K[3]+Pt[3],B[4]=K[4]+Pt[4],B[5]=K[5]+Pt[5],B[6]=K[6]+Pt[6],B[7]=K[7]+Pt[7],B[8]=K[8]+Pt[8],B}function fr(B,K,Pt){return B[0]=K[0]-Pt[0],B[1]=K[1]-Pt[1],B[2]=K[2]-Pt[2],B[3]=K[3]-Pt[3],B[4]=K[4]-Pt[4],B[5]=K[5]-Pt[5],B[6]=K[6]-Pt[6],B[7]=K[7]-Pt[7],B[8]=K[8]-Pt[8],B}function Yt(B,K,Pt){return B[0]=K[0]*Pt,B[1]=K[1]*Pt,B[2]=K[2]*Pt,B[3]=K[3]*Pt,B[4]=K[4]*Pt,B[5]=K[5]*Pt,B[6]=K[6]*Pt,B[7]=K[7]*Pt,B[8]=K[8]*Pt,B}function xt(B,K,Pt,xe){return B[0]=K[0]+Pt[0]*xe,B[1]=K[1]+Pt[1]*xe,B[2]=K[2]+Pt[2]*xe,B[3]=K[3]+Pt[3]*xe,B[4]=K[4]+Pt[4]*xe,B[5]=K[5]+Pt[5]*xe,B[6]=K[6]+Pt[6]*xe,B[7]=K[7]+Pt[7]*xe,B[8]=K[8]+Pt[8]*xe,B}function Lt(B,K){return B[0]===K[0]&&B[1]===K[1]&&B[2]===K[2]&&B[3]===K[3]&&B[4]===K[4]&&B[5]===K[5]&&B[6]===K[6]&&B[7]===K[7]&&B[8]===K[8]}function It(B,K){var Pt=B[0],xe=B[1],oe=B[2],Ve=B[3],Xe=B[4],Re=B[5],Ke=B[6],we=B[7],or=B[8],Vt=K[0],et=K[1],P=K[2],C=K[3],L=K[4],k=K[5],T=K[6],R=K[7],j=K[8];return Math.abs(Pt-Vt)<=glMatrix.EPSILON*Math.max(1,Math.abs(Pt),Math.abs(Vt))&&Math.abs(xe-et)<=glMatrix.EPSILON*Math.max(1,Math.abs(xe),Math.abs(et))&&Math.abs(oe-P)<=glMatrix.EPSILON*Math.max(1,Math.abs(oe),Math.abs(P))&&Math.abs(Ve-C)<=glMatrix.EPSILON*Math.max(1,Math.abs(Ve),Math.abs(C))&&Math.abs(Xe-L)<=glMatrix.EPSILON*Math.max(1,Math.abs(Xe),Math.abs(L))&&Math.abs(Re-k)<=glMatrix.EPSILON*Math.max(1,Math.abs(Re),Math.abs(k))&&Math.abs(Ke-T)<=glMatrix.EPSILON*Math.max(1,Math.abs(Ke),Math.abs(T))&&Math.abs(we-R)<=glMatrix.EPSILON*Math.max(1,Math.abs(we),Math.abs(R))&&Math.abs(or-j)<=glMatrix.EPSILON*Math.max(1,Math.abs(or),Math.abs(j))}var Ft=null,At=null},31437:function(Wr,cr,Rt){"use strict";Rt.d(cr,{IH:function(){return Ae},$X:function(){return pe},VV:function(){return rt},Fp:function(){return Jt},bA:function(){return ke},TE:function(){return Me},kE:function(){return Nt},Fv:function(){return Ne},AK:function(){return lr},kK:function(){return Ft},EU:function(){return K},I6:function(){return oe},lu:function(){return Re}});var Xt=Rt(49685);function wt(){var C=new Xt.WT(2);return Xt.WT!=Float32Array&&(C[0]=0,C[1]=0),C}function d(C){var L=new glMatrix.ARRAY_TYPE(2);return L[0]=C[0],L[1]=C[1],L}function c(C,L){var k=new glMatrix.ARRAY_TYPE(2);return k[0]=C,k[1]=L,k}function Ee(C,L){return C[0]=L[0],C[1]=L[1],C}function Tt(C,L,k){return C[0]=L,C[1]=k,C}function Ae(C,L,k){return C[0]=L[0]+k[0],C[1]=L[1]+k[1],C}function pe(C,L,k){return C[0]=L[0]-k[0],C[1]=L[1]-k[1],C}function se(C,L,k){return C[0]=L[0]*k[0],C[1]=L[1]*k[1],C}function Ye(C,L,k){return C[0]=L[0]/k[0],C[1]=L[1]/k[1],C}function Be(C,L){return C[0]=Math.ceil(L[0]),C[1]=Math.ceil(L[1]),C}function Ct(C,L){return C[0]=Math.floor(L[0]),C[1]=Math.floor(L[1]),C}function rt(C,L,k){return C[0]=Math.min(L[0],k[0]),C[1]=Math.min(L[1],k[1]),C}function Jt(C,L,k){return C[0]=Math.max(L[0],k[0]),C[1]=Math.max(L[1],k[1]),C}function fe(C,L){return C[0]=Math.round(L[0]),C[1]=Math.round(L[1]),C}function ke(C,L,k){return C[0]=L[0]*k,C[1]=L[1]*k,C}function Pe(C,L,k,T){return C[0]=L[0]+k[0]*T,C[1]=L[1]+k[1]*T,C}function Me(C,L){var k=L[0]-C[0],T=L[1]-C[1];return Math.hypot(k,T)}function _e(C,L){var k=L[0]-C[0],T=L[1]-C[1];return k*k+T*T}function Nt(C){var L=C[0],k=C[1];return Math.hypot(L,k)}function Ht(C){var L=C[0],k=C[1];return L*L+k*k}function be(C,L){return C[0]=-L[0],C[1]=-L[1],C}function Se(C,L){return C[0]=1/L[0],C[1]=1/L[1],C}function Ne(C,L){var k=L[0],T=L[1],R=k*k+T*T;return R>0&&(R=1/Math.sqrt(R)),C[0]=L[0]*R,C[1]=L[1]*R,C}function lr(C,L){return C[0]*L[0]+C[1]*L[1]}function fr(C,L,k){var T=L[0]*k[1]-L[1]*k[0];return C[0]=C[1]=0,C[2]=T,C}function Yt(C,L,k,T){var R=L[0],j=L[1];return C[0]=R+T*(k[0]-R),C[1]=j+T*(k[1]-j),C}function xt(C,L){L=L||1;var k=glMatrix.RANDOM()*2*Math.PI;return C[0]=Math.cos(k)*L,C[1]=Math.sin(k)*L,C}function Lt(C,L,k){var T=L[0],R=L[1];return C[0]=k[0]*T+k[2]*R,C[1]=k[1]*T+k[3]*R,C}function It(C,L,k){var T=L[0],R=L[1];return C[0]=k[0]*T+k[2]*R+k[4],C[1]=k[1]*T+k[3]*R+k[5],C}function Ft(C,L,k){var T=L[0],R=L[1];return C[0]=k[0]*T+k[3]*R+k[6],C[1]=k[1]*T+k[4]*R+k[7],C}function At(C,L,k){var T=L[0],R=L[1];return C[0]=k[0]*T+k[4]*R+k[12],C[1]=k[1]*T+k[5]*R+k[13],C}function B(C,L,k,T){var R=L[0]-k[0],j=L[1]-k[1],tt=Math.sin(T),st=Math.cos(T);return C[0]=R*st-j*tt+k[0],C[1]=R*tt+j*st+k[1],C}function K(C,L){var k=C[0],T=C[1],R=L[0],j=L[1],tt=Math.sqrt(k*k+T*T)*Math.sqrt(R*R+j*j),st=tt&&(k*R+T*j)/tt;return Math.acos(Math.min(Math.max(st,-1),1))}function Pt(C){return C[0]=0,C[1]=0,C}function xe(C){return"vec2("+C[0]+", "+C[1]+")"}function oe(C,L){return C[0]===L[0]&&C[1]===L[1]}function Ve(C,L){var k=C[0],T=C[1],R=L[0],j=L[1];return Math.abs(k-R)<=glMatrix.EPSILON*Math.max(1,Math.abs(k),Math.abs(R))&&Math.abs(T-j)<=glMatrix.EPSILON*Math.max(1,Math.abs(T),Math.abs(j))}var Xe=null,Re=pe,Ke=null,we=null,or=null,Vt=null,et=null,P=function(){var C=wt();return function(L,k,T,R,j,tt){var st,Bt;for(k||(k=2),T||(T=0),R?Bt=Math.min(R*k+T,L.length):Bt=L.length,st=T;st<Bt;st+=k)C[0]=L[st],C[1]=L[st+1],j(C,C,tt),L[st]=C[0],L[st+1]=C[1];return L}}()},77160:function(Wr,cr,Rt){"use strict";Rt.d(cr,{kK:function(){return At}});var Xt=Rt(49685);function wt(){var T=new Xt.WT(3);return Xt.WT!=Float32Array&&(T[0]=0,T[1]=0,T[2]=0),T}function d(T){var R=new glMatrix.ARRAY_TYPE(3);return R[0]=T[0],R[1]=T[1],R[2]=T[2],R}function c(T){var R=T[0],j=T[1],tt=T[2];return Math.hypot(R,j,tt)}function Ee(T,R,j){var tt=new glMatrix.ARRAY_TYPE(3);return tt[0]=T,tt[1]=R,tt[2]=j,tt}function Tt(T,R){return T[0]=R[0],T[1]=R[1],T[2]=R[2],T}function Ae(T,R,j,tt){return T[0]=R,T[1]=j,T[2]=tt,T}function pe(T,R,j){return T[0]=R[0]+j[0],T[1]=R[1]+j[1],T[2]=R[2]+j[2],T}function se(T,R,j){return T[0]=R[0]-j[0],T[1]=R[1]-j[1],T[2]=R[2]-j[2],T}function Ye(T,R,j){return T[0]=R[0]*j[0],T[1]=R[1]*j[1],T[2]=R[2]*j[2],T}function Be(T,R,j){return T[0]=R[0]/j[0],T[1]=R[1]/j[1],T[2]=R[2]/j[2],T}function Ct(T,R){return T[0]=Math.ceil(R[0]),T[1]=Math.ceil(R[1]),T[2]=Math.ceil(R[2]),T}function rt(T,R){return T[0]=Math.floor(R[0]),T[1]=Math.floor(R[1]),T[2]=Math.floor(R[2]),T}function Jt(T,R,j){return T[0]=Math.min(R[0],j[0]),T[1]=Math.min(R[1],j[1]),T[2]=Math.min(R[2],j[2]),T}function fe(T,R,j){return T[0]=Math.max(R[0],j[0]),T[1]=Math.max(R[1],j[1]),T[2]=Math.max(R[2],j[2]),T}function ke(T,R){return T[0]=Math.round(R[0]),T[1]=Math.round(R[1]),T[2]=Math.round(R[2]),T}function Pe(T,R,j){return T[0]=R[0]*j,T[1]=R[1]*j,T[2]=R[2]*j,T}function Me(T,R,j,tt){return T[0]=R[0]+j[0]*tt,T[1]=R[1]+j[1]*tt,T[2]=R[2]+j[2]*tt,T}function _e(T,R){var j=R[0]-T[0],tt=R[1]-T[1],st=R[2]-T[2];return Math.hypot(j,tt,st)}function Nt(T,R){var j=R[0]-T[0],tt=R[1]-T[1],st=R[2]-T[2];return j*j+tt*tt+st*st}function Ht(T){var R=T[0],j=T[1],tt=T[2];return R*R+j*j+tt*tt}function be(T,R){return T[0]=-R[0],T[1]=-R[1],T[2]=-R[2],T}function Se(T,R){return T[0]=1/R[0],T[1]=1/R[1],T[2]=1/R[2],T}function Ne(T,R){var j=R[0],tt=R[1],st=R[2],Bt=j*j+tt*tt+st*st;return Bt>0&&(Bt=1/Math.sqrt(Bt)),T[0]=R[0]*Bt,T[1]=R[1]*Bt,T[2]=R[2]*Bt,T}function lr(T,R){return T[0]*R[0]+T[1]*R[1]+T[2]*R[2]}function fr(T,R,j){var tt=R[0],st=R[1],Bt=R[2],qt=j[0],Qt=j[1],me=j[2];return T[0]=st*me-Bt*Qt,T[1]=Bt*qt-tt*me,T[2]=tt*Qt-st*qt,T}function Yt(T,R,j,tt){var st=R[0],Bt=R[1],qt=R[2];return T[0]=st+tt*(j[0]-st),T[1]=Bt+tt*(j[1]-Bt),T[2]=qt+tt*(j[2]-qt),T}function xt(T,R,j,tt,st,Bt){var qt=Bt*Bt,Qt=qt*(2*Bt-3)+1,me=qt*(Bt-2)+Bt,He=qt*(Bt-1),J=qt*(3-2*Bt);return T[0]=R[0]*Qt+j[0]*me+tt[0]*He+st[0]*J,T[1]=R[1]*Qt+j[1]*me+tt[1]*He+st[1]*J,T[2]=R[2]*Qt+j[2]*me+tt[2]*He+st[2]*J,T}function Lt(T,R,j,tt,st,Bt){var qt=1-Bt,Qt=qt*qt,me=Bt*Bt,He=Qt*qt,J=3*Bt*Qt,lt=3*me*qt,yt=me*Bt;return T[0]=R[0]*He+j[0]*J+tt[0]*lt+st[0]*yt,T[1]=R[1]*He+j[1]*J+tt[1]*lt+st[1]*yt,T[2]=R[2]*He+j[2]*J+tt[2]*lt+st[2]*yt,T}function It(T,R){R=R||1;var j=glMatrix.RANDOM()*2*Math.PI,tt=glMatrix.RANDOM()*2-1,st=Math.sqrt(1-tt*tt)*R;return T[0]=Math.cos(j)*st,T[1]=Math.sin(j)*st,T[2]=tt*R,T}function Ft(T,R,j){var tt=R[0],st=R[1],Bt=R[2],qt=j[3]*tt+j[7]*st+j[11]*Bt+j[15];return qt=qt||1,T[0]=(j[0]*tt+j[4]*st+j[8]*Bt+j[12])/qt,T[1]=(j[1]*tt+j[5]*st+j[9]*Bt+j[13])/qt,T[2]=(j[2]*tt+j[6]*st+j[10]*Bt+j[14])/qt,T}function At(T,R,j){var tt=R[0],st=R[1],Bt=R[2];return T[0]=tt*j[0]+st*j[3]+Bt*j[6],T[1]=tt*j[1]+st*j[4]+Bt*j[7],T[2]=tt*j[2]+st*j[5]+Bt*j[8],T}function B(T,R,j){var tt=j[0],st=j[1],Bt=j[2],qt=j[3],Qt=R[0],me=R[1],He=R[2],J=st*He-Bt*me,lt=Bt*Qt-tt*He,yt=tt*me-st*Qt,Dt=st*yt-Bt*lt,te=Bt*J-tt*yt,Zt=tt*lt-st*J,ue=qt*2;return J*=ue,lt*=ue,yt*=ue,Dt*=2,te*=2,Zt*=2,T[0]=Qt+J+Dt,T[1]=me+lt+te,T[2]=He+yt+Zt,T}function K(T,R,j,tt){var st=[],Bt=[];return st[0]=R[0]-j[0],st[1]=R[1]-j[1],st[2]=R[2]-j[2],Bt[0]=st[0],Bt[1]=st[1]*Math.cos(tt)-st[2]*Math.sin(tt),Bt[2]=st[1]*Math.sin(tt)+st[2]*Math.cos(tt),T[0]=Bt[0]+j[0],T[1]=Bt[1]+j[1],T[2]=Bt[2]+j[2],T}function Pt(T,R,j,tt){var st=[],Bt=[];return st[0]=R[0]-j[0],st[1]=R[1]-j[1],st[2]=R[2]-j[2],Bt[0]=st[2]*Math.sin(tt)+st[0]*Math.cos(tt),Bt[1]=st[1],Bt[2]=st[2]*Math.cos(tt)-st[0]*Math.sin(tt),T[0]=Bt[0]+j[0],T[1]=Bt[1]+j[1],T[2]=Bt[2]+j[2],T}function xe(T,R,j,tt){var st=[],Bt=[];return st[0]=R[0]-j[0],st[1]=R[1]-j[1],st[2]=R[2]-j[2],Bt[0]=st[0]*Math.cos(tt)-st[1]*Math.sin(tt),Bt[1]=st[0]*Math.sin(tt)+st[1]*Math.cos(tt),Bt[2]=st[2],T[0]=Bt[0]+j[0],T[1]=Bt[1]+j[1],T[2]=Bt[2]+j[2],T}function oe(T,R){var j=T[0],tt=T[1],st=T[2],Bt=R[0],qt=R[1],Qt=R[2],me=Math.sqrt(j*j+tt*tt+st*st),He=Math.sqrt(Bt*Bt+qt*qt+Qt*Qt),J=me*He,lt=J&&lr(T,R)/J;return Math.acos(Math.min(Math.max(lt,-1),1))}function Ve(T){return T[0]=0,T[1]=0,T[2]=0,T}function Xe(T){return"vec3("+T[0]+", "+T[1]+", "+T[2]+")"}function Re(T,R){return T[0]===R[0]&&T[1]===R[1]&&T[2]===R[2]}function Ke(T,R){var j=T[0],tt=T[1],st=T[2],Bt=R[0],qt=R[1],Qt=R[2];return Math.abs(j-Bt)<=glMatrix.EPSILON*Math.max(1,Math.abs(j),Math.abs(Bt))&&Math.abs(tt-qt)<=glMatrix.EPSILON*Math.max(1,Math.abs(tt),Math.abs(qt))&&Math.abs(st-Qt)<=glMatrix.EPSILON*Math.max(1,Math.abs(st),Math.abs(Qt))}var we=null,or=null,Vt=null,et=null,P=null,C=null,L=null,k=function(){var T=wt();return function(R,j,tt,st,Bt,qt){var Qt,me;for(j||(j=3),tt||(tt=0),st?me=Math.min(st*j+tt,R.length):me=R.length,Qt=tt;Qt<me;Qt+=j)T[0]=R[Qt],T[1]=R[Qt+1],T[2]=R[Qt+2],Bt(T,T,qt),R[Qt]=T[0],R[Qt+1]=T[1],R[Qt+2]=T[2];return R}}()},73807:function(Wr){"use strict";var cr=Wr.exports;Wr.exports.isNumber=function(Rt){return typeof Rt=="number"},Wr.exports.findMin=function(Rt){if(Rt.length===0)return Infinity;for(var Xt=Rt[0],wt=1;wt<Rt.length;wt++)Xt=Math.min(Xt,Rt[wt]);return Xt},Wr.exports.findMax=function(Rt){if(Rt.length===0)return-Infinity;for(var Xt=Rt[0],wt=1;wt<Rt.length;wt++)Xt=Math.max(Xt,Rt[wt]);return Xt},Wr.exports.findMinMulti=function(Rt){for(var Xt=cr.findMin(Rt[0]),wt=1;wt<Rt.length;wt++)Xt=Math.min(Xt,cr.findMin(Rt[wt]));return Xt},Wr.exports.findMaxMulti=function(Rt){for(var Xt=cr.findMax(Rt[0]),wt=1;wt<Rt.length;wt++)Xt=Math.max(Xt,cr.findMax(Rt[wt]));return Xt},Wr.exports.inside=function(Rt,Xt,wt){return Rt<=wt&&wt<=Xt}},53843:function(Wr,cr,Rt){"use strict";var Xt=50,wt=2,d=Math.log(2),c=Wr.exports,Ee=Rt(73807);function Tt(pe){return 1-Math.abs(pe)}Wr.exports.getUnifiedMinMax=function(pe,se){return c.getUnifiedMinMaxMulti([pe],se)},Wr.exports.getUnifiedMinMaxMulti=function(pe,se){se=se||{};var Ye=!1,Be=!1,Ct=Ee.isNumber(se.width)?se.width:wt,rt=Ee.isNumber(se.size)?se.size:Xt,Jt=Ee.isNumber(se.min)?se.min:(Ye=!0,Ee.findMinMulti(pe)),fe=Ee.isNumber(se.max)?se.max:(Be=!0,Ee.findMaxMulti(pe)),ke=fe-Jt,Pe=ke/(rt-1);return Ye&&(Jt=Jt-2*Ct*Pe),Be&&(fe=fe+2*Ct*Pe),{min:Jt,max:fe}},Wr.exports.create=function(pe,se){if(se=se||{},!pe||pe.length===0)return[];var Ye=Ee.isNumber(se.size)?se.size:Xt,Be=Ee.isNumber(se.width)?se.width:wt,Ct=c.getUnifiedMinMax(pe,{size:Ye,width:Be,min:se.min,max:se.max}),rt=Ct.min,Jt=Ct.max,fe=Jt-rt,ke=fe/(Ye-1);if(fe===0)return[{x:rt,y:1}];for(var Pe=[],Me=0;Me<Ye;Me++)Pe.push({x:rt+Me*ke,y:0});var _e=function(Yt){return Math.floor((Yt-rt)/ke)},Nt=Ae(Tt,Be),Ht=Nt[Be],be=Nt[Be-1]-Nt[Be-2],Se=0;pe.forEach(function(Yt){var xt=_e(Yt);if(!(xt+Be<0||xt-Be>=Pe.length)){var Lt=Math.max(xt-Be,0),It=xt,Ft=Math.min(xt+Be,Pe.length-1),At=Lt-(xt-Be),B=xt+Be-Ft,K=Nt[-Be-1+At]||0,Pt=Nt[-Be-1+B]||0,xe=Ht/(Ht-K-Pt);At>0&&(Se+=xe*(At-1)*be);var oe=Math.max(0,xt-Be+1);Ee.inside(0,Pe.length-1,oe)&&(Pe[oe].y+=xe*1*be),Ee.inside(0,Pe.length-1,It+1)&&(Pe[It+1].y-=xe*2*be),Ee.inside(0,Pe.length-1,Ft+1)&&(Pe[Ft+1].y+=xe*1*be)}});var Ne=Se,lr=0,fr=0;return Pe.forEach(function(Yt){lr+=Yt.y,Ne+=lr,Yt.y=Ne,fr+=Ne}),fr>0&&Pe.forEach(function(Yt){Yt.y/=fr}),Pe};function Ae(pe,se){for(var Ye={},Be=0,Ct=-se;Ct<=se;Ct++)Be+=pe(Ct/se),Ye[Ct]=Be;return Ye}Wr.exports.getExpectedValueFromPdf=function(pe){if(!(!pe||pe.length===0)){var se=0;return pe.forEach(function(Ye){se+=Ye.x*Ye.y}),se}},Wr.exports.getXWithLeftTailArea=function(pe,se){if(!(!pe||pe.length===0)){for(var Ye=0,Be=0,Ct=0;Ct<pe.length&&(Be=Ct,Ye+=pe[Ct].y,!(Ye>=se));Ct++);return pe[Be].x}},Wr.exports.getPerplexity=function(pe){if(!(!pe||pe.length===0)){var se=0;return pe.forEach(function(Ye){var Be=Math.log(Ye.y);isFinite(Be)&&(se+=Ye.y*Be)}),se=-se/d,Math.pow(2,se)}}},55168:function(Wr,cr){"use strict";Object.defineProperty(cr,"__esModule",{value:!0}),cr.SensorTabIndex=cr.SensorClassName=cr.SizeSensorId=void 0;var Rt="size-sensor-id";cr.SizeSensorId=Rt;var Xt="size-sensor-object";cr.SensorClassName=Xt;var wt="-1";cr.SensorTabIndex=wt},12177:function(Wr,cr){"use strict";Object.defineProperty(cr,"__esModule",{value:!0}),cr.default=void 0;var Rt=function(wt){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,c=null;return function(){for(var Ee=this,Tt=arguments.length,Ae=new Array(Tt),pe=0;pe<Tt;pe++)Ae[pe]=arguments[pe];clearTimeout(c),c=setTimeout(function(){wt.apply(Ee,Ae)},d)}};cr.default=Rt},96340:function(Wr,cr){"use strict";Object.defineProperty(cr,"__esModule",{value:!0}),cr.default=void 0;var Rt=1,Xt=function(){return"".concat(Rt++)};cr.default=Xt},18587:function(Wr,cr,Rt){"use strict";var Xt;Xt={value:!0},Xt=Xt=cr.ak=void 0;var wt=Rt(12955),d=function(Ae,pe){var se=(0,wt.getSensor)(Ae);return se.bind(pe),function(){se.unbind(pe)}};cr.ak=d;var c=function(Ae){var pe=(0,wt.getSensor)(Ae);(0,wt.removeSensor)(pe)};Xt=c;var Ee="1.0.1";Xt=Ee},12955:function(Wr,cr,Rt){"use strict";Object.defineProperty(cr,"__esModule",{value:!0}),cr.removeSensor=cr.getSensor=void 0;var Xt=c(Rt(96340)),wt=Rt(82578),d=Rt(55168);function c(pe){return pe&&pe.__esModule?pe:{default:pe}}var Ee={},Tt=function(se){var Ye=se.getAttribute(d.SizeSensorId);if(Ye&&Ee[Ye])return Ee[Ye];var Be=(0,Xt.default)();se.setAttribute(d.SizeSensorId,Be);var Ct=(0,wt.createSensor)(se);return Ee[Be]=Ct,Ct};cr.getSensor=Tt;var Ae=function(se){var Ye=se.element.getAttribute(d.SizeSensorId);se.element.removeAttribute(d.SizeSensorId),se.destroy(),Ye&&Ee[Ye]&&delete Ee[Ye]};cr.removeSensor=Ae},82578:function(Wr,cr,Rt){"use strict";Object.defineProperty(cr,"__esModule",{value:!0}),cr.createSensor=void 0;var Xt=Rt(27643),wt=Rt(31743),d=typeof ResizeObserver!="undefined"?wt.createSensor:Xt.createSensor;cr.createSensor=d},27643:function(Wr,cr,Rt){"use strict";Object.defineProperty(cr,"__esModule",{value:!0}),cr.createSensor=void 0;var Xt=d(Rt(12177)),wt=Rt(55168);function d(Ee){return Ee&&Ee.__esModule?Ee:{default:Ee}}var c=function(Tt){var Ae=void 0,pe=[],se=function(){getComputedStyle(Tt).position==="static"&&(Tt.style.position="relative");var fe=document.createElement("object");return fe.onload=function(){fe.contentDocument.defaultView.addEventListener("resize",Ye),Ye()},fe.style.display="block",fe.style.position="absolute",fe.style.top="0",fe.style.left="0",fe.style.height="100%",fe.style.width="100%",fe.style.overflow="hidden",fe.style.pointerEvents="none",fe.style.zIndex="-1",fe.style.opacity="0",fe.setAttribute("class",wt.SensorClassName),fe.setAttribute("tabindex",wt.SensorTabIndex),fe.type="text/html",Tt.appendChild(fe),fe.data="about:blank",fe},Ye=(0,Xt.default)(function(){pe.forEach(function(Jt){Jt(Tt)})}),Be=function(fe){Ae||(Ae=se()),pe.indexOf(fe)===-1&&pe.push(fe)},Ct=function(){Ae&&Ae.parentNode&&(Ae.contentDocument&&Ae.contentDocument.defaultView.removeEventListener("resize",Ye),Ae.parentNode.removeChild(Ae),Ae=void 0,pe=[])},rt=function(fe){var ke=pe.indexOf(fe);ke!==-1&&pe.splice(ke,1),pe.length===0&&Ae&&Ct()};return{element:Tt,bind:Be,destroy:Ct,unbind:rt}};cr.createSensor=c},31743:function(Wr,cr,Rt){"use strict";Object.defineProperty(cr,"__esModule",{value:!0}),cr.createSensor=void 0;var Xt=wt(Rt(12177));function wt(c){return c&&c.__esModule?c:{default:c}}var d=function(Ee){var Tt=void 0,Ae=[],pe=(0,Xt.default)(function(){Ae.forEach(function(rt){rt(Ee)})}),se=function(){var Jt=new ResizeObserver(pe);return Jt.observe(Ee),pe(),Jt},Ye=function(Jt){Tt||(Tt=se()),Ae.indexOf(Jt)===-1&&Ae.push(Jt)},Be=function(){Tt.disconnect(),Ae=[],Tt=void 0},Ct=function(Jt){var fe=Ae.indexOf(Jt);fe!==-1&&Ae.splice(fe,1),Ae.length===0&&Tt&&Be()};return{element:Ee,bind:Ye,destroy:Be,unbind:Ct}};cr.createSensor=d},70655:function(Wr,cr,Rt){"use strict";Rt.d(cr,{ZT:function(){return wt},pi:function(){return d},_T:function(){return c},mG:function(){return pe},Jh:function(){return se},XA:function(){return Ct},CR:function(){return rt},pr:function(){return fe},ev:function(){return ke}});var Xt=function(xt,Lt){return Xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(It,Ft){It.__proto__=Ft}||function(It,Ft){for(var At in Ft)Object.prototype.hasOwnProperty.call(Ft,At)&&(It[At]=Ft[At])},Xt(xt,Lt)};function wt(xt,Lt){if(typeof Lt!="function"&&Lt!==null)throw new TypeError("Class extends value "+String(Lt)+" is not a constructor or null");Xt(xt,Lt);function It(){this.constructor=xt}xt.prototype=Lt===null?Object.create(Lt):(It.prototype=Lt.prototype,new It)}var d=function(){return d=Object.assign||function(Lt){for(var It,Ft=1,At=arguments.length;Ft<At;Ft++){It=arguments[Ft];for(var B in It)Object.prototype.hasOwnProperty.call(It,B)&&(Lt[B]=It[B])}return Lt},d.apply(this,arguments)};function c(xt,Lt){var It={};for(var Ft in xt)Object.prototype.hasOwnProperty.call(xt,Ft)&&Lt.indexOf(Ft)<0&&(It[Ft]=xt[Ft]);if(xt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var At=0,Ft=Object.getOwnPropertySymbols(xt);At<Ft.length;At++)Lt.indexOf(Ft[At])<0&&Object.prototype.propertyIsEnumerable.call(xt,Ft[At])&&(It[Ft[At]]=xt[Ft[At]]);return It}function Ee(xt,Lt,It,Ft){var At=arguments.length,B=At<3?Lt:Ft===null?Ft=Object.getOwnPropertyDescriptor(Lt,It):Ft,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(xt,Lt,It,Ft);else for(var Pt=xt.length-1;Pt>=0;Pt--)(K=xt[Pt])&&(B=(At<3?K(B):At>3?K(Lt,It,B):K(Lt,It))||B);return At>3&&B&&Object.defineProperty(Lt,It,B),B}function Tt(xt,Lt){return function(It,Ft){Lt(It,Ft,xt)}}function Ae(xt,Lt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(xt,Lt)}function pe(xt,Lt,It,Ft){function At(B){return B instanceof It?B:new It(function(K){K(B)})}return new(It||(It=Promise))(function(B,K){function Pt(Ve){try{oe(Ft.next(Ve))}catch(Xe){K(Xe)}}function xe(Ve){try{oe(Ft.throw(Ve))}catch(Xe){K(Xe)}}function oe(Ve){Ve.done?B(Ve.value):At(Ve.value).then(Pt,xe)}oe((Ft=Ft.apply(xt,Lt||[])).next())})}function se(xt,Lt){var It={label:0,sent:function(){if(B[0]&1)throw B[1];return B[1]},trys:[],ops:[]},Ft,At,B,K;return K={next:Pt(0),throw:Pt(1),return:Pt(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function Pt(oe){return function(Ve){return xe([oe,Ve])}}function xe(oe){if(Ft)throw new TypeError("Generator is already executing.");for(;It;)try{if(Ft=1,At&&(B=oe[0]&2?At.return:oe[0]?At.throw||((B=At.return)&&B.call(At),0):At.next)&&!(B=B.call(At,oe[1])).done)return B;switch(At=0,B&&(oe=[oe[0]&2,B.value]),oe[0]){case 0:case 1:B=oe;break;case 4:return It.label++,{value:oe[1],done:!1};case 5:It.label++,At=oe[1],oe=[0];continue;case 7:oe=It.ops.pop(),It.trys.pop();continue;default:if(B=It.trys,!(B=B.length>0&&B[B.length-1])&&(oe[0]===6||oe[0]===2)){It=0;continue}if(oe[0]===3&&(!B||oe[1]>B[0]&&oe[1]<B[3])){It.label=oe[1];break}if(oe[0]===6&&It.label<B[1]){It.label=B[1],B=oe;break}if(B&&It.label<B[2]){It.label=B[2],It.ops.push(oe);break}B[2]&&It.ops.pop(),It.trys.pop();continue}oe=Lt.call(xt,It)}catch(Ve){oe=[6,Ve],At=0}finally{Ft=B=0}if(oe[0]&5)throw oe[1];return{value:oe[0]?oe[1]:void 0,done:!0}}}var Ye=Object.create?function(xt,Lt,It,Ft){Ft===void 0&&(Ft=It);var At=Object.getOwnPropertyDescriptor(Lt,It);(!At||("get"in At?!Lt.__esModule:At.writable||At.configurable))&&(At={enumerable:!0,get:function(){return Lt[It]}}),Object.defineProperty(xt,Ft,At)}:function(xt,Lt,It,Ft){Ft===void 0&&(Ft=It),xt[Ft]=Lt[It]};function Be(xt,Lt){for(var It in xt)It!=="default"&&!Object.prototype.hasOwnProperty.call(Lt,It)&&Ye(Lt,xt,It)}function Ct(xt){var Lt=typeof Symbol=="function"&&Symbol.iterator,It=Lt&&xt[Lt],Ft=0;if(It)return It.call(xt);if(xt&&typeof xt.length=="number")return{next:function(){return xt&&Ft>=xt.length&&(xt=void 0),{value:xt&&xt[Ft++],done:!xt}}};throw new TypeError(Lt?"Object is not iterable.":"Symbol.iterator is not defined.")}function rt(xt,Lt){var It=typeof Symbol=="function"&&xt[Symbol.iterator];if(!It)return xt;var Ft=It.call(xt),At,B=[],K;try{for(;(Lt===void 0||Lt-- >0)&&!(At=Ft.next()).done;)B.push(At.value)}catch(Pt){K={error:Pt}}finally{try{At&&!At.done&&(It=Ft.return)&&It.call(Ft)}finally{if(K)throw K.error}}return B}function Jt(){for(var xt=[],Lt=0;Lt<arguments.length;Lt++)xt=xt.concat(rt(arguments[Lt]));return xt}function fe(){for(var xt=0,Lt=0,It=arguments.length;Lt<It;Lt++)xt+=arguments[Lt].length;for(var Ft=Array(xt),At=0,Lt=0;Lt<It;Lt++)for(var B=arguments[Lt],K=0,Pt=B.length;K<Pt;K++,At++)Ft[At]=B[K];return Ft}function ke(xt,Lt,It){if(It||arguments.length===2)for(var Ft=0,At=Lt.length,B;Ft<At;Ft++)(B||!(Ft in Lt))&&(B||(B=Array.prototype.slice.call(Lt,0,Ft)),B[Ft]=Lt[Ft]);return xt.concat(B||Array.prototype.slice.call(Lt))}function Pe(xt){return this instanceof Pe?(this.v=xt,this):new Pe(xt)}function Me(xt,Lt,It){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ft=It.apply(xt,Lt||[]),At,B=[];return At={},K("next"),K("throw"),K("return"),At[Symbol.asyncIterator]=function(){return this},At;function K(Re){Ft[Re]&&(At[Re]=function(Ke){return new Promise(function(we,or){B.push([Re,Ke,we,or])>1||Pt(Re,Ke)})})}function Pt(Re,Ke){try{xe(Ft[Re](Ke))}catch(we){Xe(B[0][3],we)}}function xe(Re){Re.value instanceof Pe?Promise.resolve(Re.value.v).then(oe,Ve):Xe(B[0][2],Re)}function oe(Re){Pt("next",Re)}function Ve(Re){Pt("throw",Re)}function Xe(Re,Ke){Re(Ke),B.shift(),B.length&&Pt(B[0][0],B[0][1])}}function _e(xt){var Lt,It;return Lt={},Ft("next"),Ft("throw",function(At){throw At}),Ft("return"),Lt[Symbol.iterator]=function(){return this},Lt;function Ft(At,B){Lt[At]=xt[At]?function(K){return(It=!It)?{value:Pe(xt[At](K)),done:At==="return"}:B?B(K):K}:B}}function Nt(xt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Lt=xt[Symbol.asyncIterator],It;return Lt?Lt.call(xt):(xt=typeof Ct=="function"?Ct(xt):xt[Symbol.iterator](),It={},Ft("next"),Ft("throw"),Ft("return"),It[Symbol.asyncIterator]=function(){return this},It);function Ft(B){It[B]=xt[B]&&function(K){return new Promise(function(Pt,xe){K=xt[B](K),At(Pt,xe,K.done,K.value)})}}function At(B,K,Pt,xe){Promise.resolve(xe).then(function(oe){B({value:oe,done:Pt})},K)}}function Ht(xt,Lt){return Object.defineProperty?Object.defineProperty(xt,"raw",{value:Lt}):xt.raw=Lt,xt}var be=Object.create?function(xt,Lt){Object.defineProperty(xt,"default",{enumerable:!0,value:Lt})}:function(xt,Lt){xt.default=Lt};function Se(xt){if(xt&&xt.__esModule)return xt;var Lt={};if(xt!=null)for(var It in xt)It!=="default"&&Object.prototype.hasOwnProperty.call(xt,It)&&Ye(Lt,xt,It);return be(Lt,xt),Lt}function Ne(xt){return xt&&xt.__esModule?xt:{default:xt}}function lr(xt,Lt,It,Ft){if(It==="a"&&!Ft)throw new TypeError("Private accessor was defined without a getter");if(typeof Lt=="function"?xt!==Lt||!Ft:!Lt.has(xt))throw new TypeError("Cannot read private member from an object whose class did not declare it");return It==="m"?Ft:It==="a"?Ft.call(xt):Ft?Ft.value:Lt.get(xt)}function fr(xt,Lt,It,Ft,At){if(Ft==="m")throw new TypeError("Private method is not writable");if(Ft==="a"&&!At)throw new TypeError("Private accessor was defined without a setter");if(typeof Lt=="function"?xt!==Lt||!At:!Lt.has(xt))throw new TypeError("Cannot write private member to an object whose class did not declare it");return Ft==="a"?At.call(xt,It):At?At.value=It:Lt.set(xt,It),It}function Yt(xt,Lt){if(Lt===null||typeof Lt!="object"&&typeof Lt!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof xt=="function"?Lt===xt:xt.has(Lt)}}}]);
