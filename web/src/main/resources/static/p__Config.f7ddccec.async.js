(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[569],{64317:function(b,W,e){"use strict";var Y=e(22122),O=e(28991),m=e(81253),t=e(67294),S=e(30885),a=e(96202),l=e(66758),Z=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],N=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],I=t.forwardRef(function(n,p){var F=n.fieldProps,C=n.children,T=n.params,E=n.proFieldProps,f=n.mode,v=n.valueEnum,R=n.request,c=n.showSearch,r=n.options,D=(0,m.Z)(n,Z),u=(0,t.useContext)(l.Z);return t.createElement(S.Z,(0,Y.Z)({mode:"edit",valueEnum:(0,a.h)(v),request:R,params:T,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,O.Z)({options:r,mode:f,showSearch:c,getPopupContainer:u.getPopupContainer},F),ref:p,proFieldProps:E},D),C)}),P=t.forwardRef(function(n,p){var F=n.fieldProps,C=n.children,T=n.params,E=n.proFieldProps,f=n.mode,v=n.valueEnum,R=n.request,c=n.options,r=(0,m.Z)(n,N),D=(0,O.Z)({options:c,mode:f||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},F),u=(0,t.useContext)(l.Z);return t.createElement(S.Z,(0,Y.Z)({mode:"edit",valueEnum:(0,a.h)(v),request:R,params:T,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,O.Z)({getPopupContainer:u.getPopupContainer},D),ref:p,proFieldProps:E},r),C)}),B=I,V=P,h=B;h.SearchSelect=V,h.displayName="ProFormComponent",W.Z=h},5894:function(b,W,e){"use strict";e.d(W,{A:function(){return c}});var Y=e(9715),O=e(86835),m=e(22122),t=e(67294),S=e(96156),a=e(49111),l=e(19650),Z=e(84305),N=e(75901),I=e(28481),P=e(28991),B=e(8812),V=e(66758),h=e(96138),n=e(28664),p=e(58927),F=e(94184),C=e.n(F),T=e(2514),E=t.forwardRef(function(r,D){var u=t.useContext(V.Z),U=u.groupProps,s=(0,P.Z)((0,P.Z)({},U),r),g=s.children,d=s.collapsible,A=s.defaultCollapsed,i=s.style,x=s.labelLayout,z=s.title,H=z===void 0?r.label:z,K=s.tooltip,y=s.align,M=y===void 0?"start":y,G=s.direction,o=s.size,$=o===void 0?32:o,w=s.titleStyle,te=s.titleRender,J=s.spaceProps,k=s.extra,q=s.autoFocus,de=(0,n.Z)(function(){return A||!1},{value:r.collapsed,onChange:r.onCollapse}),ne=(0,I.Z)(de,2),_=ne[0],ce=ne[1],pe=(0,t.useContext)(N.ZP.ConfigContext),ve=pe.getPrefixCls,re=(0,T.z)(r),me=re.ColWrapper,oe=re.RowWrapper,Q=ve("pro-form-group"),ae=d&&t.createElement(B.Z,{style:{marginRight:8},rotate:_?void 0:90}),le=t.createElement(p.Z,{label:ae?t.createElement("div",null,ae,H):H,tooltip:K}),se=(0,t.useCallback)(function(j){var X=j.children;return t.createElement(l.Z,(0,m.Z)({},J,{className:"".concat(Q,"-container"),size:$,align:M,direction:G,style:(0,P.Z)({rowGap:0},J==null?void 0:J.style)}),X)},[M,Q,G,$,J]),ie=te?te(le,r):le,fe=(0,t.useMemo)(function(){var j=[],X=t.Children.toArray(g).map(function(L,Ee){var ee;return t.isValidElement(L)&&(L==null||(ee=L.props)===null||ee===void 0?void 0:ee.hidden)?(j.push(L),null):Ee===0&&t.isValidElement(L)&&q?t.cloneElement(L,(0,P.Z)((0,P.Z)({},L.props),{},{autoFocus:q})):L});return[t.createElement(oe,{key:"children",Wrapper:se},X),j.length>0?t.createElement("div",{style:{display:"none"}},j):null]},[g,oe,se,q]),ue=(0,I.Z)(fe,2),ge=ue[0],Pe=ue[1];return t.createElement(me,null,t.createElement("div",{className:C()(Q,(0,S.Z)({},"".concat(Q,"-twoLine"),x==="twoLine")),style:i,ref:D},Pe,(H||K||k)&&t.createElement("div",{className:"".concat(Q,"-title"),style:w,onClick:function(){ce(!_)}},k?t.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}},ie,t.createElement("span",{onClick:function(X){return X.stopPropagation()}},k)):ie),d&&_?null:ge))});E.displayName="ProForm-Group";var f=E,v=e(87808),R=e(24214);function c(r){return t.createElement(R.I,(0,m.Z)({layout:"vertical",submitter:{render:function(u,U){return U.reverse()}},contentRender:function(u,U){return t.createElement(t.Fragment,null,u,U)}},r))}c.Group=f,c.useForm=O.Z.useForm,c.Item=v.Z},58927:function(b,W,e){"use strict";var Y=e(22385),O=e(61580),m=e(96156),t=e(84305),S=e(75901),a=e(67294),l=e(68628),Z=e(11445),N=e.n(Z),I=e(94184),P=e.n(I),B=function(h){var n=h.label,p=h.tooltip,F=h.ellipsis,C=h.subTitle,T=(0,a.useContext)(S.ZP.ConfigContext),E=T.getPrefixCls;if(!p&&!C)return a.createElement(a.Fragment,null,n);var f=E("pro-core-label-tip"),v=typeof p=="string"||a.isValidElement(p)?{title:p}:p,R=(v==null?void 0:v.icon)||a.createElement(l.Z,null);return a.createElement("div",{className:f,onMouseDown:function(r){return r.stopPropagation()},onMouseLeave:function(r){return r.stopPropagation()},onMouseMove:function(r){return r.stopPropagation()}},a.createElement("div",{className:P()("".concat(f,"-title"),(0,m.Z)({},"".concat(f,"-title-ellipsis"),F))},n),C&&a.createElement("div",{className:"".concat(f,"-subtitle")},C),p&&a.createElement(O.Z,v,a.createElement("span",{className:"".concat(f,"-icon")},R)))};W.Z=a.memo(B)},89663:function(b){b.exports={config:"config___2VrF2"}},96138:function(){},11445:function(){},29035:function(b,W,e){"use strict";e.r(W),e.d(W,{default:function(){return s}});var Y=e(74379),O=e(38648),m=e(11849),t=e(3182),S=e(2824),a=e(94043),l=e.n(a),Z=e(67294),N=e(89663),I=e.n(N),P=e(13312),B=e(22122),V=e(81253),h=e(30885),n=["fieldProps","proFieldProps"],p=function(d,A){var i=d.fieldProps,x=d.proFieldProps,z=(0,V.Z)(d,n);return Z.createElement(h.Z,(0,B.Z)({ref:A,mode:"edit",valueType:"textarea",fieldProps:i,proFieldProps:x},z))},F=Z.forwardRef(p),C=e(5894),T=e(64317),E=e(25377);function f(g){return v.apply(this,arguments)}function v(){return v=(0,t.Z)(l().mark(function g(d){return l().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,E.WY)("/api/skyflying/config/getDingConfig",(0,m.Z)({method:"GET"},d||{})));case 1:case"end":return i.stop()}},g)})),v.apply(this,arguments)}function R(g){return c.apply(this,arguments)}function c(){return c=(0,t.Z)(l().mark(function g(d){return l().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,E.WY)("/api/skyflying/config/getDingGapDic",(0,m.Z)({method:"GET"},d||{})));case 1:case"end":return i.stop()}},g)})),c.apply(this,arguments)}function r(g,d){return D.apply(this,arguments)}function D(){return D=(0,t.Z)(l().mark(function g(d,A){return l().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,E.WY)("/api/skyflying/config/updateDingConfig",(0,m.Z)({method:"PUT",data:d},A||{})));case 1:case"end":return x.stop()}},g)})),D.apply(this,arguments)}var u=e(85893),U=function(){var d=(0,Z.useRef)(),A=(0,Z.useState)({gap:0,id:0,secret:"",webhook:""}),i=(0,S.Z)(A,2),x=i[0],z=i[1],H=function(){f().then(function(y){var M,G=y.data,o=y.code;o===P.Gh&&z(G),(M=d.current)===null||M===void 0||M.setFieldsValue(G)})};return(0,Z.useEffect)(function(){H()},[]),(0,u.jsxs)("div",{className:I().config,children:[(0,u.jsx)("h3",{className:"text-c mb-30 mt-50 fw-600",children:"\u9489\u9489\u544A\u8B66\u914D\u7F6E"}),(0,u.jsx)("div",{style:{display:"inline-block",margin:"0 auto"},children:(0,u.jsxs)(C.A,{formRef:d,labelAlign:"right",onFinish:function(){var K=(0,t.Z)(l().mark(function y(M){return l().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:r((0,m.Z)((0,m.Z)({},M),{id:x.id})).then(function($){var w=$.code;w===P.Gh&&O.Z.success({message:"\u63D0\u793A",description:"\u4FEE\u6539\u6210\u529F\uFF01"})});case 1:case"end":return o.stop()}},y)}));return function(y){return K.apply(this,arguments)}}(),submitter:{searchConfig:{submitText:"\u786E\u8BA4\u4FEE\u6539"}},labelCol:{span:4},layout:"horizontal",children:[(0,u.jsx)(F,{width:"lg",name:"webhook",label:"Webhook",style:{textAlign:"left"},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u94A5"}]}),(0,u.jsx)(F,{width:"lg",name:"secret",label:"Secret",style:{textAlign:"left"},rules:[{required:!0,message:"\u8BF7\u8F93\u5165token"}]}),(0,u.jsx)(T.Z,{width:"lg",name:"gap",label:"\u544A\u8B66\u95F4\u9694",debounceTime:300,style:{textAlign:"left"},rules:[{required:!0,message:"\u9009\u62E9\u544A\u8B66\u95F4\u9694"}],request:(0,t.Z)(l().mark(function K(){var y,M;return l().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,R();case 3:return y=o.sent,M=y.data,o.abrupt("return",M.map(function($){return{label:$,value:$}}));case 8:return o.prev=8,o.t0=o.catch(0),o.abrupt("return",[]);case 11:case"end":return o.stop()}},K,null,[[0,8]])}))})]})})]})},s=U}}]);
