(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[284],{37174:function(L){L.exports={alarm:"alarm___12xQi",salesRank:"salesRank___-5oIk",rankingList:"rankingList___rxbMU",rankingItemNumber:"rankingItemNumber___3eh0u",active:"active___3KjTZ",rankingItemTitle:"rankingItemTitle___3gCS2","alarm-data":"alarm-data___17B2L",alarmDetail:"alarmDetail___9Lz5b"}},70347:function(){},87261:function(L,j,o){"use strict";o.r(j),o.d(j,{default:function(){return S}});var E=o(3182),C=o(57663),n=o(71577),h=o(2824),O=o(94043),g=o.n(O),p=o(67294),b=o(37174),u=o.n(b),N=o(13062),e=o(71230),t=o(89032),i=o(15746),l=o(58024),a=o(39144),r=o(13254),s=o(14277),d=o(69886),m=o(85893),y=function(M){return(0,p.useEffect)(function(){var D=new d.by("AlarmDistributionPie",{appendPadding:10,data:M.alarmDataRanking,height:250,angleField:"value",colorField:"type",radius:1,innerRadius:.64,meta:{value:{formatter:function(F){return"".concat(F,"\u6B21")}}},legend:{position:"bottom"},label:{type:"inner",offset:"-50%",autoRotate:!1,style:{textAlign:"center",fontSize:"13px",fontWeight:"500"},formatter:function(F){var G=F.percent;return"".concat((G*100).toFixed(0),"%")}},statistic:{title:{offsetY:-8,style:{fontSize:"14px"},formatter:function(F){return(F==null?void 0:F.type)||"\u89E6\u53D1\u6B21\u6570"}},content:{style:{textAlign:"center",fontSize:"13px",fontWeight:"500",marginTop:"10px"},offsetY:-4}},interactions:[{type:"element-selected"},{type:"element-active"},{type:"pie-statistic-active",cfg:{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"},{trigger:"legend-item:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"},{trigger:"legend-item:mouseleave",action:"pie-statistic:reset"}]}}]});D.render()},[]),(0,m.jsx)("div",{id:"AlarmDistributionPie"})},Z=y,f=o(92077),v=o.n(f),x=function(M){return(0,m.jsxs)(e.Z,{gutter:10,className:"",children:[(0,m.jsx)(i.Z,{span:8,children:(0,m.jsx)(a.Z,{size:"default",title:"\u544A\u8B66\u6570\u636E",bordered:!1,bodyStyle:{padding:"10px 20px"},children:(0,m.jsxs)("div",{className:u().salesRank,children:[M.alarmDataRanking.length===0&&(0,m.jsx)(s.Z,{description:"\u6682\u65E0\u544A\u8B66\u6570\u636E",style:{marginTop:"20px"}}),M.alarmDataRanking.length!==0&&(0,m.jsx)("ul",{className:u().rankingList,children:M.alarmDataRanking.map(function(D,P){return(0,m.jsxs)("li",{children:[(0,m.jsx)("span",{className:"".concat(u().rankingItemNumber," ").concat(P<3?u().active:""),children:P+1}),(0,m.jsx)("span",{className:u().rankingItemTitle,title:D.type,children:D.type}),(0,m.jsxs)("span",{className:u().rankingItemCount,children:[v()(D.value).format("0,0"),"\u6B21"]})]},P+1)})})]})})}),(0,m.jsx)(i.Z,{span:8,children:(0,m.jsx)(a.Z,{size:"default",title:"\u9AD8\u5371\u7528\u6237",bordered:!1,bodyStyle:{padding:"10px 20px"},children:(0,m.jsxs)("div",{className:u().salesRank,children:[M.alarmUserRanking.length===0&&(0,m.jsx)(s.Z,{description:"\u6682\u65E0\u544A\u8B66\u5206\u5E03\u6570\u636E",style:{marginTop:"20px"}}),M.alarmUserRanking.length!==0&&(0,m.jsx)("ul",{className:u().rankingList,children:M.alarmUserRanking.map(function(D,P){return(0,m.jsxs)("li",{children:[(0,m.jsx)("span",{className:"".concat(u().rankingItemNumber," ").concat(P<3?u().active:""),children:P+1}),(0,m.jsx)("span",{className:u().rankingItemTitle,title:D.userName,children:D.userName}),(0,m.jsxs)("span",{className:u().rankingItemCount,children:[v()(D.alarmCount).format("0,0"),"\u6B21"]})]},P+1)})})]})})}),(0,m.jsx)(i.Z,{span:8,children:(0,m.jsx)(a.Z,{size:"default",title:"\u544A\u8B66\u5206\u5E03",bordered:!1,bodyStyle:{padding:"10px 20px",height:"300px"},children:M.alarmDataRanking.length>0?(0,m.jsx)(Z,{alarmDataRanking:M.alarmDataRanking}):(0,m.jsx)("div",{className:u().salesRank,children:(0,m.jsx)(s.Z,{style:{marginTop:"20px"}})})})})]})},c=x,_=o(23210),z=o(48606),$=o(2335),K=o(24480),A=function(M){var D=(0,p.useState)([]),P=(0,h.Z)(D,2),F=P[0],G=P[1],Q=(0,p.useState)([]),V=(0,h.Z)(Q,2),ne=V[0],ae=V[1],de=(0,p.useState)(0),re=(0,h.Z)(de,2),le=re[0],ie=re[1],X=(0,p.useState)([]),Y=(0,h.Z)(X,2),fe=Y[0],se=Y[1],me=(0,p.useState)({pageNo:1,pageSize:30}),oe=(0,h.Z)(me,2),q=oe[0],ue=oe[1],ge=[{title:"\u7528\u6237",dataIndex:"userName",key:"address",align:"center",search:!1},{title:"\u547D\u4E2D\u89C4\u5219ID",dataIndex:"matchRuleId",key:"matchRuleId",search:!1,align:"center"},{title:"\u89E6\u53D1\u6B21\u6570",dataIndex:"matchCount",key:"age",search:!1,align:"center",render:function(w,I){return(0,m.jsx)("div",{className:"danger",children:I.matchCount})}},{title:"\u6700\u540E\u89E6\u53D1\u65F6\u95F4",dataIndex:"originalTime",key:"address",search:!1,align:"center"},{title:"\u64CD\u4F5C",key:"action",align:"center",search:!1,render:function(w,I){return[(0,m.jsx)(n.Z,{type:"link",size:"small",onClick:function(){M.history.push({pathname:"/alarm-detail",query:{userName:I.userName}})},children:"\u8BE6\u60C5"},"management")]}}],he=function(){var B=(0,E.Z)(g().mark(function w(){var I,k,W;return g().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,(0,z.Hp)();case 2:I=H.sent,k=I.data,W=k.map(function(ee){return{type:ee.alarmName,value:parseInt(ee.alarmData),percent:parseInt(ee.alarmData)/100}}),G(W);case 6:case"end":return H.stop()}},w)}));return function(){return B.apply(this,arguments)}}();function T(B){(0,$.sF)(B).then(function(w){var I=w.data,k=JSON.parse(I);if(k){ie(k.total);var W=JSON.parse(k.rows);se(W.map(function(U){return U.id=K.Z.uuid(),U})),console.log(W)}})}var pe=function(){var B=(0,E.Z)(g().mark(function w(){var I,k;return g().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,z.CI)();case 2:I=U.sent,k=I.data,ae(k);case 5:case"end":return U.stop()}},w)}));return function(){return B.apply(this,arguments)}}();return(0,p.useEffect)(function(){he().then(),pe().then(),T(q)},[]),(0,m.jsxs)("div",{className:u().alarm,children:[(0,m.jsx)(c,{alarmDataRanking:F,alarmUserRanking:ne}),(0,m.jsx)(_.ZP,{headerTitle:"\u544A\u8B66\u4FE1\u606F\u5217\u8868",className:"mt-10",columns:ge,rowKey:"id",search:!1,pagination:{showSizeChanger:!1,pageSize:q.pageSize,current:q.pageNo,total:le,onChange:function(w,I){ue({pageNo:w,pageSize:I}),T({pageNo:w,pageSize:I})}},dataSource:fe})]})},S=A},48606:function(L,j,o){"use strict";o.d(j,{Hp:function(){return g},CI:function(){return b},cD:function(){return N},QD:function(){return t}});var E=o(11849),C=o(3182),n=o(94043),h=o.n(n),O=o(21704);function g(l){return p.apply(this,arguments)}function p(){return p=(0,C.Z)(h().mark(function l(a){return h().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,O.WY)("/api/skyflying/getAlarmData",(0,E.Z)({method:"GET"},a||{})));case 1:case"end":return s.stop()}},l)})),p.apply(this,arguments)}function b(l){return u.apply(this,arguments)}function u(){return u=(0,C.Z)(h().mark(function l(a){return h().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,O.WY)("/api/skyflying/getUserAlarmData",(0,E.Z)({method:"GET"},a||{})));case 1:case"end":return s.stop()}},l)})),u.apply(this,arguments)}function N(l,a){return e.apply(this,arguments)}function e(){return e=(0,C.Z)(h().mark(function l(a,r){return h().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,O.WY)("/api/skyflying/getAllAlarmInfoDetailByUserName",(0,E.Z)({method:"GET",params:a||{}},r||{})));case 1:case"end":return d.stop()}},l)})),e.apply(this,arguments)}function t(l,a){return i.apply(this,arguments)}function i(){return i=(0,C.Z)(h().mark(function l(a,r){return h().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,O.WY)("/api/skyflying/updateAnomalyDetectionInfo",(0,E.Z)({method:"POST",data:a||{}},r||{})));case 1:case"end":return d.stop()}},l)})),i.apply(this,arguments)}},2335:function(L,j,o){"use strict";o.d(j,{cD:function(){return b},sF:function(){return N}});var E=o(11849),C=o(3182),n=o(94043),h=o.n(n),O=o(32773);function g(t){return p.apply(this,arguments)}function p(){return p=_asyncToGenerator(_regeneratorRuntime.mark(function t(i){return _regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",request("/api/skyflying/getUserNameAnomalyDetectionInfo",_objectSpread({method:"GET"},i||{})));case 1:case"end":return a.stop()}},t)})),p.apply(this,arguments)}function b(t,i){return u.apply(this,arguments)}function u(){return u=(0,C.Z)(h().mark(function t(i,l){return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,O.WY)("/api/skyflying/getAllAlarmInfoDetailByUserName",(0,E.Z)({method:"GET",params:i||{}},l||{})));case 1:case"end":return r.stop()}},t)})),u.apply(this,arguments)}function N(t,i){return e.apply(this,arguments)}function e(){return e=(0,C.Z)(h().mark(function t(i,l){return h().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,O.WY)("/api/skyflying/getAnomalyDetectionInfoByGroupByUserName",(0,E.Z)({method:"GET",params:i||{}},l||{})));case 1:case"end":return r.stop()}},t)})),e.apply(this,arguments)}},24480:function(L,j,o){"use strict";o.d(j,{Z:function(){return n}});var E=o(69610),C=o(54941),n=function(){function h(){(0,E.Z)(this,h)}return(0,C.Z)(h,null,[{key:"timeStampToTime",value:function(g){var p=new Date(parseInt(g));return p.toJSON().substring(0,10).replace("T","")}},{key:"getLocalTime",value:function(g){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"YYYY-mm-dd HH:MM:SS",b,u={"Y+":g.getFullYear().toString(),"m+":(g.getMonth()+1).toString(),"d+":g.getDate().toString(),"H+":g.getHours().toString(),"M+":g.getMinutes().toString(),"S+":g.getSeconds().toString()},N=p;for(var e in u)b=new RegExp("("+e+")").exec(p),b&&(N=N.replace(b[1],b[1].length==1?u[e]:u[e].padStart(b[1].length,"0")));return N}},{key:"uuid",value:function(){for(var g=[],p="0123456789abcdef",b=0;b<36;b++)g[b]=p.substr(Math.floor(Math.random()*16),1);return g[14]="4",g[19]=p.substr(g[19]&3|8,1),g[8]=g[13]=g[18]=g[23]="-",g.join("").replace(new RegExp(/(-)/g),"")}},{key:"getRangeTime",value:function(g,p){for(var b=[],u=g-1;u>=0;u--){var N=void 0;u===g-1?N=new Date(Date.now()-u*24*60*60*1e3).setHours(0,0,1,0):N=new Date(Date.now()-u*24*60*60*1e3).setHours(23,59,59,999),p?b.push(h.getLocalTime(new Date(N),p)):b.push(N)}return b}},{key:"getRangeStartAndEndTime",value:function(g,p){for(var b=[],u=g-1;u>=0;u--){var N=void 0;u===g-1?N=new Date(Date.now()-u*24*60*60*1e3).setHours(0,0,0,0):u===0?N=new Date(Date.now()-(u-1)*24*60*60*1e3).setHours(0,0,0,0):N=new Date(Date.now()-u*24*60*60*1e3).setHours(23,59,59,999),p?b.push(h.getLocalTime(new Date(N),p)):b.push(N)}return[b[0],b[g-1]]}}]),h}();n.arrayDeDuplication=function(h){return Array.from(new Set(h))}},39144:function(L,j,o){"use strict";o.d(j,{Z:function(){return Z}});var E=o(96156),C=o(22122),n=o(67294),h=o(94184),O=o.n(h),g=o(98423),p=o(65632),b=function(f,v){var x={};for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&v.indexOf(c)<0&&(x[c]=f[c]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,c=Object.getOwnPropertySymbols(f);_<c.length;_++)v.indexOf(c[_])<0&&Object.prototype.propertyIsEnumerable.call(f,c[_])&&(x[c[_]]=f[c[_]]);return x},u=function(v){var x=v.prefixCls,c=v.className,_=v.hoverable,z=_===void 0?!0:_,$=b(v,["prefixCls","className","hoverable"]);return n.createElement(p.C,null,function(K){var A=K.getPrefixCls,S=A("card",x),R=O()("".concat(S,"-grid"),c,(0,E.Z)({},"".concat(S,"-grid-hoverable"),z));return n.createElement("div",(0,C.Z)({},$,{className:R}))})},N=u,e=function(f,v){var x={};for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&v.indexOf(c)<0&&(x[c]=f[c]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,c=Object.getOwnPropertySymbols(f);_<c.length;_++)v.indexOf(c[_])<0&&Object.prototype.propertyIsEnumerable.call(f,c[_])&&(x[c[_]]=f[c[_]]);return x},t=function(v){return n.createElement(p.C,null,function(x){var c=x.getPrefixCls,_=v.prefixCls,z=v.className,$=v.avatar,K=v.title,A=v.description,S=e(v,["prefixCls","className","avatar","title","description"]),R=c("card",_),M=O()("".concat(R,"-meta"),z),D=$?n.createElement("div",{className:"".concat(R,"-meta-avatar")},$):null,P=K?n.createElement("div",{className:"".concat(R,"-meta-title")},K):null,F=A?n.createElement("div",{className:"".concat(R,"-meta-description")},A):null,G=P||F?n.createElement("div",{className:"".concat(R,"-meta-detail")},P,F):null;return n.createElement("div",(0,C.Z)({},S,{className:M}),D,G)})},i=t,l=o(51752),a=o(71230),r=o(15746),s=o(97647),d=function(f,v){var x={};for(var c in f)Object.prototype.hasOwnProperty.call(f,c)&&v.indexOf(c)<0&&(x[c]=f[c]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,c=Object.getOwnPropertySymbols(f);_<c.length;_++)v.indexOf(c[_])<0&&Object.prototype.propertyIsEnumerable.call(f,c[_])&&(x[c[_]]=f[c[_]]);return x};function m(f){var v=f.map(function(x,c){return n.createElement("li",{style:{width:"".concat(100/f.length,"%")},key:"action-".concat(c)},n.createElement("span",null,x))});return v}var y=n.forwardRef(function(f,v){var x,c,_=n.useContext(p.E_),z=_.getPrefixCls,$=_.direction,K=n.useContext(s.Z),A=function(ce){var J;(J=f.onTabChange)===null||J===void 0||J.call(f,ce)},S=function(){var ce;return n.Children.forEach(f.children,function(J){J&&J.type&&J.type===N&&(ce=!0)}),ce},R=f.prefixCls,M=f.className,D=f.extra,P=f.headStyle,F=P===void 0?{}:P,G=f.bodyStyle,Q=G===void 0?{}:G,V=f.title,ne=f.loading,ae=f.bordered,de=ae===void 0?!0:ae,re=f.size,le=f.type,ie=f.cover,X=f.actions,Y=f.tabList,fe=f.children,se=f.activeTabKey,me=f.defaultActiveTabKey,oe=f.tabBarExtraContent,q=f.hoverable,ue=f.tabProps,ge=ue===void 0?{}:ue,he=d(f,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),T=z("card",R),pe=Q.padding===0||Q.padding==="0px"?{padding:24}:void 0,B=n.createElement("div",{className:"".concat(T,"-loading-block")}),w=n.createElement("div",{className:"".concat(T,"-loading-content"),style:pe},n.createElement(a.Z,{gutter:8},n.createElement(r.Z,{span:22},B)),n.createElement(a.Z,{gutter:8},n.createElement(r.Z,{span:8},B),n.createElement(r.Z,{span:15},B)),n.createElement(a.Z,{gutter:8},n.createElement(r.Z,{span:6},B),n.createElement(r.Z,{span:18},B)),n.createElement(a.Z,{gutter:8},n.createElement(r.Z,{span:13},B),n.createElement(r.Z,{span:9},B)),n.createElement(a.Z,{gutter:8},n.createElement(r.Z,{span:4},B),n.createElement(r.Z,{span:3},B),n.createElement(r.Z,{span:16},B))),I=se!==void 0,k=(0,C.Z)((0,C.Z)({},ge),(x={},(0,E.Z)(x,I?"activeKey":"defaultActiveKey",I?se:me),(0,E.Z)(x,"tabBarExtraContent",oe),x)),W,U=Y&&Y.length?n.createElement(l.Z,(0,C.Z)({size:"large"},k,{className:"".concat(T,"-head-tabs"),onChange:A}),Y.map(function(te){return n.createElement(l.Z.TabPane,{tab:te.tab,disabled:te.disabled,key:te.key})})):null;(V||D||U)&&(W=n.createElement("div",{className:"".concat(T,"-head"),style:F},n.createElement("div",{className:"".concat(T,"-head-wrapper")},V&&n.createElement("div",{className:"".concat(T,"-head-title")},V),D&&n.createElement("div",{className:"".concat(T,"-extra")},D)),U));var H=ie?n.createElement("div",{className:"".concat(T,"-cover")},ie):null,ee=n.createElement("div",{className:"".concat(T,"-body"),style:Q},ne?w:fe),_e=X&&X.length?n.createElement("ul",{className:"".concat(T,"-actions")},m(X)):null,be=(0,g.Z)(he,["onTabChange"]),ve=re||K,ye=O()(T,(c={},(0,E.Z)(c,"".concat(T,"-loading"),ne),(0,E.Z)(c,"".concat(T,"-bordered"),de),(0,E.Z)(c,"".concat(T,"-hoverable"),q),(0,E.Z)(c,"".concat(T,"-contain-grid"),S()),(0,E.Z)(c,"".concat(T,"-contain-tabs"),Y&&Y.length),(0,E.Z)(c,"".concat(T,"-").concat(ve),ve),(0,E.Z)(c,"".concat(T,"-type-").concat(le),!!le),(0,E.Z)(c,"".concat(T,"-rtl"),$==="rtl"),c),M);return n.createElement("div",(0,C.Z)({ref:v},be,{className:ye}),W,H,ee,_e)});y.Grid=N,y.Meta=i;var Z=y},58024:function(L,j,o){"use strict";var E=o(38663),C=o.n(E),n=o(70347),h=o.n(n),O=o(18106),g=o(13062),p=o(89032)},92077:function(L,j,o){var E,C;/*! @preserve
* numeral.js
* version : 2.0.6
* author : Adam Draper
* license : MIT
* http://adamwdraper.github.com/Numeral-js/
*/(function(n,h){E=h,C=typeof E=="function"?E.call(j,o,j,L):E,C!==void 0&&(L.exports=C)})(this,function(){var n,h,O="2.0.6",g={},p={},b={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},u={currentLocale:b.currentLocale,zeroFormat:b.zeroFormat,nullFormat:b.nullFormat,defaultFormat:b.defaultFormat,scalePercentBy100:b.scalePercentBy100};function N(e,t){this._input=e,this._value=t}return n=function(e){var t,i,l,a;if(n.isNumeral(e))t=e.value();else if(e===0||typeof e=="undefined")t=0;else if(e===null||h.isNaN(e))t=null;else if(typeof e=="string")if(u.zeroFormat&&e===u.zeroFormat)t=0;else if(u.nullFormat&&e===u.nullFormat||!e.replace(/[^0-9]+/g,"").length)t=null;else{for(i in g)if(a=typeof g[i].regexps.unformat=="function"?g[i].regexps.unformat():g[i].regexps.unformat,a&&e.match(a)){l=g[i].unformat;break}l=l||n._.stringToNumber,t=l(e)}else t=Number(e)||null;return new N(e,t)},n.version=O,n.isNumeral=function(e){return e instanceof N},n._=h={numberToFormat:function(e,t,i){var l=p[n.options.currentLocale],a=!1,r=!1,s=0,d="",m=1e12,y=1e9,Z=1e6,f=1e3,v="",x=!1,c,_,z,$,K,A,S,R,M,D;if(e=e||0,_=Math.abs(e),n._.includes(t,"(")?(a=!0,t=t.replace(/[\(|\)]/g,"")):(n._.includes(t,"+")||n._.includes(t,"-"))&&(R=n._.includes(t,"+")?t.indexOf("+"):e<0?t.indexOf("-"):-1,t=t.replace(/[\+|\-]/g,"")),n._.includes(t,"a")&&(c=t.match(/a(k|m|b|t)?/),c=c?c[1]:!1,n._.includes(t," a")&&(d=" "),t=t.replace(new RegExp(d+"a[kmbt]?"),""),_>=m&&!c||c==="t"?(d+=l.abbreviations.trillion,e=e/m):_<m&&_>=y&&!c||c==="b"?(d+=l.abbreviations.billion,e=e/y):_<y&&_>=Z&&!c||c==="m"?(d+=l.abbreviations.million,e=e/Z):(_<Z&&_>=f&&!c||c==="k")&&(d+=l.abbreviations.thousand,e=e/f)),n._.includes(t,"[.]")&&(r=!0,t=t.replace("[.]",".")),A=e.toString().split(".")[0],S=t.split(".")[1],M=t.indexOf(","),s=(t.split(".")[0].split(",")[0].match(/0/g)||[]).length,S?(n._.includes(S,"[")?(S=S.replace("]",""),S=S.split("["),v=n._.toFixed(e,S[0].length+S[1].length,i,S[1].length)):v=n._.toFixed(e,S.length,i),A=v.split(".")[0],n._.includes(v,".")?v=l.delimiters.decimal+v.split(".")[1]:v="",r&&Number(v.slice(1))===0&&(v="")):A=n._.toFixed(e,0,i),d&&!c&&Number(A)>=1e3&&d!==l.abbreviations.trillion)switch(A=String(Number(A)/1e3),d){case l.abbreviations.thousand:d=l.abbreviations.million;break;case l.abbreviations.million:d=l.abbreviations.billion;break;case l.abbreviations.billion:d=l.abbreviations.trillion;break}if(n._.includes(A,"-")&&(A=A.slice(1),x=!0),A.length<s)for(var P=s-A.length;P>0;P--)A="0"+A;return M>-1&&(A=A.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+l.delimiters.thousands)),t.indexOf(".")===0&&(A=""),D=A+v+(d||""),a?D=(a&&x?"(":"")+D+(a&&x?")":""):R>=0?D=R===0?(x?"-":"+")+D:D+(x?"-":"+"):x&&(D="-"+D),D},stringToNumber:function(e){var t=p[u.currentLocale],i=e,l={thousand:3,million:6,billion:9,trillion:12},a,r,s,d;if(u.zeroFormat&&e===u.zeroFormat)r=0;else if(u.nullFormat&&e===u.nullFormat||!e.replace(/[^0-9]+/g,"").length)r=null;else{r=1,t.delimiters.decimal!=="."&&(e=e.replace(/\./g,"").replace(t.delimiters.decimal,"."));for(a in l)if(d=new RegExp("[^a-zA-Z]"+t.abbreviations[a]+"(?:\\)|(\\"+t.currency.symbol+")?(?:\\))?)?$"),i.match(d)){r*=Math.pow(10,l[a]);break}r*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),r*=Number(e)}return r},isNaN:function(e){return typeof e=="number"&&isNaN(e)},includes:function(e,t){return e.indexOf(t)!==-1},insert:function(e,t,i){return e.slice(0,i)+t+e.slice(i)},reduce:function(e,t){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof t!="function")throw new TypeError(t+" is not a function");var i=Object(e),l=i.length>>>0,a=0,r;if(arguments.length===3)r=arguments[2];else{for(;a<l&&!(a in i);)a++;if(a>=l)throw new TypeError("Reduce of empty array with no initial value");r=i[a++]}for(;a<l;a++)a in i&&(r=t(r,i[a],a,i));return r},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(t,i){var l=h.multiplier(i);return t>l?t:l},1)},toFixed:function(e,t,i,l){var a=e.toString().split("."),r=t-(l||0),s,d,m,y;return a.length===2?s=Math.min(Math.max(a[1].length,r),t):s=r,m=Math.pow(10,s),y=(i(e+"e+"+s)/m).toFixed(s),l>t-s&&(d=new RegExp("\\.?0{1,"+(l-(t-s))+"}$"),y=y.replace(d,"")),y}},n.options=u,n.formats=g,n.locales=p,n.locale=function(e){return e&&(u.currentLocale=e.toLowerCase()),u.currentLocale},n.localeData=function(e){if(!e)return p[u.currentLocale];if(e=e.toLowerCase(),!p[e])throw new Error("Unknown locale : "+e);return p[e]},n.reset=function(){for(var e in b)u[e]=b[e]},n.zeroFormat=function(e){u.zeroFormat=typeof e=="string"?e:null},n.nullFormat=function(e){u.nullFormat=typeof e=="string"?e:null},n.defaultFormat=function(e){u.defaultFormat=typeof e=="string"?e:"0.0"},n.register=function(e,t,i){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=i,i},n.validate=function(e,t){var i,l,a,r,s,d,m,y;if(typeof e!="string"&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),e=e.trim(),e.match(/^\d+$/))return!0;if(e==="")return!1;try{m=n.localeData(t)}catch(Z){m=n.localeData(n.locale())}return a=m.currency.symbol,s=m.abbreviations,i=m.delimiters.decimal,m.delimiters.thousands==="."?l="\\.":l=m.delimiters.thousands,y=e.match(/^[^\d]+/),y!==null&&(e=e.substr(1),y[0]!==a)||(y=e.match(/[^\d]+$/),y!==null&&(e=e.slice(0,-1),y[0]!==s.thousand&&y[0]!==s.million&&y[0]!==s.billion&&y[0]!==s.trillion))?!1:(d=new RegExp(l+"{2}"),e.match(/[^\d.,]/g)?!1:(r=e.split(i),r.length>2?!1:r.length<2?!!r[0].match(/^\d+.*\d$/)&&!r[0].match(d):r[0].length===1?!!r[0].match(/^\d+$/)&&!r[0].match(d)&&!!r[1].match(/^\d+$/):!!r[0].match(/^\d+.*\d$/)&&!r[0].match(d)&&!!r[1].match(/^\d+$/)))},n.fn=N.prototype={clone:function(){return n(this)},format:function(e,t){var i=this._value,l=e||u.defaultFormat,a,r,s;if(t=t||Math.round,i===0&&u.zeroFormat!==null)r=u.zeroFormat;else if(i===null&&u.nullFormat!==null)r=u.nullFormat;else{for(a in g)if(l.match(g[a].regexps.format)){s=g[a].format;break}s=s||n._.numberToFormat,r=s(i,l,t)}return r},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var t=h.correctionFactor.call(null,this._value,e);function i(l,a,r,s){return l+Math.round(t*a)}return this._value=h.reduce([this._value,e],i,0)/t,this},subtract:function(e){var t=h.correctionFactor.call(null,this._value,e);function i(l,a,r,s){return l-Math.round(t*a)}return this._value=h.reduce([e],i,Math.round(this._value*t))/t,this},multiply:function(e){function t(i,l,a,r){var s=h.correctionFactor(i,l);return Math.round(i*s)*Math.round(l*s)/Math.round(s*s)}return this._value=h.reduce([this._value,e],t,1),this},divide:function(e){function t(i,l,a,r){var s=h.correctionFactor(i,l);return Math.round(i*s)/Math.round(l*s)}return this._value=h.reduce([this._value,e],t),this},difference:function(e){return Math.abs(n(this._value).subtract(e).value())}},n.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return~~(e%100/10)==1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"},currency:{symbol:"$"}}),function(){n.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,t,i){var l=n._.includes(t," BPS")?" ":"",a;return e=e*1e4,t=t.replace(/\s?BPS/,""),a=n._.numberToFormat(e,t,i),n._.includes(a,")")?(a=a.split(""),a.splice(-1,0,l+"BPS"),a=a.join("")):a=a+l+"BPS",a},unformat:function(e){return+(n._.stringToNumber(e)*1e-4).toFixed(15)}})}(),function(){var e={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},t={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},i=e.suffixes.concat(t.suffixes.filter(function(a){return e.suffixes.indexOf(a)<0})),l=i.join("|");l="("+l.replace("B","B(?!PS)")+")",n.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(l)},format:function(a,r,s){var d,m=n._.includes(r,"ib")?t:e,y=n._.includes(r," b")||n._.includes(r," ib")?" ":"",Z,f,v;for(r=r.replace(/\s?i?b/,""),Z=0;Z<=m.suffixes.length;Z++)if(f=Math.pow(m.base,Z),v=Math.pow(m.base,Z+1),a===null||a===0||a>=f&&a<v){y+=m.suffixes[Z],f>0&&(a=a/f);break}return d=n._.numberToFormat(a,r,s),d+y},unformat:function(a){var r=n._.stringToNumber(a),s,d;if(r){for(s=e.suffixes.length-1;s>=0;s--){if(n._.includes(a,e.suffixes[s])){d=Math.pow(e.base,s);break}if(n._.includes(a,t.suffixes[s])){d=Math.pow(t.base,s);break}}r*=d||1}return r}})}(),function(){n.register("format","currency",{regexps:{format:/(\$)/},format:function(e,t,i){var l=n.locales[n.options.currentLocale],a={before:t.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:t.match(/([\+|\-|\)|\s|\$]*)$/)[0]},r,s,d;for(t=t.replace(/\s?\$\s?/,""),r=n._.numberToFormat(e,t,i),e>=0?(a.before=a.before.replace(/[\-\(]/,""),a.after=a.after.replace(/[\-\)]/,"")):e<0&&!n._.includes(a.before,"-")&&!n._.includes(a.before,"(")&&(a.before="-"+a.before),d=0;d<a.before.length;d++)switch(s=a.before[d],s){case"$":r=n._.insert(r,l.currency.symbol,d);break;case" ":r=n._.insert(r," ",d+l.currency.symbol.length-1);break}for(d=a.after.length-1;d>=0;d--)switch(s=a.after[d],s){case"$":r=d===a.after.length-1?r+l.currency.symbol:n._.insert(r,l.currency.symbol,-(a.after.length-(1+d)));break;case" ":r=d===a.after.length-1?r+" ":n._.insert(r," ",-(a.after.length-(1+d)+l.currency.symbol.length-1));break}return r}})}(),function(){n.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,t,i){var l,a=typeof e=="number"&&!n._.isNaN(e)?e.toExponential():"0e+0",r=a.split("e");return t=t.replace(/e[\+|\-]{1}0/,""),l=n._.numberToFormat(Number(r[0]),t,i),l+"e"+r[1]},unformat:function(e){var t=n._.includes(e,"e+")?e.split("e+"):e.split("e-"),i=Number(t[0]),l=Number(t[1]);l=n._.includes(e,"e-")?l*=-1:l;function a(r,s,d,m){var y=n._.correctionFactor(r,s),Z=r*y*(s*y)/(y*y);return Z}return n._.reduce([i,Math.pow(10,l)],a,1)}})}(),function(){n.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,t,i){var l=n.locales[n.options.currentLocale],a,r=n._.includes(t," o")?" ":"";return t=t.replace(/\s?o/,""),r+=l.ordinal(e),a=n._.numberToFormat(e,t,i),a+r}})}(),function(){n.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,t,i){var l=n._.includes(t," %")?" ":"",a;return n.options.scalePercentBy100&&(e=e*100),t=t.replace(/\s?\%/,""),a=n._.numberToFormat(e,t,i),n._.includes(a,")")?(a=a.split(""),a.splice(-1,0,l+"%"),a=a.join("")):a=a+l+"%",a},unformat:function(e){var t=n._.stringToNumber(e);return n.options.scalePercentBy100?t*.01:t}})}(),function(){n.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,i){var l=Math.floor(e/60/60),a=Math.floor((e-l*60*60)/60),r=Math.round(e-l*60*60-a*60);return l+":"+(a<10?"0"+a:a)+":"+(r<10?"0"+r:r)},unformat:function(e){var t=e.split(":"),i=0;return t.length===3?(i=i+Number(t[0])*60*60,i=i+Number(t[1])*60,i=i+Number(t[2])):t.length===2&&(i=i+Number(t[0])*60,i=i+Number(t[1])),Number(i)}})}(),n})}}]);
