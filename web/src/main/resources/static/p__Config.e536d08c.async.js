(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[569],{64317:function(L,A,e){"use strict";var S=e(22122),h=e(28991),D=e(81253),t=e(67294),y=e(30885),n=e(96202),j=e(66758),F=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],N=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],Y=t.forwardRef(function(r,x){var s=r.fieldProps,g=r.children,V=r.params,G=r.proFieldProps,M=r.mode,O=r.valueEnum,B=r.request,T=r.showSearch,f=r.options,z=(0,D.Z)(r,F),K=(0,t.useContext)(j.Z);return t.createElement(y.Z,(0,S.Z)({mode:"edit",valueEnum:(0,n.h)(O),request:B,params:V,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,h.Z)({options:f,mode:M,showSearch:T,getPopupContainer:K.getPopupContainer},s),ref:x,proFieldProps:G},z),g)}),U=t.forwardRef(function(r,x){var s=r.fieldProps,g=r.children,V=r.params,G=r.proFieldProps,M=r.mode,O=r.valueEnum,B=r.request,T=r.options,f=(0,D.Z)(r,N),z=(0,h.Z)({options:T,mode:M||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},s),K=(0,t.useContext)(j.Z);return t.createElement(y.Z,(0,S.Z)({mode:"edit",valueEnum:(0,n.h)(O),request:B,params:V,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,h.Z)({getPopupContainer:K.getPopupContainer},z),ref:x,proFieldProps:G},f),g)}),J=Y,C=U,c=J;c.SearchSelect=C,c.displayName="ProFormComponent",A.Z=c},5894:function(L,A,e){"use strict";e.d(A,{A:function(){return T}});var S=e(9715),h=e(86835),D=e(22122),t=e(67294),y=e(96156),n=e(49111),j=e(19650),F=e(84305),N=e(75901),Y=e(28481),U=e(28991),J=e(8812),C=e(66758),c=e(96138),r=e(28664),x=e(58927),s=e(94184),g=e.n(s),V=e(2514),G=t.forwardRef(function(f,z){var K=t.useContext(C.Z),Q=K.groupProps,P=(0,U.Z)((0,U.Z)({},Q),f),de=P.children,X=P.collapsible,ce=P.defaultCollapsed,Ce=P.style,Ze=P.labelLayout,b=P.title,ee=b===void 0?f.label:b,pe=P.tooltip,te=P.align,me=te===void 0?"start":te,ne=P.direction,fe=P.size,re=fe===void 0?32:fe,Ae=P.titleStyle,ae=P.titleRender,w=P.spaceProps,k=P.extra,le=P.autoFocus,ie=(0,r.Z)(function(){return ce||!1},{value:f.collapsed,onChange:f.onCollapse}),ve=(0,Y.Z)(ie,2),q=ve[0],De=ve[1],Fe=(0,t.useContext)(N.ZP.ConfigContext),l=Fe.getPrefixCls,ge=(0,V.z)(f),xe=ge.ColWrapper,i=ge.RowWrapper,a=l("pro-form-group"),E=X&&t.createElement(J.Z,{style:{marginRight:8},rotate:q?void 0:90}),o=t.createElement(x.Z,{label:E?t.createElement("div",null,E,ee):ee,tooltip:pe}),d=(0,t.useCallback)(function($){var _=$.children;return t.createElement(j.Z,(0,D.Z)({},w,{className:"".concat(a,"-container"),size:re,align:me,direction:ne,style:(0,U.Z)({rowGap:0},w==null?void 0:w.style)}),_)},[me,a,ne,re,w]),oe=ae?ae(o,f):o,he=(0,t.useMemo)(function(){var $=[],_=t.Children.toArray(de).map(function(R,Se){var se;return t.isValidElement(R)&&(R==null||(se=R.props)===null||se===void 0?void 0:se.hidden)?($.push(R),null):Se===0&&t.isValidElement(R)&&le?t.cloneElement(R,(0,U.Z)((0,U.Z)({},R.props),{},{autoFocus:le})):R});return[t.createElement(i,{key:"children",Wrapper:d},_),$.length>0?t.createElement("div",{style:{display:"none"}},$):null]},[de,i,d,le]),Ee=(0,Y.Z)(he,2),Pe=Ee[0],ye=Ee[1];return t.createElement(xe,null,t.createElement("div",{className:g()(a,(0,y.Z)({},"".concat(a,"-twoLine"),Ze==="twoLine")),style:Ce,ref:z},ye,(ee||pe||k)&&t.createElement("div",{className:"".concat(a,"-title"),style:Ae,onClick:function(){De(!q)}},k?t.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}},oe,t.createElement("span",{onClick:function(_){return _.stopPropagation()}},k)):oe),X&&q?null:Pe))});G.displayName="ProForm-Group";var M=G,O=e(87808),B=e(24214);function T(f){return t.createElement(B.I,(0,D.Z)({layout:"vertical",submitter:{render:function(K,Q){return Q.reverse()}},contentRender:function(K,Q){return t.createElement(t.Fragment,null,K,Q)}},f))}T.Group=M,T.useForm=h.Z.useForm,T.Item=O.Z},24739:function(L,A,e){"use strict";e.d(A,{UW:function(){return h}});var S=e(5894),h=S.A.Group},58927:function(L,A,e){"use strict";var S=e(22385),h=e(61580),D=e(96156),t=e(84305),y=e(75901),n=e(67294),j=e(68628),F=e(11445),N=e.n(F),Y=e(94184),U=e.n(Y),J=function(c){var r=c.label,x=c.tooltip,s=c.ellipsis,g=c.subTitle,V=(0,n.useContext)(y.ZP.ConfigContext),G=V.getPrefixCls;if(!x&&!g)return n.createElement(n.Fragment,null,r);var M=G("pro-core-label-tip"),O=typeof x=="string"||n.isValidElement(x)?{title:x}:x,B=(O==null?void 0:O.icon)||n.createElement(j.Z,null);return n.createElement("div",{className:M,onMouseDown:function(f){return f.stopPropagation()},onMouseLeave:function(f){return f.stopPropagation()},onMouseMove:function(f){return f.stopPropagation()}},n.createElement("div",{className:U()("".concat(M,"-title"),(0,D.Z)({},"".concat(M,"-title-ellipsis"),s))},r),g&&n.createElement("div",{className:"".concat(M,"-subtitle")},g),x&&n.createElement(h.Z,O,n.createElement("span",{className:"".concat(M,"-icon")},B)))};A.Z=n.memo(J)},89663:function(L){L.exports={config:"config___2VrF2"}},96138:function(){},11445:function(){},29035:function(L,A,e){"use strict";e.r(A),e.d(A,{default:function(){return xe}});var S=e(71194),h=e(50146),D=e(12968),t=e(62462),y=e(57663),n=e(71577),j=e(18106),F=e(51752),N=e(402),Y=e(97272),U=e(74379),J=e(38648),C=e(3182),c=e(11849),r=e(2824),x=e(94043),s=e.n(x),g=e(67294),V=e(89663),G=e.n(V),M=e(24739),O=e(5966),B=e(13312),T=e(67724),f=e(8812),z=e(22122),K=e(81253),Q=e(30885),P=["fieldProps","proFieldProps"],de=function(a,E){var o=a.fieldProps,d=a.proFieldProps,oe=(0,K.Z)(a,P);return g.createElement(Q.Z,(0,z.Z)({ref:E,mode:"edit",valueType:"textarea",fieldProps:o,proFieldProps:d},oe))},X=g.forwardRef(de),ce=e(5894),Ce=e(64317),Ze=e(59962),b=e(25377),ee=e(24480);function pe(i){return te.apply(this,arguments)}function te(){return te=(0,C.Z)(s().mark(function i(a){return s().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,b.WY)("/api/skyflying/config/getDingConfig",(0,c.Z)({method:"GET"},a||{})));case 1:case"end":return o.stop()}},i)})),te.apply(this,arguments)}function me(i){return ne.apply(this,arguments)}function ne(){return ne=(0,C.Z)(s().mark(function i(a){return s().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,b.WY)("/api/skyflying/config/getDingGapDic",(0,c.Z)({method:"GET"},a||{})));case 1:case"end":return o.stop()}},i)})),ne.apply(this,arguments)}function fe(i,a){return re.apply(this,arguments)}function re(){return re=(0,C.Z)(s().mark(function i(a,E){return s().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,b.WY)("/api/skyflying/config/updateDingConfig",(0,c.Z)({method:"PUT",data:a},E||{})));case 1:case"end":return d.stop()}},i)})),re.apply(this,arguments)}function Ae(i){return ae.apply(this,arguments)}function ae(){return ae=(0,C.Z)(s().mark(function i(a){return s().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,b.WY)("/api/skyflying/getAkSk",(0,c.Z)({method:"GET"},a||{})));case 1:case"end":return o.stop()}},i)})),ae.apply(this,arguments)}function w(i){return k.apply(this,arguments)}function k(){return k=(0,C.Z)(s().mark(function i(a){return s().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,b.WY)("/api/skyflying/getRegion",(0,c.Z)({method:"GET"},a||{})));case 1:case"end":return o.stop()}},i)})),k.apply(this,arguments)}function le(i,a){return ie.apply(this,arguments)}function ie(){return ie=(0,C.Z)(s().mark(function i(a,E){return s().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,b.WY)("/api/skyflying/setAkSk",(0,c.Z)({method:"POST",data:ee.Z.formData(a)},E||{})));case 1:case"end":return d.stop()}},i)})),ie.apply(this,arguments)}function ve(i,a){return q.apply(this,arguments)}function q(){return q=(0,C.Z)(s().mark(function i(a,E){return s().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,b.WY)("/api/skyflying/setRegion",(0,c.Z)({method:"POST",data:ee.Z.formData(a)},E||{})));case 1:case"end":return d.stop()}},i)})),q.apply(this,arguments)}var De=e(34217),Fe=e.n(De),l=e(85893),ge=function(){var a=(0,g.useRef)(),E=(0,g.useRef)(),o=(0,g.useState)(!1),d=(0,r.Z)(o,2),oe=d[0],he=d[1],Ee=(0,g.useState)(1),Pe=(0,r.Z)(Ee,2),ye=Pe[0],$=Pe[1],_=(0,g.useState)(Fe()),R=(0,r.Z)(_,2),Se=R[0],se=R[1],Te=(0,g.useState)({gap:0,id:0,secret:"",webhook:"",mobiles:""}),Me=(0,r.Z)(Te,2),Be=Me[0],Re=Me[1],Oe={getAkAndSk:function(){Ae().then(function(p){var m=p.data;if(m){var v,u=JSON.parse(m);(v=E.current)===null||v===void 0||v.setFieldsValue(u),w().then(function(I){if(I&&I.data){var Z=JSON.parse(I.data),H=Z.config;if(H){var ue,We=JSON.parse(H);(ue=E.current)===null||ue===void 0||ue.setFieldsValue({region:We["dms-region"]})}}})}})},getConfig:function(){pe().then(function(p){var m,v=p.data,u=p.code;u===B.Gh&&v&&Re(v);var I=[];if(v&&v.mobiles){var Z=v.mobiles.includes("#")?v.mobiles.split("#"):[v.mobiles];I=Z.map(function(H){return{phone:H}})}(m=a.current)===null||m===void 0||m.setFieldsValue((0,c.Z)((0,c.Z)({},v),{phone:I}))})}};return(0,g.useEffect)(function(){Oe.getConfig()},[]),(0,l.jsxs)("div",{className:G().config,children:[(0,l.jsxs)(F.Z,{tabPosition:"left",size:"middle",onChange:function(p){return Oe[p]()},type:"card",children:[(0,l.jsxs)(F.Z.TabPane,{tab:"\u9489\u9489\u544A\u8B66",children:[(0,l.jsx)("h3",{className:"text-c mb-30 mt-50 fw-600",children:"\u9489\u9489\u544A\u8B66\u914D\u7F6E"}),(0,l.jsx)("div",{style:{display:"inline-block",margin:"0 auto"},children:(0,l.jsxs)(ce.A,{formRef:a,labelAlign:"right",onFinish:function(){var W=(0,C.Z)(s().mark(function p(m){var v,u;return s().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:u=m.phone,u&&u.length>0&&(m.mobiles=u.map(function(H){return H.phone}).join("#"),delete m.phone),fe((0,c.Z)((0,c.Z)({},m),{id:(v=Be.id)!==null&&v!==void 0?v:null})).then(function(H){var ue=H.code;ue===B.Gh&&J.Z.success({message:"\u63D0\u793A",description:"\u4FEE\u6539\u6210\u529F\uFF01"})});case 3:case"end":return Z.stop()}},p)}));return function(p){return W.apply(this,arguments)}}(),submitter:{searchConfig:{submitText:"\u786E\u8BA4\u4FEE\u6539"}},labelCol:{span:8},layout:"horizontal",children:[(0,l.jsx)(X,{help:(0,l.jsx)(Y.Z.Link,{onClick:function(){he(!0)},children:"\u5982\u4F55\u83B7\u53D6Webhook\uFF1F"}),width:"lg",name:"webhook",label:"Webhook",tooltip:"\u9489\u9489\u7FA4\u8BBE\u7F6E->\u667A\u80FD\u7FA4\u52A9\u624B->",style:{textAlign:"left"},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u94A5"}]}),(0,l.jsx)(X,{width:"lg",name:"secret",label:"Secret",style:{textAlign:"left"},rules:[{required:!0,message:"\u8BF7\u8F93\u5165token"}]}),(0,l.jsx)(Ce.Z,{width:"lg",name:"gap",label:"\u544A\u8B66\u95F4\u9694",debounceTime:300,style:{textAlign:"left"},rules:[{required:!0,message:"\u9009\u62E9\u544A\u8B66\u95F4\u9694"}],request:(0,C.Z)(s().mark(function W(){var p,m;return s().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,me();case 3:return p=u.sent,m=p.data,u.abrupt("return",m.map(function(I){return{label:I,value:I}}));case 8:return u.prev=8,u.t0=u.catch(0),u.abrupt("return",[]);case 11:case"end":return u.stop()}},W,null,[[0,8]])}))}),(0,l.jsx)(Ze.u,{name:"phone",label:"@\u6307\u5B9A\u7528\u6237\uFF08\u624B\u673A\u53F7\u7801\uFF09\uFF1A",copyIconProps:!1,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u6307\u5B9A\u7528\u6237"},initialValue:[{phone:""}],children:(0,l.jsx)(M.UW,{children:(0,l.jsx)(O.Z,{name:"phone",fieldProps:{maxLength:11},placeholder:"\u8BF7\u8F93\u5165\u6307\u5B9A\u7528\u6237\u624B\u673A\u53F7\u7801"})},"group")})]})})]},"getConfig"),(0,l.jsxs)(F.Z.TabPane,{tab:"\u83B7\u53D6\u6570\u636E\u5E93\u5BA1\u8BA1\u65E5\u5FD7\u914D\u7F6E",children:[(0,l.jsx)("h3",{className:"text-c mb-30 mt-50 fw-600",children:"\u83B7\u53D6\u6570\u636E\u5E93\u5BA1\u8BA1\u65E5\u5FD7\u914D\u7F6E"}),(0,l.jsx)("div",{style:{display:"inline-block",margin:"0 auto"},children:(0,l.jsxs)(ce.A,{formRef:E,labelAlign:"right",onFinish:function(){var W=(0,C.Z)(s().mark(function p(m){var v,u;return s().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,le(m);case 2:return v=Z.sent,Z.next=5,ve(m);case 5:u=Z.sent,v.code===B.Gh&&u.code===B.Gh&&J.Z.success({message:"\u63D0\u793A",description:"\u4FEE\u6539\u6210\u529F\uFF01"});case 7:case"end":return Z.stop()}},p)}));return function(p){return W.apply(this,arguments)}}(),submitter:{searchConfig:{submitText:"\u786E\u8BA4\u4FEE\u6539"}},labelCol:{span:6},layout:"horizontal",children:[(0,l.jsx)(X,{width:"lg",name:"ak",label:"Access Key",style:{textAlign:"left"},rules:[{required:!0,message:"\u8BF7\u8F93\u5165Access Key"}]}),(0,l.jsx)(X,{width:"lg",name:"sk",label:"Secret Access Key",style:{textAlign:"left"},rules:[{required:!0,message:"\u8BF7\u8F93\u5165Secret Access Key"}]}),(0,l.jsx)(O.Z,{width:"lg",name:"region",label:"\u6570\u636E\u5E93\u6240\u5C5E\u533A\u57DF",style:{textAlign:"left"},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6570\u636E\u5E93\u6240\u5C5E\u533A\u57DF"}]})]})})]},"getAkAndSk")]}),(0,l.jsxs)(h.Z,{title:"\u83B7\u53D6Webhook\u64CD\u4F5C\u8BF4\u660E",width:"600px",bodyStyle:{textAlign:"center"},onCancel:function(){return he(!1)},visible:oe,footer:[],children:[ye>1&&(0,l.jsx)(n.Z,{type:"primary",className:"mr-10",icon:(0,l.jsx)(T.Z,{}),size:"middle",onClick:function(){$(function(p){return e(26861)("./ding".concat(p-1,".png")).then(function(m){se(m.default)}),p-1})}}),(0,l.jsx)(t.Z,{preview:!1,width:350,src:Se,className:"mt-20"}),ye<4&&(0,l.jsx)(n.Z,{type:"primary",className:"ml-10",icon:(0,l.jsx)(f.Z,{}),size:"middle",onClick:function(){$(function(p){return e(26861)("./ding".concat(p+1,".png")).then(function(m){se(m.default)}),p+1})}})]})]})},xe=ge},34217:function(L,A,e){L.exports=e.p+"static/ding1.ab1c0f45.png"},79370:function(L,A,e){"use strict";e.d(A,{G:function(){return t}});var S=e(98924),h=function(n){if((0,S.Z)()&&window.document.documentElement){var j=Array.isArray(n)?n:[n],F=window.document.documentElement;return j.some(function(N){return N in F.style})}return!1},D=function(n,j){if(!h(n))return!1;var F=document.createElement("div"),N=F.style[n];return F.style[n]=j,F.style[n]!==N};function t(y,n){return!Array.isArray(y)&&n!==void 0?D(y,n):h(y)}},26861:function(L,A,e){var S={"./ding1.png":[34217],"./ding2.png":[37255,255],"./ding3.png":[77897,897],"./ding4.png":[66005,5]};function h(D){if(!e.o(S,D))return Promise.resolve().then(function(){var n=new Error("Cannot find module '"+D+"'");throw n.code="MODULE_NOT_FOUND",n});var t=S[D],y=t[0];return Promise.all(t.slice(1).map(e.e)).then(function(){return e.t(y,7|16)})}h.keys=function(){return Object.keys(S)},h.id=26861,L.exports=h}}]);
