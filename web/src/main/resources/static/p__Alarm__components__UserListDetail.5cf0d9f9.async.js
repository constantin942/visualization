(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[126],{37174:function(ue){ue.exports={alarm:"alarm___12xQi",salesRank:"salesRank___-5oIk",rankingList:"rankingList___rxbMU",rankingItemNumber:"rankingItemNumber___3eh0u",active:"active___3KjTZ",rankingItemTitle:"rankingItemTitle___3gCS2","alarm-data":"alarm-data___17B2L",alarmDetail:"alarmDetail___9Lz5b"}},52953:function(){},44887:function(){},26723:function(ue,te,e){"use strict";e.r(te),e.d(te,{default:function(){return Ue}});var R=e(20228),z=e(11382),g=e(66456),b=e(78587),F=e(3182),L=e(11849),D=e(2824),me=e(94043),Y=e.n(me),t=e(67294),ne=e(37174),de=e.n(ne),Q=e(48606),O=e(71194),I=e(50146),J=e(62350),P=e(75443),A=e(77576),Ce=e(12028),We=e(17462),he=e(76772),s=e(38663),ve=e(52953),N=e(96156),y=e(28481),B=e(90484),ge=e(94184),X=e.n(ge),Oe=e(50344),G=e(24308),Se=e(21687),Ze=e(65632),x=e(22122);function re(a){return a!=null}var Me=function(n){var r=n.itemPrefixCls,o=n.component,l=n.span,u=n.className,c=n.style,C=n.labelStyle,S=n.contentStyle,Z=n.bordered,v=n.label,h=n.content,$=n.colon,_=o;if(Z){var d;return t.createElement(_,{className:X()((d={},(0,N.Z)(d,"".concat(r,"-item-label"),re(v)),(0,N.Z)(d,"".concat(r,"-item-content"),re(h)),d),u),style:c,colSpan:l},re(v)&&t.createElement("span",{style:C},v),re(h)&&t.createElement("span",{style:S},h))}return t.createElement(_,{className:X()("".concat(r,"-item"),u),style:c,colSpan:l},t.createElement("div",{className:"".concat(r,"-item-container")},(v||v===0)&&t.createElement("span",{className:X()("".concat(r,"-item-label"),(0,N.Z)({},"".concat(r,"-item-no-colon"),!$)),style:C},v),(h||h===0)&&t.createElement("span",{className:X()("".concat(r,"-item-content")),style:S},h)))},fe=Me;function se(a,n,r){var o=n.colon,l=n.prefixCls,u=n.bordered,c=r.component,C=r.type,S=r.showLabel,Z=r.showContent,v=r.labelStyle,h=r.contentStyle;return a.map(function($,_){var d=$.props,K=d.label,w=d.children,W=d.prefixCls,M=W===void 0?l:W,T=d.className,E=d.style,oe=d.labelStyle,k=d.contentStyle,ie=d.span,le=ie===void 0?1:ie,H=$.key;return typeof c=="string"?t.createElement(fe,{key:"".concat(C,"-").concat(H||_),className:T,style:E,labelStyle:(0,x.Z)((0,x.Z)({},v),oe),contentStyle:(0,x.Z)((0,x.Z)({},h),k),span:le,colon:o,component:c,itemPrefixCls:M,bordered:u,label:S?K:null,content:Z?w:null}):[t.createElement(fe,{key:"label-".concat(H||_),className:T,style:(0,x.Z)((0,x.Z)((0,x.Z)({},v),E),oe),span:1,colon:o,component:c[0],itemPrefixCls:M,bordered:u,label:K}),t.createElement(fe,{key:"content-".concat(H||_),className:T,style:(0,x.Z)((0,x.Z)((0,x.Z)({},h),E),k),span:le*2-1,component:c[1],itemPrefixCls:M,bordered:u,content:w})]})}var be=function(n){var r=t.useContext(_e),o=n.prefixCls,l=n.vertical,u=n.row,c=n.index,C=n.bordered;return l?t.createElement(t.Fragment,null,t.createElement("tr",{key:"label-".concat(c),className:"".concat(o,"-row")},se(u,n,(0,x.Z)({component:"th",type:"label",showLabel:!0},r))),t.createElement("tr",{key:"content-".concat(c),className:"".concat(o,"-row")},se(u,n,(0,x.Z)({component:"td",type:"content",showContent:!0},r)))):t.createElement("tr",{key:c,className:"".concat(o,"-row")},se(u,n,(0,x.Z)({component:C?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},r)))},ae=be,Ie=function(n){var r=n.children;return r},Te=Ie,De=e(96159),_e=t.createContext({}),pe={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function Re(a,n){if(typeof a=="number")return a;if((0,B.Z)(a)==="object")for(var r=0;r<G.c4.length;r++){var o=G.c4[r];if(n[o]&&a[o]!==void 0)return a[o]||pe[o]}return 3}function Pe(a,n,r){var o=a;return(n===void 0||n>r)&&(o=(0,De.Tm)(a,{span:r}),(0,Se.Z)(n===void 0,"Descriptions","Sum of column `span` in a line not match `column` of Descriptions.")),o}function U(a,n){var r=(0,Oe.Z)(a).filter(function(c){return c}),o=[],l=[],u=n;return r.forEach(function(c,C){var S,Z=(S=c.props)===null||S===void 0?void 0:S.span,v=Z||1;if(C===r.length-1){l.push(Pe(c,Z,u)),o.push(l);return}v<u?(u-=v,l.push(c)):(l.push(Pe(c,v,u)),o.push(l),u=n,l=[])}),o}function i(a){var n,r=a.prefixCls,o=a.title,l=a.extra,u=a.column,c=u===void 0?pe:u,C=a.colon,S=C===void 0?!0:C,Z=a.bordered,v=a.layout,h=a.children,$=a.className,_=a.style,d=a.size,K=a.labelStyle,w=a.contentStyle,W=t.useContext(Ze.E_),M=W.getPrefixCls,T=W.direction,E=M("descriptions",r),oe=t.useState({}),k=(0,y.Z)(oe,2),ie=k[0],le=k[1],H=Re(c,ie);t.useEffect(function(){var ye=G.ZP.subscribe(function(p){(0,B.Z)(c)==="object"&&le(p)});return function(){G.ZP.unsubscribe(ye)}},[]);var Ke=U(h,H),Ee=t.useMemo(function(){return{labelStyle:K,contentStyle:w}},[K,w]);return t.createElement(_e.Provider,{value:Ee},t.createElement("div",{className:X()(E,(n={},(0,N.Z)(n,"".concat(E,"-").concat(d),d&&d!=="default"),(0,N.Z)(n,"".concat(E,"-bordered"),!!Z),(0,N.Z)(n,"".concat(E,"-rtl"),T==="rtl"),n),$),style:_},(o||l)&&t.createElement("div",{className:"".concat(E,"-header")},o&&t.createElement("div",{className:"".concat(E,"-title")},o),l&&t.createElement("div",{className:"".concat(E,"-extra")},l)),t.createElement("div",{className:"".concat(E,"-view")},t.createElement("table",null,t.createElement("tbody",null,Ke.map(function(ye,p){return t.createElement(ae,{key:p,index:p,colon:S,prefixCls:E,vertical:v==="vertical",bordered:Z,row:ye})}))))))}i.Item=Te;var m=i,V=e(74379),Ae=e(38648),f=e(85893);function Ne(a,n){var r=(0,t.useState)({}),o=(0,D.Z)(r,2),l=o[0],u=o[1],c=(0,t.useState)(!1),C=(0,D.Z)(c,2),S=C[0],Z=C[1],v=(0,t.useState)(!1),h=(0,D.Z)(v,2),$=h[0],_=h[1],d=(0,t.useState)(!1),K=(0,D.Z)(d,2),w=K[0],W=K[1];return(0,t.useImperativeHandle)(n,function(){return{setInitValues:function(T){u(T)}}}),(0,f.jsxs)(I.Z,{width:600,afterClose:function(){_(!1),Z(!1)},destroyOnClose:!0,title:"".concat(l==null?void 0:l.userName,"\uFF08\u544A\u8B66\u5904\u7F6E\uFF09"),visible:a.handleVisible,onCancel:function(){a.setVisible(!1),W(!1)},onOk:function(){S&&(0,Q.QD)({id:l.id,matchRuleId:l.matchRuleId,originalTime:l.originalTime,userName:l.userName,alarmContent:l.alarmContent,flag:w?"update":"delete"}).then(function(){a.refresh(),Ae.Z.info({message:"\u63D0\u793A",description:"\u64CD\u4F5C\u6210\u529F!"}),a.setVisible(!1)}),a.setVisible(!1)},children:[(0,f.jsxs)(m,{layout:"horizontal",column:2,children:[(0,f.jsx)(m.Item,{label:"\u8BB0\u5F55\u4EA7\u751F\u65F6\u95F4",children:l==null?void 0:l.originalTime}),(0,f.jsx)(m.Item,{label:"\u89C4\u5219ID",children:l==null?void 0:l.matchRuleId})]}),(0,f.jsx)(he.Z,{message:l==null?void 0:l.alarmContent,className:"text-c",type:"warning"}),(0,f.jsxs)("div",{className:"flex-x-sb mt-20",children:[(0,f.jsx)("div",{}),(0,f.jsx)("div",{children:(0,f.jsx)(P.Z,{title:"\u662F\u5426\u66F4\u65B0\u753B\u50CF\uFF1F",visible:$,onConfirm:function(){_(!1),W(!0)},onCancel:function(){return _(!1)},okText:"\u66F4\u65B0",cancelText:"\u4E0D\u66F4\u65B0",children:(0,f.jsx)(Ce.Z,{checkedChildren:"\u5FFD\u7565\u544A\u8B66",unCheckedChildren:"\u4E0D\u5904\u7F6E",onChange:function(T){Z(T),_(T)}})})})]})]})}var Le=(0,t.forwardRef)(Ne),Be=function(n){var r=(0,t.useState)([]),o=(0,D.Z)(r,2),l=o[0],u=o[1],c=(0,t.useState)(0),C=(0,D.Z)(c,2),S=C[0],Z=C[1],v=(0,t.useState)(!1),h=(0,D.Z)(v,2),$=h[0],_=h[1],d=(0,t.useState)(!1),K=(0,D.Z)(d,2),w=K[0],W=K[1],M=(0,t.useState)({pageNo:1,pageSize:10}),T=(0,D.Z)(M,2),E=T[0],oe=T[1],k=(0,t.useRef)(),ie=(0,t.useState)({}),le=(0,D.Z)(ie,2),H=le[0],Ke=le[1];function Ee(p){(0,Q.cD)(p).then(function(ce){var j=ce.data;if(_(!0),j){var q=JSON.parse(j);if(Z(q.total),q){var ee=JSON.parse(q.rows);u(ee.filter(function(je){return je.isDelete===0}))}else u([])}_(!1)})}var ye=[{title:"\u8BB0\u5F55\u4EA7\u751F\u7684\u65F6\u95F4",dataIndex:"originalTime\uFF1A",key:"originalTime\uFF1A",width:"250px",align:"center",render:function(ce,j){return j.originalTime||"-"}},{title:"\u89C4\u5219ID",dataIndex:"matchRuleId\uFF1A",key:"matchRuleId\uFF1A",width:"250px",align:"center",render:function(ce,j){return j.matchRuleId||"-"}},{title:"\u544A\u8B66\u5185\u5BB9",dataIndex:"alarmContent",key:"alarmContent",align:"center"},{title:"\u5904\u7F6E",width:"150px",align:"center",render:function(ce,j){return[(0,f.jsx)("a",{onClick:function(){var ee;W(!0),(ee=k.current)===null||ee===void 0||ee.setInitValues(j)},children:"\u5904\u7F6E"},"handle")]}}];return(0,t.useEffect)(function(){var p=n.location.query;Ke(p),Ee((0,L.Z)((0,L.Z)((0,L.Z)({},p),E),{isDelete:0}))},[]),(0,f.jsxs)("div",{className:de().alarmDetail,children:[(0,f.jsx)(z.Z,{spinning:$,children:(0,f.jsx)(b.Z,{columns:ye,dataSource:l,rowKey:"id",title:function(){return(0,f.jsx)("h3",{children:H.userName})},size:"middle",pagination:{current:E.pageNo,pageSize:E.pageSize,total:S,onChange:function(){var p=(0,F.Z)(Y().mark(function j(q,ee){return Y().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return xe.next=2,oe(function(){return{pageSize:ee,pageNo:q}});case 2:Ee((0,L.Z)({pageNo:q,pageSize:ee},H));case 3:case"end":return xe.stop()}},j)}));function ce(j,q){return p.apply(this,arguments)}return ce}()}})}),(0,f.jsx)(Le,{refresh:function(){Ee((0,L.Z)((0,L.Z)({},E),H))},setVisible:W,handleVisible:w,ref:k})]})},Ue=Be},48606:function(ue,te,e){"use strict";e.d(te,{Hp:function(){return L},CI:function(){return me},cD:function(){return t},QD:function(){return de}});var R=e(11849),z=e(3182),g=e(94043),b=e.n(g),F=e(21704);function L(O){return D.apply(this,arguments)}function D(){return D=(0,z.Z)(b().mark(function O(I){return b().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,F.WY)("/api/skyflying/getAlarmData",(0,R.Z)({method:"GET"},I||{})));case 1:case"end":return P.stop()}},O)})),D.apply(this,arguments)}function me(O){return Y.apply(this,arguments)}function Y(){return Y=(0,z.Z)(b().mark(function O(I){return b().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,F.WY)("/api/skyflying/getUserAlarmData",(0,R.Z)({method:"GET"},I||{})));case 1:case"end":return P.stop()}},O)})),Y.apply(this,arguments)}function t(O,I){return ne.apply(this,arguments)}function ne(){return ne=(0,z.Z)(b().mark(function O(I,J){return b().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",(0,F.WY)("/api/skyflying/getAllAlarmInfoDetailByUserName",(0,R.Z)({method:"GET",params:I||{}},J||{})));case 1:case"end":return A.stop()}},O)})),ne.apply(this,arguments)}function de(O,I){return Q.apply(this,arguments)}function Q(){return Q=(0,z.Z)(b().mark(function O(I,J){return b().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",(0,F.WY)("/api/skyflying/updateAnomalyDetectionInfo",(0,R.Z)({method:"GET",params:I||{}},J||{})));case 1:case"end":return A.stop()}},O)})),Q.apply(this,arguments)}},75443:function(ue,te,e){"use strict";var R=e(22122),z=e(28481),g=e(67294),b=e(94184),F=e.n(b),L=e(21770),D=e(68855),me=e(15105),Y=e(61580),t=e(71577),ne=e(73839),de=e(42051),Q=e(85636),O=e(65632),I=e(81643),J=e(96159),P=e(33603),A=e(86743),Ce=void 0,We=function(s,ve){var N={};for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&ve.indexOf(y)<0&&(N[y]=s[y]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var B=0,y=Object.getOwnPropertySymbols(s);B<y.length;B++)ve.indexOf(y[B])<0&&Object.prototype.propertyIsEnumerable.call(s,y[B])&&(N[y[B]]=s[y[B]]);return N},he=g.forwardRef(function(s,ve){var N=g.useContext(O.E_),y=N.getPrefixCls,B=(0,L.Z)(!1,{value:s.visible,defaultValue:s.defaultVisible}),ge=(0,z.Z)(B,2),X=ge[0],Oe=ge[1],G=function(i,m){var V;Oe(i,!0),(V=s.onVisibleChange)===null||V===void 0||V.call(s,i,m)},Se=function(i){G(!1,i)},Ze=function(i){var m;return(m=s.onConfirm)===null||m===void 0?void 0:m.call(Ce,i)},x=function(i){var m;G(!1,i),(m=s.onCancel)===null||m===void 0||m.call(Ce,i)},re=function(i){i.keyCode===me.Z.ESC&&X&&G(!1,i)},Me=function(i){var m=s.disabled;m||G(i)},fe=function(i,m){var V=s.okButtonProps,Ae=s.cancelButtonProps,f=s.title,Ne=s.cancelText,Le=s.okText,Be=s.okType,Ue=s.icon,a=s.showCancel,n=a===void 0?!0:a;return g.createElement("div",{className:"".concat(i,"-inner-content")},g.createElement("div",{className:"".concat(i,"-message")},Ue,g.createElement("div",{className:"".concat(i,"-message-title")},(0,I.Z)(f))),g.createElement("div",{className:"".concat(i,"-buttons")},n&&g.createElement(t.Z,(0,R.Z)({onClick:x,size:"small"},Ae),Ne||m.cancelText),g.createElement(A.Z,{buttonProps:(0,R.Z)((0,R.Z)({size:"small"},(0,ne.n)(Be)),V),actionFn:Ze,close:Se,prefixCls:y("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},Le||m.okText)))},se=s.prefixCls,be=s.placement,ae=s.children,Ie=s.overlayClassName,Te=We(s,["prefixCls","placement","children","overlayClassName"]),De=y("popover",se),_e=y("popconfirm",se),pe=F()(_e,Ie),Re=g.createElement(de.Z,{componentName:"Popconfirm",defaultLocale:Q.Z.Popconfirm},function(U){return fe(De,U)}),Pe=y();return g.createElement(Y.Z,(0,R.Z)({},Te,{prefixCls:De,placement:be,onVisibleChange:Me,visible:X,overlay:Re,overlayClassName:pe,ref:ve,transitionName:(0,P.mL)(Pe,"zoom-big",s.transitionName)}),(0,J.Tm)(ae,{onKeyDown:function(i){var m,V;g.isValidElement(ae)&&((V=ae==null?void 0:(m=ae.props).onKeyDown)===null||V===void 0||V.call(m,i)),re(i)}}))});he.defaultProps={placement:"top",trigger:"click",okType:"primary",icon:g.createElement(D.Z,null),disabled:!1},te.Z=he},62350:function(ue,te,e){"use strict";var R=e(38663),z=e.n(R),g=e(20136),b=e(57663),F=e(44887),L=e.n(F)}}]);
