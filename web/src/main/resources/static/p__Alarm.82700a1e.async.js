(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[284],{37174:function($){$.exports={alarm:"alarm___12xQi",salesRank:"salesRank___-5oIk",rankingList:"rankingList___rxbMU",rankingItemNumber:"rankingItemNumber___3eh0u",active:"active___3KjTZ",rankingItemTitle:"rankingItemTitle___3gCS2","alarm-data":"alarm-data___17B2L",alarmDetail:"alarmDetail___9Lz5b"}},70347:function(){},87261:function($,R,c){"use strict";c.r(R),c.d(R,{default:function(){return A}});var y=c(3182),D=c(57663),a=c(71577),p=c(2824),S=c(94043),C=c.n(S),_=c(67294),I=c(37174),f=c.n(I),k=c(13062),e=c(71230),t=c(89032),i=c(15746),l=c(58024),n=c(39144),r=c(13254),s=c(14277),u=c(69886),m=c(85893),v=function(P){return(0,_.useEffect)(function(){var x=new u.by("AlarmDistributionPie",{appendPadding:10,data:P.alarmDataRanking,height:250,angleField:"value",colorField:"type",radius:1,innerRadius:.64,meta:{value:{formatter:function(F){return"".concat(F,"\u6B21")}}},legend:{position:"bottom",itemHeight:20},label:{type:"inner",offset:"-50%",autoRotate:!1,style:{textAlign:"center",fontSize:"13px",fontWeight:"500"},formatter:function(F){var G=F.percent;return"".concat((G*100).toFixed(0),"%")}},statistic:{title:{offsetY:8,style:{fontSize:"13px",whiteSpace:"pre-wrap",lineHeight:"1.5",padding:"8px 6px"},formatter:function(F){return(F==null?void 0:F.type)||"\u89E6\u53D1\u6B21\u6570"}},content:{style:{textAlign:"center",fontSize:"13px",fontWeight:"500",marginTop:"10px"},offsetY:6}},interactions:[{type:"element-selected"},{type:"element-active"},{type:"pie-statistic-active",cfg:{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"},{trigger:"legend-item:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"},{trigger:"legend-item:mouseleave",action:"pie-statistic:reset"}]}}]});x.render()},[P.alarmDataRanking]),(0,m.jsx)("div",{id:"AlarmDistributionPie"})},T=v,d=c(92077),h=c.n(d),b=function(P){return(0,m.jsxs)(e.Z,{gutter:10,className:"",children:[(0,m.jsx)(i.Z,{span:8,children:(0,m.jsx)(n.Z,{size:"default",title:"\u544A\u8B66\u6570\u636E",bordered:!1,bodyStyle:{padding:"10px 20px"},children:(0,m.jsxs)("div",{className:f().salesRank,children:[P.alarmDataRanking.length===0&&(0,m.jsx)(s.Z,{description:"\u6682\u65E0\u544A\u8B66\u6570\u636E",style:{marginTop:"20px"}}),P.alarmDataRanking.length!==0&&(0,m.jsx)("ul",{className:f().rankingList,children:P.alarmDataRanking.map(function(x,O){return(0,m.jsxs)("li",{children:[(0,m.jsx)("span",{className:"".concat(f().rankingItemNumber," ").concat(O<3?f().active:""),children:O+1}),(0,m.jsx)("span",{className:f().rankingItemTitle,title:x.type,children:x.type}),(0,m.jsxs)("span",{className:f().rankingItemCount,children:[h()(x.value).format("0,0"),"\u6B21"]})]},x.value)})})]})})}),(0,m.jsx)(i.Z,{span:8,children:(0,m.jsx)(n.Z,{size:"default",title:"\u9AD8\u5371\u7528\u6237",bordered:!1,bodyStyle:{padding:"10px 20px"},children:(0,m.jsxs)("div",{className:f().salesRank,children:[P.alarmUserRanking.length===0&&(0,m.jsx)(s.Z,{description:"\u6682\u65E0\u544A\u8B66\u5206\u5E03\u6570\u636E",style:{marginTop:"20px"}}),P.alarmUserRanking.length!==0&&(0,m.jsx)("ul",{className:f().rankingList,children:P.alarmUserRanking.map(function(x,O){return(0,m.jsxs)("li",{children:[(0,m.jsx)("span",{className:"".concat(f().rankingItemNumber," ").concat(O<3?f().active:""),children:O+1}),(0,m.jsx)("span",{className:f().rankingItemTitle,title:x.userName,children:x.userName}),(0,m.jsxs)("span",{className:f().rankingItemCount,children:[h()(x.alarmCount).format("0,0"),"\u6B21"]})]},x.userName)})})]})})}),(0,m.jsx)(i.Z,{span:8,children:(0,m.jsx)(n.Z,{size:"default",title:"\u544A\u8B66\u5206\u5E03",bordered:!1,bodyStyle:{padding:"10px 20px",height:"300px"},children:P.alarmDataRanking.length>0?(0,m.jsx)(T,{alarmDataRanking:P.alarmDataRanking}):(0,m.jsx)("div",{className:f().salesRank,children:(0,m.jsx)(s.Z,{style:{marginTop:"20px"}})})})})]})},o=b,g=c(60355),z=c(48606),K=c(2335),W=c(24480),E=function(P){var x=(0,_.useState)([]),O=(0,p.Z)(x,2),F=O[0],G=O[1],V=(0,_.useState)([]),J=(0,p.Z)(V,2),ae=J[0],ne=J[1],he=(0,_.useState)(0),re=(0,p.Z)(he,2),le=re[0],ie=re[1],Q=(0,_.useState)([]),Y=(0,p.Z)(Q,2),ge=Y[0],se=Y[1],pe=(0,_.useState)({pageNo:1,pageSize:10}),oe=(0,p.Z)(pe,2),ce=oe[0],ue=oe[1],ve=[{title:"\u7528\u6237",dataIndex:"userName",key:"address",align:"center",search:!1},{title:"\u547D\u4E2D\u89C4\u5219ID",dataIndex:"matchRuleId",key:"matchRuleId",search:!1,align:"center"},{title:"\u89E6\u53D1\u6B21\u6570",dataIndex:"matchCount",key:"age",search:!1,align:"center",render:function(j,Z){return(0,m.jsx)("div",{className:"danger",children:Z.matchCount})}},{title:"\u6700\u540E\u89E6\u53D1\u65F6\u95F4",dataIndex:"original_time",key:"address",search:!1,align:"center"},{title:"\u64CD\u4F5C",key:"action",align:"center",search:!1,render:function(j,Z){return[(0,m.jsx)(a.Z,{type:"link",size:"small",onClick:function(){P.history.push({pathname:"/alarm-detail",query:{userName:Z.userName,matchRuleId:Z.matchRuleId}})},children:"\u8BE6\u60C5"},"management")]}}],de=(0,_.useCallback)((0,y.Z)(C().mark(function B(){var j,Z,L;return C().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,z.Hp)();case 2:j=w.sent,Z=j.data,L=Z.map(function(X){var q,ee;return{type:X.alarmName,value:parseInt((q=X.alarmInfo)!==null&&q!==void 0?q:0),percent:parseInt((ee=X.alarmInfo)!==null&&ee!==void 0?ee:0)/100}}),G(L);case 6:case"end":return w.stop()}},B)})),[]),N=(0,_.useCallback)(function(B){(0,K.sF)(B).then(function(j){var Z=j.data,L=JSON.parse(Z);if(L){ie(L.total);var U=JSON.parse(L.rows);se(U.map(function(w){return w.id=W.Z.uuid(),w}))}})},[]),me=(0,_.useCallback)((0,y.Z)(C().mark(function B(){var j,Z;return C().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,z.CI)();case 2:j=U.sent,Z=j.data,ne(Z);case 5:case"end":return U.stop()}},B)})),[]);return(0,_.useEffect)(function(){de().then(),me().then(),N()},[de,me,N]),(0,m.jsxs)("div",{className:f().alarm,children:[(0,m.jsx)(o,{alarmDataRanking:F,alarmUserRanking:ae}),(0,m.jsx)(g.ZP,{headerTitle:"\u544A\u8B66\u4FE1\u606F\u5217\u8868",className:"mt-10",columns:ve,rowKey:"id",search:!1,options:!1,pagination:{showSizeChanger:!1,pageSize:ce.pageSize,current:ce.pageNo,total:le,onChange:function(j,Z){ue({pageNo:j,pageSize:Z}),N({pageNo:j,pageSize:Z})}},dataSource:ge})]})},A=E},48606:function($,R,c){"use strict";c.d(R,{Hp:function(){return C},CI:function(){return I},cD:function(){return k},QD:function(){return t}});var y=c(11849),D=c(3182),a=c(94043),p=c.n(a),S=c(25377);function C(l){return _.apply(this,arguments)}function _(){return _=(0,D.Z)(p().mark(function l(n){return p().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,S.WY)("/api/skyflying/getAlarmData",(0,y.Z)({method:"GET"},n||{})));case 1:case"end":return s.stop()}},l)})),_.apply(this,arguments)}function I(l){return f.apply(this,arguments)}function f(){return f=(0,D.Z)(p().mark(function l(n){return p().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,S.WY)("/api/skyflying/getUserAlarmData",(0,y.Z)({method:"GET"},n||{})));case 1:case"end":return s.stop()}},l)})),f.apply(this,arguments)}function k(l,n){return e.apply(this,arguments)}function e(){return e=(0,D.Z)(p().mark(function l(n,r){return p().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,S.WY)("/api/skyflying/getAllAlarmInfoDetailByUserName",(0,y.Z)({method:"GET",params:n||{}},r||{})));case 1:case"end":return u.stop()}},l)})),e.apply(this,arguments)}function t(l,n){return i.apply(this,arguments)}function i(){return i=(0,D.Z)(p().mark(function l(n,r){return p().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,S.WY)("/api/skyflying/updateAnomalyDetectionInfo",(0,y.Z)({method:"POST",headers:{"Content-Type":"application/json;charset=UTF-8;"},data:JSON.stringify(n||{})},r||{})));case 1:case"end":return u.stop()}},l)})),i.apply(this,arguments)}},2335:function($,R,c){"use strict";c.d(R,{rO:function(){return C},cD:function(){return I},sF:function(){return k}});var y=c(11849),D=c(3182),a=c(94043),p=c.n(a),S=c(25377);function C(t){return _.apply(this,arguments)}function _(){return _=(0,D.Z)(p().mark(function t(i){return p().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,S.WY)("/api/skyflying/getUserNameAnomalyDetectionInfo",(0,y.Z)({method:"GET"},i||{})));case 1:case"end":return n.stop()}},t)})),_.apply(this,arguments)}function I(t,i){return f.apply(this,arguments)}function f(){return f=(0,D.Z)(p().mark(function t(i,l){return p().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,S.WY)("/api/skyflying/getAllAlarmInfoDetailByUserName",(0,y.Z)({method:"GET",params:i||{}},l||{})));case 1:case"end":return r.stop()}},t)})),f.apply(this,arguments)}function k(t,i){return e.apply(this,arguments)}function e(){return e=(0,D.Z)(p().mark(function t(i,l){return p().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,S.WY)("/api/skyflying/getAnomalyDetectionInfoByGroupByUserName",(0,y.Z)({method:"GET",params:i||{}},l||{})));case 1:case"end":return r.stop()}},t)})),e.apply(this,arguments)}},39144:function($,R,c){"use strict";c.d(R,{Z:function(){return T}});var y=c(96156),D=c(22122),a=c(67294),p=c(94184),S=c.n(p),C=c(98423),_=c(65632),I=function(d,h){var b={};for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&h.indexOf(o)<0&&(b[o]=d[o]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,o=Object.getOwnPropertySymbols(d);g<o.length;g++)h.indexOf(o[g])<0&&Object.prototype.propertyIsEnumerable.call(d,o[g])&&(b[o[g]]=d[o[g]]);return b},f=function(h){var b=h.prefixCls,o=h.className,g=h.hoverable,z=g===void 0?!0:g,K=I(h,["prefixCls","className","hoverable"]);return a.createElement(_.C,null,function(W){var E=W.getPrefixCls,A=E("card",b),M=S()("".concat(A,"-grid"),o,(0,y.Z)({},"".concat(A,"-grid-hoverable"),z));return a.createElement("div",(0,D.Z)({},K,{className:M}))})},k=f,e=function(d,h){var b={};for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&h.indexOf(o)<0&&(b[o]=d[o]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,o=Object.getOwnPropertySymbols(d);g<o.length;g++)h.indexOf(o[g])<0&&Object.prototype.propertyIsEnumerable.call(d,o[g])&&(b[o[g]]=d[o[g]]);return b},t=function(h){return a.createElement(_.C,null,function(b){var o=b.getPrefixCls,g=h.prefixCls,z=h.className,K=h.avatar,W=h.title,E=h.description,A=e(h,["prefixCls","className","avatar","title","description"]),M=o("card",g),P=S()("".concat(M,"-meta"),z),x=K?a.createElement("div",{className:"".concat(M,"-meta-avatar")},K):null,O=W?a.createElement("div",{className:"".concat(M,"-meta-title")},W):null,F=E?a.createElement("div",{className:"".concat(M,"-meta-description")},E):null,G=O||F?a.createElement("div",{className:"".concat(M,"-meta-detail")},O,F):null;return a.createElement("div",(0,D.Z)({},A,{className:P}),x,G)})},i=t,l=c(51752),n=c(71230),r=c(15746),s=c(97647),u=function(d,h){var b={};for(var o in d)Object.prototype.hasOwnProperty.call(d,o)&&h.indexOf(o)<0&&(b[o]=d[o]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,o=Object.getOwnPropertySymbols(d);g<o.length;g++)h.indexOf(o[g])<0&&Object.prototype.propertyIsEnumerable.call(d,o[g])&&(b[o[g]]=d[o[g]]);return b};function m(d){var h=d.map(function(b,o){return a.createElement("li",{style:{width:"".concat(100/d.length,"%")},key:"action-".concat(o)},a.createElement("span",null,b))});return h}var v=a.forwardRef(function(d,h){var b,o,g=a.useContext(_.E_),z=g.getPrefixCls,K=g.direction,W=a.useContext(s.Z),E=function(fe){var H;(H=d.onTabChange)===null||H===void 0||H.call(d,fe)},A=function(){var fe;return a.Children.forEach(d.children,function(H){H&&H.type&&H.type===k&&(fe=!0)}),fe},M=d.prefixCls,P=d.className,x=d.extra,O=d.headStyle,F=O===void 0?{}:O,G=d.bodyStyle,V=G===void 0?{}:G,J=d.title,ae=d.loading,ne=d.bordered,he=ne===void 0?!0:ne,re=d.size,le=d.type,ie=d.cover,Q=d.actions,Y=d.tabList,ge=d.children,se=d.activeTabKey,pe=d.defaultActiveTabKey,oe=d.tabBarExtraContent,ce=d.hoverable,ue=d.tabProps,ve=ue===void 0?{}:ue,de=u(d,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),N=z("card",M),me=V.padding===0||V.padding==="0px"?{padding:24}:void 0,B=a.createElement("div",{className:"".concat(N,"-loading-block")}),j=a.createElement("div",{className:"".concat(N,"-loading-content"),style:me},a.createElement(n.Z,{gutter:8},a.createElement(r.Z,{span:22},B)),a.createElement(n.Z,{gutter:8},a.createElement(r.Z,{span:8},B),a.createElement(r.Z,{span:15},B)),a.createElement(n.Z,{gutter:8},a.createElement(r.Z,{span:6},B),a.createElement(r.Z,{span:18},B)),a.createElement(n.Z,{gutter:8},a.createElement(r.Z,{span:13},B),a.createElement(r.Z,{span:9},B)),a.createElement(n.Z,{gutter:8},a.createElement(r.Z,{span:4},B),a.createElement(r.Z,{span:3},B),a.createElement(r.Z,{span:16},B))),Z=se!==void 0,L=(0,D.Z)((0,D.Z)({},ve),(b={},(0,y.Z)(b,Z?"activeKey":"defaultActiveKey",Z?se:pe),(0,y.Z)(b,"tabBarExtraContent",oe),b)),U,w=Y&&Y.length?a.createElement(l.Z,(0,D.Z)({size:"large"},L,{className:"".concat(N,"-head-tabs"),onChange:E}),Y.map(function(te){return a.createElement(l.Z.TabPane,{tab:te.tab,disabled:te.disabled,key:te.key})})):null;(J||x||w)&&(U=a.createElement("div",{className:"".concat(N,"-head"),style:F},a.createElement("div",{className:"".concat(N,"-head-wrapper")},J&&a.createElement("div",{className:"".concat(N,"-head-title")},J),x&&a.createElement("div",{className:"".concat(N,"-extra")},x)),w));var X=ie?a.createElement("div",{className:"".concat(N,"-cover")},ie):null,q=a.createElement("div",{className:"".concat(N,"-body"),style:V},ae?j:ge),ee=Q&&Q.length?a.createElement("ul",{className:"".concat(N,"-actions")},m(Q)):null,ye=(0,C.Z)(de,["onTabChange"]),be=re||W,_e=S()(N,(o={},(0,y.Z)(o,"".concat(N,"-loading"),ae),(0,y.Z)(o,"".concat(N,"-bordered"),he),(0,y.Z)(o,"".concat(N,"-hoverable"),ce),(0,y.Z)(o,"".concat(N,"-contain-grid"),A()),(0,y.Z)(o,"".concat(N,"-contain-tabs"),Y&&Y.length),(0,y.Z)(o,"".concat(N,"-").concat(be),be),(0,y.Z)(o,"".concat(N,"-type-").concat(le),!!le),(0,y.Z)(o,"".concat(N,"-rtl"),K==="rtl"),o),P);return a.createElement("div",(0,D.Z)({ref:h},ye,{className:_e}),U,X,q,ee)});v.Grid=k,v.Meta=i;var T=v},58024:function($,R,c){"use strict";var y=c(38663),D=c.n(y),a=c(70347),p=c.n(a),S=c(18106),C=c(13062),_=c(89032)},92077:function($,R,c){var y,D;/*! @preserve
* numeral.js
* version : 2.0.6
* author : Adam Draper
* license : MIT
* http://adamwdraper.github.com/Numeral-js/
*/(function(a,p){y=p,D=typeof y=="function"?y.call(R,c,R,$):y,D!==void 0&&($.exports=D)})(this,function(){var a,p,S="2.0.6",C={},_={},I={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},f={currentLocale:I.currentLocale,zeroFormat:I.zeroFormat,nullFormat:I.nullFormat,defaultFormat:I.defaultFormat,scalePercentBy100:I.scalePercentBy100};function k(e,t){this._input=e,this._value=t}return a=function(e){var t,i,l,n;if(a.isNumeral(e))t=e.value();else if(e===0||typeof e=="undefined")t=0;else if(e===null||p.isNaN(e))t=null;else if(typeof e=="string")if(f.zeroFormat&&e===f.zeroFormat)t=0;else if(f.nullFormat&&e===f.nullFormat||!e.replace(/[^0-9]+/g,"").length)t=null;else{for(i in C)if(n=typeof C[i].regexps.unformat=="function"?C[i].regexps.unformat():C[i].regexps.unformat,n&&e.match(n)){l=C[i].unformat;break}l=l||a._.stringToNumber,t=l(e)}else t=Number(e)||null;return new k(e,t)},a.version=S,a.isNumeral=function(e){return e instanceof k},a._=p={numberToFormat:function(e,t,i){var l=_[a.options.currentLocale],n=!1,r=!1,s=0,u="",m=1e12,v=1e9,T=1e6,d=1e3,h="",b=!1,o,g,z,K,W,E,A,M,P,x;if(e=e||0,g=Math.abs(e),a._.includes(t,"(")?(n=!0,t=t.replace(/[\(|\)]/g,"")):(a._.includes(t,"+")||a._.includes(t,"-"))&&(M=a._.includes(t,"+")?t.indexOf("+"):e<0?t.indexOf("-"):-1,t=t.replace(/[\+|\-]/g,"")),a._.includes(t,"a")&&(o=t.match(/a(k|m|b|t)?/),o=o?o[1]:!1,a._.includes(t," a")&&(u=" "),t=t.replace(new RegExp(u+"a[kmbt]?"),""),g>=m&&!o||o==="t"?(u+=l.abbreviations.trillion,e=e/m):g<m&&g>=v&&!o||o==="b"?(u+=l.abbreviations.billion,e=e/v):g<v&&g>=T&&!o||o==="m"?(u+=l.abbreviations.million,e=e/T):(g<T&&g>=d&&!o||o==="k")&&(u+=l.abbreviations.thousand,e=e/d)),a._.includes(t,"[.]")&&(r=!0,t=t.replace("[.]",".")),E=e.toString().split(".")[0],A=t.split(".")[1],P=t.indexOf(","),s=(t.split(".")[0].split(",")[0].match(/0/g)||[]).length,A?(a._.includes(A,"[")?(A=A.replace("]",""),A=A.split("["),h=a._.toFixed(e,A[0].length+A[1].length,i,A[1].length)):h=a._.toFixed(e,A.length,i),E=h.split(".")[0],a._.includes(h,".")?h=l.delimiters.decimal+h.split(".")[1]:h="",r&&Number(h.slice(1))===0&&(h="")):E=a._.toFixed(e,0,i),u&&!o&&Number(E)>=1e3&&u!==l.abbreviations.trillion)switch(E=String(Number(E)/1e3),u){case l.abbreviations.thousand:u=l.abbreviations.million;break;case l.abbreviations.million:u=l.abbreviations.billion;break;case l.abbreviations.billion:u=l.abbreviations.trillion;break}if(a._.includes(E,"-")&&(E=E.slice(1),b=!0),E.length<s)for(var O=s-E.length;O>0;O--)E="0"+E;return P>-1&&(E=E.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+l.delimiters.thousands)),t.indexOf(".")===0&&(E=""),x=E+h+(u||""),n?x=(n&&b?"(":"")+x+(n&&b?")":""):M>=0?x=M===0?(b?"-":"+")+x:x+(b?"-":"+"):b&&(x="-"+x),x},stringToNumber:function(e){var t=_[f.currentLocale],i=e,l={thousand:3,million:6,billion:9,trillion:12},n,r,s,u;if(f.zeroFormat&&e===f.zeroFormat)r=0;else if(f.nullFormat&&e===f.nullFormat||!e.replace(/[^0-9]+/g,"").length)r=null;else{r=1,t.delimiters.decimal!=="."&&(e=e.replace(/\./g,"").replace(t.delimiters.decimal,"."));for(n in l)if(u=new RegExp("[^a-zA-Z]"+t.abbreviations[n]+"(?:\\)|(\\"+t.currency.symbol+")?(?:\\))?)?$"),i.match(u)){r*=Math.pow(10,l[n]);break}r*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),r*=Number(e)}return r},isNaN:function(e){return typeof e=="number"&&isNaN(e)},includes:function(e,t){return e.indexOf(t)!==-1},insert:function(e,t,i){return e.slice(0,i)+t+e.slice(i)},reduce:function(e,t){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof t!="function")throw new TypeError(t+" is not a function");var i=Object(e),l=i.length>>>0,n=0,r;if(arguments.length===3)r=arguments[2];else{for(;n<l&&!(n in i);)n++;if(n>=l)throw new TypeError("Reduce of empty array with no initial value");r=i[n++]}for(;n<l;n++)n in i&&(r=t(r,i[n],n,i));return r},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(t,i){var l=p.multiplier(i);return t>l?t:l},1)},toFixed:function(e,t,i,l){var n=e.toString().split("."),r=t-(l||0),s,u,m,v;return n.length===2?s=Math.min(Math.max(n[1].length,r),t):s=r,m=Math.pow(10,s),v=(i(e+"e+"+s)/m).toFixed(s),l>t-s&&(u=new RegExp("\\.?0{1,"+(l-(t-s))+"}$"),v=v.replace(u,"")),v}},a.options=f,a.formats=C,a.locales=_,a.locale=function(e){return e&&(f.currentLocale=e.toLowerCase()),f.currentLocale},a.localeData=function(e){if(!e)return _[f.currentLocale];if(e=e.toLowerCase(),!_[e])throw new Error("Unknown locale : "+e);return _[e]},a.reset=function(){for(var e in I)f[e]=I[e]},a.zeroFormat=function(e){f.zeroFormat=typeof e=="string"?e:null},a.nullFormat=function(e){f.nullFormat=typeof e=="string"?e:null},a.defaultFormat=function(e){f.defaultFormat=typeof e=="string"?e:"0.0"},a.register=function(e,t,i){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=i,i},a.validate=function(e,t){var i,l,n,r,s,u,m,v;if(typeof e!="string"&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),e=e.trim(),e.match(/^\d+$/))return!0;if(e==="")return!1;try{m=a.localeData(t)}catch(T){m=a.localeData(a.locale())}return n=m.currency.symbol,s=m.abbreviations,i=m.delimiters.decimal,m.delimiters.thousands==="."?l="\\.":l=m.delimiters.thousands,v=e.match(/^[^\d]+/),v!==null&&(e=e.substr(1),v[0]!==n)||(v=e.match(/[^\d]+$/),v!==null&&(e=e.slice(0,-1),v[0]!==s.thousand&&v[0]!==s.million&&v[0]!==s.billion&&v[0]!==s.trillion))?!1:(u=new RegExp(l+"{2}"),e.match(/[^\d.,]/g)?!1:(r=e.split(i),r.length>2?!1:r.length<2?!!r[0].match(/^\d+.*\d$/)&&!r[0].match(u):r[0].length===1?!!r[0].match(/^\d+$/)&&!r[0].match(u)&&!!r[1].match(/^\d+$/):!!r[0].match(/^\d+.*\d$/)&&!r[0].match(u)&&!!r[1].match(/^\d+$/)))},a.fn=k.prototype={clone:function(){return a(this)},format:function(e,t){var i=this._value,l=e||f.defaultFormat,n,r,s;if(t=t||Math.round,i===0&&f.zeroFormat!==null)r=f.zeroFormat;else if(i===null&&f.nullFormat!==null)r=f.nullFormat;else{for(n in C)if(l.match(C[n].regexps.format)){s=C[n].format;break}s=s||a._.numberToFormat,r=s(i,l,t)}return r},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var t=p.correctionFactor.call(null,this._value,e);function i(l,n,r,s){return l+Math.round(t*n)}return this._value=p.reduce([this._value,e],i,0)/t,this},subtract:function(e){var t=p.correctionFactor.call(null,this._value,e);function i(l,n,r,s){return l-Math.round(t*n)}return this._value=p.reduce([e],i,Math.round(this._value*t))/t,this},multiply:function(e){function t(i,l,n,r){var s=p.correctionFactor(i,l);return Math.round(i*s)*Math.round(l*s)/Math.round(s*s)}return this._value=p.reduce([this._value,e],t,1),this},divide:function(e){function t(i,l,n,r){var s=p.correctionFactor(i,l);return Math.round(i*s)/Math.round(l*s)}return this._value=p.reduce([this._value,e],t),this},difference:function(e){return Math.abs(a(this._value).subtract(e).value())}},a.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return~~(e%100/10)==1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"},currency:{symbol:"$"}}),function(){a.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,t,i){var l=a._.includes(t," BPS")?" ":"",n;return e=e*1e4,t=t.replace(/\s?BPS/,""),n=a._.numberToFormat(e,t,i),a._.includes(n,")")?(n=n.split(""),n.splice(-1,0,l+"BPS"),n=n.join("")):n=n+l+"BPS",n},unformat:function(e){return+(a._.stringToNumber(e)*1e-4).toFixed(15)}})}(),function(){var e={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},t={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},i=e.suffixes.concat(t.suffixes.filter(function(n){return e.suffixes.indexOf(n)<0})),l=i.join("|");l="("+l.replace("B","B(?!PS)")+")",a.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(l)},format:function(n,r,s){var u,m=a._.includes(r,"ib")?t:e,v=a._.includes(r," b")||a._.includes(r," ib")?" ":"",T,d,h;for(r=r.replace(/\s?i?b/,""),T=0;T<=m.suffixes.length;T++)if(d=Math.pow(m.base,T),h=Math.pow(m.base,T+1),n===null||n===0||n>=d&&n<h){v+=m.suffixes[T],d>0&&(n=n/d);break}return u=a._.numberToFormat(n,r,s),u+v},unformat:function(n){var r=a._.stringToNumber(n),s,u;if(r){for(s=e.suffixes.length-1;s>=0;s--){if(a._.includes(n,e.suffixes[s])){u=Math.pow(e.base,s);break}if(a._.includes(n,t.suffixes[s])){u=Math.pow(t.base,s);break}}r*=u||1}return r}})}(),function(){a.register("format","currency",{regexps:{format:/(\$)/},format:function(e,t,i){var l=a.locales[a.options.currentLocale],n={before:t.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:t.match(/([\+|\-|\)|\s|\$]*)$/)[0]},r,s,u;for(t=t.replace(/\s?\$\s?/,""),r=a._.numberToFormat(e,t,i),e>=0?(n.before=n.before.replace(/[\-\(]/,""),n.after=n.after.replace(/[\-\)]/,"")):e<0&&!a._.includes(n.before,"-")&&!a._.includes(n.before,"(")&&(n.before="-"+n.before),u=0;u<n.before.length;u++)switch(s=n.before[u],s){case"$":r=a._.insert(r,l.currency.symbol,u);break;case" ":r=a._.insert(r," ",u+l.currency.symbol.length-1);break}for(u=n.after.length-1;u>=0;u--)switch(s=n.after[u],s){case"$":r=u===n.after.length-1?r+l.currency.symbol:a._.insert(r,l.currency.symbol,-(n.after.length-(1+u)));break;case" ":r=u===n.after.length-1?r+" ":a._.insert(r," ",-(n.after.length-(1+u)+l.currency.symbol.length-1));break}return r}})}(),function(){a.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,t,i){var l,n=typeof e=="number"&&!a._.isNaN(e)?e.toExponential():"0e+0",r=n.split("e");return t=t.replace(/e[\+|\-]{1}0/,""),l=a._.numberToFormat(Number(r[0]),t,i),l+"e"+r[1]},unformat:function(e){var t=a._.includes(e,"e+")?e.split("e+"):e.split("e-"),i=Number(t[0]),l=Number(t[1]);l=a._.includes(e,"e-")?l*=-1:l;function n(r,s,u,m){var v=a._.correctionFactor(r,s),T=r*v*(s*v)/(v*v);return T}return a._.reduce([i,Math.pow(10,l)],n,1)}})}(),function(){a.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,t,i){var l=a.locales[a.options.currentLocale],n,r=a._.includes(t," o")?" ":"";return t=t.replace(/\s?o/,""),r+=l.ordinal(e),n=a._.numberToFormat(e,t,i),n+r}})}(),function(){a.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,t,i){var l=a._.includes(t," %")?" ":"",n;return a.options.scalePercentBy100&&(e=e*100),t=t.replace(/\s?\%/,""),n=a._.numberToFormat(e,t,i),a._.includes(n,")")?(n=n.split(""),n.splice(-1,0,l+"%"),n=n.join("")):n=n+l+"%",n},unformat:function(e){var t=a._.stringToNumber(e);return a.options.scalePercentBy100?t*.01:t}})}(),function(){a.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,i){var l=Math.floor(e/60/60),n=Math.floor((e-l*60*60)/60),r=Math.round(e-l*60*60-n*60);return l+":"+(n<10?"0"+n:n)+":"+(r<10?"0"+r:r)},unformat:function(e){var t=e.split(":"),i=0;return t.length===3?(i=i+Number(t[0])*60*60,i=i+Number(t[1])*60,i=i+Number(t[2])):t.length===2&&(i=i+Number(t[0])*60,i=i+Number(t[1])),Number(i)}})}(),a})}}]);
