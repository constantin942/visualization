(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[569],{64317:function(Y,x,e){"use strict";var I=e(22122),C=e(28991),O=e(81253),t=e(67294),F=e(30885),r=e(96202),Z=e(66758),A=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],v=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],m=t.forwardRef(function(n,S){var V=n.fieldProps,b=n.children,j=n.params,G=n.proFieldProps,B=n.mode,K=n.valueEnum,z=n.request,W=n.showSearch,d=n.options,$=(0,O.Z)(n,A),N=(0,t.useContext)(Z.Z);return t.createElement(F.Z,(0,I.Z)({mode:"edit",valueEnum:(0,r.h)(K),request:z,params:j,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,C.Z)({options:d,mode:B,showSearch:W,getPopupContainer:N.getPopupContainer},V),ref:S,proFieldProps:G},$),b)}),T=t.forwardRef(function(n,S){var V=n.fieldProps,b=n.children,j=n.params,G=n.proFieldProps,B=n.mode,K=n.valueEnum,z=n.request,W=n.options,d=(0,O.Z)(n,v),$=(0,C.Z)({options:W,mode:B||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},V),N=(0,t.useContext)(Z.Z);return t.createElement(F.Z,(0,I.Z)({mode:"edit",valueEnum:(0,r.h)(K),request:z,params:j,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,C.Z)({getPopupContainer:N.getPopupContainer},$),ref:S,proFieldProps:G},d),b)}),M=m,o=T,f=M;f.SearchSelect=o,f.displayName="ProFormComponent",x.Z=f},5966:function(Y,x,e){"use strict";var I=e(22122),C=e(81253),O=e(67294),t=e(30885),F=["fieldProps","proFieldProps"],r=["fieldProps","proFieldProps"],Z="text",A=function(M){var o=M.fieldProps,f=M.proFieldProps,n=(0,C.Z)(M,F);return O.createElement(t.Z,(0,I.Z)({mode:"edit",valueType:Z,fieldProps:o,filedConfig:{valueType:Z},proFieldProps:f},n))},v=function(M){var o=M.fieldProps,f=M.proFieldProps,n=(0,C.Z)(M,r);return O.createElement(t.Z,(0,I.Z)({mode:"edit",valueType:"password",fieldProps:o,proFieldProps:f,filedConfig:{valueType:Z}},n))},m=A;m.Password=v,m.displayName="ProFormComponent",x.Z=m},5894:function(Y,x,e){"use strict";e.d(x,{A:function(){return W}});var I=e(9715),C=e(86835),O=e(22122),t=e(67294),F=e(96156),r=e(49111),Z=e(19650),A=e(84305),v=e(75901),m=e(28481),T=e(28991),M=e(8812),o=e(66758),f=e(96138),n=e(28664),S=e(58927),V=e(94184),b=e.n(V),j=e(2514),G=t.forwardRef(function(d,$){var N=t.useContext(o.Z),w=N.groupProps,p=(0,T.Z)((0,T.Z)({},w),d),_=p.children,ie=p.collapsible,ee=p.defaultCollapsed,ve=p.style,te=p.labelLayout,ue=p.title,J=ue===void 0?d.label:ue,de=p.tooltip,Q=p.align,pe=Q===void 0?"start":Q,X=p.direction,ce=p.size,k=ce===void 0?32:ce,fe=p.titleStyle,q=p.titleRender,s=p.spaceProps,re=p.extra,ne=p.autoFocus,u=(0,n.Z)(function(){return ee||!1},{value:d.collapsed,onChange:d.onCollapse}),l=(0,m.Z)(u,2),P=l[0],a=l[1],g=(0,t.useContext)(v.ZP.ConfigContext),oe=g.getPrefixCls,ae=(0,j.z)(d),ge=ae.ColWrapper,se=ae.RowWrapper,H=oe("pro-form-group"),me=ie&&t.createElement(M.Z,{style:{marginRight:8},rotate:P?void 0:90}),le=t.createElement(S.Z,{label:me?t.createElement("div",null,me,J):J,tooltip:de}),R=(0,t.useCallback)(function(c){var U=c.children;return t.createElement(Z.Z,(0,O.Z)({},s,{className:"".concat(H,"-container"),size:k,align:pe,direction:X,style:(0,T.Z)({rowGap:0},s==null?void 0:s.style)}),U)},[pe,H,X,k,s]),y=q?q(le,d):le,E=(0,t.useMemo)(function(){var c=[],U=t.Children.toArray(_).map(function(L,he){var Pe;return t.isValidElement(L)&&(L==null||(Pe=L.props)===null||Pe===void 0?void 0:Pe.hidden)?(c.push(L),null):he===0&&t.isValidElement(L)&&ne?t.cloneElement(L,(0,T.Z)((0,T.Z)({},L.props),{},{autoFocus:ne})):L});return[t.createElement(se,{key:"children",Wrapper:R},U),c.length>0?t.createElement("div",{style:{display:"none"}},c):null]},[_,se,R,ne]),i=(0,m.Z)(E,2),h=i[0],D=i[1];return t.createElement(ge,null,t.createElement("div",{className:b()(H,(0,F.Z)({},"".concat(H,"-twoLine"),te==="twoLine")),style:ve,ref:$},D,(J||de||re)&&t.createElement("div",{className:"".concat(H,"-title"),style:fe,onClick:function(){a(!P)}},re?t.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}},y,t.createElement("span",{onClick:function(U){return U.stopPropagation()}},re)):y),ie&&P?null:h))});G.displayName="ProForm-Group";var B=G,K=e(87808),z=e(24214);function W(d){return t.createElement(z.I,(0,O.Z)({layout:"vertical",submitter:{render:function(N,w){return w.reverse()}},contentRender:function(N,w){return t.createElement(t.Fragment,null,N,w)}},d))}W.Group=B,W.useForm=C.Z.useForm,W.Item=K.Z},24739:function(Y,x,e){"use strict";e.d(x,{UW:function(){return C}});var I=e(5894),C=I.A.Group},58927:function(Y,x,e){"use strict";var I=e(22385),C=e(61580),O=e(96156),t=e(84305),F=e(75901),r=e(67294),Z=e(68628),A=e(11445),v=e.n(A),m=e(94184),T=e.n(m),M=function(f){var n=f.label,S=f.tooltip,V=f.ellipsis,b=f.subTitle,j=(0,r.useContext)(F.ZP.ConfigContext),G=j.getPrefixCls;if(!S&&!b)return r.createElement(r.Fragment,null,n);var B=G("pro-core-label-tip"),K=typeof S=="string"||r.isValidElement(S)?{title:S}:S,z=(K==null?void 0:K.icon)||r.createElement(Z.Z,null);return r.createElement("div",{className:B,onMouseDown:function(d){return d.stopPropagation()},onMouseLeave:function(d){return d.stopPropagation()},onMouseMove:function(d){return d.stopPropagation()}},r.createElement("div",{className:T()("".concat(B,"-title"),(0,O.Z)({},"".concat(B,"-title-ellipsis"),V))},n),b&&r.createElement("div",{className:"".concat(B,"-subtitle")},b),S&&r.createElement(C.Z,K,r.createElement("span",{className:"".concat(B,"-icon")},z)))};x.Z=r.memo(M)},89663:function(Y){Y.exports={config:"config___2VrF2"}},96138:function(){},11445:function(){},29035:function(Y,x,e){"use strict";e.r(x),e.d(x,{default:function(){return ne}});var I=e(71194),C=e(50146),O=e(18106),t=e(51752),F=e(402),r=e(97272),Z=e(74379),A=e(38648),v=e(3182),m=e(11849),T=e(2824),M=e(94043),o=e.n(M),f=e(67294),n=e(89663),S=e.n(n),V=e(24739),b=e(5966),j=e(13312),G=e(22122),B=e(81253),K=e(30885),z=["fieldProps","proFieldProps"],W=function(l,P){var a=l.fieldProps,g=l.proFieldProps,oe=(0,B.Z)(l,z);return f.createElement(K.Z,(0,G.Z)({ref:P,mode:"edit",valueType:"textarea",fieldProps:a,proFieldProps:g},oe))},d=f.forwardRef(W),$=e(5894),N=e(64317),w=e(59962),p=e(25377),_=e(24480);function ie(u){return ee.apply(this,arguments)}function ee(){return ee=(0,v.Z)(o().mark(function u(l){return o().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,p.WY)("/api/skyflying/config/getDingConfig",(0,m.Z)({method:"GET"},l||{})));case 1:case"end":return a.stop()}},u)})),ee.apply(this,arguments)}function ve(u){return te.apply(this,arguments)}function te(){return te=(0,v.Z)(o().mark(function u(l){return o().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,p.WY)("/api/skyflying/config/getDingGapDic",(0,m.Z)({method:"GET"},l||{})));case 1:case"end":return a.stop()}},u)})),te.apply(this,arguments)}function ue(u,l){return J.apply(this,arguments)}function J(){return J=(0,v.Z)(o().mark(function u(l,P){return o().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,p.WY)("/api/skyflying/config/updateDingConfig",(0,m.Z)({method:"PUT",data:l},P||{})));case 1:case"end":return g.stop()}},u)})),J.apply(this,arguments)}function de(u){return Q.apply(this,arguments)}function Q(){return Q=(0,v.Z)(o().mark(function u(l){return o().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,p.WY)("/api/skyflying/getAkSk",(0,m.Z)({method:"GET"},l||{})));case 1:case"end":return a.stop()}},u)})),Q.apply(this,arguments)}function pe(u){return X.apply(this,arguments)}function X(){return X=(0,v.Z)(o().mark(function u(l){return o().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,p.WY)("/api/skyflying/getRegion",(0,m.Z)({method:"GET"},l||{})));case 1:case"end":return a.stop()}},u)})),X.apply(this,arguments)}function ce(u,l){return k.apply(this,arguments)}function k(){return k=(0,v.Z)(o().mark(function u(l,P){return o().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,p.WY)("/api/skyflying/setAkSk",(0,m.Z)({method:"POST",data:_.Z.formData(l)},P||{})));case 1:case"end":return g.stop()}},u)})),k.apply(this,arguments)}function fe(u,l){return q.apply(this,arguments)}function q(){return q=(0,v.Z)(o().mark(function u(l,P){return o().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,p.WY)("/api/skyflying/setRegion",(0,m.Z)({method:"POST",data:_.Z.formData(l)},P||{})));case 1:case"end":return g.stop()}},u)})),q.apply(this,arguments)}var s=e(85893),re=function(){var l=(0,f.useRef)(),P=(0,f.useRef)(),a=(0,f.useState)(!1),g=(0,T.Z)(a,2),oe=g[0],ae=g[1],ge=(0,f.useState)({gap:0,id:0,secret:"",webhook:"",mobiles:""}),se=(0,T.Z)(ge,2),H=se[0],me=se[1],le={getAkAndSk:function(){de().then(function(y){var E=y.data;if(E){var i,h=JSON.parse(E);(i=P.current)===null||i===void 0||i.setFieldsValue(h),pe().then(function(D){if(D&&D.data){var c=JSON.parse(D.data),U=c.config;if(U){var L,he=JSON.parse(U);(L=P.current)===null||L===void 0||L.setFieldsValue({region:he["dms-region"]})}}})}})},getConfig:function(){ie().then(function(y){var E,i=y.data,h=y.code;h===j.Gh&&me(i);var D=[];if(i&&i.mobiles){var c=i.mobiles.includes("#")?i.mobiles.split("#"):[i.mobiles];D=c.map(function(U){return{phone:U}})}(E=l.current)===null||E===void 0||E.setFieldsValue((0,m.Z)((0,m.Z)({},i),{phone:D}))})}};return(0,f.useEffect)(function(){le.getConfig()},[]),(0,s.jsxs)("div",{className:S().config,children:[(0,s.jsxs)(t.Z,{tabPosition:"left",size:"middle",onChange:function(y){return le[y]()},type:"card",children:[(0,s.jsxs)(t.Z.TabPane,{tab:"\u9489\u9489\u544A\u8B66",children:[(0,s.jsx)("h3",{className:"text-c mb-30 mt-50 fw-600",children:"\u9489\u9489\u544A\u8B66\u914D\u7F6E"}),(0,s.jsx)("div",{style:{display:"inline-block",margin:"0 auto"},children:(0,s.jsxs)($.A,{formRef:l,labelAlign:"right",onFinish:function(){var R=(0,v.Z)(o().mark(function y(E){var i;return o().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:i=E.phone,i&&i.length>0&&(E.mobiles=i==null?void 0:i.map(function(c){return c.phone}).join("#")),delete E.phone,ue((0,m.Z)((0,m.Z)({},E),{id:H.id})).then(function(c){var U=c.code;U===j.Gh&&A.Z.success({message:"\u63D0\u793A",description:"\u4FEE\u6539\u6210\u529F\uFF01"})});case 4:case"end":return D.stop()}},y)}));return function(y){return R.apply(this,arguments)}}(),submitter:{searchConfig:{submitText:"\u786E\u8BA4\u4FEE\u6539"}},labelCol:{span:8},layout:"horizontal",children:[(0,s.jsx)(d,{help:(0,s.jsx)(r.Z.Link,{onClick:function(){ae(!0)},children:"\u5982\u4F55\u83B7\u53D6Webhook\uFF1F"}),width:"lg",name:"webhook",label:"Webhook",tooltip:"\u9489\u9489\u7FA4\u8BBE\u7F6E->\u667A\u80FD\u7FA4\u52A9\u624B->",style:{textAlign:"left"},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u94A5"}]}),(0,s.jsx)(d,{width:"lg",name:"secret",label:"Secret",style:{textAlign:"left"},rules:[{required:!0,message:"\u8BF7\u8F93\u5165token"}]}),(0,s.jsx)(N.Z,{width:"lg",name:"gap",label:"\u544A\u8B66\u95F4\u9694",debounceTime:300,style:{textAlign:"left"},rules:[{required:!0,message:"\u9009\u62E9\u544A\u8B66\u95F4\u9694"}],request:(0,v.Z)(o().mark(function R(){var y,E;return o().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,ve();case 3:return y=h.sent,E=y.data,h.abrupt("return",E.map(function(D){return{label:D,value:D}}));case 8:return h.prev=8,h.t0=h.catch(0),h.abrupt("return",[]);case 11:case"end":return h.stop()}},R,null,[[0,8]])}))}),(0,s.jsx)(w.u,{name:"phone",label:"@\u6307\u5B9A\u7528\u6237\uFF08\u624B\u673A\u53F7\u7801\uFF09\uFF1A",copyIconProps:!1,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u6307\u5B9A\u7528\u6237"},initialValue:[{phone:""}],children:(0,s.jsx)(V.UW,{children:(0,s.jsx)(b.Z,{name:"phone",fieldProps:{maxLength:11},placeholder:"\u8BF7\u8F93\u5165\u6307\u5B9A\u7528\u6237\u624B\u673A\u53F7\u7801"})},"group")})]})})]},"getConfig"),(0,s.jsxs)(t.Z.TabPane,{tab:"\u83B7\u53D6\u6570\u636E\u5E93\u5BA1\u8BA1\u65E5\u5FD7\u914D\u7F6E",children:[(0,s.jsx)("h3",{className:"text-c mb-30 mt-50 fw-600",children:"\u83B7\u53D6\u6570\u636E\u5E93\u5BA1\u8BA1\u65E5\u5FD7\u914D\u7F6E"}),(0,s.jsx)("div",{style:{display:"inline-block",margin:"0 auto"},children:(0,s.jsxs)($.A,{formRef:P,labelAlign:"right",onFinish:function(){var R=(0,v.Z)(o().mark(function y(E){var i,h;return o().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,ce(E);case 2:return i=c.sent,c.next=5,fe(E);case 5:h=c.sent,i.code===j.Gh&&h.code===j.Gh&&A.Z.success({message:"\u63D0\u793A",description:"\u4FEE\u6539\u6210\u529F\uFF01"});case 7:case"end":return c.stop()}},y)}));return function(y){return R.apply(this,arguments)}}(),submitter:{searchConfig:{submitText:"\u786E\u8BA4\u4FEE\u6539"}},labelCol:{span:6},layout:"horizontal",children:[(0,s.jsx)(d,{width:"lg",name:"ak",label:"Access Key",style:{textAlign:"left"},rules:[{required:!0,message:"\u8BF7\u8F93\u5165Access Key"}]}),(0,s.jsx)(d,{width:"lg",name:"sk",label:"Secret Access Key",style:{textAlign:"left"},rules:[{required:!0,message:"\u8BF7\u8F93\u5165Secret Access Key"}]}),(0,s.jsx)(b.Z,{width:"lg",name:"region",label:"\u6570\u636E\u5E93\u6240\u5C5E\u533A\u57DF",style:{textAlign:"left"},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6570\u636E\u5E93\u6240\u5C5E\u533A\u57DF"}]})]})})]},"getAkAndSk")]}),(0,s.jsx)(C.Z,{title:"\u83B7\u53D6Webhook\u64CD\u4F5C\u8BF4\u660E",onCancel:function(){return ae(!1)},visible:oe,footer:[]})]})},ne=re},79370:function(Y,x,e){"use strict";e.d(x,{G:function(){return t}});var I=e(98924),C=function(r){if((0,I.Z)()&&window.document.documentElement){var Z=Array.isArray(r)?r:[r],A=window.document.documentElement;return Z.some(function(v){return v in A.style})}return!1},O=function(r,Z){if(!C(r))return!1;var A=document.createElement("div"),v=A.style[r];return A.style[r]=Z,A.style[r]!==v};function t(F,r){return!Array.isArray(F)&&r!==void 0?O(F,r):C(F)}}}]);
