(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4],{39004:function(Tu,_a,K){"use strict";K.d(_a,{kL:function(){return Eo},Mx:function(){return $},zl:function(){return I},w_:function(){return U}});var p=K(70655),h=K(41694),W;(function(i){i.FORE="fore",i.MID="mid",i.BG="bg"})(W||(W={}));var F;(function(i){i.TOP="top",i.TOP_LEFT="top-left",i.TOP_RIGHT="top-right",i.RIGHT="right",i.RIGHT_TOP="right-top",i.RIGHT_BOTTOM="right-bottom",i.LEFT="left",i.LEFT_TOP="left-top",i.LEFT_BOTTOM="left-bottom",i.BOTTOM="bottom",i.BOTTOM_LEFT="bottom-left",i.BOTTOM_RIGHT="bottom-right",i.RADIUS="radius",i.CIRCLE="circle",i.NONE="none"})(F||(F={}));var J;(function(i){i.AXIS="axis",i.GRID="grid",i.LEGEND="legend",i.TOOLTIP="tooltip",i.ANNOTATION="annotation",i.SLIDER="slider",i.SCROLLBAR="scrollbar",i.OTHER="other"})(J||(J={}));var Ot={FORE:3,MID:2,BG:1},X;(function(i){i.BEFORE_RENDER="beforerender",i.AFTER_RENDER="afterrender",i.BEFORE_PAINT="beforepaint",i.AFTER_PAINT="afterpaint",i.BEFORE_CHANGE_DATA="beforechangedata",i.AFTER_CHANGE_DATA="afterchangedata",i.BEFORE_CLEAR="beforeclear",i.AFTER_CLEAR="afterclear",i.BEFORE_DESTROY="beforedestroy",i.BEFORE_CHANGE_SIZE="beforechangesize",i.AFTER_CHANGE_SIZE="afterchangesize"})(X||(X={}));var mt;(function(i){i.BEFORE_DRAW_ANIMATE="beforeanimate",i.AFTER_DRAW_ANIMATE="afteranimate",i.BEFORE_RENDER_LABEL="beforerenderlabel",i.AFTER_RENDER_LABEL="afterrenderlabel"})(mt||(mt={}));var et;(function(i){i.MOUSE_ENTER="plot:mouseenter",i.MOUSE_DOWN="plot:mousedown",i.MOUSE_MOVE="plot:mousemove",i.MOUSE_UP="plot:mouseup",i.MOUSE_LEAVE="plot:mouseleave",i.TOUCH_START="plot:touchstart",i.TOUCH_MOVE="plot:touchmove",i.TOUCH_END="plot:touchend",i.TOUCH_CANCEL="plot:touchcancel",i.CLICK="plot:click",i.DBLCLICK="plot:dblclick",i.CONTEXTMENU="plot:contextmenu",i.LEAVE="plot:leave",i.ENTER="plot:enter"})(et||(et={}));var ue;(function(i){i.ACTIVE="active",i.INACTIVE="inactive",i.SELECTED="selected",i.DEFAULT="default"})(ue||(ue={}));var Dt=["color","shape","size"],D="_origin",Hi=1,zi=1,Xi=.25,Ui={};function tn(i){var r=Ui[i];if(!r)throw new Error("G engine '".concat(i,"' is not exist, please register it at first."));return r}function Yi(i,r){Ui[i]=r}var en=K(6056),rn=K(45442);function an(i){var r=getComputedStyle(i);return{width:(i.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(i.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function Ni(i){return typeof i=="number"&&!isNaN(i)}function Wi(i,r,t,e){var a=t,n=e;if(r){var o=an(i);a=o.width?o.width:a,n=o.height?o.height:n}return{width:Math.max(Ni(a)?a:Hi,Hi),height:Math.max(Ni(n)?n:zi,zi)}}function nn(i){var r=i.parentNode;r&&r.removeChild(i)}var on=K(90494),ln=function(i){(0,p.ZT)(r,i);function r(t){var e=i.call(this)||this;e.destroyed=!1;var a=t.visible,n=a===void 0?!0:a;return e.visible=n,e}return r.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},r.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(on.Z),Ve=ln,sn=K(3232),hn=K(92008),cn=K(46262),un=K(13541),Zi=K(86429),H=K(62079),vn=H.RD.x1,fn=H.RD.Cd,pn=H.rj.x1,dn=H.rj.Cd,ji=H.De.WD,gn=H.De.Vc,ve=H.u.V;function yn(i){if((0,h.xb)(i))return null;var r=i[0].x,t=i[0].x,e=i[0].y,a=i[0].y;return(0,h.S6)(i,function(n){r=r>n.x?n.x:r,t=t<n.x?n.x:t,e=e>n.y?n.y:e,a=a<n.y?n.y:a}),{minX:r,maxX:t,minY:e,maxY:a,centerX:(r+t)/2,centerY:(e+a)/2}}function $i(i){return Array.from(new Set(i)).length===1}function Ji(i){return((0,h.VV)(i)+(0,h.Fp)(i))/2}function j(i,r,t,e){return{x:i+t*Math.cos(e),y:r+t*Math.sin(e)}}function xt(i,r,t,e,a,n){n===void 0&&(n=0);var o=j(i,r,t,e),l=j(i,r,t,a),s=j(i,r,n,e),c=j(i,r,n,a);if(a-e==Math.PI*2){var v=j(i,r,t,e+Math.PI),u=j(i,r,n,e+Math.PI),f=[["M",o.x,o.y],["A",t,t,0,1,1,v.x,v.y],["A",t,t,0,1,1,l.x,l.y],["M",s.x,s.y]];return n&&(f.push(["A",n,n,0,1,0,u.x,u.y]),f.push(["A",n,n,0,1,0,c.x,c.y])),f.push(["M",o.x,o.y]),f.push(["Z"]),f}var d=a-e<=Math.PI?0:1,g=[["M",o.x,o.y],["A",t,t,0,d,1,l.x,l.y],["L",c.x,c.y]];return n&&g.push(["A",n,n,0,d,0,s.x,s.y]),g.push(["L",o.x,o.y]),g.push(["Z"]),g}function Ki(i,r,t,e,a){var n=j(i,r,t,e),o=j(i,r,t,a);if((0,h.vQ)(a-e,Math.PI*2)){var l=j(i,r,t,e+Math.PI);return[["M",n.x,n.y],["A",t,t,0,1,1,l.x,l.y],["A",t,t,0,1,1,n.x,n.y],["A",t,t,0,1,0,l.x,l.y],["A",t,t,0,1,0,n.x,n.y],["Z"]]}var s=a-e<=Math.PI?0:1;return[["M",n.x,n.y],["A",t,t,0,s,1,o.x,o.y]]}function Kt(i,r){var t=i.points,e=yn(t),a,n,o=r.startAngle,l=r.endAngle,s=l-o;return r.isTransposed?(a=e.maxY*s,n=e.minY*s):(a=e.maxX*s,n=e.minX*s),a+=o,n+=o,{startAngle:n,endAngle:a}}function mn(i,r){if((0,h.hj)(i)&&(0,h.hj)(r))return[i,r];if(i=i,r=r,$i(i)||$i(r))return[Ji(i),Ji(r)];for(var t=-1,e=0,a=0,n,o=i.length-1,l,s=0;++t<i.length;)n=o,o=t,s+=l=i[n]*r[o]-i[o]*r[n],e+=(i[n]+i[o])*l,a+=(r[n]+r[o])*l;return s*=3,[e/s,a/s]}function Qi(i,r){var t=i.attr(),e=r.attr();return(0,h.S6)(t,function(a,n){e[n]===void 0&&(e[n]=void 0)}),e}function Gt(i,r,t){var e=Math.min(r,t),a=Math.max(r,t);return i>=e&&i<=a}function xn(i,r,t){if((0,h.HD)(i))return i.padEnd(r,t);if((0,h.kJ)(i)){var e=i.length;if(e<r)for(var a=r-e,n=0;n<a;n++)i.push(t)}return i}function it(i,r){return typeof i=="object"&&r.forEach(function(t){delete i[t]}),i}function wt(i,r,t){var e,a;r===void 0&&(r=[]),t===void 0&&(t=new Map);try{for(var n=(0,p.XA)(i),o=n.next();!o.done;o=n.next()){var l=o.value;t.has(l)||(r.push(l),t.set(l,!0))}}catch(s){e={error:s}}finally{try{o&&!o.done&&(a=n.return)&&a.call(n)}finally{if(e)throw e.error}}return r}var _=function(){function i(r,t,e,a){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),a===void 0&&(a=0),this.x=r,this.y=t,this.height=a,this.width=e}return i.fromRange=function(r,t,e,a){return new i(r,t,e-r,a-t)},i.fromObject=function(r){return new i(r.minX,r.minY,r.width,r.height)},Object.defineProperty(i.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},i.prototype.contains=function(r){return r.minX>=this.minX&&r.maxX<=this.maxX&&r.minY>=this.minY&&r.maxY<=this.maxY},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,h.S6)(r,function(a){e.x=Math.min(a.x,e.x),e.y=Math.min(a.y,e.y),e.width=Math.max(a.maxX,e.maxX)-e.x,e.height=Math.max(a.maxY,e.maxY)-e.y}),e},i.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=this.clone();return(0,h.S6)(r,function(a){e.x=Math.max(a.x,e.x),e.y=Math.max(a.y,e.y),e.width=Math.min(a.maxX,e.maxX)-e.x,e.height=Math.min(a.maxY,e.maxY)-e.y}),e},i.prototype.cut=function(r,t){var e=r.width,a=r.height;switch(t){case F.TOP:case F.TOP_LEFT:case F.TOP_RIGHT:return i.fromRange(this.minX,this.minY+a,this.maxX,this.maxY);case F.RIGHT:case F.RIGHT_TOP:case F.RIGHT_BOTTOM:return i.fromRange(this.minX,this.minY,this.maxX-e,this.maxY);case F.BOTTOM:case F.BOTTOM_LEFT:case F.BOTTOM_RIGHT:return i.fromRange(this.minX,this.minY,this.maxX,this.maxY-a);case F.LEFT:case F.LEFT_TOP:case F.LEFT_BOTTOM:return i.fromRange(this.minX+e,this.minY,this.maxX,this.maxY);default:return this}},i.prototype.shrink=function(r){var t=(0,p.CR)(r,4),e=t[0],a=t[1],n=t[2],o=t[3];return new i(this.x+o,this.y+e,this.width-o-a,this.height-e-n)},i.prototype.expand=function(r){var t=(0,p.CR)(r,4),e=t[0],a=t[1],n=t[2],o=t[3];return new i(this.x-o,this.y-e,this.width+o+a,this.height+e+n)},i.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},i.prototype.collide=function(r){return this.minX<r.maxX&&this.maxX>r.minX&&this.minY<r.maxY&&this.maxY>r.minY},i.prototype.size=function(){return this.width*this.height},i.prototype.isPointIn=function(r){return r.x>=this.minX&&r.x<=this.maxX&&r.y>=this.minY&&r.y<=this.maxY},i}(),bu=function(i,r){var t=r.start,e=r.end;return new _(i.x+i.width*t.x,i.y+i.height*t.y,i.width*Math.abs(e.x-t.x),i.height*Math.abs(e.y-t.y))};function wn(i){return[[i.minX,i.minY],[i.maxX,i.minY],[i.maxX,i.maxY],[i.minX,i.maxY]]}function Qt(i){if(i.isPolar&&!i.isTransposed)return(i.endAngle-i.startAngle)*i.getRadius();var r=i.convert({x:0,y:0}),t=i.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function Cn(i){if(i.isPolar){var r=i.startAngle,t=i.endAngle;return t-r==Math.PI*2}return!1}function fe(i,r){var t=i.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function He(i,r){var t=!1;if(i)if(i.type==="theta"){var e=i.start,a=i.end;t=Gt(r.x,e.x,a.x)&&Gt(r.y,e.y,a.y)}else{var n=i.invert(r);t=Gt(n.x,0,1)&&Gt(n.y,0,1)}return t}function Vt(i,r){var t=i.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function ze(i,r){r===void 0&&(r=0);var t=i.start,e=i.end,a=i.getWidth(),n=i.getHeight();if(i.isPolar){var o=i.startAngle,l=i.endAngle,s=i.getCenter(),c=i.getRadius();return{type:"path",startState:{path:xt(s.x,s.y,c+r,o,o)},endState:function(u){var f=(l-o)*u+o,d=xt(s.x,s.y,c+r,o,f);return{path:d}},attrs:{path:xt(s.x,s.y,c+r,o,l)}}}var v;return i.isTransposed?v={height:n+r*2}:v={width:a+r*2},{type:"rect",startState:{x:t.x-r,y:e.y-r,width:i.isTransposed?a+r*2:0,height:i.isTransposed?0:n+r*2},endState:v,attrs:{x:t.x-r,y:e.y-r,width:a+r*2,height:n+r*2}}}function Sn(i,r){r===void 0&&(r=0);var t=i.start,e=i.end,a=i.getWidth(),n=i.getHeight(),o=Math.min(t.x,e.x),l=Math.min(t.y,e.y);return _.fromRange(o-r,l-r,o+a+r,l+n+r)}var Tn=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function bn(i){var r="linear";return Tn.test(i)?r="timeCat":(0,h.HD)(i)&&(r="cat"),r}function qi(i,r,t,e){return r===void 0&&(r={}),r.type?r.type:i.type!=="identity"&&Dt.includes(t)&&["interval"].includes(e)||i.isCategory?"cat":i.type}function Ln(i,r,t){var e=r||[];if((0,h.hj)(i)||(0,h.UM)((0,h.Wx)(e,i))&&(0,h.xb)(t)){var a=(0,Zi.yZ)("identity");return new a({field:i.toString(),values:[i]})}var n=(0,h.I)(e,i),o=(0,h.U2)(t,"type",bn(n[0])),l=(0,Zi.yZ)(o);return new l((0,p.pi)({field:i,values:n},t))}function Mn(i,r){if(i.type!=="identity"&&r.type!=="identity"){var t={};for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);i.change(t)}}function qt(i){return i.alias||i.field}function _i(i,r,t){var e=i.values,a=e.length,n;if(a===1)n=[.5,1];else{var o=1,l=0;Cn(r)?r.isTransposed?(o=(0,h.U2)(t,"widthRatio.multiplePie",1/1.3),l=1/a*o,n=[l/2,1-l/2]):n=[0,1-1/a]:(l=1/a/2,n=[l,1-l])}return n}function An(i){var r=i.values.filter(function(t){return!(0,h.UM)(t)&&!isNaN(t)});return Math.max.apply(Math,(0,p.ev)((0,p.ev)([],(0,p.CR)(r),!1),[(0,h.UM)(i.max)?-Infinity:i.max],!1))}var V=K(31437);function Fn(i){var r,t;switch(i){case F.TOP:r={x:0,y:1},t={x:1,y:1};break;case F.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case F.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case F.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}function En(i){var r,t;return i.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}function pe(i,r){var t={start:{x:0,y:0},end:{x:0,y:0}};i.isRect?t=Fn(r):i.isPolar&&(t=En(i));var e=t.start,a=t.end;return{start:i.convert(e),end:i.convert(a)}}function Lu(i,r){if(i.isRect)return i.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(r)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(r)?-1:1;if(i.isPolar){var t=i.x.start;return t<0?-1:1}return 1}function tr(i){var r=i.start,t=i.end;return r.x===t.x}function er(i,r){var t=i.start,e=i.end,a=tr(i);return a?(t.y-e.y)*(r.x-t.x)>0?1:-1:(e.x-t.x)*(t.y-r.y)>0?-1:1}function de(i,r){var t=(0,h.U2)(i,["components","axis"],{});return(0,h.b$)({},(0,h.U2)(t,["common"],{}),(0,h.b$)({},(0,h.U2)(t,[r],{})))}function ir(i,r,t){var e=(0,h.U2)(i,["components","axis"],{});return(0,h.b$)({},(0,h.U2)(e,["common","title"],{}),(0,h.b$)({},(0,h.U2)(e,[r,"title"],{})),t)}function Xe(i){var r=i.x,t=i.y,e=i.circleCenter,a=t.start>t.end,n=i.isTransposed?i.convert({x:a?0:1,y:0}):i.convert({x:0,y:a?0:1}),o=[n.x-e.x,n.y-e.y],l=[1,0],s=n.y>e.y?V.EU(o,l):V.EU(o,l)*-1,c=s+(r.end-r.start),v=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2));return{center:e,radius:v,startAngle:s,endAngle:c}}function ge(i,r){return(0,h.jn)(i)?i===!1?!1:{}:(0,h.U2)(i,[r])}function rr(i,r){return(0,h.U2)(i,"position",r)}function ar(i,r){return(0,h.U2)(r,["title","text"],qt(i))}var Ht=function(){function i(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=(0,h.b$)({},this.getDefaultCfg(),t)}return i.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},i.prototype.render=function(){this.renderViews()},i.prototype.update=function(){},i.prototype.clear=function(){this.clearFacetViews()},i.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},i.prototype.facetToView=function(r){var t=r.region,e=r.data,a=r.padding,n=a===void 0?this.cfg.padding:a,o=this.view.createView({region:t,padding:n});o.data(e||[]),r.view=o,this.beforeEachView(o,r);var l=this.cfg.eachView;return l&&l(o,r),this.afterEachView(o,r),o},i.prototype.createContainer=function(){var r=this.view.getLayer(W.FORE);return r.addGroup()},i.prototype.renderViews=function(){this.createFacetViews()},i.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},i.prototype.clearFacetViews=function(){var r=this;(0,h.S6)(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},i.prototype.parseSpacing=function(){var r=this.view.viewBBox,t=r.width,e=r.height,a=this.cfg.spacing;return a.map(function(n,o){return(0,h.hj)(n)?n/(o===0?t:e):parseFloat(n)/100})},i.prototype.getFieldValues=function(r,t){var e=[],a={};return(0,h.S6)(r,function(n){var o=n[t];!(0,h.UM)(o)&&!a[o]&&(e.push(o),a[o]=!0)}),e},i.prototype.getRegion=function(r,t,e,a){var n=(0,p.CR)(this.parseSpacing(),2),o=n[0],l=n[1],s=(1+o)/(t===0?1:t)-o,c=(1+l)/(r===0?1:r)-l,v={x:(s+o)*e,y:(c+l)*a},u={x:v.x+s,y:v.y+c};return{start:v,end:u}},i.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},i.prototype.getDefaultTitleCfg=function(){var r=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:r}}},i.prototype.processAxis=function(r,t){var e=r.getOptions(),a=e.coordinate,n=r.geometries,o=(0,h.U2)(a,"type","rect");if(o==="rect"&&n.length){(0,h.UM)(e.axes)&&(e.axes={});var l=e.axes,s=(0,p.CR)(n[0].getXYFields(),2),c=s[0],v=s[1],u=ge(l,c),f=ge(l,v);u!==!1&&(e.axes[c]=this.getXAxisOption(c,l,u,t)),f!==!1&&(e.axes[v]=this.getYAxisOption(v,l,f,t))}},i.prototype.getFacetDataFilter=function(r){return function(t){return(0,h.yW)(r,function(e){var a=e.field,n=e.value;return!(0,h.UM)(n)&&a?t[a]===n:!0})}},i}(),nr={},Bn=function(i){return nr[(0,h.vl)(i)]},zt=function(i,r){nr[(0,h.vl)(i)]=r},kn=function(){function i(r,t){this.context=r,this.cfg=t,r.addAction(this)}return i.prototype.applyCfg=function(r){(0,h.f0)(this,r)},i.prototype.init=function(){this.applyCfg(this.cfg)},i.prototype.destroy=function(){this.context.removeAction(this),this.context=null},i}(),$=kn,In=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.callback=null},r}($),Pn=In,ye={};function Rn(i,r){var t=ye[i],e=null;if(t){var a=t.ActionClass,n=t.cfg;e=new a(r,n),e.name=i,e.init()}return e}function Mu(i){var r=ye[i];return get(r,"ActionClass")}function I(i,r,t){ye[i]={ActionClass:r,cfg:t}}function Au(i){delete ye[i]}function On(i,r){var t=new Pn(r);return t.callback=i,t.name="callback",t}function Dn(i,r){var t=[];if(i.length){t.push(["M",i[0].x,i[0].y]);for(var e=1,a=i.length;e<a;e+=1){var n=i[e];t.push(["L",n.x,n.y])}r&&t.push(["Z"])}return t}function Ue(i,r){for(var t=[i[0]],e=1,a=i.length;e<a;e=e+2){var n=r.convert({x:i[e],y:i[e+1]});t.push(n.x,n.y)}return t}function or(i,r){var t=r.isTransposed,e=i[1],a=i[6],n=i[7],o=r.convert({x:a,y:n}),l=t?0:1;return["A",e,e,0,0,l,o.x,o.y]}function Gn(i,r,t){var e=t.isTransposed,a=t.startAngle,n=t.endAngle,o=i[0].toLowerCase()==="a"?{x:i[6],y:i[7]}:{x:i[1],y:i[2]},l={x:r[1],y:r[2]},s=[],c=e?"y":"x",v=Math.abs(l[c]-o[c])*(n-a),u=l[c]>=o[c]?1:0,f=v>Math.PI?1:0,d=t.convert(l),g=fe(t,d);if(g>=.5)if(v===Math.PI*2){var y={x:(l.x+o.x)/2,y:(l.y+o.y)/2},m=t.convert(y);s.push(["A",g,g,0,f,u,m.x,m.y]),s.push(["A",g,g,0,f,u,d.x,d.y])}else s.push(["A",g,g,0,f,u,d.x,d.y]);return s}function Vn(i){(0,h.S6)(i,function(r,t){var e=r;if(e[0].toLowerCase()==="a"){var a=i[t-1],n=i[t+1];n&&n[0].toLowerCase()==="a"?a&&a[0].toLowerCase()==="l"&&(a[0]="M"):a&&a[0].toLowerCase()==="a"&&n&&n[0].toLowerCase()==="l"&&(n[0]="M")}})}var Hn=function(i,r,t,e){var a,n=[],o=!!e,l,s,c,v,u,f,d;if(o){a=(0,p.CR)(e,2),c=a[0],v=a[1];for(var g=0,y=i.length;g<y;g++){var m=i[g];c=V.VV([0,0],c,m),v=V.Fp([0,0],v,m)}}for(var g=0,x=i.length;g<x;g++){var m=i[g];if(g===0&&!t)d=m;else if(g===x-1&&!t)f=m,n.push(d),n.push(f);else{l=i[t?g?g-1:x-1:g-1],s=i[t?(g+1)%x:g+1];var C=[0,0];C=V.lu(C,s,l),C=V.bA(C,C,r);var w=V.TE(m,l),S=V.TE(m,s),T=w+S;T!==0&&(w/=T,S/=T);var b=V.bA([0,0],C,-w),L=V.bA([0,0],C,S);f=V.IH([0,0],m,b),u=V.IH([0,0],m,L),u=V.VV([0,0],u,V.Fp([0,0],s,m)),u=V.Fp([0,0],u,V.VV([0,0],s,m)),b=V.lu([0,0],u,m),b=V.bA([0,0],b,-w/S),f=V.IH([0,0],m,b),f=V.VV([0,0],f,V.Fp([0,0],l,m)),f=V.Fp([0,0],f,V.VV([0,0],l,m)),L=V.lu([0,0],m,f),L=V.bA([0,0],L,S/w),u=V.IH([0,0],m,L),o&&(f=V.Fp([0,0],f,c),f=V.VV([0,0],f,v),u=V.Fp([0,0],u,c),u=V.VV([0,0],u,v)),n.push(d),n.push(f),d=u}}return t&&n.push(n.shift()),n};function lr(i,r,t){for(var e=!!r,a=[],n=0,o=i.length;n<o;n+=2)a.push([i[n],i[n+1]]);for(var l=Hn(a,.4,e,t),s=a.length,c=[],v,u,f,n=0;n<s-1;n++)v=l[n*2],u=l[n*2+1],f=a[n+1],c.push(["C",v[0],v[1],u[0],u[1],f[0],f[1]]);return e&&(v=l[s],u=l[s+1],f=a[0],c.push(["C",v[0],v[1],u[0],u[1],f[0],f[1]])),c}function _t(i,r){return Dn(i,r)}function me(i,r,t){var e=[],a=i[0],n=null;if(i.length<=2)return _t(i,r);for(var o=0,l=i.length;o<l;o++){var s=i[o];(!n||!(n.x===s.x&&n.y===s.y))&&(e.push(s.x),e.push(s.y),n=s)}var c=t||[[0,0],[1,1]],v=lr(e,r,c);return v.unshift(["M",a.x,a.y]),v}function zn(i,r){var t=[];return(0,h.S6)(r,function(e){var a=e[0];switch(a.toLowerCase()){case"m":case"l":case"c":t.push(Ue(e,i));break;case"a":t.push(or(e,i));break;case"z":default:t.push(e);break}}),t}function Xn(i,r){var t=[],e,a,n,o;return(0,h.S6)(r,function(l,s){var c=l[0];switch(c.toLowerCase()){case"m":case"c":case"q":t.push(Ue(l,i));break;case"l":e=r[s-1],a=l,n=i.isTransposed,o=n?e[e.length-2]===a[1]:e[e.length-1]===a[2],o?t=t.concat(Gn(e,a,i)):t.push(Ue(l,i));break;case"a":t.push(or(l,i));break;case"z":default:t.push(l);break}}),Vn(t),t}var sr=K(80389);function hr(i,r){var t=i.event,e=t.target,a=e.getCanvasBBox();return a.width>=r||a.height>=r?a:null}function Un(i,r){var t=i.event,e=t.target,a=e.getCanvasBBox();return a.width>=r||a.height>=r?e.attr("path"):null}function Ct(i){var r=i.event,t,e=r.target;return e&&(t=e.get("element")),t}function Bt(i){var r=i.event,t=r.target,e;return t&&(e=t.get("delegateObject")),e}function cr(i){var r=i.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function te(i){return i&&i.component&&i.component.isList()}function ur(i){return i&&i.component&&i.component.isSlider()}function ee(i){var r=i.event,t=r.target;return t&&t.get("name")==="mask"}function Ye(i,r){var t=i.event.target;if(t.get("type")==="path"){var e=Un(i,r);return e?Wn(i.view,e):void 0}var a=hr(i,r);return a?Ne(i.view,a):null}function vr(i,r,t){var e=hr(i,t);if(!e)return null;var a=i.view,n=Ze(a,r,{x:e.x,y:e.y}),o=Ze(a,r,{x:e.maxX,y:e.maxY}),l={minX:n.x,minY:n.y,maxX:o.x,maxY:o.y};return Ne(r,l)}function Q(i){var r=i.geometries,t=[];return(0,h.S6)(r,function(e){var a=e.elements;t=t.concat(a)}),i.views&&i.views.length&&(0,h.S6)(i.views,function(e){t=t.concat(Q(e))}),t}function Yn(i,r,t){var e=Q(i);return e.filter(function(a){return st(a,r)===t})}function fr(i,r){var t=i.geometries,e=[];return(0,h.S6)(t,function(a){var n=a.getElementsBy(function(o){return o.hasState(r)});e=e.concat(n)}),e}function st(i,r){var t=i.getModel(),e=t.data,a;return(0,h.kJ)(e)?a=e[0][r]:a=e[r],a}function Nn(i,r){return!(r.minX>i.maxX||r.maxX<i.minX||r.minY>i.maxY||r.maxY<i.minY)}function Ne(i,r){var t=Q(i),e=[];return(0,h.S6)(t,function(a){var n=a.shape,o=n.getCanvasBBox();Nn(r,o)&&e.push(a)}),e}function pr(i){var r=[];return(0,h.S6)(i,function(t){var e=t[0];if(e!=="A")for(var a=1;a<t.length;a=a+2)r.push([t[a],t[a+1]]);else{var n=t.length;r.push([t[n-2],t[n-1]])}}),r}function Wn(i,r){var t=Q(i),e=pr(r),a=t.filter(function(n){var o=n.shape,l;if(o.get("type")==="path")l=pr(o.attr("path"));else{var s=o.getCanvasBBox();l=wn(s)}return(0,sr.Wq)(e,l)});return a}function dr(i){return i.getComponents().map(function(r){return r.component})}function We(i,r){var t=r.x-i.x,e=r.y-i.y;return Math.sqrt(t*t+e*e)}function Zn(i,r){if(i.length<=2)return _t(i,!1);var t=i[0],e=[];(0,h.S6)(i,function(n){e.push(n.x),e.push(n.y)});var a=lr(e,r,null);return a.unshift(["M",t.x,t.y]),a}function gr(i,r){return i.x<=r.x&&i.maxX>=r.x&&i.y<=r.y&&i.maxY>r.y}function ut(i){var r=i.parent,t=null;return r&&(t=r.views.filter(function(e){return e!==i})),t}function jn(i,r){var t=i.getCoordinate();return t.invert(r)}function Ze(i,r,t){var e=jn(i,t);return r.getCoordinate().convert(e)}function yr(i,r,t,e){var a=!1;return(0,h.S6)(i,function(n){if(n[t]===r[t]&&n[e]===r[e])return a=!0,!1}),a}function Xt(i,r){var t=i.getScaleByField(r);return!t&&i.views&&(0,h.S6)(i.views,function(e){if(t=Xt(e,r),t)return!1}),t}var $n=function(){function i(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return i.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)return this.cacheMap[r[0]];r.length===2&&(this.cacheMap[r[0]]=r[1])},i.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},i.prototype.addAction=function(r){this.actions.push(r)},i.prototype.removeAction=function(r){var t=this.actions,e=this.actions.indexOf(r);e>=0&&t.splice(e,1)},i.prototype.getCurrentPoint=function(){var r=this.event;if(r)if(r.target instanceof HTMLElement){var t=this.view.getCanvas(),e=t.getPointByClient(r.clientX,r.clientY);return e}else return{x:r.x,y:r.y};return null},i.prototype.getCurrentShape=function(){return(0,h.U2)(this.event,["gEvent","shape"])},i.prototype.isInPlot=function(){var r=this.getCurrentPoint();return r?this.view.isPointInPlot(r):!1},i.prototype.isInShape=function(r){var t=this.getCurrentShape();return t?t.get("name")===r:!1},i.prototype.isInComponent=function(r){var t=dr(this.view),e=this.getCurrentPoint();return e?!!t.find(function(a){var n=a.getBBox();return r?a.get("name")===r&&gr(n,e):gr(n,e)}):!1},i.prototype.destroy=function(){(0,h.S6)(this.actions.slice(),function(r){r.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},i}(),Jn=$n,Kn=function(){function i(r,t){this.view=r,this.cfg=t}return i.prototype.init=function(){this.initEvents()},i.prototype.initEvents=function(){},i.prototype.clearEvents=function(){},i.prototype.destroy=function(){this.clearEvents()},i}(),Qn=Kn;function mr(i,r,t){var e=i.split(":"),a=e[0],n=r.getAction(a)||Rn(a,r);if(!n)throw new Error("There is no action named ".concat(a));var o=e[1];return{action:n,methodName:o,arg:t}}function xr(i){var r=i.action,t=i.methodName,e=i.arg;if(r[t])r[t](e);else throw new Error("Action(".concat(r.name,") doesn't have a method called ").concat(t))}var nt={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},qn=function(i){(0,p.ZT)(r,i);function r(t,e){var a=i.call(this,t,e)||this;return a.callbackCaches={},a.emitCaches={},a.steps=e,a}return r.prototype.init=function(){this.initContext(),i.prototype.init.call(this)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;(0,h.S6)(this.steps,function(e,a){(0,h.S6)(e,function(n){var o=t.getActionCallback(a,n);o&&t.bindEvent(n.trigger,o)})})},r.prototype.clearEvents=function(){var t=this;(0,h.S6)(this.steps,function(e,a){(0,h.S6)(e,function(n){var o=t.getActionCallback(a,n);o&&t.offEvent(n.trigger,o)})})},r.prototype.initContext=function(){var t=this.view,e=new Jn(t);this.context=e;var a=this.steps;(0,h.S6)(a,function(n){(0,h.S6)(n,function(o){if((0,h.mf)(o.action))o.actionObject={action:On(o.action,e),methodName:"execute"};else if((0,h.HD)(o.action))o.actionObject=mr(o.action,e,o.arg);else if((0,h.kJ)(o.action)){var l=o.action,s=(0,h.kJ)(o.arg)?o.arg:[o.arg];o.actionObject=[],(0,h.S6)(l,function(c,v){o.actionObject.push(mr(c,e,s[v]))})}})})},r.prototype.isAllowStep=function(t){var e=this.currentStepName,a=this.steps;if(e===t||t===nt.SHOW_ENABLE)return!0;if(t===nt.PROCESSING)return e===nt.START;if(t===nt.START)return e!==nt.PROCESSING;if(t===nt.END)return e===nt.PROCESSING||e===nt.START;if(t===nt.ROLLBACK){if(a[nt.END])return e===nt.END;if(e===nt.START)return!0}return!1},r.prototype.isAllowExecute=function(t,e){if(this.isAllowStep(t)){var a=this.getKey(t,e);return e.once&&this.emitCaches[a]?!1:e.isEnable?e.isEnable(this.context):!0}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,e){t!==nt.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var a=this.getKey(t,e);this.emitCaches[a]=!0},r.prototype.getKey=function(t,e){return t+e.trigger+e.action},r.prototype.getActionCallback=function(t,e){var a=this,n=this.context,o=this.callbackCaches,l=e.actionObject;if(e.action&&l){var s=this.getKey(t,e);if(!o[s]){var c=function(v){n.event=v,a.isAllowExecute(t,e)?((0,h.kJ)(l)?(0,h.S6)(l,function(u){n.event=v,xr(u)}):(n.event=v,xr(l)),a.afterExecute(t,e),e.callback&&(n.event=v,e.callback(n))):n.event=null};e.debounce?o[s]=(0,h.Ds)(c,e.debounce.wait,e.debounce.immediate):e.throttle?o[s]=(0,h.P2)(c,e.throttle.wait,{leading:e.throttle.leading,trailing:e.throttle.trailing}):o[s]=c}return o[s]}return null},r.prototype.bindEvent=function(t,e){var a=t.split(":");a[0]==="window"?window.addEventListener(a[1],e):a[0]==="document"?document.addEventListener(a[1],e):this.view.on(t,e)},r.prototype.offEvent=function(t,e){var a=t.split(":");a[0]==="window"?window.removeEventListener(a[1],e):a[0]==="document"?document.removeEventListener(a[1],e):this.view.off(t,e)},r}(Qn),_n=qn,wr={};function to(i){return wr[(0,h.vl)(i)]}function U(i,r){wr[(0,h.vl)(i)]=r}function eo(i,r,t){var e=to(i);if(!e)return null;if((0,h.PO)(e)){var a=(0,h.CD)((0,h.d9)(e),t);return new _n(r,a)}else{var n=e;return new n(r,t)}}var q=K(31506);function io(i){return{title:{autoRotate:!0,position:"center",spacing:i.axisTitleSpacing,style:{fill:i.axisTitleTextFillColor,fontSize:i.axisTitleTextFontSize,lineHeight:i.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily},iconStyle:{fill:i.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:i.axisLabelOffset,style:{fill:i.axisLabelFillColor,fontSize:i.axisLabelFontSize,lineHeight:i.axisLabelLineHeight,fontFamily:i.fontFamily}},line:{style:{lineWidth:i.axisLineBorder,stroke:i.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:i.axisGridBorderColor,lineWidth:i.axisGridBorder,lineDash:i.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:i.axisTickLineBorder,stroke:i.axisTickLineBorderColor},alignTick:!0,length:i.axisTickLineLength},subTickLine:null,animate:!0}}function ro(i){return{title:null,marker:{symbol:"circle",spacing:i.legendMarkerSpacing,style:{r:i.legendCircleMarkerSize,fill:i.legendMarkerColor}},itemName:{spacing:5,style:{fill:i.legendItemNameFillColor,fontFamily:i.fontFamily,fontSize:i.legendItemNameFontSize,lineHeight:i.legendItemNameLineHeight,fontWeight:i.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:i.legendPageNavigatorMarkerSize,inactiveFill:i.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:i.legendPageNavigatorMarkerInactiveFillOpacity,fill:i.legendPageNavigatorMarkerFillColor,opacity:i.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:i.legendPageNavigatorTextFillColor,fontSize:i.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:i.legendItemSpacing,itemMarginBottom:i.legendItemMarginBottom,padding:i.legendPadding}}function Cr(i){var r,t={point:{default:{fill:i.pointFillColor,r:i.pointSize,stroke:i.pointBorderColor,lineWidth:i.pointBorder,fillOpacity:i.pointFillOpacity},active:{stroke:i.pointActiveBorderColor,lineWidth:i.pointActiveBorder},selected:{stroke:i.pointSelectedBorderColor,lineWidth:i.pointSelectedBorder},inactive:{fillOpacity:i.pointInactiveFillOpacity,strokeOpacity:i.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:i.hollowPointFillColor,lineWidth:i.hollowPointBorder,stroke:i.hollowPointBorderColor,strokeOpacity:i.hollowPointBorderOpacity,r:i.hollowPointSize},active:{stroke:i.hollowPointActiveBorderColor,strokeOpacity:i.hollowPointActiveBorderOpacity},selected:{lineWidth:i.hollowPointSelectedBorder,stroke:i.hollowPointSelectedBorderColor,strokeOpacity:i.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:i.hollowPointInactiveBorderOpacity}},area:{default:{fill:i.areaFillColor,fillOpacity:i.areaFillOpacity,stroke:null},active:{fillOpacity:i.areaActiveFillOpacity},selected:{fillOpacity:i.areaSelectedFillOpacity},inactive:{fillOpacity:i.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:i.hollowAreaBorderColor,lineWidth:i.hollowAreaBorder,strokeOpacity:i.hollowAreaBorderOpacity},active:{fill:null,lineWidth:i.hollowAreaActiveBorder},selected:{fill:null,lineWidth:i.hollowAreaSelectedBorder},inactive:{strokeOpacity:i.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:i.intervalFillColor,fillOpacity:i.intervalFillOpacity},active:{stroke:i.intervalActiveBorderColor,lineWidth:i.intervalActiveBorder},selected:{stroke:i.intervalSelectedBorderColor,lineWidth:i.intervalSelectedBorder},inactive:{fillOpacity:i.intervalInactiveFillOpacity,strokeOpacity:i.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:i.hollowIntervalFillColor,stroke:i.hollowIntervalBorderColor,lineWidth:i.hollowIntervalBorder,strokeOpacity:i.hollowIntervalBorderOpacity},active:{stroke:i.hollowIntervalActiveBorderColor,lineWidth:i.hollowIntervalActiveBorder,strokeOpacity:i.hollowIntervalActiveBorderOpacity},selected:{stroke:i.hollowIntervalSelectedBorderColor,lineWidth:i.hollowIntervalSelectedBorder,strokeOpacity:i.hollowIntervalSelectedBorderOpacity},inactive:{stroke:i.hollowIntervalInactiveBorderColor,lineWidth:i.hollowIntervalInactiveBorder,strokeOpacity:i.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:i.lineBorderColor,lineWidth:i.lineBorder,strokeOpacity:i.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:i.lineActiveBorder},selected:{lineWidth:i.lineSelectedBorder},inactive:{strokeOpacity:i.lineInactiveBorderOpacity}}},e=io(i),a=ro(i);return{background:i.backgroundColor,defaultColor:i.brandColor,subColor:i.subColor,semanticRed:i.paletteSemanticRed,semanticGreen:i.paletteSemanticGreen,padding:"auto",fontFamily:i.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:i.paletteQualitative10,colors20:i.paletteQualitative20,sequenceColors:i.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(n){var o=n.geometry.coordinate;if(o.isPolar&&o.isTransposed){var l=Kt(n.getModel(),o),s=l.startAngle,c=l.endAngle,v=(s+c)/2,u=7.5,f=u*Math.cos(v),d=u*Math.sin(v);return{matrix:q.vs(null,[["t",f,d]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,p.pi)((0,p.pi)({},t.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:(0,p.pi)((0,p.pi)({},t.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:(0,p.pi)((0,p.pi)({},t.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:(0,p.pi)((0,p.pi)({},t.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:(0,p.pi)((0,p.pi)({},t.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:(0,p.pi)((0,p.pi)({},t.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:(0,p.pi)((0,p.pi)({},t.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:(0,p.pi)((0,p.pi)({},t.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},violin:{violin:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hollow:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"hollow-smooth":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}}},components:{axis:{common:e,top:{position:"top",grid:null,title:null,verticalLimitLength:1/2},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:1/2},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:(0,h.b$)({},e.grid,{line:{type:"line"}})},radius:{title:null,grid:(0,h.b$)({},e.grid,{line:{type:"circle"}})}},legend:{common:a,right:{layout:"vertical",padding:i.legendVerticalPadding},left:{layout:"vertical",padding:i.legendVerticalPadding},top:{layout:"horizontal",padding:i.legendHorizontalPadding},bottom:{layout:"horizontal",padding:i.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:i.sliderRailHeight,defaultLength:i.sliderRailWidth,style:{fill:i.sliderRailFillColor,stroke:i.sliderRailBorderColor,lineWidth:i.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:i.sliderLabelTextFillColor,fontSize:i.sliderLabelTextFontSize,lineHeight:i.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:i.fontFamily}},handler:{size:i.sliderHandlerWidth,style:{fill:i.sliderHandlerFillColor,stroke:i.sliderHandlerBorderColor}},slidable:!0,padding:a.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:i.tooltipCrosshairsBorderColor,lineWidth:i.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r["".concat(H.LP.CONTAINER_CLASS)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:i.tooltipContainerFillColor,opacity:i.tooltipContainerFillOpacity,boxShadow:i.tooltipContainerShadow,borderRadius:"".concat(i.tooltipContainerBorderRadius,"px"),color:i.tooltipTextFillColor,fontSize:"".concat(i.tooltipTextFontSize,"px"),fontFamily:i.fontFamily,lineHeight:"".concat(i.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},r["".concat(H.LP.TITLE_CLASS)]={marginBottom:"12px",marginTop:"12px"},r["".concat(H.LP.LIST_CLASS)]={margin:0,listStyleType:"none",padding:0},r["".concat(H.LP.LIST_ITEM_CLASS)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r["".concat(H.LP.MARKER_CLASS)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r["".concat(H.LP.VALUE_CLASS)]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:i.annotationArcBorderColor,lineWidth:i.annotationArcBorder},animate:!0},line:{style:{stroke:i.annotationLineBorderColor,lineDash:i.annotationLineDash,lineWidth:i.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textAlign:"start",fontFamily:i.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:i.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:i.annotationRegionBorder,stroke:i.annotationRegionBorderColor,fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:i.brandColor,lineWidth:2}},line:{style:{stroke:i.annotationLineBorderColor,lineWidth:i.annotationLineBorder},length:i.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:i.annotationRegionFillColor,fillOpacity:i.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:i.annotationTextFillColor,stroke:i.annotationTextBorderColor,lineWidth:i.annotationTextBorder,fontSize:i.annotationTextFontSize,fontFamily:i.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:i.cSliderBackgroundFillColor,opacity:i.cSliderBackgroundFillOpacity},foregroundStyle:{fill:i.cSliderForegroundFillColor,opacity:i.cSliderForegroundFillOpacity},handlerStyle:{width:i.cSliderHandlerWidth,height:i.cSliderHandlerHeight,fill:i.cSliderHandlerFillColor,opacity:i.cSliderHandlerFillOpacity,stroke:i.cSliderHandlerBorderColor,lineWidth:i.cSliderHandlerBorder,radius:i.cSliderHandlerBorderRadius,highLightFill:i.cSliderHandlerHighlightFillColor},textStyle:{fill:i.cSliderTextFillColor,opacity:i.cSliderTextFillOpacity,fontSize:i.cSliderTextFontSize,lineHeight:i.cSliderTextLineHeight,fontWeight:i.cSliderTextFontWeight,stroke:i.cSliderTextBorderColor,lineWidth:i.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:i.scrollbarTrackFillColor,thumbColor:i.scrollbarThumbFillColor}},hover:{style:{thumbColor:i.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:i.labelFillColor,fontSize:i.labelFontSize,fontFamily:i.fontFamily,stroke:i.labelBorderColor,lineWidth:i.labelBorder},fillColorDark:i.labelFillColorDark,fillColorLight:i.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:i.innerLabelFillColor,fontSize:i.innerLabelFontSize,fontFamily:i.fontFamily,stroke:i.innerLabelBorderColor,lineWidth:i.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:i.overflowLabelFillColor,fontSize:i.overflowLabelFontSize,fontFamily:i.fontFamily,stroke:i.overflowLabelBorderColor,lineWidth:i.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:i.labelLineBorder}},autoRotate:!0}}}var R={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Ut={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},ao=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],no=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],oo=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],Sr=function(i){i===void 0&&(i={});var r=i.paletteQualitative10,t=r===void 0?ao:r,e=i.paletteQualitative20,a=e===void 0?no:e,n=i.brandColor,o=n===void 0?t[0]:n,l={backgroundColor:"transparent",brandColor:o,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:t,paletteQualitative20:a,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:oo,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:R[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:R[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:Ut[85],axisTickLineBorderColor:R[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:R[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:R[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:R[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:R[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:o,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:R[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:R[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:R[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:R[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:R[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:R[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:R[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:R[25],annotationArcBorderColor:R[15],annotationArcBorder:1,annotationLineBorderColor:R[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:R[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:R[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:R[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:R[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:R[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Ut[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:R[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Ut[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:R[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:o,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Ut[100],pointBorderOpacity:1,pointActiveBorderColor:R[100],pointSelectedBorder:2,pointSelectedBorderColor:R[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:o,hollowPointBorderOpacity:.95,hollowPointFillColor:Ut[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:R[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:R[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:o,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:o,areaFillOpacity:.25,areaActiveFillColor:o,areaActiveFillOpacity:.5,areaSelectedFillColor:o,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:o,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:R[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:R[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:o,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:R[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:R[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:o,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Ut[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:R[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:R[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return(0,p.pi)((0,p.pi)({},l),i)},Fu=Sr();function xe(i){var r=i.styleSheet,t=r===void 0?{}:r,e=(0,p._T)(i,["styleSheet"]),a=Sr(t);return(0,h.b$)({},Cr(a),e)}var lo=xe({}),je={default:lo};function $e(i){return(0,h.U2)(je,(0,h.vl)(i),je.default)}function so(i,r){je[(0,h.vl)(i)]=xe(r)}function Tr(i,r,t){var e=t.translate(i),a=t.translate(r);return(0,h.vQ)(e,a)}function ho(i,r){var t=r.coordinate,e=r.getXScale(),a=e.range,n=a[a.length-1],o=a[0],l=t.invert(i),s=l.x;return t.isPolar&&s>(1+n)/2&&(s=o),e.translate(e.invert(s))}function br(i,r,t){var e=t.coordinate,a=t.getYScale(),n=a.field,o=e.invert(r),l=a.invert(o.y),s=(0,h.sE)(i,function(c){var v=c[D];return v[n][0]<=l&&v[n][1]>=l});return s||i[i.length-1]}var co=(0,h.HP)(function(i){if(i.isCategory)return 1;for(var r=i.values,t=r.length,e=i.translate(r[0]),a=e,n=0;n<t;n++){var o=r[n],l=i.translate(o);l<e&&(e=l),l>a&&(a=l)}return(a-e)/(t-1)});function uo(i,r,t){var e=r.getAttribute("position"),a=e.getFields(),n=r.scales,o=(0,h.mf)(t)||!t?a[0]:t,l=n[o],s=l?l.getText(i[o]):i[o]||o;return(0,h.mf)(t)?t(s,i):s}function vo(i){var r=(0,h.VO)(i.attributes);return(0,h.hX)(r,function(t){return(0,h.FX)(Dt,t.type)})}function Lr(i){var r,t,e=vo(i),a;try{for(var n=(0,p.XA)(e),o=n.next();!o.done;o=n.next()){var l=o.value,s=l.getScale(l.type);if(s&&s.isLinear){var c=(0,h.U2)(i.scaleDefs,s.field),v=qi(s,c,l.type,i.type);if(v!=="cat"){a=s;break}}}}catch(d){r={error:d}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(r)throw r.error}}var u=i.getXScale(),f=i.getYScale();return a||f||u}function fo(i,r){var t=r.field,e=i[t];if((0,h.kJ)(e)){var a=e.map(function(n){return r.getText(n)});return a.join("-")}return r.getText(e)}function po(i,r){var t,e=r.getGroupScales();if(e.length&&(t=e[0]),t){var a=t.field;return t.getText(i[a])}var n=Lr(r);return qt(n)}function Mr(i,r,t){if(r.length===0)return null;var e=t.type,a=t.getXScale(),n=t.getYScale(),o=a.field,l=n.field,s=null;if(e==="heatmap"||e==="point"){for(var c=t.coordinate,v=c.invert(i),u=a.invert(v.x),f=n.invert(v.y),d=Infinity,g=0;g<r.length;g++){var y=r[g],m=y[D],x=Math.pow(m[o]-u,2)+Math.pow(m[l]-f,2);x<d&&(d=x,s=y)}return s}var C=r[0],w=r[r.length-1],S=ho(i,t),T=C[D][o],b=C[D][l],L=w[D][o],M=n.isLinear&&(0,h.kJ)(b);if((0,h.kJ)(T)){for(var g=0;g<r.length;g++){var E=r[g],m=E[D];if(a.translate(m[o][0])<=S&&a.translate(m[o][1])>=S)if(M)(0,h.kJ)(s)||(s=[]),s.push(E);else{s=E;break}}(0,h.kJ)(s)&&(s=br(s,i,t))}else{var A=void 0;if(!a.isLinear&&a.type!=="timeCat"){for(var g=0;g<r.length;g++){var E=r[g],m=E[D];if(Tr(m[o],S,a))if(M)(0,h.kJ)(s)||(s=[]),s.push(E);else{s=E;break}else a.translate(m[o])<=S&&(w=E,A=r[g+1])}(0,h.kJ)(s)&&(s=br(s,i,t))}else{if((S>a.translate(L)||S<a.translate(T))&&(S>a.max||S<a.min))return null;for(var B=0,k=r.length-1,P=void 0;B<=k;){P=Math.floor((B+k)/2);var O=r[P][D][o];if(Tr(O,S,a))return r[P];a.translate(O)<=a.translate(S)?(B=P+1,w=r[P],A=r[P+1]):(k===0&&(w=r[0]),k=P-1)}}w&&A&&Math.abs(a.translate(w[D][o])-S)>Math.abs(a.translate(A[D][o])-S)&&(w=A)}var Y=co(t.getXScale());return!s&&Math.abs(a.translate(w[D][o])-S)<=Y/2&&(s=w),s}function Je(i,r,t,e){var a,n;t===void 0&&(t=""),e===void 0&&(e=!1);var o=i[D],l=uo(o,r,t),s=r.tooltipOption,c=r.theme.defaultColor,v=[],u,f;function d(E,A){if(e||!(0,h.UM)(A)&&A!==""){var B={title:l,data:o,mappingData:i,name:E,value:A,color:i.color||c,marker:!0};v.push(B)}}if((0,h.Kn)(s)){var g=s.fields,y=s.callback;if(y){var m=g.map(function(E){return i[D][E]}),x=y.apply(void 0,(0,p.ev)([],(0,p.CR)(m),!1)),C=(0,p.pi)({data:i[D],mappingData:i,title:l,color:i.color||c,marker:!0},x);v.push(C)}else{var w=r.scales;try{for(var S=(0,p.XA)(g),T=S.next();!T.done;T=S.next()){var b=T.value;if(!(0,h.UM)(o[b])){var L=w[b];u=qt(L),f=L.getText(o[b]),d(u,f)}}}catch(E){a={error:E}}finally{try{T&&!T.done&&(n=S.return)&&n.call(S)}finally{if(a)throw a.error}}}}else{var M=Lr(r);f=fo(o,M),u=po(o,r),d(u,f)}return v}function Ar(i,r,t,e){var a,n,o=e.showNil,l=[],s=i.dataArray;if(!(0,h.xb)(s)){i.sort(s);try{for(var c=(0,p.XA)(s),v=c.next();!v.done;v=c.next()){var u=v.value,f=Mr(r,u,i);if(f){var d=i.getElementId(f),g=i.elementsMap[d];if(i.type==="heatmap"||g.visible){var y=Je(f,i,t,o);y.length&&l.push(y)}}}}catch(m){a={error:m}}finally{try{v&&!v.done&&(n=c.return)&&n.call(c)}finally{if(a)throw a.error}}}return l}function Fr(i,r,t,e){var a=e.showNil,n=[],o=i.container,l=o.getShape(r.x,r.y);if(l&&l.get("visible")&&l.get("origin")){var s=l.get("origin").mappingData,c=Je(s,i,t,a);c.length&&n.push(c)}return n}function Ke(i,r,t){var e,a,n=[],o=i.geometries,l=t.shared,s=t.title,c=t.reversed;try{for(var v=(0,p.XA)(o),u=v.next();!u.done;u=v.next()){var f=u.value;if(f.visible&&f.tooltipOption!==!1){var d=f.type,g=void 0;["point","edge","polygon"].includes(d)?g=Fr(f,r,s,t):["area","line","path","heatmap"].includes(d)||l!==!1?g=Ar(f,r,s,t):g=Fr(f,r,s,t),g.length&&(c&&g.reverse(),n.push(g))}}}catch(y){e={error:y}}finally{try{u&&!u.done&&(a=v.return)&&a.call(v)}finally{if(e)throw e.error}}return n}function go(i,r,t){var e,a,n=Ke(i,r,t);try{for(var o=(0,p.XA)(i.views),l=o.next();!l.done;l=o.next()){var s=l.value;n=n.concat(Ke(s,r,t))}}catch(c){e={error:c}}finally{try{l&&!l.done&&(a=o.return)&&a.call(o)}finally{if(e)throw e.error}}return n}function yo(i){return!(0,h.hj)(i)&&!(0,h.kJ)(i)}function Qe(i){i===void 0&&(i=0);var r=(0,h.kJ)(i)?i:[i];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=(0,p.ev)((0,p.ev)([],(0,p.CR)(r),!1),(0,p.CR)(r),!1);break;case 3:r=(0,p.ev)((0,p.ev)([],(0,p.CR)(r),!1),[r[1]],!1);break;default:r=r.slice(0,4);break}return r}var we={};function Yt(i,r){we[i]=r}function Eu(i){delete we[i]}function mo(){return Object.keys(we)}function xo(i){return we[i]}var wo=function(){function i(r){this.option=this.wrapperOption(r)}return i.prototype.update=function(r){return this.option=this.wrapperOption(r),this},i.prototype.hasAction=function(r){var t=this.option.actions;return(0,h.G)(t,function(e){return e[0]===r})},i.prototype.create=function(r,t){var e=this.option,a=e.type,n=e.cfg,o=a==="theta",l=(0,p.pi)({start:r,end:t},n),s=(0,un.FY)(o?"polar":a);return this.coordinate=new s(l),this.coordinate.type=a,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},i.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},i.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},i.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},i.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},i.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},i.prototype.getOption=function(){return this.option},i.prototype.getCoordinate=function(){return this.coordinate},i.prototype.wrapperOption=function(r){return(0,p.pi)({type:"rect",actions:[],cfg:{}},r)},i.prototype.execActions=function(r){var t=this,e=this.option.actions;(0,h.S6)(e,function(a){var n,o=(0,p.CR)(a),l=o[0],s=o.slice(1),c=(0,h.UM)(r)?!0:r.includes(l);c&&(n=t.coordinate)[l].apply(n,(0,p.ev)([],(0,p.CR)(s),!1))})},i}(),Co=wo,So=function(){function i(r,t,e){this.view=r,this.gEvent=t,this.data=e,this.type=t.type}return i.fromData=function(r,t,e){return new i(r,new sn.ju(t,{}),e)},Object.defineProperty(i.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),i.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},i.prototype.clone=function(){return new i(this.view,this.gEvent,this.data)},i}(),tt=So;function To(i){var r=i.getController("axis"),t=i.getController("legend"),e=i.getController("annotation"),a=i.getController("slider"),n=i.getController("scrollbar");[r,a,n,t,e].forEach(function(o){o&&o.layout()})}var bo=function(){function i(){this.scales=new Map,this.syncScales=new Map}return i.prototype.createScale=function(r,t,e,a){var n=e,o=this.getScaleMeta(a);if(t.length===0&&o){var l=o.scale,s={type:l.type};l.isCategory&&(s.values=l.values),n=(0,h.b$)(s,o.scaleDef,e)}var c=Ln(r,t,n);return this.cacheScale(c,e,a),c},i.prototype.sync=function(r,t){var e=this;this.syncScales.forEach(function(a,n){var o=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER,s=[];(0,h.S6)(a,function(c){var v=e.getScale(c);l=(0,h.hj)(v.max)?Math.max(l,v.max):l,o=(0,h.hj)(v.min)?Math.min(o,v.min):o,(0,h.S6)(v.values,function(u){s.includes(u)||s.push(u)})}),(0,h.S6)(a,function(c){var v=e.getScale(c);if(v.isContinuous)v.change({min:o,max:l,values:s});else if(v.isCategory){var u=v.range,f=e.getScaleMeta(c);s&&!(0,h.U2)(f,["scaleDef","range"])&&(u=_i((0,h.b$)({},v,{values:s}),r,t)),v.change({values:s,range:u})}})})},i.prototype.cacheScale=function(r,t,e){var a=this.getScaleMeta(e);a&&a.scale.type===r.type?(Mn(a.scale,r),a.scaleDef=t):(a={key:e,scale:r,scaleDef:t},this.scales.set(e,a));var n=this.getSyncKey(a);if(a.syncKey=n,this.removeFromSyncScales(e),n){var o=this.syncScales.get(n);o||(o=[],this.syncScales.set(n,o)),o.push(e)}},i.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var e=(0,h.Z$)(r.split("-")),a=this.syncScales.get(e);a&&a.length&&(t=this.getScaleMeta(a[0]))}return t&&t.scale},i.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var e=t.syncKey,a=this.syncScales.get(e);if(a&&a.length){var n=a.indexOf(r);n!==-1&&a.splice(n,1)}}this.scales.delete(r)},i.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},i.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(e,a){var n=e.indexOf(r);if(n!==-1)return e.splice(n,1),e.length===0&&t.syncScales.delete(a),!1})},i.prototype.getSyncKey=function(r){var t=r.scale,e=r.scaleDef,a=t.field,n=(0,h.U2)(e,["sync"]);return n===!0?a:n===!1?void 0:n},i.prototype.getScaleMeta=function(r){return this.scales.get(r)},i}(),Ce=function(){function i(r,t,e,a){r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),a===void 0&&(a=0),this.top=r,this.right=t,this.bottom=e,this.left=a}return i.instance=function(r,t,e,a){return r===void 0&&(r=0),t===void 0&&(t=0),e===void 0&&(e=0),a===void 0&&(a=0),new i(r,t,e,a)},i.prototype.max=function(r){var t=(0,p.CR)(r,4),e=t[0],a=t[1],n=t[2],o=t[3];return this.top=Math.max(this.top,e),this.right=Math.max(this.right,a),this.bottom=Math.max(this.bottom,n),this.left=Math.max(this.left,o),this},i.prototype.shrink=function(r){var t=(0,p.CR)(r,4),e=t[0],a=t[1],n=t[2],o=t[3];return this.top+=e,this.right+=a,this.bottom+=n,this.left+=o,this},i.prototype.inc=function(r,t){var e=r.width,a=r.height;switch(t){case F.TOP:case F.TOP_LEFT:case F.TOP_RIGHT:this.top+=a;break;case F.RIGHT:case F.RIGHT_TOP:case F.RIGHT_BOTTOM:this.right+=e;break;case F.BOTTOM:case F.BOTTOM_LEFT:case F.BOTTOM_RIGHT:this.bottom+=a;break;case F.LEFT:case F.LEFT_TOP:case F.LEFT_BOTTOM:this.left+=e;break;default:break}return this},i.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},i.prototype.clone=function(){return new(i.bind.apply(i,(0,p.ev)([void 0],(0,p.CR)(this.getPadding()),!1)))},i}();function Lo(i){var r=i.padding;if(!yo(r))return new(Ce.bind.apply(Ce,(0,p.ev)([void 0],(0,p.CR)(Qe(r)),!1)));var t=i.viewBBox,e=new Ce,a=[],n=[],o=[];return(0,h.S6)(i.getComponents(),function(l){var s=l.type;s===J.AXIS?a.push(l):[J.LEGEND,J.SLIDER,J.SCROLLBAR].includes(s)?n.push(l):s!==J.GRID&&s!==J.TOOLTIP&&o.push(l)}),(0,h.S6)(a,function(l){var s=l.component,c=s.getLayoutBBox(),v=new _(c.x,c.y,c.width,c.height),u=v.exceed(t);e.max(u)}),(0,h.S6)(n,function(l){var s=l.component,c=l.direction,v=s.getLayoutBBox(),u=s.get("padding"),f=new _(v.x,v.y,v.width,v.height).expand(u);e.inc(f,c)}),(0,h.S6)(o,function(l){var s=l.component,c=l.direction,v=s.getLayoutBBox(),u=new _(v.x,v.y,v.width,v.height);e.inc(u,c)}),e}function Mo(i,r,t){var e=t.instance();r.forEach(function(a){a.autoPadding=e.max(a.autoPadding.getPadding())})}var Er=function(i){(0,p.ZT)(r,i);function r(t){var e=i.call(this,{visible:t.visible})||this;e.views=[],e.geometries=[],e.controllers=[],e.interactions={},e.limitInPlot=!1,e.options={data:[],animate:!0},e.usedControllers=mo(),e.scalePool=new bo,e.layoutFunc=To,e.isPreMouseInPlot=!1,e.isDataChanged=!1,e.isCoordinateChanged=!1,e.createdScaleKeys=new Map,e.onCanvasEvent=function(w){var S=w.name;if(!S.includes(":")){var T=e.createViewEvent(w);e.doPlotEvent(T),e.emit(S,T)}},e.onDelegateEvents=function(w){var S=w.name;if(!!S.includes(":")){var T=e.createViewEvent(w);e.emit(S,T)}};var a=t.id,n=a===void 0?(0,h.EL)("view"):a,o=t.parent,l=t.canvas,s=t.backgroundGroup,c=t.middleGroup,v=t.foregroundGroup,u=t.region,f=u===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:u,d=t.padding,g=t.appendPadding,y=t.theme,m=t.options,x=t.limitInPlot,C=t.syncViewPadding;return e.parent=o,e.canvas=l,e.backgroundGroup=s,e.middleGroup=c,e.foregroundGroup=v,e.region=f,e.padding=d,e.appendPadding=g,e.options=(0,p.pi)((0,p.pi)({},e.options),m),e.limitInPlot=x,e.id=n,e.syncViewPadding=C,e.themeObject=(0,h.Kn)(y)?(0,h.b$)({},$e("default"),xe(y)):$e(y),e.init(),e}return r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},r.prototype.render=function(t,e){t===void 0&&(t=!1),this.emit(X.BEFORE_RENDER,tt.fromData(this,X.BEFORE_RENDER,e)),this.paint(t),this.emit(X.AFTER_RENDER,tt.fromData(this,X.AFTER_RENDER,e)),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit(X.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var e=this.geometries,a=0;a<e.length;a++)e[a].clear(),e[a].container.remove(!0),e[a].labelsContainer.remove(!0);this.geometries=[];for(var n=this.controllers,a=0;a<n.length;a++)n[a].name==="annotation"?n[a].clear(!0):n[a].clear();this.createdScaleKeys.forEach(function(l,s){t.getRootView().scalePool.deleteScale(s)}),this.createdScaleKeys.clear();for(var o=this.views,a=0;a<o.length;a++)o[a].clear();this.emit(X.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(X.BEFORE_DESTROY);var t=this.interactions;(0,h.S6)(t,function(l){l&&l.destroy()}),this.clear();for(var e=this.controllers,a=0,n=e.length;a<n;a++){var o=e[a];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.geometries,a=0,n=e.length;a<n;a++){var o=e[a];o.changeVisible(t)}for(var l=this.controllers,a=0,n=l.length;a<n;a++){var s=l[a];s.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return(0,h.t8)(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,e){return(0,h.mf)(e)?((0,h.t8)(this.options,["filters",t],e),this):(!e&&(0,h.U2)(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,e){return(0,h.jn)(t)?(0,h.t8)(this.options,["axes"],t):(0,h.t8)(this.options,["axes",t],e),this},r.prototype.legend=function(t,e){return(0,h.jn)(t)?(0,h.t8)(this.options,["legends"],t):(0,h.HD)(t)?((0,h.t8)(this.options,["legends",t],e),(0,h.PO)(e)&&(e==null?void 0:e.selected)&&(0,h.t8)(this.options,["filters",t],function(a){var n;return(n=e==null?void 0:e.selected[a])!==null&&n!==void 0?n:!0})):(0,h.t8)(this.options,["legends"],t),this},r.prototype.scale=function(t,e){var a=this;return(0,h.HD)(t)?(0,h.t8)(this.options,["scales",t],e):(0,h.Kn)(t)&&(0,h.S6)(t,function(n,o){(0,h.t8)(a.options,["scales",o],n)}),this},r.prototype.tooltip=function(t){return(0,h.t8)(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,e){return(0,h.HD)(t)?(0,h.t8)(this.options,"coordinate",{type:t,cfg:e}):(0,h.t8)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,e){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,e)},r.prototype.facet=function(t,e){this.facetInstance&&this.facetInstance.destroy();var a=Bn(t);if(!a)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new a(this,(0,p.pi)((0,p.pi)({},e),{type:t})),this},r.prototype.animate=function(t){return(0,h.t8)(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),(0,h.CD)(this.options,t),this.views.forEach(function(e){return e.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},r.prototype.option=function(t,e){if(r.prototype[t])throw new Error(`Can't use built in variable name "`.concat(t,'", please change another one.'));return(0,h.t8)(this.options,t,e),this},r.prototype.theme=function(t){return this.themeObject=(0,h.Kn)(t)?(0,h.b$)({},this.themeObject,xe(t)):$e(t),this},r.prototype.interaction=function(t,e){var a=this.interactions[t];a&&a.destroy();var n=eo(t,this,e);return n&&(n.init(),this.interactions[t]=n),this},r.prototype.removeInteraction=function(t){var e=this.interactions[t];e&&(e.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(X.BEFORE_CHANGE_DATA,tt.fromData(this,X.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var e=this.views,a=0,n=e.length;a<n;a++){var o=e[a];o.changeData(t)}this.emit(X.AFTER_CHANGE_DATA,tt.fromData(this,X.AFTER_CHANGE_DATA,null))},r.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var e={data:this.options.data,scales:(0,h.d9)(this.options.scales),axes:(0,h.d9)(this.options.axes),coordinate:(0,h.d9)(this.coordinateController.getOption()),tooltip:(0,h.d9)(this.options.tooltip),legends:(0,h.d9)(this.options.legends),animate:this.options.animate,visible:this.visible},a=new r((0,p.pi)((0,p.pi)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:Ot.BG}),middleGroup:this.middleGroup.addGroup({zIndex:Ot.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:Ot.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,p.pi)((0,p.pi)({},e),(0,h.U2)(t,"options",{}))}));return this.views.push(a),a},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var e=(0,h.Od)(this.views,function(a){return a===t})[0];return e&&e.destroy(),e},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={},e=[];return this.geometries.forEach(function(a){var n=a.getYScale(),o=n.field;t[o]||(t[o]=!0,e.push(n))}),e},r.prototype.getScalesByDim=function(t){for(var e=this.geometries,a={},n=0,o=e.length;n<o;n++){var l=e[n],s=t==="x"?l.getXScale():l.getYScale();s&&!a[s.field]&&(a[s.field]=s)}return a},r.prototype.getScale=function(t,e){var a=e||this.getScaleKey(t);return this.getRootView().scalePool.getScale(a)},r.prototype.getScaleByField=function(t,e){return this.getScale(t,e)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getOriginalData=function(){return this.options.data},r.prototype.getPadding=function(){return this.autoPadding.getPadding()},r.prototype.getGeometries=function(){return this.geometries},r.prototype.getElements=function(){return(0,h.u4)(this.geometries,function(t,e){return t.concat(e.getElements())},[])},r.prototype.getElementsBy=function(t){return this.getElements().filter(function(e){return t(e)})},r.prototype.getLayer=function(t){return t===W.BG?this.backgroundGroup:t===W.MID?this.middleGroup:t===W.FORE?this.foregroundGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return He(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return(0,h.xH)(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(e){return e.getGroupScales()});return wt((0,h.xH)(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},r.prototype.getXY=function(t){var e=this.getCoordinate(),a=this.getScalesByDim("x"),n=this.getScalesByDim("y"),o,l;if((0,h.S6)(t,function(s,c){a[c]&&(o=a[c].scale(s)),n[c]&&(l=n[c].scale(s))}),!(0,h.UM)(o)&&!(0,h.UM)(l))return e.convert({x:o,y:l})},r.prototype.getController=function(t){return(0,h.sE)(this.controllers,function(e){return e.name===t})},r.prototype.showTooltip=function(t){var e=this.getController("tooltip");return e&&e.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var e=this.getController("tooltip");return e?e.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var e=this.geometries,a=[],n=0,o=e.length;n<o;n++){var l=e[n],s=l.dataArray;l.sort(s);for(var c=void 0,v=0,u=s.length;v<u;v++){var f=s[v];c=Mr(t,f,l),c&&a.push(c)}}for(var d=this.views,n=0,o=d.length;n<o;n++){var g=d[n],y=g.getSnapRecords(t);a=a.concat(y)}return a},r.prototype.getComponents=function(){for(var t=[],e=this.controllers,a=0,n=e.length;a<n;a++){var o=e[a];t=t.concat(o.getComponents())}return t},r.prototype.filterData=function(t){var e=this.options.filters;return(0,h.dp)(e)===0?t:(0,h.hX)(t,function(a,n){var o=Object.keys(e);return o.every(function(l){var s=e[l];return s(a[l],a,n)})})},r.prototype.filterFieldData=function(t,e){var a=this.options.filters,n=(0,h.U2)(a,t);return(0,h.o8)(n)?e:e.filter(function(o,l){return n(o[t],o,l)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),e=t.start,a=t.end,n=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if((0,h.Xy)(e,n)&&(0,h.Xy)(a,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(n,o)},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(X.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(X.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,h.U2)(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var e=this.viewBBox,a=e.x,n=e.y,o=e.width,l=e.height;this.backgroundStyleRectShape.attr({fill:t,x:a,y:n,width:o,height:l})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},r.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=Lo(this).shrink(Qe(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();for(var e=this.views,a=0,n=e.length;a<n;a++){var o=e[a];o.renderPaddingRecursive(t)}},r.prototype.renderLayoutRecursive=function(t){var e=this.syncViewPadding===!0?Mo:(0,h.mf)(this.syncViewPadding)?this.syncViewPadding:void 0;e&&(e(this,this.views,Ce),this.views.forEach(function(s){s.coordinateBBox=s.viewBBox.shrink(s.autoPadding.getPadding()),s.adjustCoordinate()})),this.doLayout();for(var a=this.views,n=0,o=a.length;n<o;n++){var l=a[n];l.renderLayoutRecursive(t)}},r.prototype.renderPaintRecursive=function(t){var e=this.middleGroup;if(this.limitInPlot){var a=ze(this.coordinateInstance),n=a.type,o=a.attrs;e.setClip({type:n,attrs:o})}else e.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var l=this.views,s=0,c=l.length;s<c;s++){var v=l[s];v.renderPaintRecursive(t)}},r.prototype.createScale=function(t,e,a,n){var o=(0,h.U2)(this.options.scales,[t]),l=(0,p.pi)((0,p.pi)({},o),a);return this.parent?this.parent.createScale(t,e,l,n):this.scalePool.createScale(t,e,l,n)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var e=this.views,a=0,n=e.length;a<n;a++){var o=e[a];o.renderDataRecursive(t)}},r.prototype.calculateViewBBox=function(){var t,e,a,n;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,e=o.y,a=o.width,n=o.height}else t=0,e=0,a=this.canvas.get("width"),n=this.canvas.get("height");var l=this.region,s=l.start,c=l.end,v=new _(t+a*s.x,e+n*s.y,a*(c.x-s.x),n*(c.y-s.y));(!this.viewBBox||!this.viewBBox.isEqual(v))&&(this.viewBBox=new _(t+a*s.x,e+n*s.y,a*(c.x-s.x),n*(c.y-s.y))),this.coordinateBBox=this.viewBBox},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,e=0,a=t.length;e<a;e++){var n=t[e],o=xo(n);o&&this.controllers.push(new o(this))}},r.prototype.createViewEvent=function(t){var e=t.shape,a=t.name,n=e?e.get("origin"):null,o=new tt(this,t,n);return o.type=a,o},r.prototype.doPlotEvent=function(t){var e=t.type,a=t.x,n=t.y,o={x:a,y:n},l=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(l.includes(e)){var s=this.isPointInPlot(o),c=t.clone();if(s){var v="plot:".concat(e);c.type=v,this.emit(v,c),(e==="mouseleave"||e==="touchend")&&(this.isPreMouseInPlot=!1)}e==="mousemove"||e==="touchmove"?(this.isPreMouseInPlot&&!s?(e==="mousemove"&&(c.type=et.MOUSE_LEAVE,this.emit(et.MOUSE_LEAVE,c)),c.type=et.LEAVE,this.emit(et.LEAVE,c)):!this.isPreMouseInPlot&&s&&(e==="mousemove"&&(c.type=et.MOUSE_ENTER,this.emit(et.MOUSE_ENTER,c)),c.type=et.ENTER,this.emit(et.ENTER,c)),this.isPreMouseInPlot=s):(e==="mouseleave"||e==="touchend")&&this.isPreMouseInPlot&&(e==="mouseleave"&&(c.type=et.MOUSE_LEAVE,this.emit(et.MOUSE_LEAVE,c)),c.type=et.LEAVE,this.emit(et.LEAVE,c),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var e=this.getCoordinate(),a=(0,h.U2)(this.options,"scales",{}),n=this.geometries,o=0,l=n.length;o<l;o++){var s=n[o];s.scales=this.getGeometryScales();var c={coordinate:e,scaleDefs:a,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?s.update(c):s.init(c)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),e=this.getGroupedFields(),a=this.getOptions(),n=a.data,o=a.scales,l=o===void 0?{}:o,s=this.filteredData,c=0,v=t.length;c<v;c++){var u=t[c],f=l[u],d=this.getScaleKey(u);this.createScale(u,e.includes(u)?n:s,f,d),this.createdScaleKeys.set(d,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),e={},a=0;a<t.length;a++){var n=t[a];e[n]=this.getScaleByField(n)}return e},r.prototype.getScaleFields=function(){for(var t=[],e=new Map,a=this.geometries,n=0;n<a.length;n++){var o=a[n],l=o.getScaleFields();wt(l,t,e)}return t},r.prototype.getGroupedFields=function(){for(var t=[],e=new Map,a=this.geometries,n=0;n<a.length;n++){var o=a[n],l=o.getGroupFields();wt(l,t,e)}return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,e=(0,p.ev)([this.getXScale()],(0,p.CR)(this.getYScales()),!1).filter(function(o){return!!o}),a=this.getCoordinate(),n=this.options.scales;(0,h.S6)(e,function(o){var l=o.field,s=o.values,c=o.isCategory,v=o.isIdentity;(c||v)&&s&&!(0,h.U2)(n,[l,"range"])&&(o.range=_i(o,a,t.theme))})},r.prototype.initComponents=function(t){for(var e=this.controllers,a=0;a<e.length;a++){var n=e[a];t?n.update():(n.clear(),n.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,e=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,e)},r.prototype.paintGeometries=function(t){for(var e=this.options.animate,a=this.getCoordinate(),n={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,l=0;l<o.length;l++){var s=o[l];s.coordinate=a,s.canvasRegion=n,e||s.animate(!1),s.paint(t)}},r.prototype.renderComponents=function(t){for(var e=0;e<this.getComponents().length;e++){var a=this.getComponents()[e];a.component.render()}},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){var t=this,e=this.options,a=e.geometries,n=a===void 0?[]:a,o=e.interactions,l=o===void 0?[]:o,s=e.views,c=s===void 0?[]:s,v=e.annotations,u=v===void 0?[]:v,f=e.coordinate,d=e.events,g=e.facets;this.coordinateController?f&&this.coordinateController.update(f):this.coordinateController=new Co(f);for(var y=0;y<n.length;y++){var m=n[y];this.createGeometry(m)}for(var x=0;x<l.length;x++){var C=l[x],w=C.type,S=C.cfg;this.interaction(w,S)}for(var T=0;T<c.length;T++){var b=c[T];this.createView(b)}for(var L=this.getController("annotation"),M=0;M<u.length;M++){var E=u[M];L.annotation(E)}d&&(0,h.S6)(d,function(A,B){t.on(B,A)}),g&&(0,h.S6)(g,function(A){var B=A.type,k=(0,p._T)(A,["type"]);t.facet(B,k)})},r.prototype.createGeometry=function(t){var e=t.type,a=t.cfg,n=a===void 0?{}:a;if(this[e]){var o=this[e](n);(0,h.S6)(t,function(l,s){(0,h.mf)(o[s])&&o[s](l)})}},r.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)},r}(Ve);function vt(i,r){Er.prototype[i.toLowerCase()]=function(t){t===void 0&&(t={});var e=(0,p.pi)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),a=new r(e);return this.geometries.push(a),a}}var Ao=Er,Fo=function(i){(0,p.ZT)(r,i);function r(t){var e=this,a=t.container,n=t.width,o=t.height,l=t.autoFit,s=l===void 0?!1:l,c=t.padding,v=t.appendPadding,u=t.renderer,f=u===void 0?"canvas":u,d=t.pixelRatio,g=t.localRefresh,y=g===void 0?!0:g,m=t.visible,x=m===void 0?!0:m,C=t.supportCSSTransform,w=C===void 0?!1:C,S=t.defaultInteractions,T=S===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:S,b=t.options,L=t.limitInPlot,M=t.theme,E=t.syncViewPadding,A=(0,h.HD)(a)?document.getElementById(a):a,B=(0,en.Z)('<div style="position:relative;"></div>');A.appendChild(B);var k=Wi(A,s,n,o),P=tn(f),O=new P.Canvas((0,p.pi)({container:B,pixelRatio:d,localRefresh:y,supportCSSTransform:w},k));return e=i.call(this,{parent:null,canvas:O,backgroundGroup:O.addGroup({zIndex:Ot.BG}),middleGroup:O.addGroup({zIndex:Ot.MID}),foregroundGroup:O.addGroup({zIndex:Ot.FORE}),padding:c,appendPadding:v,visible:x,options:b,limitInPlot:L,theme:M,syncViewPadding:E})||this,e.onResize=(0,h.Ds)(function(){e.forceFit()},300),e.ele=A,e.canvas=O,e.width=k.width,e.height=k.height,e.autoFit=s,e.localRefresh=y,e.renderer=f,e.wrapperElement=B,e.updateCanvasStyle(),e.bindAutoFit(),e.initDefaultInteractions(T),e}return r.prototype.initDefaultInteractions=function(t){var e=this;(0,h.S6)(t,function(a){e.interaction(a)})},r.prototype.aria=function(t){var e="aria-label";t===!1?this.ele.removeAttribute(e):this.ele.setAttribute(e,t.label)},r.prototype.changeSize=function(t,e){return this.width===t&&this.height===e?this:(this.emit(X.BEFORE_CHANGE_SIZE),this.width=t,this.height=e,this.canvas.changeSize(t,e),this.render(!0),this.emit(X.AFTER_CHANGE_SIZE),this)},r.prototype.clear=function(){i.prototype.clear.call(this),this.aria(!1)},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),nn(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return i.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=Wi(this.ele,!0,this.width,this.height),e=t.width,a=t.height;this.changeSize(e,a)}},r.prototype.updateCanvasStyle=function(){(0,rn.Z)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}(Ao),Eo=Fo,Nt=function(){function i(r){this.visible=!0,this.components=[],this.view=r}return i.prototype.clear=function(r){(0,h.S6)(this.components,function(t){t.component.destroy()}),this.components=[]},i.prototype.destroy=function(){this.clear()},i.prototype.getComponents=function(){return this.components},i.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},i}();function Bo(i){for(var r=[],t=function(a){var n=i[a],o=(0,h.sE)(r,function(l){return l.color===n.color&&l.name===n.name&&l.value===n.value&&l.title===n.title});o||r.push(n)},e=0;e<i.length;e++)t(e);return r}var ko=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var e=this.view,a=this.getTooltipItems(t);if(!a.length){this.hideTooltip();return}var n=this.getTitle(a),o={x:a[0].x,y:a[0].y};e.emit("tooltip:show",tt.fromData(e,"tooltip:show",(0,p.pi)({items:a,title:n},t)));var l=this.getTooltipCfg(),s=l.follow,c=l.showMarkers,v=l.showCrosshairs,u=l.showContent,f=l.marker,d=this.items,g=this.title;if(!(0,h.Xy)(g,n)||!(0,h.Xy)(d,a)?(e.emit("tooltip:change",tt.fromData(e,"tooltip:change",(0,p.pi)({items:a,title:n},t))),((0,h.mf)(u)?u(a):u)&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,h.CD)({},l,{items:this.getItemsAfterProcess(a),title:n},s?t:{})),this.tooltip.show()),c&&this.renderTooltipMarkers(a,f)):(this.tooltip&&s&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=a,this.title=n,v){var y=(0,h.U2)(l,["crosshairs","follow"],!1);this.renderCrosshairs(y?t:o,l)}}},r.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var e=this.tooltipMarkersGroup;e&&e.hide();var a=this.xCrosshair,n=this.yCrosshair;a&&a.hide(),n&&n.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",tt.fromData(this.view,"tooltip:hide",{})),this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,e=t.tooltip,a=t.xCrosshair,n=t.yCrosshair,o=t.tooltipMarkersGroup;e&&(e.hide(),e.clear()),a&&a.clear(),n&&n.clear(),o&&o.clear(),(e==null?void 0:e.get("customContent"))&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},r.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var e=this,a=e.tooltip,n=e.tooltipMarkersGroup,o=e.xCrosshair,l=e.yCrosshair;t?(a&&a.show(),n&&n.show(),o&&o.show(),l&&l.show()):(a&&a.hide(),n&&n.hide(),o&&o.hide(),l&&l.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var e,a,n,o,l,s,c=this.findItemsFromView(this.view,t);if(c.length){c=(0,h.xH)(c);try{for(var v=(0,p.XA)(c),u=v.next();!u.done;u=v.next()){var f=u.value;try{for(var d=(n=void 0,(0,p.XA)(f)),g=d.next();!g.done;g=d.next()){var y=g.value,m=y.mappingData,x=m.x,C=m.y;y.x=(0,h.kJ)(x)?x[x.length-1]:x,y.y=(0,h.kJ)(C)?C[C.length-1]:C}}catch(A){n={error:A}}finally{try{g&&!g.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}}}catch(A){e={error:A}}finally{try{u&&!u.done&&(a=v.return)&&a.call(v)}finally{if(e)throw e.error}}var w=this.getTooltipCfg().shared;if(w===!1&&c.length>1){var S=c[0],T=Math.abs(t.y-S[0].y);try{for(var b=(0,p.XA)(c),L=b.next();!L.done;L=b.next()){var M=L.value,E=Math.abs(t.y-M[0].y);E<=T&&(S=M,T=E)}}catch(A){l={error:A}}finally{try{L&&!L.done&&(s=b.return)&&s.call(b)}finally{if(l)throw l.error}}c=[S]}return Bo((0,h.xH)(c))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.isCursorEntered=function(t){if(this.tooltip){var e=this.tooltip.getContainer(),a=this.tooltip.get("capture");if(e&&a){var n=e.getBoundingClientRect(),o=n.x,l=n.y,s=n.width,c=n.height;return new _(o,l,s,c).isPointIn(t)}}return!1},r.prototype.getTooltipCfg=function(){var t=this.view,e=t.getOptions().tooltip,a=this.processCustomContent(e),n=t.getTheme(),o=(0,h.U2)(n,["components","tooltip"],{}),l=(0,h.U2)(a,"enterable",o.enterable);return(0,h.b$)({},o,a,{capture:!!(l||this.isLocked)})},r.prototype.processCustomContent=function(t){if((0,h.jn)(t)||!(0,h.U2)(t,"customContent"))return t;var e=t.customContent,a=function(n,o){var l=e(n,o)||"";return(0,h.HD)(l)?'<div class="g2-tooltip">'+l+"</div>":l};return(0,p.pi)((0,p.pi)({},t),{customContent:a})},r.prototype.getTitle=function(t){var e=t[0].title||t[0].name;return this.title=e,e},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),e={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},a=this.getTooltipCfg(),n=new ve((0,p.pi)((0,p.pi)({parent:t.get("el").parentNode,region:e},a),{visible:!1,crosshairs:null}));n.init(),this.tooltip=n},r.prototype.renderTooltipMarkers=function(t,e){var a,n,o=this.getTooltipMarkersGroup(),l=this.view.getRootView(),s=l.limitInPlot;try{for(var c=(0,p.XA)(t),v=c.next();!v.done;v=c.next()){var u=v.value,f=u.x,d=u.y;if(s||(o==null?void 0:o.getClip())){var g=ze(l.getCoordinate()),y=g.type,m=g.attrs;o==null||o.setClip({type:y,attrs:m})}else o==null||o.setClip(void 0);var x=(0,p.pi)((0,p.pi)({fill:u.color,symbol:"circle",shadowColor:u.color},e),{x:f,y:d});o.addShape("marker",{attrs:x})}}catch(C){a={error:C}}finally{try{v&&!v.done&&(n=c.return)&&n.call(c)}finally{if(a)throw a.error}}},r.prototype.renderCrosshairs=function(t,e){var a=(0,h.U2)(e,["crosshairs","type"],"x");a==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,e)):a==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,e)):a==="xy"&&(this.renderXCrosshairs(t,e),this.renderYCrosshairs(t,e))},r.prototype.renderXCrosshairs=function(t,e){var a=this.getViewWithGeometry(this.view).getCoordinate();if(!!He(a,t)){var n,o;if(a.isRect)a.isTransposed?(n={x:a.start.x,y:t.y},o={x:a.end.x,y:t.y}):(n={x:t.x,y:a.end.y},o={x:t.x,y:a.start.y});else{var l=Vt(a,t),s=a.getCenter(),c=a.getRadius();o=j(s.x,s.y,c,l),n=s}var v=(0,h.b$)({start:n,end:o,container:this.getTooltipCrosshairsGroup()},(0,h.U2)(e,"crosshairs",{}),this.getCrosshairsText("x",t,e));delete v.type;var u=this.xCrosshair;u?u.update(v):(u=new H.YS.Line(v),u.init()),u.render(),u.show(),this.xCrosshair=u}},r.prototype.renderYCrosshairs=function(t,e){var a=this.getViewWithGeometry(this.view).getCoordinate();if(!!He(a,t)){var n,o;if(a.isRect){var l=void 0,s=void 0;a.isTransposed?(l={x:t.x,y:a.end.y},s={x:t.x,y:a.start.y}):(l={x:a.start.x,y:t.y},s={x:a.end.x,y:t.y}),n={start:l,end:s},o="Line"}else n={center:a.getCenter(),radius:fe(a,t),startAngle:a.startAngle,endAngle:a.endAngle},o="Circle";n=(0,h.b$)({container:this.getTooltipCrosshairsGroup()},n,(0,h.U2)(e,"crosshairs",{}),this.getCrosshairsText("y",t,e)),delete n.type;var c=this.yCrosshair;c?a.isRect&&c.get("type")==="circle"||!a.isRect&&c.get("type")==="line"?(c=new H.YS[o](n),c.init()):c.update(n):(c=new H.YS[o](n),c.init()),c.render(),c.show(),this.yCrosshair=c}},r.prototype.getCrosshairsText=function(t,e,a){var n=(0,h.U2)(a,["crosshairs","text"]),o=(0,h.U2)(a,["crosshairs","follow"]),l=this.items;if(n){var s=this.getViewWithGeometry(this.view),c=l[0],v=s.getXScale(),u=s.getYScales()[0],f=void 0,d=void 0;if(o){var g=this.view.getCoordinate().invert(e);f=v.invert(g.x),d=u.invert(g.y)}else f=c.data[v.field],d=c.data[u.field];var y=t==="x"?f:d;return(0,h.mf)(n)?n=n(t,y,l,e):n.content=y,{text:n}}},r.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.findItemsFromView=function(t,e){var a,n;if(t.getOptions().tooltip===!1)return[];var o=this.getTooltipCfg(),l=Ke(t,e,o);try{for(var s=(0,p.XA)(t.views),c=s.next();!c.done;c=s.next()){var v=c.value;l=l.concat(this.findItemsFromView(v,e))}}catch(u){a={error:u}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(a)throw a.error}}return l},r.prototype.getViewWithGeometry=function(t){var e=this;return t.geometries.length?t:(0,h.sE)(t.views,function(a){return e.getViewWithGeometry(a)})},r.prototype.getItemsAfterProcess=function(t){var e=this.getTooltipCfg().customItems,a=e||function(n){return n};return a(t)},r}(Nt),Io=ko,Br={};function kr(i){return Br[i.toLowerCase()]}function ot(i,r){Br[i.toLowerCase()]=r}var Wt={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},Po={interval:function(i){return{enter:{animation:i.isRect?i.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:i.isPolar&&i.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},Ir={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",i.isPolar&&i.isTransposed&&(r="wave-in")),{animation:r}},schema:function(i){var r;return i.isRect?r=i.isTransposed?"grow-in-x":"grow-in-y":r="grow-in-xy",{animation:r}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Ro(i,r){return{delay:(0,h.mf)(i.delay)?i.delay(r):i.delay,easing:(0,h.mf)(i.easing)?i.easing(r):i.easing,duration:(0,h.mf)(i.duration)?i.duration(r):i.duration,callback:i.callback,repeat:i.repeat}}function Pr(i,r,t){var e=Po[i];return e&&((0,h.mf)(e)&&(e=e(r)),e=(0,h.b$)({},Wt,e),t)?e[t]:e}function Zt(i,r,t){var e=(0,h.U2)(i.get("origin"),"data",D),a=r.animation,n=Ro(r,e);if(a){var o=kr(a);o&&o(i,n,t)}else i.animate(t.toAttrs,n)}function Oo(i,r,t,e,a){if(Ir[t]){var n=Ir[t](e),o=kr((0,h.U2)(n,"animation",""));if(o){var l=(0,p.pi)((0,p.pi)((0,p.pi)({},Wt.appear),n),r);i.stopAnimate(),o(i,l,{coordinate:e,minYPoint:a,toAttrs:null})}}}var qe="element-background",Do=function(i){(0,p.ZT)(r,i);function r(t){var e=i.call(this,t)||this;e.labelShape=[],e.states=[];var a=t.shapeFactory,n=t.container,o=t.offscreenGroup,l=t.elementIndex,s=t.visible,c=s===void 0?!0:s;return e.shapeFactory=a,e.container=n,e.offscreenGroup=o,e.visible=c,e.elementIndex=l,e}return r.prototype.draw=function(t,e){e===void 0&&(e=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,e),this.visible===!1&&this.changeVisible(!1)},r.prototype.update=function(t){var e=this,a=e.shapeFactory,n=e.shape;if(!!n){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(n,t);var o=this.getOffscreenGroup(),l=a.drawShape(this.shapeType,t,o);l.cfg.data=this.data,l.cfg.origin=t,l.cfg.element=this,this.syncShapeStyle(n,l,this.getStates(),this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var t=this,e=t.shapeFactory,a=t.shape;if(a){var n=this.getAnimateCfg("leave");n?Zt(a,n,{coordinate:e.coordinate,toAttrs:(0,p.pi)({},a.attr())}):a.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,i.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(e){e.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(e){e.hide()}))},r.prototype.setState=function(t,e){var a=this,n=a.states,o=a.shapeFactory,l=a.model,s=a.shape,c=a.shapeType,v=n.indexOf(t);if(e){if(v>-1)return;n.push(t),(t==="active"||t==="selected")&&(s==null||s.toFront())}else{if(v===-1)return;if(n.splice(v,1),t==="active"||t==="selected"){var u=this.geometry,f=u.sortZIndex,d=u.zIndexReversed,g=d?this.geometry.elements.length-this.elementIndex:this.elementIndex;f?s.setZIndex(g):s.set("zIndex",g)}}var y=o.drawShape(c,l,this.getOffscreenGroup());n.length?this.syncShapeStyle(s,y,n,null):this.syncShapeStyle(s,y,["reset"],null),y.remove(!0);var m={state:t,stateStatus:e,element:this,target:this.container};this.container.emit("statechange",m),(0,H.Es)(this.shape,"statechange",m)},r.prototype.clearStates=function(){var t=this,e=this.states;(0,h.S6)(e,function(a){t.setState(a,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var t=this,e=t.shape,a=t.labelShape,n={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return e&&(n=e.getCanvasBBox()),a&&a.forEach(function(o){var l=o.getCanvasBBox();n.x=Math.min(l.x,n.x),n.y=Math.min(l.y,n.y),n.minX=Math.min(l.minX,n.minX),n.minY=Math.min(l.minY,n.minY),n.maxX=Math.max(l.maxX,n.maxX),n.maxY=Math.max(l.maxY,n.maxY)}),n.width=n.maxX-n.minX,n.height=n.maxY-n.minY,n},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,e=t.shapeType,a=t.geometry,n=t.shapeFactory,o=a.stateOption,l=n.defaultShapeType,s=n.theme[e]||n.theme[l];this.statesStyle=(0,h.b$)({},s,o)}return this.statesStyle},r.prototype.getStateStyle=function(t,e){var a=this.getStatesStyle(),n=(0,h.U2)(a,[t,"style"],{}),o=n[e]||n;return(0,h.mf)(o)?o(this):o},r.prototype.getAnimateCfg=function(t){var e=this,a=this.animate;if(a){var n=a[t];return n&&(0,p.pi)((0,p.pi)({},n),{callback:function(){var o;(0,h.mf)(n.callback)&&n.callback(),(o=e.geometry)===null||o===void 0||o.emit(mt.AFTER_DRAW_ANIMATE)}})}return null},r.prototype.drawShape=function(t,e){var a;e===void 0&&(e=!1);var n=this,o=n.shapeFactory,l=n.container,s=n.shapeType;if(this.shape=o.drawShape(s,t,l),this.shape){this.setShapeInfo(this.shape,t);var c=this.shape.cfg.name;c?(0,h.HD)(c)&&(this.shape.cfg.name=["element",c]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var v=e?"enter":"appear",u=this.getAnimateCfg(v);u&&((a=this.geometry)===null||a===void 0||a.emit(mt.BEFORE_DRAW_ANIMATE),Zt(this.shape,u,{coordinate:o.coordinate,toAttrs:(0,p.pi)({},this.shape.attr())}))}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,e){var a=this;if(t.cfg.origin=e,t.cfg.element=this,t.isGroup()){var n=t.get("children");n.forEach(function(o){a.setShapeInfo(o,e)})}},r.prototype.syncShapeStyle=function(t,e,a,n,o){var l=this,s;if(a===void 0&&(a=[]),o===void 0&&(o=0),!(!t||!e)){var c=t.get("clipShape"),v=e.get("clipShape");if(this.syncShapeStyle(c,v,a,n),t.isGroup())for(var u=t.get("children"),f=e.get("children"),d=0;d<u.length;d++)this.syncShapeStyle(u[d],f[d],a,n,o+d);else{if(!(0,h.xb)(a)&&!(0,h.Xy)(a,["reset"])){var g=t.get("name");(0,h.kJ)(g)&&(g=g[1]),(0,h.S6)(a,function(m){if(e.get("name")!==qe){var x=l.getStateStyle(m,g||o);e.attr(x)}})}var y=Qi(t,e);this.animate?n?((s=this.geometry)===null||s===void 0||s.emit(mt.BEFORE_DRAW_ANIMATE),Zt(t,n,{coordinate:this.shapeFactory.coordinate,toAttrs:y,shapeModel:this.model})):(0,h.xb)(a)?t.attr(y):(t.stopAnimate(),t.animate(y,{duration:300})):t.attr(y)}}},r.prototype.getShapeType=function(t){var e=(0,h.U2)(t,"shape");return(0,h.kJ)(e)?e[0]:e},r}(Ve),Rr=Do,Or={},Dr={};function Go(i){return Or[i.toLowerCase()]}function Se(i,r){Or[i.toLowerCase()]=r}function Vo(i){return Dr[i.toLowerCase()]}function rt(i,r){Dr[i.toLowerCase()]=r}var Ho={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(i,r){var t=this.getShape(i);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(i){var r=this[i]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getDefaultStyle:function(i){return(0,h.U2)(i,[this.defaultShapeType,"default","style"],{})},getMarker:function(i,r){var t=this.getShape(i);if(!t.getMarker){var e=this.defaultShapeType;t=this.getShape(e)}var a=this.theme,n=(0,h.U2)(a,[i,"default"],{}),o=t.getMarker(r);return(0,h.b$)({},n,o)},drawShape:function(i,r,t){var e=this.getShape(i);return e.draw(r,t)}},zo={coordinate:null,parsePath:function(i){var r=this.coordinate,t=(0,sr.tr)(i);return r.isPolar?t=Xn(r,t):t=zn(r,t),t},parsePoint:function(i){var r=this.coordinate;return r.convert(i)},parsePoints:function(i){var r=this.coordinate;return i.map(function(t){return r.convert(t)})},draw:function(i,r){}},_e={};function St(i,r){var t=(0,h.jC)(i),e=(0,p.pi)((0,p.pi)((0,p.pi)({},Ho),r),{geometryType:i});return _e[t]=e,e}function z(i,r,t){var e=(0,h.jC)(i),a=_e[e],n=(0,p.pi)((0,p.pi)({},zo),t);return a[r]=n,n}function Gr(i){var r=(0,h.jC)(i);return _e[r]}function Xo(i,r,t){var e,a;if(t===void 0&&(t={}),!r)return[i];var n=(0,h.Ms)(i,r),o=[];if(r.length===1&&t[r[0]]){var l=t[r[0]];try{for(var s=(0,p.XA)(l),c=s.next();!c.done;c=s.next()){var v=c.value,u=n["_".concat(v)];u&&o.push(u)}}catch(g){e={error:g}}finally{try{c&&!c.done&&(a=s.return)&&a.call(s)}finally{if(e)throw e.error}}}else for(var f in n)if(n.hasOwnProperty(f)){var d=n[f];o.push(d)}return o}function Vr(i,r){return(0,h.G)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,h.Xy)(i[t],r[t])})}function ie(i){return(0,h.kJ)(i)?i:i.split("*")}function Hr(i,r){for(var t=[],e=[],a=[],n=new Map,o=0;o<r.length;o++){var l=r[o];i[l]?e.push(l):t.push(l),n.set(l,!0)}return Object.keys(i).forEach(function(s){n.has(s)||a.push(s)}),{added:t,updated:e,removed:a}}var Uo=function(i){(0,p.ZT)(r,i);function r(t){var e=i.call(this,t)||this;e.type="base",e.attributes={},e.elements=[],e.elementsMap={},e.animateOption=!0,e.attributeOption={},e.lastElementsMap={},e.generatePoints=!1,e.beforeMappingData=null,e.adjusts={},e.idFields=[],e.hasSorted=!1,e.isCoordinateChanged=!1;var a=t.container,n=t.labelsContainer,o=t.coordinate,l=t.data,s=t.sortable,c=s===void 0?!1:s,v=t.visible,u=v===void 0?!0:v,f=t.theme,d=t.scales,g=d===void 0?{}:d,y=t.scaleDefs,m=y===void 0?{}:y,x=t.intervalPadding,C=t.dodgePadding,w=t.maxColumnWidth,S=t.minColumnWidth,T=t.columnWidthRatio,b=t.roseWidthRatio,L=t.multiplePieWidthRatio,M=t.zIndexReversed,E=t.sortZIndex,A=t.useDeferredLabel;return e.container=a,e.labelsContainer=n,e.coordinate=o,e.data=l,e.sortable=c,e.visible=u,e.userTheme=f,e.scales=g,e.scaleDefs=m,e.intervalPadding=x,e.dodgePadding=C,e.maxColumnWidth=w,e.minColumnWidth=S,e.columnWidthRatio=T,e.roseWidthRatio=b,e.multiplePieWidthRatio=L,e.zIndexReversed=M,e.sortZIndex=E,e.useDeferredLabel=A?typeof A=="number"?A:Infinity:null,e}return r.prototype.position=function(t){var e=t;(0,h.PO)(t)||(e={fields:ie(t)});var a=(0,h.U2)(e,"fields");return a.length===1&&(a.unshift("1"),(0,h.t8)(e,"fields",a)),(0,h.t8)(this.attributeOption,"position",e),this},r.prototype.color=function(t,e){return this.createAttrOption("color",t,e),this},r.prototype.shape=function(t,e){return this.createAttrOption("shape",t,e),this},r.prototype.size=function(t,e){return this.createAttrOption("size",t,e),this},r.prototype.adjust=function(t){var e=t;return((0,h.HD)(t)||(0,h.PO)(t))&&(e=[t]),(0,h.S6)(e,function(a,n){(0,h.Kn)(a)||(e[n]={type:a})}),this.adjustOption=e,this},r.prototype.style=function(t,e){if((0,h.HD)(t)){var a=ie(t);this.styleOption={fields:a,callback:e}}else{var n=t,a=n.fields,o=n.callback,l=n.cfg;a||o||l?this.styleOption=t:this.styleOption={cfg:t}}return this},r.prototype.tooltip=function(t,e){if((0,h.HD)(t)){var a=ie(t);this.tooltipOption={fields:a,callback:e}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,e,a){if((0,h.HD)(t)){var n={},o=ie(t);n.fields=o,(0,h.mf)(e)?n.callback=e:(0,h.PO)(e)&&(n.cfg=e),a&&(n.cfg=a),this.labelOption=n}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.customInfo=function(t){return this.customOption=t,this},r.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){t===void 0&&(t={});var e=t.data,a=t.isDataChanged,n=t.isCoordinateChanged,o=this,l=o.attributeOption,s=o.lastAttributeOption;(0,h.Xy)(l,s)?e&&(a||!(0,h.Xy)(e,this.data))?(this.setCfg(t),this.initAttributes(),this.processData(e)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=n},r.prototype.paint=function(t){var e=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=(0,h.b$)({},Pr(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[];var a=this.getOffscreenGroup();a.clear();var n=this.beforeMappingData,o=this.beforeMapping(n);this.dataArray=new Array(o.length);for(var l=0;l<o.length;l++){var s=o[l];this.dataArray[l]=this.mapping(s)}if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var c=this.container,v=this.type,u=this.coordinate,f=(0,h.U2)(this.animateOption,"appear"),d=this.getYScale(),g=u.convert({x:0,y:d.scale(this.getYMinValue())});Oo(c,f,v,u,g)}if(this.labelOption){var y=this.useDeferredLabel,m=function(){return e.renderLabels((0,h.xH)(e.dataArray),t)}.bind(this);if(typeof y=="number"){var x=typeof y=="number"&&y!==Infinity?y:0;if(!window.requestIdleCallback)setTimeout(m,x);else{var C=x&&x!==Infinity?{timeout:x}:void 0;window.requestIdleCallback(m,C)}}else m()}this.lastAttributeOption=(0,p.pi)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,e=t.container,a=t.geometryLabel,n=t.offscreenGroup;e&&e.clear(),a&&a.clear(),n&&n.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,i.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return(0,h.S6)(this.attributes,function(e){Dt.includes(e.type)&&t.push(e)}),t},r.prototype.getDefaultValue=function(t){var e,a=this.getAttribute(t);return a&&(0,h.xb)(a.scales)&&(e=a.values[0]),e},r.prototype.getAttributeValues=function(t,e){for(var a=[],n=t.scales,o=0,l=n.length;o<l;o++){var s=n[o],c=s.field;s.isIdentity?a.push(s.values):a.push(e[c])}return t.mapping.apply(t,(0,p.ev)([],(0,p.CR)(a),!1))},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getCoordinate=function(){return this.coordinate},r.prototype.getData=function(){return this.data},r.prototype.getShapeMarker=function(t,e){var a=this.getShapeFactory();return a.getMarker(t,e)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(e){return t(e)})},r.prototype.getElements=function(){return this.elements},r.prototype.getElementId=function(t){t=(0,h.kJ)(t)?t[0]:t;var e=t[D];if(this.idFields.length){for(var a=e[this.idFields[0]],n=1;n<this.idFields.length;n++)a+="-"+e[this.idFields[n]];return a}var o=this.type,l=this.getXScale(),s=this.getYScale(),c=l.field||"x",v=s.field||"y",u=e[v],f;l.type==="identity"?f=l.values[0]:f=e[c];var d;o==="interval"||o==="schema"?d="".concat(f):o==="line"||o==="area"||o==="path"?d=o:d="".concat(f,"-").concat(u);for(var g=this.groupScales,n=0,y=g.length;n<y;n++){var m=g[n],x=m.field;d="".concat(d,"-").concat(e[x])}var C=this.getAdjust("dodge");if(C){var w=C.dodgeBy;w&&(d="".concat(d,"-").concat(e[w]))}return this.getAdjust("jitter")&&(d="".concat(d,"-").concat(t.x,"-").concat(t.y)),d},r.prototype.getScaleFields=function(){var t=[],e=new Map,a=this,n=a.attributeOption,o=a.labelOption,l=a.tooltipOption;for(var s in n)if(n.hasOwnProperty(s)){var c=n[s];c.fields?wt(c.fields,t,e):c.values&&wt(c.values,t,e)}return o&&o.fields&&wt(o.fields,t,e),(0,h.Kn)(l)&&l.fields&&wt(l.fields,t,e),t},r.prototype.changeVisible=function(t){i.prototype.changeVisible.call(this,t);for(var e=this.elements,a=0,n=e.length;a<n;a++){var o=e[a];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getFields=function(){var t=new Map,e=[];return Object.values(this.attributeOption).forEach(function(a){var n=(a==null?void 0:a.fields)||[];n.forEach(function(o){t.has(o)||e.push(o),t.set(o,!0)})},[]),e},r.prototype.getGroupFields=function(){for(var t=[],e=new Map,a=0,n=Dt.length;a<n;a++){var o=Dt[a],l=this.attributeOption[o];l&&l.fields&&wt(l.fields,t,e)}return t},r.prototype.getXYFields=function(){var t=(0,p.CR)(this.attributeOption.position.fields,2),e=t[0],a=t[1];return[e,a]},r.prototype.getXField=function(){return(0,h.U2)(this.getXYFields(),[0])},r.prototype.getYField=function(){return(0,h.U2)(this.getXYFields(),[1])},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var e=this.getXScale(),a=e.field,n=0;n<t.length;n++){var o=t[n];o.sort(function(l,s){return e.translate(l[D][a])-e.translate(s[D][a])})}this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if(!!Gr(t))return this.shapeFactory||(this.shapeFactory=(0,h.d9)(Gr(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var e=this.getXScale(),a=this.getYScale(),n=this.normalizeValues(t[e.field],e),o;return a?o=this.normalizeValues(t[a.field],a):o=t.y?t.y:.1,{x:n,y:o,y0:a?a.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,e,a){a===void 0&&(a=!1);var n=this.container,o=this.getDrawCfg(t),l=this.getShapeFactory(),s=new Rr({shapeFactory:l,container:n,offscreenGroup:this.getOffscreenGroup(),elementIndex:e});return s.animate=this.animateOption,s.geometry=this,s.draw(o,a),s},r.prototype.getDrawCfg=function(t){var e=t[D],a={mappingData:t,data:e,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},n=t.shape;!n&&this.getShapeFactory()&&(n=this.getShapeFactory().defaultShapeType),a.shape=n;var o=this.theme.geometries[this.shapeType];a.defaultStyle=(0,h.U2)(o,[n,"default"],{}).style,!a.defaultStyle&&this.getShapeFactory()&&(a.defaultStyle=this.getShapeFactory().getDefaultStyle(o));var l=this.styleOption;return l&&(a.style=this.getStyleCfg(l,e)),this.generatePoints&&(a.points=t.points,a.nextPoints=t.nextPoints),a},r.prototype.updateElements=function(t,e){var a,n,o,l,s,c;e===void 0&&(e=!1);for(var v=new Map,u=[],f=new Map,d=0,g=0;g<t.length;g++)for(var y=t[g],m=0;m<y.length;m++){var x=y[m],C=this.getElementId(x),w=v.has(C)?"".concat(C,"-").concat(g,"-").concat(m):C;u.push(w),v.set(w,x),f.set(w,d),d++}this.elements=new Array(d);var S=Hr(this.lastElementsMap,u),T=S.added,b=S.updated,L=S.removed;try{for(var M=(0,p.XA)(T),E=M.next();!E.done;E=M.next()){var C=E.value,x=v.get(C),g=f.get(C),A=this.createElement(x,g,e);this.elements[g]=A,this.elementsMap[C]=A,A.shape&&A.shape.set("zIndex",this.zIndexReversed?this.elements.length-g:g)}}catch(at){a={error:at}}finally{try{E&&!E.done&&(n=M.return)&&n.call(M)}finally{if(a)throw a.error}}try{for(var B=(0,p.XA)(b),k=B.next();!k.done;k=B.next()){var C=k.value,A=this.lastElementsMap[C],x=v.get(C),P=this.getDrawCfg(x),O=A.getModel(),g=f.get(C);(this.isCoordinateChanged||Vr(P,O))&&(A.animate=this.animateOption,A.update(P)),this.elements[g]=A,this.elementsMap[C]=A,A.shape&&A.shape.set("zIndex",this.zIndexReversed?this.elements.length-g:g)}}catch(at){o={error:at}}finally{try{k&&!k.done&&(l=B.return)&&l.call(B)}finally{if(o)throw o.error}}this.container&&this.container.sort();try{for(var Y=(0,p.XA)(L),ct=Y.next();!ct.done;ct=Y.next()){var C=ct.value,A=this.lastElementsMap[C];A.animate=this.animateOption,A.destroy()}}catch(at){s={error:at}}finally{try{ct&&!ct.done&&(c=Y.return)&&c.call(Y)}finally{if(s)throw s.error}}},r.prototype.getLabelType=function(){var t=this,e=t.labelOption,a=t.coordinate,n=t.type,o=a.type,l=a.isTransposed,s=(0,h.U2)(e,["cfg","type"]);return s||(o==="polar"?s=l?"pie":"polar":o==="theta"?s="pie":n==="interval"||n==="polygon"?s="interval":s="base"),s},r.prototype.getYMinValue=function(){var t=this.getYScale(),e=t.min,a=t.max,n;return e>=0?n=e:a<=0?n=a:n=0,n},r.prototype.createAttrOption=function(t,e,a){if((0,h.UM)(e)||(0,h.Kn)(e))(0,h.Kn)(e)&&(0,h.Xy)(Object.keys(e),["values"])?(0,h.t8)(this.attributeOption,t,{fields:e.values}):(0,h.t8)(this.attributeOption,t,e);else{var n={};(0,h.hj)(e)?n.values=[e]:n.fields=ie(e),a&&((0,h.mf)(a)?n.callback=a:n.values=a),(0,h.t8)(this.attributeOption,t,n)}},r.prototype.initAttributes=function(){var t=this,e=this,a=e.attributes,n=e.attributeOption,o=e.theme,l=e.shapeType;this.groupScales=[];var s={},c=function(f){if(n.hasOwnProperty(f)){var d=n[f];if(!d)return{value:void 0};var g=(0,p.pi)({},d),y=g.callback,m=g.values,x=g.fields,C=x===void 0?[]:x,w=C.map(function(T){var b=t.scales[T];if(!s[T]&&Dt.includes(f)){var L=qi(b,(0,h.U2)(t.scaleDefs,T),f,t.type);L==="cat"&&(t.groupScales.push(b),s[T]=!0)}return b});g.scales=w,f!=="position"&&w.length===1&&w[0].type==="identity"?g.values=w[0].values:!y&&!m&&(f==="size"?g.values=o.sizes:f==="shape"?g.values=o.shapes[l]||[]:f==="color"&&(w.length?g.values=w[0].values.length<=10?o.colors10:o.colors20:g.values=o.colors10));var S=(0,cn.IL)(f);a[f]=new S(g)}};for(var v in n){var u=c(v);if(typeof u=="object")return u.value}},r.prototype.processData=function(t){var e,a;this.hasSorted=!1;for(var n=this.getAttribute("position").scales,o=n.filter(function(L){return L.isCategory}),l=this.groupData(t),s=[],c=0,v=l.length;c<v;c++){for(var u=l[c],f=[],d=0,g=u.length;d<g;d++){var y=u[d],m={};for(var x in y)m[x]=y[x];m[D]=y;try{for(var C=(e=void 0,(0,p.XA)(o)),w=C.next();!w.done;w=C.next()){var S=w.value,T=S.field;m[T]=S.translate(m[T])}}catch(L){e={error:L}}finally{try{w&&!w.done&&(a=C.return)&&a.call(C)}finally{if(e)throw e.error}}f.push(m)}s.push(f)}var b=this.adjustData(s);return this.beforeMappingData=b,b},r.prototype.adjustData=function(t){var e=this.adjustOption,a=this,n=a.intervalPadding,o=a.dodgePadding,l=a.theme,s=this.maxColumnWidth||l.maxColumnWidth,c=this.minColumnWidth||l.minColumnWidth,v=this.columnWidthRatio||l.columnWidthRatio,u=t;if(e){var f=this.getXScale(),d=this.getYScale(),g=f.field,y=d?d.field:null,m=Qt(this.coordinate),x=f.values.length,C=this.getAttribute("size"),w=void 0;C&&(w=C.values[0]);for(var S=0,T=e.length;S<T;S++){var b=e[S],L=(0,p.pi)({xField:g,yField:y,intervalPadding:n,dodgePadding:o,xDimensionLength:m,groupNum:x,defaultSize:w,maxColumnWidth:s,minColumnWidth:c,columnWidthRatio:v},b),M=b.type;if(M==="dodge"){var E=[];if(f.isCategory||f.type==="identity")E.push("x");else if(!d)E.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");L.adjustNames=E,L.dodgeRatio=v}else if(M==="stack"){var A=this.coordinate;if(!d){L.height=A.getHeight();var B=this.getDefaultValue("size")||3;L.size=B}!A.isTransposed&&(0,h.UM)(L.reverseOrder)&&(L.reverseOrder=!0)}var k=(0,hn.VM)(M);L.dimValuesMap={},f&&f.values&&(L.dimValuesMap[f.field]=f.values.map(function(O){return f.translate(O)}));var P=new k(L);u=P.process(u),this.adjusts[M]=P}}return u},r.prototype.groupData=function(t){for(var e=this.getGroupScales(),a=this.scaleDefs,n={},o=[],l=0;l<e.length;l++){var s=e[l],c=s.field;o.push(c),(0,h.U2)(a,[c,"values"])&&(n[c]=a[c].values)}return Xo(t,o,n)},r.prototype.updateStackRange=function(t,e){for(var a=(0,h.xH)(e),n=t.field,o=t.min,l=t.max,s=0;s<a.length;s++){var c=a[s],v=Math.min.apply(null,c[n]),u=Math.max.apply(null,c[n]);v<o&&(o=v),u>l&&(l=u)}var f=this.scaleDefs,d={};o<t.min&&!(0,h.U2)(f,[n,"min"])&&(d.min=o),l>t.max&&!(0,h.U2)(f,[n,"max"])&&(d.max=l),t.change(d)},r.prototype.beforeMapping=function(t){var e=t;if(this.sortable&&this.sort(e),this.generatePoints)for(var a=0,n=e.length;a<n;a++){var o=e[a];this.generateShapePoints(o);var l=e[a+1];l&&(this.generateShapePoints(l),o[0].nextPoints=l[0].points)}return e},r.prototype.generateShapePoints=function(t){for(var e=this.getShapeFactory(),a=this.getAttribute("shape"),n=0;n<t.length;n++){var o=t[n],l=this.createShapePointsCfg(o),s=a?this.getAttributeValues(a,o):null,c=e.getShapePoints(s,l);o.points=c}},r.prototype.normalizeValues=function(t,e){var a=[];if((0,h.kJ)(t))for(var n=0;n<t.length;n++){var o=t[n];a.push(e.scale(o))}else a=e.scale(t);return a},r.prototype.mapping=function(t){for(var e=this.attributes,a=[],n=0;n<t.length;n++){var o=t[n],l={_origin:o[D],points:o.points,nextPoints:o.nextPoints};for(var s in e)if(e.hasOwnProperty(s)){var c=e[s],v=c.names,u=this.getAttributeValues(c,o);if(v.length>1)for(var f=0;f<u.length;f+=1){var d=u[f],g=v[f];l[g]=(0,h.kJ)(d)&&d.length===1?d[0]:d}else l[v[0]]=u.length===1?u[0]:u}this.convertPoint(l),a.push(l)}return a},r.prototype.convertPoint=function(t){var e=t.x,a=t.y,n,o,l,s=this.coordinate;if((0,h.kJ)(e)&&(0,h.kJ)(a)){n=[],o=[];for(var c=0,v=0,u=e.length,f=a.length;c<u&&v<f;c+=1,v+=1)l=s.convert({x:e[c],y:a[v]}),n.push(l.x),o.push(l.y)}else if((0,h.kJ)(a)){o=[];for(var d=0;d<a.length;d++){var g=a[d];l=s.convert({x:e,y:g}),n&&n!==l.x?((0,h.kJ)(n)||(n=[n]),n.push(l.x)):n=l.x,o.push(l.y)}}else if((0,h.kJ)(e)){n=[];for(var d=0;d<e.length;d++){var y=e[d];l=s.convert({x:y,y:a}),o&&o!==l.y?((0,h.kJ)(o)||(o=[o]),o.push(l.y)):o=l.y,n.push(l.x)}}else{var m=s.convert({x:e,y:a});n=m.x,o=m.y}t.x=n,t.y=o},r.prototype.getStyleCfg=function(t,e){var a=t.fields,n=a===void 0?[]:a,o=t.callback,l=t.cfg;if(l)return l;var s=n.map(function(c){return e[c]});return o.apply(void 0,(0,p.ev)([],(0,p.CR)(s),!1))},r.prototype.setCfg=function(t){var e=this,a=t.coordinate,n=t.data,o=t.theme,l=t.scaleDefs;a&&(this.coordinate=a),n&&(this.data=n),l&&(this.scaleDefs=l,this.idFields=[],(0,h.S6)(l,function(s,c){s&&s.key&&e.idFields.push(c)})),o&&(this.theme=this.userTheme?(0,h.b$)({},o,this.userTheme):o)},r.prototype.renderLabels=function(t,e){return e===void 0&&(e=!1),(0,p.mG)(this,void 0,void 0,function(){var a,n,o,l,s,c,v,u,f,d,g,y,m=this;return(0,p.Jh)(this,function(x){switch(x.label){case 0:return a=this.geometryLabel,this.emit(mt.BEFORE_RENDER_LABEL),a||(n=this.getLabelType(),o=Go(n),a=new o(this),this.geometryLabel=a),[4,a.render(t,e)];case 1:x.sent(),l=a.labelsRenderer.shapesMap,s=new Map,(0,h.S6)(l,function(C,w){for(var S=C.getChildren()||[],T=0;T<S.length;T++){var b=S[T],L=m.elementsMap[b.get("elementId")||w.split(" ")[0]];if(L){b.cfg.name=["element","label"],b.cfg.element=L;var M=s.get(L)||new Set;M.add(C),s.set(L,M)}}});try{for(c=(0,p.XA)(s.entries()),v=c.next();!v.done;v=c.next())u=(0,p.CR)(v.value,2),f=u[0],d=u[1],f.labelShape=(0,p.ev)([],(0,p.CR)(d),!1)}catch(C){g={error:C}}finally{try{v&&!v.done&&(y=c.return)&&y.call(c)}finally{if(g)throw g.error}}return this.emit(mt.AFTER_RENDER_LABEL),[2]}})})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&((0,h.U2)(this.animateOption,"appear")===void 0||(0,h.U2)(this.animateOption,"appear")&&(0,h.U2)(this.animateOption,["appear","animation"])===void 0)},r}(Ve),Tt=Uo,Te=q.vs;function re(i,r,t){var e=Te(i.getMatrix(),[["t",r,t]]);i.setMatrix(e)}function Yo(i,r){var t=i.attr(),e=t.x,a=t.y,n=Te(i.getMatrix(),[["t",-e,-a],["r",r],["t",e,a]]);return n}function ti(i,r){var t=Yo(i,r);i.setMatrix(t)}function Bu(){return[1,0,0,0,1,0,0,0,1]}function No(i,r){var t=i.getBBox(),e=(t.minX+t.maxX)/2,a=(t.minY+t.maxY)/2;i.applyToMatrix([e,a,1]);var n=Te(i.getMatrix(),[["t",-e,-a],["s",r,r],["t",e,a]]);i.setMatrix(n)}function bt(i){return i.find(function(r){return r.get("type")==="text"})}function zr(i,r,t){t===void 0&&(t=[0,0,0,0]);var e=i&&i.getChildren()[0];if(e){var a=e.clone();(r==null?void 0:r.rotate)&&ti(a,-r.rotate);var n=a.getCanvasBBox(),o=n.x,l=n.y,s=n.width,c=n.height;a.destroy();var v=t;return(0,h.UM)(v)?v=[2,2,2,2]:(0,h.hj)(v)&&(v=new Array(4).fill(v)),{x:o-v[3],y:l-v[0],width:s+v[1]+v[3],height:c+v[0]+v[2],rotation:(r==null?void 0:r.rotate)||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function Wo(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),a=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*a}function Zo(i,r){var t=i.getBBox();return(0,h.G)(r,function(e){var a=e.getBBox();return Wo(t,a,2)>0})}function Xr(i,r,t){var e=t.data,a=t.origin,n=t.animateCfg,o=t.coordinate,l=(0,h.U2)(n,"update");i.set("data",e),i.set("origin",a),i.set("animateCfg",n),i.set("coordinate",o),i.set("visible",r.get("visible")),i.getChildren().forEach(function(s,c){var v=r.getChildByIndex(c);if(!v)i.removeChild(s),s.remove(!0);else{s.set("data",e),s.set("origin",a),s.set("animateCfg",n),s.set("coordinate",o);var u=Qi(s,v);l?Zt(s,l,{toAttrs:u,coordinate:o}):s.attr(u),v.isGroup()&&Xr(s,v,t)}}),(0,h.S6)(r.getChildren(),function(s,c){c>=i.getCount()&&(s.destroyed||i.add(s))})}var jo=function(){function i(r){this.shapesMap={};var t=r.layout,e=r.container;this.layout=t,this.container=e}return i.prototype.render=function(r,t,e){return e===void 0&&(e=!1),(0,p.mG)(this,void 0,void 0,function(){var a,n,o,l,s,c,v,u,f=this;return(0,p.Jh)(this,function(d){switch(d.label){case 0:if(a={},n=this.createOffscreenGroup(),!r.length)return[3,2];try{for(o=(0,p.XA)(r),l=o.next();!l.done;l=o.next())s=l.value,s&&(a[s.id]=this.renderLabel(s,n))}catch(g){v={error:g}}finally{try{l&&!l.done&&(u=o.return)&&u.call(o)}finally{if(v)throw v.error}}return[4,this.doLayout(r,t,a)];case 1:d.sent(),this.renderLabelLine(r,a),this.renderLabelBackground(r,a),this.adjustLabel(r,a),d.label=2;case 2:return c=this.shapesMap,(0,h.S6)(a,function(g,y){if(g.destroyed)delete a[y];else{if(c[y]){var m=g.get("data"),x=g.get("origin"),C=g.get("coordinate"),w=g.get("animateCfg"),S=c[y];Xr(S,a[y],{data:m,origin:x,animateCfg:w,coordinate:C}),a[y]=S}else{if(f.container.destroyed)return;f.container.add(g);var T=(0,h.U2)(g.get("animateCfg"),e?"enter":"appear");T&&Zt(g,T,{toAttrs:(0,p.pi)({},g.attr()),coordinate:g.get("coordinate")})}delete c[y]}}),(0,h.S6)(c,function(g){var y=(0,h.U2)(g.get("animateCfg"),"leave");y?Zt(g,y,{toAttrs:null,coordinate:g.get("coordinate")}):g.remove(!0)}),this.shapesMap=a,n.destroy(),[2]}})})},i.prototype.clear=function(){this.container.clear(),this.shapesMap={}},i.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},i.prototype.renderLabel=function(r,t){var e=r.id,a=r.elementId,n=r.data,o=r.mappingData,l=r.coordinate,s=r.animate,c=r.content,v={id:e,elementId:a,data:n,origin:(0,p.pi)((0,p.pi)({},o),{data:o[D]}),coordinate:l},u=t.addGroup((0,p.pi)({name:"label",animateCfg:this.animate===!1||s===null||s===!1?!1:(0,h.b$)({},this.animate,s)},v)),f;if(c.isGroup&&c.isGroup()||c.isShape&&c.isShape()){var d=c.getCanvasBBox(),g=d.width,y=d.height,m=(0,h.U2)(r,"textAlign","left"),x=r.x,C=r.y-y/2;m==="center"?x=x-g/2:(m==="right"||m==="end")&&(x=x-g),re(c,x,C),f=c,u.add(c)}else{var w=(0,h.U2)(r,["style","fill"]);f=u.addShape("text",(0,p.pi)({attrs:(0,p.pi)((0,p.pi)({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:(0,h.U2)(r,"textBaseline","middle"),text:r.content},r.style),{fill:(0,h.Ft)(w)?r.color:w})},v))}return r.rotate&&ti(f,r.rotate),u},i.prototype.doLayout=function(r,t,e){return(0,p.mG)(this,void 0,void 0,function(){var a,n=this;return(0,p.Jh)(this,function(o){switch(o.label){case 0:return this.layout?(a=(0,h.kJ)(this.layout)?this.layout:[this.layout],[4,Promise.all(a.map(function(l){var s=Vo((0,h.U2)(l,"type",""));if(!!s){var c=[],v=[];return(0,h.S6)(e,function(u,f){c.push(u),v.push(t[u.get("elementId")])}),s(r,c,v,n.region,l.cfg)}}))]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},i.prototype.renderLabelLine=function(r,t){(0,h.S6)(r,function(e){var a=(0,h.U2)(e,"coordinate");if(!(!e||!a)){var n=a.getCenter(),o=a.getRadius();if(!!e.labelLine){var l=(0,h.U2)(e,"labelLine",{}),s=e.id,c=l.path;if(!c){var v=j(n.x,n.y,o,e.angle);c=[["M",v.x,v.y],["L",e.x,e.y]]}var u=t[s];u.destroyed||u.addShape("path",{capture:!1,attrs:(0,p.pi)({path:c,stroke:e.color?e.color:(0,h.U2)(e,["style","fill"],"#000"),fill:null},l.style),id:s,origin:e.mappingData,data:e.data,coordinate:e.coordinate})}}})},i.prototype.renderLabelBackground=function(r,t){(0,h.S6)(r,function(e){var a=(0,h.U2)(e,"coordinate"),n=(0,h.U2)(e,"background");if(!(!n||!a)){var o=e.id,l=t[o];if(!l.destroyed){var s=l.getChildren()[0];if(s){var c=zr(l,e,n.padding),v=c.rotation,u=(0,p._T)(c,["rotation"]),f=l.addShape("rect",{attrs:(0,p.pi)((0,p.pi)({},u),n.style||{}),id:o,origin:e.mappingData,data:e.data,coordinate:e.coordinate});if(f.setZIndex(-1),v){var d=s.getMatrix();f.setMatrix(d)}}}}})},i.prototype.createOffscreenGroup=function(){var r=this.container,t=r.getGroupBase(),e=new t({});return e},i.prototype.adjustLabel=function(r,t){(0,h.S6)(r,function(e){if(e){var a=e.id,n=t[a];if(!n.destroyed){var o=n.findAll(function(l){return l.get("type")!=="path"});(0,h.S6)(o,function(l){l&&(e.offsetX&&l.attr("x",l.attr("x")+e.offsetX),e.offsetY&&l.attr("y",l.attr("y")+e.offsetY))})}}})},i}(),$o=jo;function Ur(i){var r=0;return(0,h.S6)(i,function(t){r+=t}),r/i.length}var Jo=function(){function i(r){this.geometry=r}return i.prototype.getLabelItems=function(r){var t=this,e=[],a=this.getLabelCfgs(r);return(0,h.S6)(r,function(n,o){var l=a[o];if(!l||(0,h.UM)(n.x)||(0,h.UM)(n.y)){e.push(null);return}var s=(0,h.kJ)(l.content)?l.content:[l.content];l.content=s;var c=s.length;(0,h.S6)(s,function(v,u){if((0,h.UM)(v)||v===""){e.push(null);return}var f=(0,p.pi)((0,p.pi)({},l),t.getLabelPoint(l,n,u));f.textAlign||(f.textAlign=t.getLabelAlign(f,u,c)),f.offset<=0&&(f.labelLine=null),e.push(f)})}),e},i.prototype.render=function(r,t){return t===void 0&&(t=!1),(0,p.mG)(this,void 0,void 0,function(){var e,a,n;return(0,p.Jh)(this,function(o){switch(o.label){case 0:return e=this.getLabelItems(r),a=this.getLabelsRenderer(),n=this.getGeometryShapes(),[4,a.render(e,n,t)];case 1:return o.sent(),[2]}})})},i.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},i.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},i.prototype.getCoordinate=function(){return this.geometry.coordinate},i.prototype.getDefaultLabelCfg=function(r,t){var e=this.geometry,a=e.type,n=e.theme;return a==="polygon"||a==="interval"&&t==="middle"||r<0&&!["line","point","path"].includes(a)?(0,h.U2)(n,"innerLabels",{}):(0,h.U2)(n,"labels",{})},i.prototype.getThemedLabelCfg=function(r){var t=this.geometry,e=this.getDefaultLabelCfg(),a=t.type,n=t.theme,o;return a==="polygon"||r.offset<0&&!["line","point","path"].includes(a)?o=(0,h.b$)({},e,n.innerLabels,r):o=(0,h.b$)({},e,n.labels,r),o},i.prototype.setLabelPosition=function(r,t,e,a){},i.prototype.getLabelOffset=function(r){var t=this.getCoordinate(),e=this.getOffsetVector(r);return t.isTransposed?e[0]:e[1]},i.prototype.getLabelOffsetPoint=function(r,t,e){var a=r.offset,n=this.getCoordinate(),o=n.isTransposed,l=o?"x":"y",s=o?1:-1,c={x:0,y:0};return t>0||e===1?c[l]=a*s:c[l]=a*s*-1,c},i.prototype.getLabelPoint=function(r,t,e){var a=this.getCoordinate(),n=r.content.length;function o(m,x,C){C===void 0&&(C=!1);var w=m;return(0,h.kJ)(w)&&(r.content.length===1?C?w=Ur(w):w.length<=2?w=w[m.length-1]:w=Ur(w):w=w[x]),w}var l={content:r.content[e],x:0,y:0,start:{x:0,y:0},color:"#fff"},s=(0,h.kJ)(t.shape)?t.shape[0]:t.shape,c=s==="funnel"||s==="pyramid";if(this.geometry.type==="polygon"){var v=mn(t.x,t.y);l.x=v[0],l.y=v[1]}else this.geometry.type==="interval"&&!c?(l.x=o(t.x,e,!0),l.y=o(t.y,e)):(l.x=o(t.x,e),l.y=o(t.y,e));if(c){var u=(0,h.U2)(t,"nextPoints"),f=(0,h.U2)(t,"points");if(u){var d=a.convert(f[1]),g=a.convert(u[1]);l.x=(d.x+g.x)/2,l.y=(d.y+g.y)/2}else if(s==="pyramid"){var d=a.convert(f[1]),g=a.convert(f[2]);l.x=(d.x+g.x)/2,l.y=(d.y+g.y)/2}}r.position&&this.setLabelPosition(l,t,e,r.position);var y=this.getLabelOffsetPoint(r,e,n);return l.start={x:l.x,y:l.y},l.x+=y.x,l.y+=y.y,l.color=t.color,l},i.prototype.getLabelAlign=function(r,t,e){var a="center",n=this.getCoordinate();if(n.isTransposed){var o=r.offset;o<0?a="right":o===0?a="center":a="left",e>1&&t===0&&(a==="right"?a="left":a==="left"&&(a="right"))}return a},i.prototype.getLabelId=function(r){var t=this.geometry,e=t.type,a=t.getXScale(),n=t.getYScale(),o=r[D],l=t.getElementId(r);return e==="line"||e==="area"?l+=" ".concat(o[a.field]):e==="path"&&(l+=" ".concat(o[a.field],"-").concat(o[n.field])),l},i.prototype.getLabelsRenderer=function(){var r=this.geometry,t=r.labelsContainer,e=r.labelOption,a=r.canvasRegion,n=r.animateOption,o=this.geometry.coordinate,l=this.labelsRenderer;return l||(l=new $o({container:t,layout:(0,h.U2)(e,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=l),l.region=a,l.animate=n?Pr("label",o):!1,l},i.prototype.getLabelCfgs=function(r){var t=this,e=this.geometry,a=e.labelOption,n=e.scales,o=e.coordinate,l=a,s=l.fields,c=l.callback,v=l.cfg,u=s.map(function(d){return n[d]}),f=[];return(0,h.S6)(r,function(d,g){var y=d[D],m=t.getLabelText(y,u),x;if(c){var C=s.map(function(L){return y[L]});if(x=c.apply(void 0,(0,p.ev)([],(0,p.CR)(C),!1)),(0,h.UM)(x)){f.push(null);return}}var w=(0,p.pi)((0,p.pi)({id:t.getLabelId(d),elementId:t.geometry.getElementId(d),data:y,mappingData:d,coordinate:o},v),x);(0,h.mf)(w.position)&&(w.position=w.position(y,d,g));var S=t.getLabelOffset(w.offset||0),T=t.getDefaultLabelCfg(S,w.position);w=(0,h.b$)({},T,w),w.offset=t.getLabelOffset(w.offset||0);var b=w.content;(0,h.mf)(b)?w.content=b(y,d,g):(0,h.o8)(b)&&(w.content=m[0]),f.push(w)}),f},i.prototype.getLabelText=function(r,t){var e=[];return(0,h.S6)(t,function(a){var n=r[a.field];(0,h.kJ)(n)?n=n.map(function(o){return a.getText(o)}):n=a.getText(n),(0,h.UM)(n)||n===""?e.push(null):e.push(n)}),e},i.prototype.getOffsetVector=function(r){r===void 0&&(r=0);var t=this.getCoordinate(),e=0;return(0,h.hj)(r)&&(e=r),t.isTransposed?t.applyMatrix(e,0):t.applyMatrix(0,e)},i.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return(0,h.S6)(r.elementsMap,function(e,a){t[a]=e.shape}),(0,h.S6)(r.getOffscreenGroup().getChildren(),function(e){var a=r.getElementId(e.get("origin").mappingData);t[a]=e}),t},i}(),ei=Jo;function ii(i,r,t){if(!i)return t;var e;if(i.callback&&i.callback.length>1){var a=Array(i.callback.length-1).fill("");e=i.mapping.apply(i,(0,p.ev)([r],(0,p.CR)(a),!1)).join("")}else e=i.mapping(r).join("");return e||t}var kt={hexagon:function(i,r,t){var e=t/2*Math.sqrt(3);return[["M",i,r-t],["L",i+e,r-t/2],["L",i+e,r+t/2],["L",i,r+t],["L",i-e,r+t/2],["L",i-e,r-t/2],["Z"]]},bowtie:function(i,r,t){var e=t-1.5;return[["M",i-t,r-e],["L",i+t,r+e],["L",i+t,r-e],["L",i-t,r+e],["Z"]]},cross:function(i,r,t){return[["M",i-t,r-t],["L",i+t,r+t],["M",i+t,r-t],["L",i-t,r+t]]},tick:function(i,r,t){return[["M",i-t/2,r-t],["L",i+t/2,r-t],["M",i,r-t],["L",i,r+t],["M",i-t/2,r+t],["L",i+t/2,r+t]]},plus:function(i,r,t){return[["M",i-t,r],["L",i+t,r],["M",i,r-t],["L",i,r+t]]},hyphen:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},line:function(i,r,t){return[["M",i,r-t],["L",i,r+t]]}},Ko=["line","cross","tick","plus","hyphen"];function Qo(i,r){return(0,h.mf)(r)?r(i):(0,h.b$)({},i,r)}function qo(i,r){var t=i.symbol;if((0,h.HD)(t)&&Ko.indexOf(t)!==-1){var e=(0,h.U2)(i,"style",{}),a=(0,h.U2)(e,"lineWidth",1),n=e.stroke||e.fill||r;i.style=(0,h.b$)({},i.style,{lineWidth:a,stroke:n,fill:null})}}function Yr(i){var r=i.symbol;(0,h.HD)(r)&&kt[r]&&(i.symbol=kt[r])}function ri(i){return i.startsWith(F.LEFT)||i.startsWith(F.RIGHT)?"vertical":"horizontal"}function Nr(i,r,t,e,a){var n=t.getScale(t.type);if(n.isCategory){var o=n.field,l=r.getAttribute("color"),s=r.getAttribute("shape"),c=i.getTheme().defaultColor,v=r.coordinate.isPolar;return n.getTicks().map(function(u,f){var d,g=u.text,y=u.value,m=g,x=n.invert(y),C=i.filterFieldData(o,[(d={},d[o]=x,d)]).length===0;(0,h.S6)(i.views,function(L){var M;L.filterFieldData(o,[(M={},M[o]=x,M)]).length||(C=!0)});var w=ii(l,x,c),S=ii(s,x,"point"),T=r.getShapeMarker(S,{color:w,isInPolar:v}),b=a;return(0,h.mf)(b)&&(b=b(m,f,(0,p.pi)({name:m,value:x},(0,h.b$)({},e,T)))),T=(0,h.b$)({},e,T,it((0,p.pi)({},b),["style"])),qo(T,w),b&&b.style&&(T.style=Qo(T.style,b.style)),Yr(T),{id:x,name:m,value:x,marker:T,unchecked:C}})}return[]}function _o(i,r,t){return t.map(function(e,a){var n=r;(0,h.mf)(n)&&(n=n(e.name,a,(0,h.b$)({},i,e)));var o=(0,h.mf)(e.marker)?e.marker(e.name,a,(0,h.b$)({},i,e)):e.marker,l=(0,h.b$)({},i,n,o);return Yr(l),e.marker=l,e})}function Wr(i,r){var t=(0,h.U2)(i,["components","legend"],{});return(0,h.b$)({},(0,h.U2)(t,["common"],{}),(0,h.b$)({},(0,h.U2)(t,[r],{})))}function ai(i){return i?!1:i==null||isNaN(i)}function Zr(i){if((0,h.kJ)(i))return ai(i[1].y);var r=i.y;return(0,h.kJ)(r)?ai(r[0]):ai(r)}function be(i,r,t){if(r===void 0&&(r=!1),t===void 0&&(t=!0),!i.length||i.length===1&&!t)return[];if(r){for(var e=[],a=0,n=i.length;a<n;a++){var o=i[a];Zr(o)||e.push(o)}return[e]}for(var l=[],s=[],a=0,n=i.length;a<n;a++){var o=i[a];Zr(o)?s.length&&(s.length===1&&!t||l.push(s),s=[]):s.push(o)}return s.length&&l.push(s),l}function jr(i){for(var r=[],t=0;t<i.length;t++){var e=i[t];if(e){var a=t===0?"M":"L";r.push([a,e.x,e.y])}}var n=i[0];return n&&(r.push(["L",n.x,n.y]),r.push(["z"])),r}function $r(i){for(var r=i.length/2,t=[],e=[],a=0;a<i.length;a++)a<r?t.push(i[a]):e.push(i[a]);var n=me(t,!1),o=me(e,!1);e.length&&n.push(["L",e[0].x,e[0].y]),o.shift();var l=n.concat(o);return t.length&&l.push(["L",t[0].x,t[0].y]),l.push(["z"]),l}function Z(i,r,t,e){e===void 0&&(e="");var a=i.style,n=a===void 0?{}:a,o=i.defaultStyle,l=i.color,s=i.size,c=(0,p.pi)((0,p.pi)({},o),n);return l&&(r&&(n.stroke||(c.stroke=l)),t&&(n.fill||(c.fill=l))),e&&(0,h.UM)(n[e])&&!(0,h.UM)(s)&&(c[e]=s),c}function Jr(i){return(0,h.b$)({},{fill:"#CCD6EC",fillOpacity:.3},(0,h.U2)(i,["background","style"]))}function ni(i){var r=i.x,t=(0,h.kJ)(i.y)?i.y:[i.y];return t.map(function(e,a){return{x:(0,h.kJ)(r)?r[a]:r,y:e}})}var tl={line:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dot:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},dash:function(i,r,t){return[["M",i-t,r],["L",i+t,r]]},smooth:function(i,r,t){return[["M",i-t,r],["A",t/2,t/2,0,1,1,i,r],["A",t/2,t/2,0,1,0,i+t,r]]},hv:function(i,r,t){return[["M",i-t-1,r-2.5],["L",i,r-2.5],["L",i,r+2.5],["L",i+t+1,r+2.5]]},vh:function(i,r,t){return[["M",i-t-1,r+2.5],["L",i,r+2.5],["L",i,r-2.5],["L",i+t+1,r-2.5]]},hvh:function(i,r,t){return[["M",i-(t+1),r+2.5],["L",i-t/2,r+2.5],["L",i-t/2,r-2.5],["L",i+t/2,r-2.5],["L",i+t/2,r+2.5],["L",i+t+1,r+2.5]]},vhv:function(i,r){return[["M",i-5,r+2.5],["L",i-5,r],["L",i,r],["L",i,r-3],["L",i,r+3],["L",i+6.5,r+3]]}};function Kr(i,r){var t=i.color;return{symbol:tl[r],style:{lineWidth:2,r:6,stroke:t}}}function el(i,r,t){for(var e=i.isStack,a=i.connectNulls,n=i.isInCircle,o=i.showSinglePoint,l=Z(i,!0,!1,"lineWidth"),s=be(i.points,a,o),c=[],v=0,u=s.length;v<u;v++){var f=s[v];c=c.concat(Qr(f,n,e,r,t,l))}return l.path=c,l}function oi(i,r,t,e,a){if(i.length===1)return[["M",i[0].x,i[0].y-a.lineWidth/2],["L",i[0].x,i[0].y],["L",i[0].x,i[0].y+a.lineWidth/2]];var n;return t?(r&&i.length&&i.push({x:i[0].x,y:i[0].y}),n=me(i,!1,e)):(n=_t(i,!1),r&&n.push(["Z"])),n}function il(i,r,t,e,a,n){var o=[],l=[];(0,h.S6)(i,function(v){var u=ni(v);o.push(u[1]),l.push(u[0])});var s=oi(o,r,e,a,n),c=oi(l,r,e,a,n);return t?s:s.concat(c)}function Qr(i,r,t,e,a,n){if(i.length){var o=i[0];return(0,h.kJ)(o.y)?il(i,r,t,e,a,n):oi(i,r,e,a,n)}return[]}var ku=St("line",{defaultShapeType:"line"});(0,h.S6)(["line","dot","dash","smooth"],function(i){z("line",i,{draw:function(r,t){var e=i==="smooth",a;if(e){var n=this.coordinate,o=n.start,l=n.end;a=[[o.x,l.y],[l.x,o.y]]}var s=el(r,e,a),c=t.addShape({type:"path",attrs:s,name:"line",capture:!e});return c},getMarker:function(r){return Kr(r,i)}})});var Iu=null,Pu="4.2.2",Ru={getLegendItems:Nr,translate:re,rotate:ti,zoom:No,transform:Te,getAngle:Kt,getSectorPath:xt,polarToCartesian:j,getDelegationObject:Bt,getTooltipItems:Je,getMappingValue:ii,getPath:Qr,getPathPoints:be},Lt={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},G={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},ht=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],rl=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],al=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],nl=function(i){i===void 0&&(i={});var r=i.paletteQualitative10,t=r===void 0?ht:r,e=i.paletteQualitative20,a=e===void 0?rl:e,n=i.brandColor,o=n===void 0?t[0]:n,l={backgroundColor:"#141414",brandColor:o,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:t,paletteQualitative20:a,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:al,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:G[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:G[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:Lt[85],axisTickLineBorderColor:G[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:G[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:G[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:G[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:G[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:ht[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:G[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:G[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:G[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:G[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:G[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:G[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Lt[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Lt[25],annotationArcBorderColor:G[15],annotationArcBorder:1,annotationLineBorderColor:G[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:G[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:G[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:G[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:G[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:G[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Lt[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:G[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Lt[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:G[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:ht[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Lt[100],pointBorderOpacity:1,pointActiveBorderColor:G[100],pointSelectedBorder:2,pointSelectedBorderColor:G[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:ht[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Lt[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:G[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:G[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:ht[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:ht[0],areaFillOpacity:.25,areaActiveFillColor:ht[0],areaActiveFillOpacity:.5,areaSelectedFillColor:ht[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:ht[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:G[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:G[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:ht[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:G[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:G[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:ht[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Lt[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:G[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:G[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return(0,p.pi)((0,p.pi)({},l),i)},ol=nl(),qr=K(13063),ll=K(73578),sl=function(i){(0,p.ZT)(r,i);function r(t){var e=i.call(this,t)||this;e.type="path",e.shapeType="line";var a=t.connectNulls,n=a===void 0?!1:a,o=t.showSinglePoint,l=o===void 0?!0:o;return e.connectNulls=n,e.showSinglePoint=l,e}return r.prototype.updateElements=function(t,e){var a,n,o,l,s,c;e===void 0&&(e=!1);for(var v=new Map,u=new Map,f=[],d=0,g=0;g<t.length;g++){var y=t[g],m=this.getElementId(y);f.push(m),v.set(m,y),u.set(m,d),d++}this.elements=new Array(d);var x=Hr(this.lastElementsMap,f),C=x.added,w=x.updated,S=x.removed;try{for(var T=(0,p.XA)(C),b=T.next();!b.done;b=T.next()){var m=b.value,y=v.get(m),L=this.getShapeFactory(),M=this.getShapeInfo(y),g=u.get(m),E=new Rr({shapeFactory:L,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:g});E.geometry=this,E.animate=this.animateOption,E.draw(M,e),this.elementsMap[m]=E,this.elements[g]=E}}catch(Y){a={error:Y}}finally{try{b&&!b.done&&(n=T.return)&&n.call(T)}finally{if(a)throw a.error}}try{for(var A=(0,p.XA)(w),B=A.next();!B.done;B=A.next()){var m=B.value,y=v.get(m),E=this.lastElementsMap[m],g=u.get(m),M=this.getShapeInfo(y),k=E.getModel();(this.isCoordinateChanged||Vr(k,M))&&(E.animate=this.animateOption,E.update(M)),this.elementsMap[m]=E,this.elements[g]=E}}catch(Y){o={error:Y}}finally{try{B&&!B.done&&(l=A.return)&&l.call(A)}finally{if(o)throw o.error}}try{for(var P=(0,p.XA)(S),O=P.next();!O.done;O=P.next()){var m=O.value,E=this.lastElementsMap[m];E.animate=this.animateOption,E.destroy()}}catch(Y){s={error:Y}}finally{try{O&&!O.done&&(c=P.return)&&c.call(P)}finally{if(s)throw s.error}}},r.prototype.getPointsAndData=function(t){for(var e=[],a=[],n=0,o=t.length;n<o;n++){var l=t[n];e.push({x:l.x,y:l.y}),a.push(l[D])}return{points:e,data:a}},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),a=this.getPointsAndData(t),n=a.points,o=a.data;return e.mappingData=t,e.data=o,e.isStack=!!this.getAdjust("stack"),e.points=n,e.connectNulls=this.connectNulls,e.showSinglePoint=this.showSinglePoint,e},r}(Tt),li=sl;function hl(i,r,t,e,a){var n=[];if(i.length){for(var o=[],l=[],s=0,c=i.length;s<c;s++){var v=i[s];o.push(v[1]),l.push(v[0])}l=l.reverse(),(0,h.S6)([o,l],function(u,f){var d=[],g=e.parsePoints(u),y=g[0];o.length===1&&l.length===1?d=f===0?[["M",y.x-.5,y.y],["L",y.x+.5,y.y]]:[["L",y.x+.5,y.y],["L",y.x-.5,y.y]]:(r&&g.push({x:y.x,y:y.y}),t?d=me(g,!1,a):d=_t(g,!1),f>0&&(d[0][0]="L")),n=n.concat(d)}),n.push(["Z"])}return n}function Le(i,r,t,e,a){for(var n=Z(i,r,!r,"lineWidth"),o=i.connectNulls,l=i.isInCircle,s=i.points,c=i.showSinglePoint,v=be(s,o,c),u=[],f=0,d=v.length;f<d;f++){var g=v[f];u=u.concat(hl(g,l,t,e,a))}return n.path=u,n}function _r(i){var r=i.start,t=i.end;return[[r.x,t.y],[t.x,r.y]]}var Ou=St("area",{defaultShapeType:"area",getDefaultPoints:function(i){var r=i.x,t=i.y0,e=(0,h.kJ)(i.y)?i.y:[t,i.y];return e.map(function(a){return{x:r,y:a}})}});z("area","area",{draw:function(i,r){var t=Le(i,!1,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,a){return a===void 0&&(a=5.5),[["M",t-a,e-4],["L",t+a,e-4],["L",t+a,e+4],["L",t-a,e+4],["Z"]]},style:{r:5,fill:r}}}});var Du=null,cl=function(i){(0,p.ZT)(r,i);function r(t){var e=i.call(this,t)||this;e.type="area",e.shapeType="area",e.generatePoints=!0,e.startOnZero=!0;var a=t.startOnZero,n=a===void 0?!0:a,o=t.sortable,l=o===void 0?!1:o,s=t.showSinglePoint,c=s===void 0?!1:s;return e.startOnZero=n,e.sortable=l,e.showSinglePoint=c,e}return r.prototype.getPointsAndData=function(t){for(var e=[],a=[],n=0,o=t.length;n<o;n++){var l=t[n];e.push(l.points),a.push(l[D])}return{points:e,data:a}},r.prototype.getYMinValue=function(){if(this.startOnZero)return i.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},r}(li),ul=cl,Gu=St("edge",{defaultShapeType:"line",getDefaultPoints:function(i){return ni(i)}});z("edge","line",{draw:function(i,r){var t=Z(i,!0,!1,"lineWidth"),e=_t(this.parsePoints(i.points),this.coordinate.isPolar);return r.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},t),{path:e})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var Vu=null,vl=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return r}(Tt),fl=vl,si=K(55223),pl=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return r.prototype.updateElements=function(t,e){e===void 0&&(e=!1);for(var a=0;a<t.length;a++){var n=t[a],o=this.prepareRange(n),l=this.prepareSize(),s=(0,h.U2)(this.styleOption,["cfg","shadowBlur"]);(0,h.hj)(s)||(s=l/2),this.prepareGreyScaleBlurredCircle(l,s),this.drawWithRange(n,o,l,s)}},r.prototype.color=function(t,e){return this.createAttrOption("color",t,typeof e!="function"?e:""),this},r.prototype.clear=function(){i.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var e=this.getAttribute("color"),a=e.getFields()[0],n=Infinity,o=-Infinity;return t.forEach(function(l){var s=l[D][a];s>o&&(o=s),s<n&&(n=s)}),n===o&&(n=o-1),[n,o]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,h.hj)(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,e){var a=this.getGrayScaleBlurredCanvas(),n=t+e,o=a.getContext("2d");a.width=a.height=n*2,o.clearRect(0,0,a.width,a.height),o.shadowOffsetX=o.shadowOffsetY=n*2,o.shadowBlur=e,o.shadowColor="black",o.beginPath(),o.arc(-n,-n,t,0,Math.PI*2,!0),o.closePath(),o.fill()},r.prototype.drawWithRange=function(t,e,a,n){var o,l,s=this.coordinate,c=s.start,v=s.end,u=this.coordinate.getWidth(),f=this.coordinate.getHeight(),d=this.getAttribute("color"),g=d.getFields()[0];this.clearShadowCanvasCtx();var y=this.getShadowCanvasCtx();e&&(t=t.filter(function(A){return A[D][g]<=e[1]&&A[D][g]>=e[0]}));var m=this.scales[g];try{for(var x=(0,p.XA)(t),C=x.next();!C.done;C=x.next()){var w=C.value,S=this.getDrawCfg(w),T=S.x,b=S.y,L=m.scale(w[D][g]);this.drawGrayScaleBlurredCircle(T-c.x,b-v.y,a+n,L,y)}}catch(A){o={error:A}}finally{try{C&&!C.done&&(l=x.return)&&l.call(x)}finally{if(o)throw o.error}}var M=y.getImageData(0,0,u,f);this.clearShadowCanvasCtx(),this.colorize(M),y.putImageData(M,0,0);var E=this.getImageShape();E.attr("x",c.x),E.attr("y",v.y),E.attr("width",u),E.attr("height",f),E.attr("img",y.canvas),E.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),e=this.coordinate;return Math.min(e.getWidth()/(t.scales[0].ticks.length*4),e.getHeight()/(t.scales[1].ticks.length*4))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,e,a,n,o){var l=this.getGrayScaleBlurredCanvas();o.globalAlpha=n,o.drawImage(l,t-a,e-a)},r.prototype.colorize=function(t){for(var e=this.getAttribute("color"),a=t.data,n=this.paletteCache,o=3;o<a.length;o+=4){var l=a[o];if((0,h.hj)(l)){var s=n[l]?n[l]:si.Z.rgb2arr(e.gradient(l/256));a[o-3]=s[0],a[o-2]=s[1],a[o-1]=s[2],a[o]=l}}},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var e=this.container;return t=e.addShape({type:"image",attrs:{}}),this.imageShape=t,t},r.prototype.getShapeInfo=function(t){var e=this.getDrawCfg(t[0]),a=t.map(function(n){return n[D]});return(0,p.pi)((0,p.pi)({},e),{mappingData:t,data:a})},r}(Tt),dl=pl;function hi(i){var r,t,e=i.x,a=i.y,n=i.y0,o=i.size,l,s;(0,h.kJ)(a)?(r=(0,p.CR)(a,2),l=r[0],s=r[1]):(l=n,s=a);var c,v;(0,h.kJ)(e)?(t=(0,p.CR)(e,2),c=t[0],v=t[1]):(c=e-o/2,v=e+o/2);var u=[{x:c,y:l},{x:c,y:s}];return u.push({x:v,y:s},{x:v,y:l}),u}function ci(i,r){r===void 0&&(r=!0);var t=[],e=i[0];t.push(["M",e.x,e.y]);for(var a=1,n=i.length;a<n;a++)t.push(["L",i[a].x,i[a].y]);return r&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}function ta(i,r){var t=0,e=0,a=0,n=0;return(0,h.kJ)(i)?i.length===1?t=e=a=n=i[0]:i.length===2?(t=a=i[0],e=n=i[1]):i.length===3?(t=i[0],e=n=i[1],a=i[2]):(t=i[0],e=i[1],a=i[2],n=i[3]):t=e=a=n=i,t+e>r&&(t=t?r/(1+e/t):0,e=r-t),a+n>r&&(a=a?r/(1+n/a):0,n=r-a),[t||0,e||0,a||0,n||0]}function ea(i,r,t){var e=[];if(t.isRect){var a=t.isTransposed?{x:t.start.x,y:r[0].y}:{x:r[0].x,y:t.start.y},n=t.isTransposed?{x:t.end.x,y:r[2].y}:{x:r[3].x,y:t.end.y},o=(0,h.U2)(i,["background","style","radius"]);if(o){var l=t.isTransposed?Math.abs(r[0].y-r[2].y):r[2].x-r[1].x,s=t.isTransposed?t.getWidth():t.getHeight(),c=(0,p.CR)(ta(o,Math.min(l,s)),4),v=c[0],u=c[1],f=c[2],d=c[3];e.push(["M",a.x,n.y+v]),v!==0&&e.push(["A",v,v,0,0,1,a.x+v,n.y]),e.push(["L",n.x-u,n.y]),u!==0&&e.push(["A",u,u,0,0,1,n.x,n.y+u]),e.push(["L",n.x,a.y-f]),f!==0&&e.push(["A",f,f,0,0,1,n.x-f,a.y]),e.push(["L",a.x+d,a.y]),d!==0&&e.push(["A",d,d,0,0,1,a.x,a.y-d])}else e.push(["M",a.x,a.y]),e.push(["L",n.x,a.y]),e.push(["L",n.x,n.y]),e.push(["L",a.x,n.y]),e.push(["L",a.x,a.y]);e.push(["z"])}if(t.isPolar){var g=t.getCenter(),y=Kt(i,t),m=y.startAngle,x=y.endAngle;if(t.type!=="theta"&&!t.isTransposed)e=xt(g.x,g.y,t.getRadius(),m,x);else{var C=function(T){return Math.pow(T,2)},v=Math.sqrt(C(g.x-r[0].x)+C(g.y-r[0].y)),u=Math.sqrt(C(g.x-r[2].x)+C(g.y-r[2].y));e=xt(g.x,g.y,v,t.startAngle,t.endAngle,u)}}return e}function gl(i,r,t){var e=t.getWidth(),a=t.getHeight(),n=t.type==="rect",o=[],l=(i[2].x-i[1].x)/2,s=t.isTransposed?l*a/e:l*e/a;return r==="round"?(n?(o.push(["M",i[0].x,i[0].y+s]),o.push(["L",i[1].x,i[1].y-s]),o.push(["A",l,l,0,0,1,i[2].x,i[2].y-s]),o.push(["L",i[3].x,i[3].y+s]),o.push(["A",l,l,0,0,1,i[0].x,i[0].y+s])):(o.push(["M",i[0].x,i[0].y]),o.push(["L",i[1].x,i[1].y]),o.push(["A",l,l,0,0,1,i[2].x,i[2].y]),o.push(["L",i[3].x,i[3].y]),o.push(["A",l,l,0,0,1,i[0].x,i[0].y])),o.push(["z"])):o=ci(i),o}function ia(i,r,t){var e=[];return(0,h.UM)(r)?t?e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",(i[2].x+i[3].x)/2,(i[2].y+i[3].y)/2],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",i[2].x,i[2].y],["L",i[3].x,i[3].y],["Z"]):e.push(["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),e}function ae(i,r){return[r,i]}function yl(i,r,t){var e,a,n,o,l,s,c,v=(0,p.CR)((0,p.ev)([],(0,p.CR)(i),!1),4),u=v[0],f=v[1],d=v[2],g=v[3],y=(0,p.CR)(typeof t=="number"?Array(4).fill(t):t,4),m=y[0],x=y[1],C=y[2],w=y[3];r.isTransposed&&(e=(0,p.CR)(ae(f,g),2),f=e[0],g=e[1]),r.isReflect("y")&&(a=(0,p.CR)(ae(u,f),2),u=a[0],f=a[1],n=(0,p.CR)(ae(d,g),2),d=n[0],g=n[1]),r.isReflect("x")&&(o=(0,p.CR)(ae(u,g),2),u=o[0],g=o[1],l=(0,p.CR)(ae(f,d),2),f=l[0],d=l[1]);var S=[],T=function(b){return Math.abs(b)};return s=(0,p.CR)(ta([m,x,C,w],Math.min(T(g.x-u.x),T(f.y-u.y))).map(function(b){return T(b)}),4),m=s[0],x=s[1],C=s[2],w=s[3],r.isTransposed&&(c=(0,p.CR)([w,m,x,C],4),m=c[0],x=c[1],C=c[2],w=c[3]),u.y<f.y?(S.push(["M",g.x,g.y+C]),C!==0&&S.push(["A",C,C,0,0,0,g.x-C,g.y]),S.push(["L",u.x+w,u.y]),w!==0&&S.push(["A",w,w,0,0,0,u.x,u.y+w]),S.push(["L",f.x,f.y-m]),m!==0&&S.push(["A",m,m,0,0,0,f.x+m,f.y]),S.push(["L",d.x-x,d.y]),x!==0&&S.push(["A",x,x,0,0,0,d.x,d.y-x]),S.push(["L",g.x,g.y+C]),S.push(["z"])):g.x<u.x?(S.push(["M",d.x+x,d.y]),x!==0&&S.push(["A",x,x,0,0,0,d.x,d.y+x]),S.push(["L",g.x,g.y-C]),C!==0&&S.push(["A",C,C,0,0,0,g.x+C,g.y]),S.push(["L",u.x-w,u.y]),w!==0&&S.push(["A",w,w,0,0,0,u.x,u.y-w]),S.push(["L",f.x,f.y+m]),m!==0&&S.push(["A",m,m,0,0,0,f.x-m,f.y]),S.push(["L",d.x+x,d.y]),S.push(["z"])):(S.push(["M",f.x,f.y+m]),m!==0&&S.push(["A",m,m,0,0,1,f.x+m,f.y]),S.push(["L",d.x-x,d.y]),x!==0&&S.push(["A",x,x,0,0,1,d.x,d.y+x]),S.push(["L",g.x,g.y-C]),C!==0&&S.push(["A",C,C,0,0,1,g.x-C,g.y]),S.push(["L",u.x+w,u.y]),w!==0&&S.push(["A",w,w,0,0,1,u.x,u.y-w]),S.push(["L",f.x,f.y+m]),S.push(["z"])),S}var Hu=St("interval",{defaultShapeType:"rect",getDefaultPoints:function(i){return hi(i)}});z("interval","rect",{draw:function(i,r){var t=Z(i,!1,!0),e=r,a=i==null?void 0:i.background;if(a){e=r.addGroup();var n=Jr(i),o=ea(i,this.parsePoints(i.points),this.coordinate);e.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},n),{path:o}),zIndex:-1,name:qe})}var l;t.radius&&this.coordinate.isRect?l=yl(this.parsePoints(i.points),this.coordinate,t.radius):l=this.parsePath(gl(i.points,t.lineCap,this.coordinate));var s=e.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},t),{path:l}),name:"interval"});return a?e:s},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});var zu=null;function ml(i,r){var t=i.length,e=i;(0,h.HD)(e[0])&&(e=i.map(function(l){return r.translate(l)}));for(var a=e[1]-e[0],n=2;n<t;n++){var o=e[n]-e[n-1];a>o&&(a=o)}return a}function xl(i,r){if(r){var t=(0,h.xH)(i),e=(0,h.I)(t,r);return e.length}return i.length}function ui(i){var r=i.theme,t=i.coordinate,e=i.getXScale(),a=e.values,n=i.beforeMappingData,o=a.length,l=Qt(i.coordinate),s=i.intervalPadding,c=i.dodgePadding,v=i.maxColumnWidth||r.maxColumnWidth,u=i.minColumnWidth||r.minColumnWidth,f=i.columnWidthRatio||r.columnWidthRatio,d=i.multiplePieWidthRatio||r.multiplePieWidthRatio,g=i.roseWidthRatio||r.roseWidthRatio;if(e.isLinear&&a.length>1){a.sort();var y=ml(a,e);o=(e.max-e.min)/y,a.length>o&&(o=a.length)}var m=e.range,x=1/o,C=1;if(t.isPolar?t.isTransposed&&o>1?C=d:C=g:(e.isLinear&&(x*=m[1]-m[0]),C=f),!(0,h.UM)(s)&&s>=0){var w=s/l;x=(1-(o-1)*w)/o}else x*=C;if(i.getAdjust("dodge")){var S=i.getAdjust("dodge"),T=S.dodgeBy,b=xl(n,T);if(!(0,h.UM)(c)&&c>=0){var L=c/l;x=(x-L*(b-1))/b}else!(0,h.UM)(s)&&s>=0&&(x*=C),x=x/b;x=x>=0?x:0}if(!(0,h.UM)(v)&&v>=0){var M=v/l;x>M&&(x=M)}if(!(0,h.UM)(u)&&u>=0){var E=u/l;x<E&&(x=E)}return x}var wl=function(i){(0,p.ZT)(r,i);function r(t){var e=i.call(this,t)||this;e.type="interval",e.shapeType="interval",e.generatePoints=!0;var a=t.background;return e.background=a,e}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),a,n=this.getAttribute("size");if(n){a=this.getAttributeValues(n,t)[0];var o=this.coordinate,l=Qt(o);a=a/l}else this.defaultSize||(this.defaultSize=ui(this)),a=this.defaultSize;return e.size=a,e},r.prototype.adjustScale=function(){i.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:An(t)});else{var e=this.scaleDefs,a=t.field,n=t.min,o=t.max,l=t.type;l!=="time"&&(n>0&&!(0,h.U2)(e,[a,"min"])&&t.change({min:0}),o<=0&&!(0,h.U2)(e,[a,"max"])&&t.change({max:0}))}},r.prototype.getDrawCfg=function(t){var e=i.prototype.getDrawCfg.call(this,t);return e.background=this.background,e},r}(Tt),Cl=wl,Sl=function(i){(0,p.ZT)(r,i);function r(t){var e=i.call(this,t)||this;e.type="line";var a=t.sortable,n=a===void 0?!1:a;return e.sortable=n,e}return r}(li),Tl=Sl,ra=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],bl=["cross","tick","plus","hyphen","line"];function vi(i,r,t,e,a){var n,o,l=Z(r,a,!a,"r"),s=i.parsePoints(r.points),c=s[0];if(r.isStack)c=s[1];else if(s.length>1){var v=t.addGroup();try{for(var u=(0,p.XA)(s),f=u.next();!f.done;f=u.next()){var d=f.value;v.addShape({type:"marker",attrs:(0,p.pi)((0,p.pi)((0,p.pi)({},l),{symbol:kt[e]||e}),d)})}}catch(g){n={error:g}}finally{try{f&&!f.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}return v}return t.addShape({type:"marker",attrs:(0,p.pi)((0,p.pi)((0,p.pi)({},l),{symbol:kt[e]||e}),c)})}var Xu=St("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(i){return ni(i)}});(0,h.S6)(ra,function(i){z("point","hollow-".concat(i),{draw:function(r,t){return vi(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:kt[i]||i,style:{r:4.5,stroke:t,fill:null}}}})});var Uu=null,Ll=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return r.prototype.getDrawCfg=function(t){var e=i.prototype.getDrawCfg.call(this,t);return(0,p.pi)((0,p.pi)({},e),{isStack:!!this.getAdjust("stack")})},r}(Tt),Ml=Ll;function Al(i){for(var r=i[0],t=1,e=[["M",r.x,r.y]];t<i.length;){var a=i[t];(a.x!==i[t-1].x||a.y!==i[t-1].y)&&(e.push(["L",a.x,a.y]),a.x===r.x&&a.y===r.y&&t<i.length-1&&(r=i[t+1],e.push(["Z"]),e.push(["M",r.x,r.y]),t++)),t++}return(0,h.Xy)((0,h.Z$)(e),r)||e.push(["L",r.x,r.y]),e.push(["Z"]),e}var Yu=St("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(i){var r=[];return(0,h.S6)(i.x,function(t,e){var a=i.y[e];r.push({x:t,y:a})}),r}});z("polygon","polygon",{draw:function(i,r){if(!(0,h.xb)(i.points)){var t=Z(i,!0,!0),e=this.parsePath(Al(i.points));return r.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},t),{path:e}),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});var Nu=null,Fl=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),a=e.x,n=e.y,o;if(!((0,h.kJ)(a)&&(0,h.kJ)(n))){var l=this.getXScale(),s=this.getYScale(),c=l.values.length,v=s.values.length,u=.5*1/c,f=.5*1/v;l.isCategory&&s.isCategory?(a=[a-u,a-u,a+u,a+u],n=[n-f,n+f,n+f,n-f]):(0,h.kJ)(a)?(o=a,a=[o[0],o[0],o[1],o[1]],n=[n-f/2,n+f/2,n+f/2,n-f/2]):(0,h.kJ)(n)&&(o=n,n=[o[0],o[1],o[1],o[0]],a=[a-u/2,a-u/2,a+u/2,a+u/2]),e.x=a,e.y=n}return e},r}(Tt),El=Fl,Wu=St("schema",{defaultShapeType:""}),Zu=null,Bl=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),a,n=this.getAttribute("size");if(n){a=this.getAttributeValues(n,t)[0];var o=this.coordinate,l=Qt(o);a=a/l}else this.defaultSize||(this.defaultSize=ui(this)),a=this.defaultSize;return e.size=a,e},r}(Tt),kl=Bl;function Il(i){if(!(0,h.kJ)(i))return[];var r=(0,h.Fp)(i);return(0,h.UI)(i,function(t){return t/r})}var ju=St("violin",{defaultShapeType:"violin",getDefaultPoints:function(i){var r=i.size/2,t=[],e=Il(i._size);return(0,h.S6)(i.y,function(a,n){var o=e[n]*r,l=n===0,s=n===i.y.length-1;t.push({isMin:l,isMax:s,x:i.x-o,y:a}),t.unshift({isMin:l,isMax:s,x:i.x+o,y:a})}),t}});z("violin","violin",{draw:function(i,r){var t=Z(i,!0,!0),e=this.parsePath(jr(i.points));return r.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},t),{path:e}),name:"violin"})},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4,fill:r}}}});var $u=null,Pl=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.type="violin",t.shapeType="violin",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var e=i.prototype.createShapePointsCfg.call(this,t),a,n=this.getAttribute("size");if(n){a=this.getAttributeValues(n,t)[0];var o=this.coordinate,l=Qt(o);a=a/l}else this.defaultSize||(this.defaultSize=ui(this)),a=this.defaultSize;return e.size=a,e._size=(0,h.U2)(t[D],[this._sizeField]),e},r.prototype.initAttributes=function(){var t=this.attributeOption,e=t.size?t.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=e,delete t.size,i.prototype.initAttributes.call(this)},r}(Tt),Rl=Pl;z("area","line",{draw:function(i,r){var t=Le(i,!0,!1,this),e=r.addShape({type:"path",attrs:t,name:"area"});return e},getMarker:function(i){var r=i.color;return{symbol:function(t,e,a){return a===void 0&&(a=5.5),[["M",t-a,e-4],["L",t+a,e-4],["L",t+a,e+4],["L",t-a,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}}),z("area","smooth",{draw:function(i,r){var t=this.coordinate,e=Le(i,!1,!0,this,_r(t)),a=r.addShape({type:"path",attrs:e,name:"area"});return a},getMarker:function(i){var r=i.color;return{symbol:function(t,e,a){return a===void 0&&(a=5.5),[["M",t-a,e-4],["L",t+a,e-4],["L",t+a,e+4],["L",t-a,e+4],["Z"]]},style:{r:5,fill:r}}}}),z("area","smooth-line",{draw:function(i,r){var t=this.coordinate,e=Le(i,!0,!0,this,_r(t)),a=r.addShape({type:"path",attrs:e,name:"area"});return a},getMarker:function(i){var r=i.color;return{symbol:function(t,e,a){return a===void 0&&(a=5.5),[["M",t-a,e-4],["L",t+a,e-4],["L",t+a,e+4],["L",t-a,e+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}});function fi(i,r){return["C",i.x*1/2+r.x*1/2,i.y,i.x*1/2+r.x*1/2,r.y,r.x,r.y]}function pi(i,r){var t=[];t.push({x:r.x,y:r.y}),t.push(i);var e=["Q"];return(0,h.S6)(t,function(a){e.push(a.x,a.y)}),e}function Ol(i,r,t){var e=pi(r,t),a=[["M",i.x,i.y]];return a.push(e),a}function Dl(i,r){var t=pi(i[1],r),e=pi(i[3],r),a=[["M",i[0].x,i[0].y]];return a.push(e),a.push(["L",i[3].x,i[3].y]),a.push(["L",i[2].x,i[2].y]),a.push(t),a.push(["L",i[1].x,i[1].y]),a.push(["L",i[0].x,i[0].y]),a.push(["Z"]),a}z("edge","arc",{draw:function(i,r){var t=Z(i,!0,!1,"lineWidth"),e=i.points,a=e.length>2?"weight":"normal",n;if(i.isInCircle){var o={x:0,y:1};return a==="normal"?n=Ol(e[0],e[1],o):(t.fill=t.stroke,n=Dl(e,o)),n=this.parsePath(n),r.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},t),{path:n})})}else{if(a==="normal")return e=this.parsePoints(e),n=Ki((e[1].x+e[0].x)/2,e[0].y,Math.abs(e[1].x-e[0].x)/2,Math.PI,Math.PI*2),r.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},t),{path:n})});var l=fi(e[1],e[3]),s=fi(e[2],e[0]);return n=[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],l,["L",e[3].x,e[3].y],["L",e[2].x,e[2].y],s,["Z"]],n=this.parsePath(n),t.fill=t.stroke,r.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},t),{path:n})})}},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});function Gl(i,r){var t=fi(i,r),e=[["M",i.x,i.y]];return e.push(t),e}z("edge","smooth",{draw:function(i,r){var t=Z(i,!0,!1,"lineWidth"),e=i.points,a=this.parsePath(Gl(e[0],e[1]));return r.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},t),{path:a})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}});var Me=1/3;function Vl(i,r){var t=[];t.push({x:i.x,y:i.y*(1-Me)+r.y*Me}),t.push({x:r.x,y:i.y*(1-Me)+r.y*Me}),t.push(r);var e=[["M",i.x,i.y]];return(0,h.S6)(t,function(a){e.push(["L",a.x,a.y])}),e}z("edge","vhv",{draw:function(i,r){var t=Z(i,!0,!1,"lineWidth"),e=i.points,a=this.parsePath(Vl(e[0],e[1]));return r.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},t),{path:a})})},getMarker:function(i){return{symbol:"circle",style:{r:4.5,fill:i.color}}}}),z("interval","funnel",{getPoints:function(i){return i.size=i.size*2,hi(i)},draw:function(i,r){var t=Z(i,!1,!0),e=this.parsePath(ia(i.points,i.nextPoints,!1)),a=r.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},t),{path:e}),name:"interval"});return a},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}}),z("interval","hollow-rect",{draw:function(i,r){var t=Z(i,!0,!1),e=r,a=i==null?void 0:i.background;if(a){e=r.addGroup();var n=Jr(i),o=ea(i,this.parsePoints(i.points),this.coordinate);e.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},n),{path:o}),zIndex:-1,name:qe})}var l=this.parsePath(ci(i.points)),s=e.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},t),{path:l}),name:"interval"});return a?e:s},getMarker:function(i){var r=i.color,t=i.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}});function Hl(i){var r=i.x,t=i.y,e=i.y0;return(0,h.kJ)(t)?t.map(function(a,n){return{x:(0,h.kJ)(r)?r[n]:r,y:a}}):[{x:r,y:e},{x:r,y:t}]}z("interval","line",{getPoints:function(i){return Hl(i)},draw:function(i,r){var t=Z(i,!0,!1,"lineWidth"),e=it((0,p.pi)({},t),["fill"]),a=this.parsePath(ci(i.points,!1)),n=r.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},e),{path:a}),name:"interval"});return n},getMarker:function(i){var r=i.color;return{symbol:function(t,e,a){return[["M",t,e-a],["L",t,e+a]]},style:{r:5,stroke:r}}}}),z("interval","pyramid",{getPoints:function(i){return i.size=i.size*2,hi(i)},draw:function(i,r){var t=Z(i,!1,!0),e=this.parsePath(ia(i.points,i.nextPoints,!0)),a=r.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},t),{path:e}),name:"interval"});return a},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}});function zl(i){var r,t=i.x,e=i.y,a=i.y0,n=i.size,o,l;(0,h.kJ)(e)?(r=(0,p.CR)(e,2),o=r[0],l=r[1]):(o=a,l=e);var s=t+n/2,c=t-n/2;return[{x:t,y:o},{x:t,y:l},{x:c,y:o},{x:s,y:o},{x:c,y:l},{x:s,y:l}]}function Xl(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y]]}z("interval","tick",{getPoints:function(i){return zl(i)},draw:function(i,r){var t=Z(i,!0,!1),e=this.parsePath(Xl(i.points)),a=r.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},t),{path:e}),name:"interval"});return a},getMarker:function(i){var r=i.color;return{symbol:function(t,e,a){return[["M",t-a/2,e-a],["L",t+a/2,e-a],["M",t,e-a],["L",t,e+a],["M",t-a/2,e+a],["L",t+a/2,e+a]]},style:{r:5,stroke:r}}}});var Ul=function(i,r,t){var e=i.x,a=i.y,n=r.x,o=r.y,l;switch(t){case"hv":l=[{x:n,y:a}];break;case"vh":l=[{x:e,y:o}];break;case"hvh":var s=(n+e)/2;l=[{x:s,y:a},{x:s,y:o}];break;case"vhv":var c=(a+o)/2;l=[{x:e,y:c},{x:n,y:c}];break;default:break}return l};function Yl(i,r){var t=[];return(0,h.S6)(i,function(e,a){var n=i[a+1];if(t.push(e),n){var o=Ul(e,n,r);t=t.concat(o)}}),t}function Nl(i){return i.map(function(r,t){return t===0?["M",r.x,r.y]:["L",r.x,r.y]})}function Wl(i,r){var t=be(i.points,i.connectNulls,i.showSinglePoint),e=[];return(0,h.S6)(t,function(a){var n=Yl(a,r);e=e.concat(Nl(n))}),(0,p.pi)((0,p.pi)({},Z(i,!0,!1,"lineWidth")),{path:e})}(0,h.S6)(["hv","vh","hvh","vhv"],function(i){z("line",i,{draw:function(r,t){var e=Wl(r,i),a=t.addShape({type:"path",attrs:e,name:"line"});return a},getMarker:function(r){return Kr(r,i)}})}),(0,h.S6)(bl,function(i){z("point",i,{draw:function(r,t){return vi(this,r,t,i,!0)},getMarker:function(r){var t=r.color;return{symbol:kt[i],style:{r:4.5,stroke:t,fill:null}}}})}),z("point","image",{draw:function(i,r){var t,e,a=Z(i,!1,!1,"r").r,n=this.parsePoints(i.points),o=n[0];if(i.isStack)o=n[1];else if(n.length>1){var l=r.addGroup();try{for(var s=(0,p.XA)(n),c=s.next();!c.done;c=s.next()){var v=c.value;l.addShape("image",{attrs:{x:v.x-a/2,y:v.y-a,width:a,height:a,img:i.shape[1]}})}}catch(u){t={error:u}}finally{try{c&&!c.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return l}return r.addShape("image",{attrs:{x:o.x-a/2,y:o.y-a,width:a,height:a,img:i.shape[1]}})},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4.5,fill:r}}}}),(0,h.S6)(ra,function(i){z("point",i,{draw:function(r,t){return vi(this,r,t,i,!1)},getMarker:function(r){var t=r.color;return{symbol:kt[i]||i,style:{r:4.5,fill:t}}}})});function aa(i){var r=(0,h.kJ)(i)?i:[i],t=r[0],e=r[r.length-1],a=r.length>1?r[1]:t,n=r.length>3?r[3]:e,o=r.length>2?r[2]:a;return{min:t,max:e,min1:a,max1:n,median:o}}function na(i,r,t){var e=t/2,a;if((0,h.kJ)(r)){var n=aa(r),o=n.min,l=n.max,s=n.median,c=n.min1,v=n.max1,u=i-e,f=i+e;a=[[u,l],[f,l],[i,l],[i,v],[u,c],[u,v],[f,v],[f,c],[i,c],[i,o],[u,o],[f,o],[u,s],[f,s]]}else{r=(0,h.UM)(r)?.5:r;var d=aa(i),o=d.min,l=d.max,s=d.median,c=d.min1,v=d.max1,g=r-e,y=r+e;a=[[o,g],[o,y],[o,r],[c,r],[c,g],[c,y],[v,y],[v,g],[v,r],[l,r],[l,g],[l,y],[s,g],[s,y]]}return a.map(function(m){return{x:m[0],y:m[1]}})}function Zl(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["M",i[4].x,i[4].y],["L",i[5].x,i[5].y],["L",i[6].x,i[6].y],["L",i[7].x,i[7].y],["L",i[4].x,i[4].y],["Z"],["M",i[8].x,i[8].y],["L",i[9].x,i[9].y],["M",i[10].x,i[10].y],["L",i[11].x,i[11].y],["M",i[12].x,i[12].y],["L",i[13].x,i[13].y]]}z("schema","box",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return na(r,t,e)},draw:function(i,r){var t=Z(i,!0,!1),e=this.parsePath(Zl(i.points)),a=r.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},t),{path:e,name:"schema"})});return a},getMarker:function(i){var r=i.color;return{symbol:function(t,e,a){var n=[e-6,e-3,e,e+3,e+6],o=na(t,n,a);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:r}}}});function jl(i){var r=(0,h.kJ)(i)?i:[i],t=r.sort(function(e,a){return a-e});return xn(t,4,t[t.length-1])}function oa(i,r,t){var e=jl(r);return[{x:i,y:e[0]},{x:i,y:e[1]},{x:i-t/2,y:e[2]},{x:i-t/2,y:e[1]},{x:i+t/2,y:e[1]},{x:i+t/2,y:e[2]},{x:i,y:e[2]},{x:i,y:e[3]}]}function $l(i){return[["M",i[0].x,i[0].y],["L",i[1].x,i[1].y],["M",i[2].x,i[2].y],["L",i[3].x,i[3].y],["L",i[4].x,i[4].y],["L",i[5].x,i[5].y],["Z"],["M",i[6].x,i[6].y],["L",i[7].x,i[7].y]]}z("schema","candle",{getPoints:function(i){var r=i.x,t=i.y,e=i.size;return oa(r,t,e)},draw:function(i,r){var t=Z(i,!0,!0),e=this.parsePath($l(i.points)),a=r.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},t),{path:e,name:"schema"})});return a},getMarker:function(i){var r=i.color;return{symbol:function(t,e,a){var n=[e+7.5,e+3,e-3,e-7.5],o=oa(t,n,a);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}});function Jl(i,r){var t=Math.abs(i[0].x-i[2].x),e=Math.abs(i[0].y-i[2].y),a=Math.min(t,e);r&&(a=(0,h.uZ)(r,0,Math.min(t,e))),a=a/2;var n=(i[0].x+i[2].x)/2,o=(i[0].y+i[2].y)/2;return{x:n-a,y:o-a,width:a*2,height:a*2}}z("polygon","square",{draw:function(i,r){if(!(0,h.xb)(i.points)){var t=Z(i,!0,!0),e=this.parsePoints(i.points);return r.addShape("rect",{attrs:(0,p.pi)((0,p.pi)({},t),Jl(e,i.size)),name:"polygon"})}},getMarker:function(i){var r=i.color;return{symbol:"square",style:{r:4,fill:r}}}}),z("violin","smooth",{draw:function(i,r){var t=Z(i,!0,!0),e=this.parsePath($r(i.points));return r.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},t),{path:e})})},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{stroke:null,r:4,fill:r}}}}),z("violin","hollow",{draw:function(i,r){var t=Z(i,!0,!1),e=this.parsePath(jr(i.points));return r.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},t),{path:e})})},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4,fill:null,stroke:r}}}}),z("violin","hollow-smooth",{draw:function(i,r){var t=Z(i,!0,!1),e=this.parsePath($r(i.points));return r.addShape("path",{attrs:(0,p.pi)((0,p.pi)({},t),{path:e})})},getMarker:function(i){var r=i.color;return{symbol:"circle",style:{r:4,fill:null,stroke:r}}}});var Kl=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelValueDir=function(t){var e="y",a=t.points;return a[0][e]<=a[2][e]?1:-1},r.prototype.getLabelOffsetPoint=function(t,e,a,n){var o,l=i.prototype.getLabelOffsetPoint.call(this,t,e,a),s=this.getCoordinate(),c=s.isTransposed,v=c?"x":"y",u=this.getLabelValueDir(t.mappingData);return l=(0,p.pi)((0,p.pi)({},l),(o={},o[v]=l[v]*u,o)),s.isReflect("x")&&(l=(0,p.pi)((0,p.pi)({},l),{x:l.x*-1})),s.isReflect("y")&&(l=(0,p.pi)((0,p.pi)({},l),{y:l.y*-1})),l},r.prototype.getThemedLabelCfg=function(t){var e=this.geometry,a=this.getDefaultLabelCfg(),n=e.theme;return(0,h.b$)({},a,n.labels,t.position==="middle"?{offset:0}:{},t)},r.prototype.setLabelPosition=function(t,e,a,n){var o=this.getCoordinate(),l=o.isTransposed,s=e.points,c=o.convert(s[0]),v=o.convert(s[2]),u=this.getLabelValueDir(e),f,d,g,y,m=(0,h.kJ)(e.shape)?e.shape[0]:e.shape;if(m==="funnel"||m==="pyramid"){var x=(0,h.U2)(e,"nextPoints"),C=(0,h.U2)(e,"points");if(x){var w=o.convert(C[0]),S=o.convert(C[1]),T=o.convert(x[0]),b=o.convert(x[1]);l?(f=Math.min(T.y,w.y),g=Math.max(T.y,w.y),d=(S.x+b.x)/2,y=(w.x+T.x)/2):(f=Math.min((S.y+b.y)/2,(w.y+T.y)/2),g=Math.max((S.y+b.y)/2,(w.y+T.y)/2),d=b.x,y=w.x)}else f=Math.min(v.y,c.y),g=Math.max(v.y,c.y),d=v.x,y=c.x}else f=Math.min(v.y,c.y),g=Math.max(v.y,c.y),d=v.x,y=c.x;switch(n){case"right":t.x=d,t.y=(f+g)/2,t.textAlign=(0,h.U2)(t,"textAlign",u>0?"left":"right");break;case"left":t.x=y,t.y=(f+g)/2,t.textAlign=(0,h.U2)(t,"textAlign",u>0?"left":"right");break;case"bottom":l&&(t.x=(d+y)/2),t.y=g,t.textAlign=(0,h.U2)(t,"textAlign","center"),t.textBaseline=(0,h.U2)(t,"textBaseline",u>0?"bottom":"top");break;case"middle":l&&(t.x=(d+y)/2),t.y=(f+g)/2,t.textAlign=(0,h.U2)(t,"textAlign","center"),t.textBaseline=(0,h.U2)(t,"textBaseline","middle");break;case"top":l&&(t.x=(d+y)/2),t.y=f,t.textAlign=(0,h.U2)(t,"textAlign","center"),t.textBaseline=(0,h.U2)(t,"textBaseline",u>0?"bottom":"top");break;default:break}},r}(ei),Ql=Kl,Ae=Math.PI/2,ql=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getLabelOffset=function(t){var e=this.getCoordinate(),a=0;if((0,h.hj)(t))a=t;else if((0,h.HD)(t)&&t.indexOf("%")!==-1){var n=e.getRadius();e.innerRadius>0&&(n=n*(1-e.innerRadius)),a=parseFloat(t)*.01*n}return a},r.prototype.getLabelItems=function(t){var e=i.prototype.getLabelItems.call(this,t),a=this.geometry.getYScale();return(0,h.UI)(e,function(n){if(n&&a){var o=a.scale((0,h.U2)(n.data,a.field));return(0,p.pi)((0,p.pi)({},n),{percent:o})}return n})},r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),a;if(t.labelEmit)a=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!e.isTransposed)a="center";else{var n=e.getCenter(),o=t.offset;Math.abs(t.x-n.x)<1?a="center":t.angle>Math.PI||t.angle<=0?a=o>0?"left":"right":a=o>0?"right":"left"}return a},r.prototype.getLabelPoint=function(t,e,a){var n=1,o,l=t.content[a];this.isToMiddle(e)?o=this.getMiddlePoint(e.points):(t.content.length===1&&a===0?a=1:a===0&&(n=-1),o=this.getArcPoint(e,a));var s=t.offset*n,c=this.getPointAngle(o),v=t.labelEmit,u=this.getCirclePoint(c,s,o,v);return u.r===0?u.content="":(u.content=l,u.angle=c,u.color=e.color),u.rotate=t.autoRotate?this.getLabelRotate(c,s,v):t.rotate,u.start={x:o.x,y:o.y},u},r.prototype.getArcPoint=function(t,e){return e===void 0&&(e=0),!(0,h.kJ)(t.x)&&!(0,h.kJ)(t.y)?{x:t.x,y:t.y}:{x:(0,h.kJ)(t.x)?t.x[e]:t.x,y:(0,h.kJ)(t.y)?t.y[e]:t.y}},r.prototype.getPointAngle=function(t){return Vt(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,e,a,n){var o=this.getCoordinate(),l=o.getCenter(),s=fe(o,a);if(s===0)return(0,p.pi)((0,p.pi)({},l),{r:s});var c=t;if(o.isTransposed&&s>e&&!n){var v=Math.asin(e/(2*s));c=t+v*2}else s=s+e;return{x:l.x+s*Math.cos(c),y:l.y+s*Math.sin(c),r:s}},r.prototype.getLabelRotate=function(t,e,a){var n=t+Ae;return a&&(n-=Ae),n&&(n>Ae?n=n-Math.PI:n<-Ae&&(n=n+Math.PI)),n},r.prototype.getMiddlePoint=function(t){var e=this.getCoordinate(),a=t.length,n={x:0,y:0};return(0,h.S6)(t,function(o){n.x+=o.x,n.y+=o.y}),n.x/=a,n.y/=a,n=e.convert(n),n},r.prototype.isToMiddle=function(t){return t.x.length>2},r}(ei),la=ql,_l=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.defaultLayout="distribute",t}return r.prototype.getDefaultLabelCfg=function(t,e){var a=i.prototype.getDefaultLabelCfg.call(this,t,e);return(0,h.b$)({},a,(0,h.U2)(this.geometry.theme,"pieLabels",{}))},r.prototype.getLabelOffset=function(t){return i.prototype.getLabelOffset.call(this,t)||0},r.prototype.getLabelRotate=function(t,e,a){var n;return e<0&&(n=t,n>Math.PI/2&&(n=n-Math.PI),n<-Math.PI/2&&(n=n+Math.PI)),n},r.prototype.getLabelAlign=function(t){var e=this.getCoordinate(),a=e.getCenter(),n;return t.angle<=Math.PI/2&&t.x>=a.x?n="left":n="right",t.offset<=0&&(n==="right"?n="left":n="right"),n},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var e=this.getCoordinate(),a={x:(0,h.kJ)(t.x)?t.x[0]:t.x,y:t.y[0]},n={x:(0,h.kJ)(t.x)?t.x[1]:t.x,y:t.y[1]},o,l=Vt(e,a);if(t.points&&t.points[0].y===t.points[1].y)o=l;else{var s=Vt(e,n);l>=s&&(s=s+Math.PI*2),o=l+(s-l)/2}return o},r.prototype.getCirclePoint=function(t,e){var a=this.getCoordinate(),n=a.getCenter(),o=a.getRadius()+e;return(0,p.pi)((0,p.pi)({},j(n.x,n.y,o,t)),{angle:t,r:o})},r}(la),ts=_l,sa=4;function es(i,r,t,e,a,n){var o,l,s=!0,c=e.start,v=e.end,u=Math.min(c.y,v.y),f=Math.abs(c.y-v.y),d,g=0,y=Number.MIN_VALUE,m=r.map(function(L){return L.y>g&&(g=L.y),L.y<y&&(y=L.y),{size:t,targets:[L.y-u]}});for(y-=u,g-u>f&&(f=g-u);s;)for(m.forEach(function(L){var M=(Math.min.apply(y,L.targets)+Math.max.apply(y,L.targets))/2;L.pos=Math.min(Math.max(y,M-L.size/2),f-L.size)}),s=!1,d=m.length;d--;)if(d>0){var x=m[d-1],C=m[d];x.pos+x.size>C.pos&&(x.size+=C.size,x.targets=x.targets.concat(C.targets),x.pos+x.size>f&&(x.pos=f-x.size),m.splice(d,1),s=!0)}d=0,m.forEach(function(L){var M=u+t/2;L.targets.forEach(function(){r[d].y=L.pos+M,M+=t,d++})});var w={};try{for(var S=(0,p.XA)(i),T=S.next();!T.done;T=S.next()){var b=T.value;w[b.get("id")]=b}}catch(L){o={error:L}}finally{try{T&&!T.done&&(l=S.return)&&l.call(S)}finally{if(o)throw o.error}}r.forEach(function(L){var M=L.r*L.r,E=Math.pow(Math.abs(L.y-a.y),2);if(M<E)L.x=a.x;else{var A=Math.sqrt(M-E);n?L.x=a.x+A:L.x=a.x-A}var B=w[L.id];B.attr("x",L.x),B.attr("y",L.y);var k=(0,h.sE)(B.getChildren(),function(P){return P.get("type")==="text"});k&&(k.attr("y",L.y),k.attr("x",L.x))})}function is(i,r,t,e){if(!(!i.length||!r.length)){var a=i[0]?i[0].offset:0,n=r[0].get("coordinate"),o=n.getRadius(),l=n.getCenter();if(a>0){var s=14,c=o+a,v=c*2+s*2,u={start:n.start,end:n.end},f=[[],[]];i.forEach(function(d){!d||(d.textAlign==="right"?f[0].push(d):f[1].push(d))}),f.forEach(function(d,g){var y=v/s;d.length>y&&(d.sort(function(m,x){return x["..percent"]-m["..percent"]}),d.splice(y,d.length-y)),d.sort(function(m,x){return m.y-x.y}),es(r,d,s,u,l,g)})}(0,h.S6)(i,function(d){if(d&&d.labelLine){var g=d.offset,y=d.angle,m=j(l.x,l.y,o,y),x=j(l.x,l.y,o+g/2,y),C=d.x+(0,h.U2)(d,"offsetX",0),w=d.y+(0,h.U2)(d,"offsetY",0),S={x:C-Math.cos(y)*sa,y:w-Math.sin(y)*sa};(0,h.Kn)(d.labelLine)||(d.labelLine={}),d.labelLine.path=["M ".concat(m.x),"".concat(m.y," Q").concat(x.x),"".concat(x.y," ").concat(S.x),S.y].join(",")}})}}function ha(i,r,t){var e=i.filter(function(g){return!g.invisible});e.sort(function(g,y){return g.y-y.y});var a=!0,n=t.minY,o=t.maxY,l=Math.abs(n-o),s,c=0,v=Number.MIN_VALUE,u=e.map(function(g){return g.y>c&&(c=g.y),g.y<v&&(v=g.y),{content:g.content,size:r,targets:[g.y-n],pos:null}});for(v-=n,c-n>l&&(l=c-n);a;)for(u.forEach(function(g){var y=(Math.min.apply(v,g.targets)+Math.max.apply(v,g.targets))/2;g.pos=Math.min(Math.max(v,y-g.size/2),l-g.size),g.pos=Math.max(0,g.pos)}),a=!1,s=u.length;s--;)if(s>0){var f=u[s-1],d=u[s];f.pos+f.size>d.pos&&(f.size+=d.size,f.targets=f.targets.concat(d.targets),f.pos+f.size>l&&(f.pos=l-f.size),u.splice(s,1),a=!0)}s=0,u.forEach(function(g){var y=n+r/2;g.targets.forEach(function(){e[s].y=g.pos+y,y+=r,s++})})}var ca=4;function rs(i,r){var t=r.getCenter(),e=r.getRadius();if(i&&i.labelLine){var a=i.angle,n=i.offset,o=j(t.x,t.y,e,a),l=i.x+(0,h.U2)(i,"offsetX",0)*(Math.cos(a)>0?1:-1),s=i.y+(0,h.U2)(i,"offsetY",0)*(Math.sin(a)>0?1:-1),c={x:l-Math.cos(a)*ca,y:s-Math.sin(a)*ca},v=i.labelLine.smooth,u=[],f=c.x-t.x,d=c.y-t.y,g=Math.atan(d/f);if(f<0&&(g+=Math.PI),v===!1){(0,h.Kn)(i.labelLine)||(i.labelLine={});var y=0;(a<0&&a>-Math.PI/2||a>Math.PI*1.5)&&c.y>o.y&&(y=1),a>=0&&a<Math.PI/2&&c.y>o.y&&(y=1),a>=Math.PI/2&&a<Math.PI&&o.y>c.y&&(y=1),(a<-Math.PI/2||a>=Math.PI&&a<Math.PI*1.5)&&o.y>c.y&&(y=1);var m=n/2>4?4:Math.max(n/2-1,0),x=j(t.x,t.y,e+m,a),C=j(t.x,t.y,e+n/2,g),w=0;u.push("M ".concat(o.x," ").concat(o.y)),u.push("L ".concat(x.x," ").concat(x.y)),u.push("A ".concat(t.x," ").concat(t.y," 0 ").concat(w," ").concat(y," ").concat(C.x," ").concat(C.y)),u.push("L ".concat(c.x," ").concat(c.y))}else{var x=j(t.x,t.y,e+(n/2>4?4:Math.max(n/2-1,0)),a),S=o.x<t.x?1:-1;u.push("M ".concat(c.x," ").concat(c.y));var T=(o.y-t.y)/(o.x-t.x),b=(c.y-t.y)/(c.x-t.x);Math.abs(T-b)>Math.pow(Math.E,-16)&&u.push.apply(u,["C",c.x+S*4,c.y,2*x.x-o.x,2*x.y-o.y,o.x,o.y]),u.push("L ".concat(o.x," ").concat(o.y))}i.labelLine.path=u.join(" ")}}function as(i,r,t,e){var a,n,o=(0,h.hX)(i,function(M){return!(0,h.UM)(M)}),l=r[0]&&r[0].get("coordinate");if(!!l){var s=l.getCenter(),c=l.getRadius(),v={};try{for(var u=(0,p.XA)(r),f=u.next();!f.done;f=u.next()){var d=f.value;v[d.get("id")]=d}}catch(M){a={error:M}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(a)throw a.error}}var g=(0,h.U2)(o[0],"labelHeight",14),y=(0,h.U2)(o[0],"offset",0);if(!(y<=0)){var m="left",x="right",C=(0,h.vM)(o,function(M){return M.x<s.x?m:x}),w=l.start,S=l.end,T=Math.min((c+y+g)*2,l.getHeight()),b=T/2,L={minX:w.x,maxX:S.x,minY:s.y-b,maxY:s.y+b};(0,h.S6)(C,function(M,E){var A=Math.floor(T/g);M.length>A&&(M.sort(function(B,k){return k.percent-B.percent}),(0,h.S6)(M,function(B,k){k+1>A&&(v[B.id].set("visible",!1),B.invisible=!0)})),ha(M,g,L)}),(0,h.S6)(C,function(M,E){(0,h.S6)(M,function(A){var B=E===x,k=v[A.id],P=k.getChildByIndex(0);if(P){var O=c+y,Y=A.y-s.y,ct=Math.pow(O,2),at=Math.pow(Y,2),pt=ct-at>0?ct-at:0,N=Math.sqrt(pt),se=Math.abs(Math.cos(A.angle)*O);B?A.x=s.x+Math.max(N,se):A.x=s.x-Math.max(N,se)}P&&(P.attr("y",A.y),P.attr("x",A.x)),rs(A,l)})})}}}var di=4,ns=4,ua=4;function os(i,r,t){var e=r.getCenter(),a=r.getRadius(),n={x:i.x-(t?ua:-ua),y:i.y},o=j(e.x,e.y,a+di,i.angle),l={x:n.x,y:n.y},s={x:o.x,y:o.y},c=j(e.x,e.y,a,i.angle),v="";if(n.y!==o.y){var u=t?4:-4;l.y=n.y,i.angle<0&&i.angle>=-Math.PI/2&&(l.x=Math.max(o.x,n.x-u),n.y<o.y?s.y=l.y:(s.y=o.y,s.x=Math.max(s.x,l.x-u))),i.angle>0&&i.angle<Math.PI/2&&(l.x=Math.max(o.x,n.x-u),n.y>o.y?s.y=l.y:(s.y=o.y,s.x=Math.max(s.x,l.x-u))),i.angle>Math.PI/2&&(l.x=Math.min(o.x,n.x-u),n.y>o.y?s.y=l.y:(s.y=o.y,s.x=Math.min(s.x,l.x-u))),i.angle<-Math.PI/2&&(l.x=Math.min(o.x,n.x-u),n.y<o.y?s.y=l.y:(s.y=o.y,s.x=Math.min(s.x,l.x-u)))}v=["M ".concat(n.x,",").concat(n.y),"L ".concat(l.x,",").concat(l.y),"L ".concat(s.x,",").concat(s.y),"L ".concat(o.x,",").concat(o.y),"L ".concat(c.x,",").concat(c.y)].join(" "),i.labelLine=(0,h.b$)({},i.labelLine,{path:v})}function ls(i,r,t,e){var a,n,o=r[0]&&r[0].get("coordinate");if(!!o){var l=o.getCenter(),s=o.getRadius(),c={};try{for(var v=(0,p.XA)(r),u=v.next();!u.done;u=v.next()){var f=u.value;c[f.get("id")]=f}}catch(M){a={error:M}}finally{try{u&&!u.done&&(n=v.return)&&n.call(v)}finally{if(a)throw a.error}}var d=(0,h.U2)(i[0],"labelHeight",14),g=Math.max((0,h.U2)(i[0],"offset",0),di);(0,h.S6)(i,function(M){if(!!M){var E=(0,h.U2)(c,[M.id]);if(!!E){var A=M.x>l.x||M.x===l.x&&M.y>l.y,B=(0,h.UM)(M.offsetX)?ns:M.offsetX,k=j(l.x,l.y,s+di,M.angle),P=g+B;M.x=l.x+(A?1:-1)*(s+P),M.y=k.y}}});var y=o.start,m=o.end,x="left",C="right",w=(0,h.vM)(i,function(M){return M.x<l.x?x:C}),S=(s+g)*2+d;(0,h.S6)(w,function(M){var E=M.length*d;E>S&&(S=Math.min(E,Math.abs(y.y-m.y)))});var T={minX:y.x,maxX:m.x,minY:l.y-S/2,maxY:l.y+S/2};(0,h.S6)(w,function(M,E){var A=S/d;M.length>A&&(M.sort(function(B,k){return k.percent-B.percent}),(0,h.S6)(M,function(B,k){k>A&&(c[B.id].set("visible",!1),B.invisible=!0)})),ha(M,d,T)});var b=T.minY,L=T.maxY;(0,h.S6)(w,function(M,E){var A=E===C;(0,h.S6)(M,function(B){var k=(0,h.U2)(c,B&&[B.id]);if(!!k){if(B.y<b||B.y>L){k.set("visible",!1);return}var P=k.getChildByIndex(0),O=P.getCanvasBBox(),Y={x:A?O.x:O.maxX,y:O.y+O.height/2};re(P,B.x-Y.x,B.y-Y.y),B.labelLine&&os(B,o,A)}})})}}function ss(i,r,t,e){(0,h.S6)(r,function(a){var n=e.minX,o=e.minY,l=e.maxX,s=e.maxY,c=a.getCanvasBBox(),v=c.minX,u=c.minY,f=c.maxX,d=c.maxY,g=c.x,y=c.y,m=c.width,x=c.height,C=g,w=y;(v<n||f<n)&&(C=n),(u<o||d<o)&&(w=o),v>l?C=l-m:f>l&&(C=C-(f-l)),u>s?w=s-x:d>s&&(w=w-(d-s)),(C!==g||w!==y)&&re(a,C-g,w-y)})}function hs(i,r,t,e){(0,h.S6)(r,function(a,n){var o=a.getCanvasBBox(),l=t[n].getBBox();(o.minX<l.minX||o.minY<l.minY||o.maxX>l.maxX||o.maxY>l.maxY)&&a.remove(!0)})}var cs=100,va=function(){function i(r){r===void 0&&(r={}),this.bitmap={};var t=r.xGap,e=t===void 0?1:t,a=r.yGap,n=a===void 0?8:a;this.xGap=e,this.yGap=n}return i.prototype.hasGap=function(r){for(var t=!0,e=this.bitmap,a=Math.round(r.minX),n=Math.round(r.maxX),o=Math.round(r.minY),l=Math.round(r.maxY),s=a;s<=n;s+=1){if(!e[s]){e[s]={};continue}if(s===a||s===n){for(var c=o;c<=l;c++)if(e[s][c]){t=!1;break}}else if(e[s][o]||e[s][l]){t=!1;break}}return t},i.prototype.fillGap=function(r){for(var t=this.bitmap,e=Math.round(r.minX),a=Math.round(r.maxX),n=Math.round(r.minY),o=Math.round(r.maxY),l=e;l<=a;l+=1)t[l]||(t[l]={});for(var l=e;l<=a;l+=this.xGap){for(var s=n;s<=o;s+=this.yGap)t[l][s]=!0;t[l][o]=!0}if(this.yGap!==1)for(var l=n;l<=o;l+=1)t[e][l]=!0,t[a][l]=!0;if(this.xGap!==1)for(var l=e;l<=a;l+=1)t[l][n]=!0,t[l][o]=!0},i.prototype.destroy=function(){this.bitmap={}},i}();function us(i,r,t){t===void 0&&(t=cs);var e=-1,a=i.attr(),n=a.x,o=a.y,l=i.getCanvasBBox(),s=Math.sqrt(l.width*l.width+l.height*l.height),c,v=-e,u=0,f=0,d=function(x){var C=x*.1;return[C*Math.cos(C),C*Math.sin(C)]};if(r.hasGap(l))return r.fillGap(l),!0;for(var g=!1,y=0,m={};Math.min(Math.abs(u),Math.abs(f))<s&&y<t;)if(c=d(v+=e),u=~~c[0],f=~~c[1],!(!u&&!f||m["".concat(u,"-").concat(f)])&&(i.attr({x:n+u,y:o+f}),u+f<0&&i.attr("textAlign","right"),y++,r.hasGap(i.getCanvasBBox()))){r.fillGap(i.getCanvasBBox()),g=!0,m["".concat(u,"-").concat(f)]=!0;break}return g}function vs(i,r,t,e){var a=i.getCanvasBBox(),n=a.width,o=a.height,l={x:r,y:t,textAlign:"center"};switch(e){case 0:l.y-=o+1,l.x+=1,l.textAlign="left";break;case 1:l.y-=o+1,l.x-=1,l.textAlign="right";break;case 2:l.y+=o+1,l.x-=1,l.textAlign="right";break;case 3:l.y+=o+1,l.x+=1,l.textAlign="left";break;case 5:l.y-=o*2+2;break;case 6:l.y+=o*2+2;break;case 7:l.x+=n+1,l.textAlign="left";break;case 8:l.x-=n+1,l.textAlign="right";break;default:break}return i.attr(l),i.getCanvasBBox()}function fs(i,r,t,e){var a=new va;(0,h.S6)(r,function(n){var o=n.find(function(l){return l.get("type")==="text"});us(o,a)||n.remove(!0)}),a.destroy()}function ps(i,r,t,e){var a=new va;(0,h.S6)(r,function(n){for(var o=n.find(function(d){return d.get("type")==="text"}),l=o.attr(),s=l.x,c=l.y,v=!1,u=0;u<=8;u++){var f=vs(o,s,c,u);if(a.hasGap(f)){a.fillGap(f),v=!0;break}}v||n.remove(!0)}),a.destroy()}function ds(i,r){return(i[0]||0)*(r[0]||0)+(i[1]||0)*(r[1]||0)+(i[2]||0)*(r[2]||0)}function fa(i){if(i.length>4)return[];var r=function(a,n){return[n.x-a.x,n.y-a.y]},t=r(i[0],i[1]),e=r(i[1],i[2]);return[t,e]}function Fe(i,r,t){r===void 0&&(r=0),t===void 0&&(t={x:0,y:0});var e=i.x,a=i.y;return{x:(e-t.x)*Math.cos(-r)+(a-t.y)*Math.sin(-r)+t.x,y:(t.x-e)*Math.sin(-r)+(a-t.y)*Math.cos(-r)+t.y}}function pa(i){var r=[{x:i.x,y:i.y},{x:i.x+i.width,y:i.y},{x:i.x+i.width,y:i.y+i.height},{x:i.x,y:i.y+i.height}],t=i.rotation;return t?[Fe(r[0],t,r[0]),Fe(r[1],t,r[0]),Fe(r[2],t,r[0]),Fe(r[3],t,r[0])]:r}function da(i,r){if(i.length>4)return{min:0,max:0};var t=[];return i.forEach(function(e){t.push(ds([e.x,e.y],r))}),{min:Math.min.apply(Math,(0,p.ev)([],(0,p.CR)(t),!1)),max:Math.max.apply(Math,(0,p.ev)([],(0,p.CR)(t),!1))}}function gs(i,r){return i.max>r.min&&i.min<r.max}function ys(i){return typeof i=="number"&&!Number.isNaN(i)&&i!==Infinity&&i!==-Infinity}function ga(i){return["x","y","width","height"].every(function(r){return ys(i[r])})}function ms(i,r,t){return t===void 0&&(t=0),!(r.x>i.x+i.width+t||r.x+r.width<i.x-t||r.y>i.y+i.height+t||r.y+r.height<i.y-t)}function xs(i,r,t){if(t===void 0&&(t=0),!ga(i)||!ga(r))return!1;if(!i.rotation&&!r.rotation)return ms(i,r,t);for(var e=pa(i),a=pa(r),n=fa(e).concat(fa(a)),o=0;o<n.length;o++){var l=n[o],s=da(e,l),c=da(a,l);if(!gs(s,c))return!1}return!0}function ws(i){if(typeof window!="undefined"){var r;try{r=new Blob([i.toString()],{type:"application/javascript"})}catch(t){r=new window.BlobBuilder,r.append(i.toString()),r=r.getBlob()}return new Worker(URL.createObjectURL(r))}}var Cs=function(i){function r(){function c(w,S){return(w[0]||0)*(S[0]||0)+(w[1]||0)*(S[1]||0)+(w[2]||0)*(S[2]||0)}function v(w){if(w.length>4)return[];var S=function(L,M){return[M.x-L.x,M.y-L.y]},T=S(w[0],w[1]),b=S(w[1],w[2]);return[T,b]}function u(w,S,T){S===void 0&&(S=0),T===void 0&&(T={x:0,y:0});var b=w.x,L=w.y;return{x:(b-T.x)*Math.cos(-S)+(L-T.y)*Math.sin(-S)+T.x,y:(T.x-b)*Math.sin(-S)+(L-T.y)*Math.cos(-S)+T.y}}function f(w){var S=[{x:w.x,y:w.y},{x:w.x+w.width,y:w.y},{x:w.x+w.width,y:w.y+w.height},{x:w.x,y:w.y+w.height}],T=w.rotation;return T?[u(S[0],T,S[0]),u(S[1],T,S[0]),u(S[2],T,S[0]),u(S[3],T,S[0])]:S}function d(w,S){if(w.length>4)return{min:0,max:0};var T=[];return w.forEach(function(b){T.push(c([b.x,b.y],S))}),{min:Math.min.apply(null,T),max:Math.max.apply(null,T)}}function g(w,S){return w.max>S.min&&w.min<S.max}function y(w){return typeof w=="number"&&!Number.isNaN(w)&&w!==Infinity&&w!==-Infinity}function m(w){return["x","y","width","height"].every(function(S){return y(w[S])})}function x(w,S,T){return T===void 0&&(T=0),!(S.x>w.x+w.width+T||S.x+S.width<w.x-T||S.y>w.y+w.height+T||S.y+S.height<w.y-T)}function C(w,S,T){if(T===void 0&&(T=0),!m(w)||!m(S))return!1;if(!w.rotation&&!S.rotation)return x(w,S,T);for(var b=f(w),L=f(S),M=v(b).concat(v(L)),E=0;E<M.length;E++){var A=M[E],B=d(b,A),k=d(L,A);if(!g(B,k))return!1}return!0}return{intersect:C}}var t=r().intersect;function e(c){for(var v=c.slice(),u=0;u<v.length;u++){var f=v[u];if(f.visible)for(var d=u+1;d<v.length;d++){var g=v[d];f!==g&&g.visible&&t(f,g)&&(g.visible=!1)}}return v}var a={"hide-overlap":e};try{var n=JSON.parse(i.data);if(!n||!n.type||!a[n.type])return;var o=n.type,l=n.items,s=a[o](l);self.postMessage(s)}catch(c){throw c}},Ss=`
   self.onmessage = `.concat(Cs.toString(),`
`),gi=function(i){for(var r=i.slice(),t=0;t<r.length;t++){var e=r[t];if(e.visible)for(var a=t+1;a<r.length;a++){var n=r[a];e!==n&&n.visible&&xs(e,n)&&(n.visible=!1)}}return r},yi=new Map,Ee=ws(Ss);function Ts(i,r,t,e){return new Promise(function(a){var n=r.map(function(s,c){return(0,p.pi)((0,p.pi)({},zr(s,i[c],(0,h.U2)(i[c],"background.padding"))),{visible:!0})}),o=JSON.stringify(n),l=function(s){return yi.set(o,s),(0,h.S6)(s,function(c,v){var u=c.visible,f=r[v];u?f==null||f.show():f==null||f.hide()}),a(s)};if(yi.get(o))l(yi.get(o));else if(Ee)try{Ee.postMessage(JSON.stringify({type:"hide-overlap",items:n})),Ee.onmessage=function(s){return l(Array.isArray(s.data)?s.data:[])},Ee.onmessageerror=function(s){console.warn("[AntV G2] Web worker is not available"),l(gi(n))}}catch(s){console.error(s),l(gi(n))}else l(gi(n))})}var ya={"#5B8FF9":!0},bs=function(i){var r=si.Z.toRGB(i).toUpperCase();if(ya[r])return ya[r];var t=(0,p.CR)(si.Z.rgb2arr(r),3),e=t[0],a=t[1],n=t[2],o=(e*299+a*587+n*114)/1e3<128;return o};function Ls(i,r,t){if(t.length!==0){var e=t[0].get("element"),a=e.geometry.theme,n=a.labels||{},o=n.fillColorLight,l=n.fillColorDark;t.forEach(function(s,c){var v=r[c],u=v.find(function(x){return x.get("type")==="text"}),f=_.fromObject(s.getBBox()),d=_.fromObject(u.getCanvasBBox()),g=!f.contains(d),y=s.attr("fill"),m=bs(y);g?u.attr(a.overflowLabels.style):m?o&&u.attr("fill",o):l&&u.attr("fill",l)})}}function Ms(i,r,t){var e=i.coordinate,a=bt(r),n=_.fromObject(a.getCanvasBBox()),o=_.fromObject(t.getBBox());return e.isTransposed?o.height>=n.height:o.width>=n.width}function As(i,r,t){var e=!!i.getAdjust("stack");return e||r.every(function(a,n){var o=t[n];return Ms(i,a,o)})}function Fs(i,r,t){var e=i.coordinate,a=_.fromObject(t.getBBox()),n=bt(r);e.isTransposed?n.attr({x:a.minX+a.width/2,textAlign:"center"}):n.attr({y:a.minY+a.height/2,textBaseline:"middle"})}function Es(i,r,t){var e;if(t.length!==0){var a=(e=t[0])===null||e===void 0?void 0:e.get("element"),n=a==null?void 0:a.geometry;if(!(!n||n.type!=="interval")){var o=As(n,r,t);o&&t.forEach(function(l,s){var c=r[s];Fs(n,c,l)})}}}function Bs(i){var r=500,t=[],e=Math.max(Math.floor(i.length/r),1);return(0,h.S6)(i,function(a,n){n%e==0?t.push(a):a.set("visible",!1)}),t}function ks(i,r,t){var e;if(t.length!==0){var a=(e=t[0])===null||e===void 0?void 0:e.get("element"),n=a==null?void 0:a.geometry;if(!(!n||n.type!=="interval")){var o=Bs(r),l=(0,p.CR)(n.getXYFields(),1),s=l[0],c=[],v=[],u=(0,h.vM)(o,function(m){return m.get("data")[s]}),f=(0,h.jj)((0,h.UI)(o,function(m){return m.get("data")[s]})),d;o.forEach(function(m){m.set("visible",!0)});var g=function(m){m&&(m.length&&v.push(m.pop()),v.push.apply(v,(0,p.ev)([],(0,p.CR)(m),!1)))};for((0,h.dp)(f)>0&&(d=f.shift(),g(u[d])),(0,h.dp)(f)>0&&(d=f.pop(),g(u[d])),(0,h.S6)(f.reverse(),function(m){g(u[m])});v.length>0;){var y=v.shift();y.get("visible")&&(Zo(y,c)?y.set("visible",!1):c.push(y))}}}}function Is(i,r){var t=i.getXYFields()[1],e=[],a=r.sort(function(n,o){return n.get("data")[t]-n.get("data")[t]});return a.length>0&&e.push(a.shift()),a.length>0&&e.push(a.pop()),e.push.apply(e,(0,p.ev)([],(0,p.CR)(a),!1)),e}function ma(i,r,t){return i.some(function(e){return t(e,r)})}function Ps(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),a=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*a}function xa(i,r){return ma(i,r,function(t,e){var a=bt(t),n=bt(e);return Ps(a.getCanvasBBox(),n.getCanvasBBox(),2)>0})}function Rs(i,r,t,e,a){var n,o;if(t.length!==0){var l=(n=t[0])===null||n===void 0?void 0:n.get("element"),s=l==null?void 0:l.geometry;if(!(!s||s.type!=="point")){var c=(0,p.CR)(s.getXYFields(),2),v=c[0],u=c[1],f=(0,h.vM)(r,function(y){return y.get("data")[v]}),d=[],g=a&&a.offset||((o=i[0])===null||o===void 0?void 0:o.offset)||12;(0,h.UI)((0,h.XP)(f).reverse(),function(y){for(var m=Is(s,f[y]);m.length;){var x=m.shift(),C=bt(x);if(ma(d,x,function(T,b){return T.get("data")[v]===b.get("data")[v]&&T.get("data")[u]===b.get("data")[u]})){C.set("visible",!1);continue}var w=xa(d,x),S=!1;if(w&&(C.attr("y",C.attr("y")+2*g),S=xa(d,x)),S){C.set("visible",!1);continue}d.push(x)}})}}}function Os(i,r){var t=i.getXYFields()[1],e=[],a=r.sort(function(n,o){return n.get("data")[t]-n.get("data")[t]});return a.length>0&&e.push(a.shift()),a.length>0&&e.push(a.pop()),e.push.apply(e,(0,p.ev)([],(0,p.CR)(a),!1)),e}function wa(i,r,t){return i.some(function(e){return t(e,r)})}function Ds(i,r,t){t===void 0&&(t=0);var e=Math.max(0,Math.min(i.x+i.width+t,r.x+r.width+t)-Math.max(i.x-t,r.x-t)),a=Math.max(0,Math.min(i.y+i.height+t,r.y+r.height+t)-Math.max(i.y-t,r.y-t));return e*a}function Ca(i,r){return wa(i,r,function(t,e){var a=bt(t),n=bt(e);return Ds(a.getCanvasBBox(),n.getCanvasBBox(),2)>0})}function Gs(i,r,t,e,a){var n,o;if(t.length!==0){var l=(n=t[0])===null||n===void 0?void 0:n.get("element"),s=l==null?void 0:l.geometry;if(!(!s||["path","line","area"].indexOf(s.type)<0)){var c=(0,p.CR)(s.getXYFields(),2),v=c[0],u=c[1],f=(0,h.vM)(r,function(y){return y.get("data")[v]}),d=[],g=a&&a.offset||((o=i[0])===null||o===void 0?void 0:o.offset)||12;(0,h.UI)((0,h.XP)(f).reverse(),function(y){for(var m=Os(s,f[y]);m.length;){var x=m.shift(),C=bt(x);if(wa(d,x,function(T,b){return T.get("data")[v]===b.get("data")[v]&&T.get("data")[u]===b.get("data")[u]})){C.set("visible",!1);continue}var w=Ca(d,x),S=!1;if(w&&(C.attr("y",C.attr("y")+2*g),S=Ca(d,x)),S){C.set("visible",!1);continue}d.push(x)}})}}}var mi;function Vs(){return mi||(mi=document.createElement("canvas").getContext("2d")),mi}var Be=(0,h.HP)(function(i,r){r===void 0&&(r={});var t=r.fontSize,e=r.fontFamily,a=r.fontWeight,n=r.fontStyle,o=r.fontVariant,l=Vs();return l.font=[n,o,a,"".concat(t,"px"),e].join(" "),l.measureText((0,h.HD)(i)?i:"").width},function(i,r){return r===void 0&&(r={}),(0,p.ev)([i],(0,p.CR)((0,h.VO)(r)),!1).join("")}),Hs=function(i,r,t){var e=16,a=Be("...",t),n;(0,h.HD)(i)?n=i:n=(0,h.BB)(i);var o=r,l=[],s,c;if(Be(i,t)<=r)return i;for(;s=n.substr(0,e),c=Be(s,t),!(c+a>o&&c>o);)if(l.push(s),o-=c,n=n.substr(e),!n)return l.join("");for(;s=n.substr(0,1),c=Be(s,t),!(c+a>o);)if(l.push(s),o-=c,n=n.substr(1),!n)return l.join("");return"".concat(l.join(""),"...")};function zs(i,r,t,e,a){if(!(r.length<=0)){var n=(a==null?void 0:a.direction)||["top","right","bottom","left"],o=(a==null?void 0:a.action)||"translate",l=(a==null?void 0:a.margin)||0,s=r[0].get("coordinate");if(!!s){var c=Sn(s,l),v=c.minX,u=c.minY,f=c.maxX,d=c.maxY;(0,h.S6)(r,function(g){var y=g.getCanvasBBox(),m=y.minX,x=y.minY,C=y.maxX,w=y.maxY,S=y.x,T=y.y,b=y.width,L=y.height,M=S,E=T;if(n.indexOf("left")>=0&&(m<v||C<v)&&(M=v),n.indexOf("top")>=0&&(x<u||w<u)&&(E=u),n.indexOf("right")>=0&&(m>f?M=f-b:C>f&&(M=M-(C-f))),n.indexOf("bottom")>=0&&(x>d?E=d-L:w>d&&(E=E-(w-d))),M!==S||E!==T){var A=M-S;if(o==="translate")re(g,A,E-T);else if(o==="ellipsis"){var B=g.findAll(function(k){return k.get("type")==="text"});B.forEach(function(k){var P=(0,h.ei)(k.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),O=k.getCanvasBBox(),Y=Hs(k.attr("text"),O.width-Math.abs(A),P);k.attr("text",Y)})}else g.hide()}})}}}function Xs(i,r,t){var e={fillOpacity:(0,h.UM)(i.attr("fillOpacity"))?1:i.attr("fillOpacity"),strokeOpacity:(0,h.UM)(i.attr("strokeOpacity"))?1:i.attr("strokeOpacity"),opacity:(0,h.UM)(i.attr("opacity"))?1:i.attr("opacity")};i.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),i.animate(e,r)}function Us(i,r,t){var e={fillOpacity:0,strokeOpacity:0,opacity:0},a=r.easing,n=r.duration,o=r.delay;i.animate(e,n,a,function(){i.remove(!0)},o)}function Ys(i,r,t){var e,a=(0,p.CR)(r,2),n=a[0],o=a[1];return i.applyToMatrix([n,o,1]),t==="x"?(i.setMatrix(q.vs(i.getMatrix(),[["t",-n,-o],["s",.01,1],["t",n,o]])),e=q.vs(i.getMatrix(),[["t",-n,-o],["s",100,1],["t",n,o]])):t==="y"?(i.setMatrix(q.vs(i.getMatrix(),[["t",-n,-o],["s",1,.01],["t",n,o]])),e=q.vs(i.getMatrix(),[["t",-n,-o],["s",1,100],["t",n,o]])):t==="xy"&&(i.setMatrix(q.vs(i.getMatrix(),[["t",-n,-o],["s",.01,.01],["t",n,o]])),e=q.vs(i.getMatrix(),[["t",-n,-o],["s",100,100],["t",n,o]])),e}function xi(i,r,t,e,a){var n=t.start,o=t.end,l=t.getWidth(),s=t.getHeight(),c,v;a==="y"?(c=n.x+l/2,v=e.y<n.y?e.y:n.y):a==="x"?(c=e.x>n.x?e.x:n.x,v=n.y+s/2):a==="xy"&&(t.isPolar?(c=t.getCenter().x,v=t.getCenter().y):(c=(n.x+o.x)/2,v=(n.y+o.y)/2));var u=Ys(i,[c,v],a);i.animate({matrix:u},r)}function Ns(i,r,t){var e=t.coordinate,a=t.minYPoint;xi(i,r,e,a,"x")}function Ws(i,r,t){var e=t.coordinate,a=t.minYPoint;xi(i,r,e,a,"y")}function Zs(i,r,t){var e=t.coordinate,a=t.minYPoint;xi(i,r,e,a,"xy")}function js(i,r,t){var e=i.getTotalLength();i.attr("lineDash",[e]),i.animate(function(a){return{lineDashOffset:(1-a)*e}},r)}function $s(i,r,t){var e=t.toAttrs,a=e.x,n=e.y;delete e.x,delete e.y,i.attr(e),i.animate({x:a,y:n},r)}function Js(i,r,t){var e=i.getBBox(),a=i.get("origin").mappingData,n=a.points,o=n[0].y-n[1].y>0?e.maxX:e.minX,l=(e.minY+e.maxY)/2;i.applyToMatrix([o,l,1]);var s=q.vs(i.getMatrix(),[["t",-o,-l],["s",.01,1],["t",o,l]]);i.setMatrix(s),i.animate({matrix:q.vs(i.getMatrix(),[["t",-o,-l],["s",100,1],["t",o,l]])},r)}function Ks(i,r,t){var e=i.getBBox(),a=i.get("origin").mappingData,n=(e.minX+e.maxX)/2,o=a.points,l=o[0].y-o[1].y<=0?e.maxY:e.minY;i.applyToMatrix([n,l,1]);var s=q.vs(i.getMatrix(),[["t",-n,-l],["s",1,.01],["t",n,l]]);i.setMatrix(s),i.animate({matrix:q.vs(i.getMatrix(),[["t",-n,-l],["s",1,100],["t",n,l]])},r)}function Sa(i,r){var t,e=(0,qr.getArcParams)(i,r),a=e.startAngle,n=e.endAngle;return!(0,h.vQ)(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),!(0,h.vQ)(n,-Math.PI*.5)&&n<-Math.PI*.5&&(n+=Math.PI*2),r[5]===0&&(t=(0,p.CR)([n,a],2),a=t[0],n=t[1]),(0,h.vQ)(a,Math.PI*1.5)&&(a=Math.PI*-.5),(0,h.vQ)(n,Math.PI*-.5)&&(n=Math.PI*1.5),{startAngle:a,endAngle:n}}function Ta(i){var r;return i[0]==="M"||i[0]==="L"?r=[i[1],i[2]]:(i[0]==="a"||i[0]==="A"||i[0]==="C")&&(r=[i[i.length-2],i[i.length-1]]),r}function ba(i){var r,t,e,a=i.filter(function(w){return w[0]==="A"||w[0]==="a"});if(a.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var n=a[0],o=a.length>1?a[1]:a[0],l=i.indexOf(n),s=i.indexOf(o),c=Ta(i[l-1]),v=Ta(i[s-1]),u=Sa(c,n),f=u.startAngle,d=u.endAngle,g=Sa(v,o),y=g.startAngle,m=g.endAngle;(0,h.vQ)(f,y)&&(0,h.vQ)(d,m)?(t=f,e=d):(t=Math.min(f,y),e=Math.max(d,m));var x=n[1],C=a[a.length-1][1];return x<C?(r=(0,p.CR)([C,x],2),x=r[0],C=r[1]):x===C&&(C=0),{startAngle:t,endAngle:e,radius:x,innerRadius:C}}function Qs(i,r,t){var e=t.toAttrs,a=t.coordinate,n=e.path||[],o=n.map(function(C){return C[0]});if(!(n.length<1)){var l=ba(n),s=l.startAngle,c=l.endAngle,v=l.radius,u=l.innerRadius,f=ba(i.attr("path")),d=f.startAngle,g=f.endAngle,y=a.getCenter(),m=s-d,x=c-g;if(m===0&&x===0){i.attr("path",n);return}i.animate(function(C){var w=d+C*m,S=g+C*x;return(0,p.pi)((0,p.pi)({},e),{path:(0,h.Xy)(o,["M","A","A","Z"])?Ki(y.x,y.y,v,w,S):xt(y.x,y.y,v,w,S,u)})},(0,p.pi)((0,p.pi)({},r),{callback:function(){i.attr("path",n)}}))}}function qs(i,r,t){var e=ze(t.coordinate,20),a=e.type,n=e.startState,o=e.endState,l=i.setClip({type:a,attrs:n});l.animate(o,(0,p.pi)((0,p.pi)({},r),{callback:function(){i&&!i.get("destroyed")&&i.set("clipShape",null),l.remove(!0)}}))}function wi(i,r,t){if(i.isGroup())(0,h.S6)(i.getChildren(),function(l){wi(l,r,t)});else{var e=i.getBBox(),a=(e.minX+e.maxX)/2,n=(e.minY+e.maxY)/2;if(i.applyToMatrix([a,n,1]),t==="zoomIn"){var o=q.vs(i.getMatrix(),[["t",-a,-n],["s",.01,.01],["t",a,n]]);i.setMatrix(o),i.animate({matrix:q.vs(i.getMatrix(),[["t",-a,-n],["s",100,100],["t",a,n]])},r)}else i.animate({matrix:q.vs(i.getMatrix(),[["t",-a,-n],["s",.01,.01],["t",a,n]])},(0,p.pi)((0,p.pi)({},r),{callback:function(){i.remove(!0)}}))}}function _s(i,r,t){wi(i,r,"zoomIn")}function th(i,r,t){wi(i,r,"zoomOut")}function gt(i){return[F.TOP,F.BOTTOM].includes(i)?{offsetX:0,offsetY:i===F.TOP?-8:8,style:{textAlign:"center",textBaseline:i===F.TOP?"bottom":"top"}}:[F.LEFT,F.RIGHT].includes(i)?{offsetX:i===F.LEFT?-8:8,offsetY:0,style:{textAlign:i===F.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Ci(i,r,t){return{x:i.x+r*Math.cos(t),y:i.y+r*Math.sin(t)}}var eh=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,h.b$)({},i.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,e){var a=1/2,n={x:.5,y:.5},o=Math.PI*2/t,l=-1*Math.PI/2+o*e,s=a/(1+1/Math.sin(o/2)),c=Ci(n,a-s,l),v=Math.PI*5/4,u=Math.PI*1/4;return{start:Ci(c,s,v),end:Ci(c,s,u)}},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,a=this.cfg,n=a.fields,o=a.type,l=(0,p.CR)(n,1),s=l[0];if(!s)throw new Error("No `fields` specified!");var c=this.getFieldValues(t,s),v=c.length,u=[];return c.forEach(function(f,d){var g=[{field:s,value:f,values:c}],y=(0,h.hX)(t,e.getFacetDataFilter(g)),m={type:o,data:y,region:e.getRegion(v,d),columnValue:f,columnField:s,columnIndex:d,columnValuesLength:v,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};u.push(m)}),u},r.prototype.getXAxisOption=function(t,e,a,n){return a},r.prototype.getYAxisOption=function(t,e,a,n){return a},r.prototype.renderTitle=function(){var t=this;(0,h.S6)(this.facets,function(e){var a=e.columnValue,n=e.view,o=(0,h.U2)(t.cfg.title,"formatter"),l=(0,h.b$)({position:["50%","0%"],content:o?o(a):a},gt(F.TOP),t.cfg.title);n.annotation().text(l)})},r}(Ht),ih=eh,rh=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,h.b$)({},i.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){var e=this,a=this.cfg.fields,n=this.cfg.cols,o=(0,p.CR)(a,1),l=o[0];if(!l)throw new Error("No `fields` specified!");var s=this.getFieldValues(t,l),c=s.length;n=n||c;var v=this.getPageCount(c,n),u=[];return s.forEach(function(f,d){var g=e.getRowCol(d,n),y=g.row,m=g.col,x=[{field:l,value:f,values:s}],C=(0,h.hX)(t,e.getFacetDataFilter(x)),w={type:e.cfg.type,data:C,region:e.getRegion(v,n,m,y),columnValue:f,rowValue:f,columnField:l,rowField:null,columnIndex:m,rowIndex:y,columnValuesLength:n,rowValuesLength:v,total:c};u.push(w)}),u},r.prototype.getXAxisOption=function(t,e,a,n){return n.rowIndex!==n.rowValuesLength-1&&n.columnValuesLength*n.rowIndex+n.columnIndex+1+n.columnValuesLength<=n.total?(0,p.pi)((0,p.pi)({},a),{label:null,title:null}):a},r.prototype.getYAxisOption=function(t,e,a,n){return n.columnIndex!==0?(0,p.pi)((0,p.pi)({},a),{title:null,label:null}):a},r.prototype.renderTitle=function(){var t=this;(0,h.S6)(this.facets,function(e){var a=e.columnValue,n=e.view,o=(0,h.U2)(t.cfg.title,"formatter"),l=(0,h.b$)({position:["50%","0%"],content:o?o(a):a},gt(F.TOP),t.cfg.title);n.annotation().text(l)})},r.prototype.getPageCount=function(t,e){return Math.floor((t+e-1)/e)},r.prototype.getRowCol=function(t,e){var a=Math.floor(t/e),n=t%e;return{row:a,col:n}},r}(Ht),ah=rh,nh=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,h.b$)({},i.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,p.pi)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,p.pi)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.generateFacets=function(t){for(var e=this.cfg,a=e.fields,n=e.type,o=a.length,l=o,s=[],c=0;c<l;c++)for(var v=a[c],u=0;u<o;u++){var f=a[u],d={type:n,data:t,region:this.getRegion(o,l,c,u),columnValue:v,rowValue:f,columnField:v,rowField:f,columnIndex:c,rowIndex:u,columnValuesLength:l,rowValuesLength:o};s.push(d)}return s},r.prototype.getXAxisOption=function(t,e,a,n){return n.rowIndex!==n.rowValuesLength-1?(0,p.pi)((0,p.pi)({},a),{label:null,title:null}):a},r.prototype.getYAxisOption=function(t,e,a,n){return n.columnIndex!==0?(0,p.pi)((0,p.pi)({},a),{title:null,label:null}):a},r.prototype.renderTitle=function(){var t=this;(0,h.S6)(this.facets,function(e,a){var n=e.columnIndex,o=e.rowIndex,l=e.columnValuesLength,s=e.rowValuesLength,c=e.columnValue,v=e.rowValue,u=e.view;if(o===0){var f=(0,h.U2)(t.cfg.columnTitle,"formatter"),d=(0,h.b$)({position:["50%","0%"],content:f?f(c):c},gt(F.TOP),t.cfg.columnTitle);u.annotation().text(d)}if(n===l-1){var f=(0,h.U2)(t.cfg.rowTitle,"formatter"),d=(0,h.b$)({position:["100%","50%"],content:f?f(v):v},gt(F.RIGHT),t.cfg.rowTitle);u.annotation().text(d)}})},r}(Ht),oh=nh,lh=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,h.b$)({},i.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,e){this.cfg.transpose?e.columnIndex%2==0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():e.rowIndex%2!=0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.generateFacets=function(t){var e=this,a=(0,p.CR)(this.cfg.fields,1),n=a[0],o=[],l=1,s=1,c=[""],v=[""],u,f;return this.cfg.transpose?(u=n,c=this.getFieldValues(t,u).slice(0,2),l=c.length):(f=n,v=this.getFieldValues(t,f).slice(0,2),s=v.length),c.forEach(function(d,g){v.forEach(function(y,m){var x=[{field:u,value:d,values:c},{field:f,value:y,values:v}],C=(0,h.hX)(t,e.getFacetDataFilter(x)),w={type:e.cfg.type,data:C,region:e.getRegion(s,l,g,m),columnValue:d,rowValue:y,columnField:u,rowField:f,columnIndex:g,rowIndex:m,columnValuesLength:l,rowValuesLength:s};o.push(w)})}),o},r.prototype.getXAxisOption=function(t,e,a,n){return n.columnIndex===1||n.rowIndex===1?(0,p.pi)((0,p.pi)({},a),{label:null,title:null}):a},r.prototype.getYAxisOption=function(t,e,a,n){return a},r.prototype.renderTitle=function(){var t=this;(0,h.S6)(this.facets,function(e,a){var n=e.columnValue,o=e.rowValue,l=e.view,s=(0,h.U2)(t.cfg.title,"formatter");if(t.cfg.transpose){var c=(0,h.b$)({position:["50%","0%"],content:s?s(n):n},gt(F.TOP),t.cfg.title);l.annotation().text(c)}else{var c=(0,h.b$)({position:["100%","50%"],content:s?s(o):o},gt(F.RIGHT),t.cfg.title);l.annotation().text(c)}})},r}(Ht),sh=lh,hh=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.getDefaultCfg=function(){return(0,h.b$)({},i.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,p.pi)({},i.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,p.pi)({},i.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var e=this,a=(0,p.CR)(this.cfg.fields,2),n=a[0],o=a[1],l=[],s=1,c=1,v=[""],u=[""];return n&&(v=this.getFieldValues(t,n),s=v.length),o&&(u=this.getFieldValues(t,o),c=u.length),v.forEach(function(f,d){u.forEach(function(g,y){var m=[{field:n,value:f,values:v},{field:o,value:g,values:u}],x=(0,h.hX)(t,e.getFacetDataFilter(m)),C={type:e.cfg.type,data:x,region:e.getRegion(c,s,d,y),columnValue:f,rowValue:g,columnField:n,rowField:o,columnIndex:d,rowIndex:y,columnValuesLength:s,rowValuesLength:c};l.push(C)})}),l},r.prototype.renderTitle=function(){var t=this;(0,h.S6)(this.facets,function(e,a){var n=e.columnIndex,o=e.rowIndex,l=e.columnValuesLength,s=e.columnValue,c=e.rowValue,v=e.view;if(o===0){var u=(0,h.U2)(t.cfg.columnTitle,"formatter"),f=(0,h.b$)({position:["50%","0%"],content:u?u(s):s},gt(F.TOP),t.cfg.columnTitle);v.annotation().text(f)}if(n===l-1){var u=(0,h.U2)(t.cfg.rowTitle,"formatter"),f=(0,h.b$)({position:["100%","50%"],content:u?u(c):c},gt(F.RIGHT),t.cfg.rowTitle);v.annotation().text(f)}})},r.prototype.getXAxisOption=function(t,e,a,n){return n.rowIndex!==n.rowValuesLength-1?(0,p.pi)((0,p.pi)({},a),{title:null,label:null}):n.columnIndex!==Math.floor((n.columnValuesLength-1)/2)?(0,p.pi)((0,p.pi)({},a),{title:null}):a},r.prototype.getYAxisOption=function(t,e,a,n){return n.columnIndex!==0?(0,p.pi)((0,p.pi)({},a),{title:null,label:null}):n.rowIndex!==Math.floor((n.rowValuesLength-1)/2)?(0,p.pi)((0,p.pi)({},a),{title:null}):a},r}(Ht),ch=hh,uh=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return r.prototype.afterEachView=function(t,e){this.processAxis(t,e)},r.prototype.beforeEachView=function(t,e){},r.prototype.init=function(){i.prototype.init.call(this),this.view.on(X.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return(0,h.b$)({},i.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:i.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){var e=this.cfg.fields;if(!e.length)throw new Error("Please specify for the fields for rootFacet!");var a=[],n={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return a.push(n),n.children=this.getChildFacets(t,1,a),this.setRegion(a),a},r.prototype.setRegion=function(t){var e=this;this.forceColIndex(t),t.forEach(function(a){a.region=e.getRegion(a.rowValuesLength,a.columnValuesLength,a.columnIndex,a.rowIndex)})},r.prototype.getRegion=function(t,e,a,n){var o=1/e,l=1/t,s={x:o*a,y:l*n},c={x:s.x+o,y:s.y+l*2/3};return{start:s,end:c}},r.prototype.forceColIndex=function(t){var e,a,n=this,o=[],l=0;t.forEach(function(g){n.isLeaf(g)&&(o.push(g),g.columnIndex=l,l++)}),o.forEach(function(g){g.columnValuesLength=o.length});for(var s=this.cfg.fields.length,c=s-1;c>=0;c--){var v=this.getFacetsByLevel(t,c);try{for(var u=(e=void 0,(0,p.XA)(v)),f=u.next();!f.done;f=u.next()){var d=f.value;this.isLeaf(d)||(d.originColIndex=d.columnIndex,d.columnIndex=this.getRegionIndex(d.children),d.columnValuesLength=o.length)}}catch(g){e={error:g}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(e)throw e.error}}}},r.prototype.getFacetsByLevel=function(t,e){var a=[];return t.forEach(function(n){n.rowIndex===e&&a.push(n)}),a},r.prototype.getRegionIndex=function(t){var e=t[0],a=t[t.length-1];return(a.columnIndex-e.columnIndex)/2+e.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,e,a){var n=this,o=this.cfg.fields,l=o.length;if(!(l<e)){var s=[],c=o[e-1],v=this.getFieldValues(t,c);return v.forEach(function(u,f){var d=[{field:c,value:u,values:v}],g=t.filter(n.getFacetDataFilter(d));if(g.length){var y={type:n.cfg.type,data:g,region:null,columnValue:u,rowValue:"",columnField:c,rowField:"",columnIndex:f,rowValuesLength:n.getRows(),columnValuesLength:1,rowIndex:e,children:n.getChildFacets(g,e+1,a)};s.push(y),a.push(y)}}),s}},r.prototype.render=function(){i.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;(0,h.S6)(this.facets,function(e){var a=e.columnValue,n=e.view,o=(0,h.U2)(t.cfg.title,"formatter"),l=(0,h.b$)({position:["50%","0%"],content:o?o(a):a},gt(F.TOP),t.cfg.title);n.annotation().text(l)})},r.prototype.drawLines=function(t){var e=this;t.forEach(function(a){if(!e.isLeaf(a)){var n=a.children;e.addFacetLines(a,n)}})},r.prototype.addFacetLines=function(t,e){var a=this,n=t.view,o=n.coordinateBBox,l={x:o.x+o.width/2,y:o.y+o.height};e.forEach(function(s){var c=s.view.coordinateBBox,v={x:c.bl.x+(c.tr.x-c.bl.x)/2,y:c.tr.y},u={x:l.x,y:l.y+(v.y-l.y)/2},f={x:v.x,y:u.y};a.drawLine([l,u,f,v])})},r.prototype.getPath=function(t){var e=[],a=this.cfg.line.smooth;return a?(e.push(["M",t[0].x,t[0].y]),e.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(n,o){o===0?e.push(["M",n.x,n.y]):e.push(["L",n.x,n.y])}),e},r.prototype.drawLine=function(t){var e=this.getPath(t),a=this.cfg.line.style;this.container.addShape("path",{attrs:(0,h.f0)({path:e},a)})},r.prototype.getXAxisOption=function(t,e,a,n){return n.rowIndex!==n.rowValuesLength-1?(0,p.pi)((0,p.pi)({},a),{title:null,label:null}):a},r.prototype.getYAxisOption=function(t,e,a,n){return n.originColIndex!==0&&n.columnIndex!==0?(0,p.pi)((0,p.pi)({},a),{title:null,label:null}):a},r}(Ht),vh=uh;function La(i){var r=(0,p.ev)([],(0,p.CR)(i),!1);r.sort(function(e,a){return e-a});var t=r.length;return t===0?0:t%2==1?r[(t-1)/2]:(r[t/2]+r[t/2-1])/2}function fh(i){var r=(0,h.u4)(i,function(t,e){return t+=isNaN(e)||!(0,h.hj)(e)?0:e},0);return i.length===0?0:r/i.length}function ke(i,r){if(!r)return null;var t;switch(i){case"start":return 0;case"center":return .5;case"end":return 1;case"median":{t=r.isCategory?La(r.values.map(function(e,a){return a})):La(r.values);break}case"mean":{t=r.isCategory?(r.values.length-1)/2:fh(r.values);break}case"min":t=r.isCategory?0:r[i];break;case"max":t=r.isCategory?r.values.length-1:r[i];break;default:t=i;break}return r.scale(t)}var Ie=["regionFilter","shape"],ph=function(i){(0,p.ZT)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.foregroundContainer=e.view.getLayer(W.FORE).addGroup(),e.backgroundContainer=e.view.getLayer(W.BG).addGroup(),e.option=[],e}return Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){this.update()},r.prototype.render=function(){},r.prototype.update=function(){var t=this;this.onAfterRender(function(){var a=new Map;(0,h.S6)(t.option,function(n){if((0,h.q9)(Ie,n.type)){var o=t.updateOrCreate(n);o&&a.set(t.getCacheKey(n),o)}}),t.cache=t.syncCache(a)});var e=new Map;(0,h.S6)(this.option,function(a){if(!(0,h.q9)(Ie,a.type)){var n=t.updateOrCreate(a);n&&e.set(t.getCacheKey(a),n)}}),this.cache=this.syncCache(e)},r.prototype.clear=function(t){t===void 0&&(t=!1),i.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.clearComponents=function(){this.getComponents().forEach(function(t){t.component.destroy()}),this.cache.clear()},r.prototype.onAfterRender=function(t){this.view.getOptions().animate?this.view.geometries.forEach(function(e){e.animateOption&&e.once(mt.AFTER_DRAW_ANIMATE,function(){t()})}):this.view.getRootView().once(X.AFTER_RENDER,function(){t()})},r.prototype.createAnnotation=function(t){var e=t.type,a=H.q6[(0,h.jC)(e)];if(a){var n=this.getAnnotationTheme(e),o=this.getAnnotationCfg(e,t,n);if(!o)return null;var l=new a(o);return{component:l,layer:this.isTop(o)?W.FORE:W.BG,direction:F.NONE,type:J.ANNOTATION,extra:t}}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation((0,p.pi)({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation((0,p.pi)({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation((0,p.pi)({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation((0,p.pi)({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation((0,p.pi)({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation((0,p.pi)({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation((0,p.pi)({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation((0,p.pi)({type:"regionFilter"},t))},r.prototype.shape=function(t){this.annotation((0,p.pi)({type:"shape"},t))},r.prototype.html=function(t){this.annotation((0,p.pi)({type:"html"},t))},r.prototype.parsePosition=function(t){var e,a,n=this.view.getXScale(),o=this.view.getScalesByDim("y"),l=(0,h.mf)(t)?t.call(null,n,o):t,s=0,c=0;if((0,h.kJ)(l)){var v=(0,p.CR)(l,2),u=v[0],f=v[1];if((0,h.HD)(u)&&u.indexOf("%")!==-1&&!isNaN(u.slice(0,-1)))return this.parsePercentPosition(l);s=ke(u,n),c=ke(f,Object.values(o)[0])}else if(!(0,h.UM)(l))try{for(var d=(0,p.XA)((0,h.XP)(l)),g=d.next();!g.done;g=d.next()){var y=g.value,m=l[y];y===n.field&&(s=ke(m,n)),o[y]&&(c=ke(m,o[y]))}}catch(x){e={error:x}}finally{try{g&&!g.done&&(a=d.return)&&a.call(d)}finally{if(e)throw e.error}}return isNaN(s)||isNaN(c)?null:this.view.getCoordinate().convert({x:s,y:c})},r.prototype.getRegionPoints=function(t,e){var a=this,n=this.view.getXScale(),o=this.view.getScalesByDim("y"),l=Object.values(o)[0],s=n.field,c=this.view.getData(),v=(0,h.kJ)(t)?t[0]:t[s],u=(0,h.kJ)(e)?e[0]:e[s],f=[],d;return(0,h.S6)(c,function(g,y){if(g[s]===v&&(d=y),y>=d){var m=a.parsePosition([g[s],g[l.field]]);m&&f.push(m)}if(g[s]===u)return!1}),f},r.prototype.parsePercentPosition=function(t){var e=parseFloat(t[0])/100,a=parseFloat(t[1])/100,n=this.view.getCoordinate(),o=n.start,l=n.end,s={x:Math.min(o.x,l.x),y:Math.min(o.y,l.y)},c=n.getWidth()*e+s.x,v=n.getHeight()*a+s.y;return{x:c,y:v}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),e=t.start,a=t.end,n=t.getWidth(),o=t.getHeight(),l={x:Math.min(e.x,a.x),y:Math.min(e.y,a.y)};return{x:l.x,y:l.y,minX:l.x,minY:l.y,maxX:l.x+n,maxY:l.y+o,width:n,height:o}},r.prototype.getAnnotationCfg=function(t,e,a){var n=this,o=this.view.getCoordinate(),l=this.view.getCanvas(),s={};if((0,h.UM)(e))return null;var c=e.start,v=e.end,u=e.position,f=this.parsePosition(c),d=this.parsePosition(v),g=this.parsePosition(u);if(["arc","image","line","region","regionFilter"].includes(t)&&(!f||!d))return null;if(["text","dataMarker","html"].includes(t)&&!g)return null;if(t==="arc"){var y=e,m=y.start,x=y.end,C=(0,p._T)(y,["start","end"]),w=Vt(o,f),S=Vt(o,d);w>S&&(S=Math.PI*2+S),s=(0,p.pi)((0,p.pi)({},C),{center:o.getCenter(),radius:fe(o,f),startAngle:w,endAngle:S})}else if(t==="image"){var T=e,b=T.start,L=T.end,C=(0,p._T)(T,["start","end"]);s=(0,p.pi)((0,p.pi)({},C),{start:f,end:d,src:e.src})}else if(t==="line"){var M=e,E=M.start,A=M.end,C=(0,p._T)(M,["start","end"]);s=(0,p.pi)((0,p.pi)({},C),{start:f,end:d,text:(0,h.U2)(e,"text",null)})}else if(t==="region"){var B=e,k=B.start,P=B.end,C=(0,p._T)(B,["start","end"]);s=(0,p.pi)((0,p.pi)({},C),{start:f,end:d})}else if(t==="text"){var O=this.view.getData(),Y=e,ct=Y.position,at=Y.content,C=(0,p._T)(Y,["position","content"]),pt=at;(0,h.mf)(at)&&(pt=at(O)),s=(0,p.pi)((0,p.pi)((0,p.pi)({},g),C),{content:pt})}else if(t==="dataMarker"){var N=e,se=N.position,Pi=N.point,cu=N.line,Ri=N.text,uu=N.autoAdjust,vu=N.direction,C=(0,p._T)(N,["position","point","line","text","autoAdjust","direction"]);s=(0,p.pi)((0,p.pi)((0,p.pi)({},C),g),{coordinateBBox:this.getCoordinateBBox(),point:Pi,line:cu,text:Ri,autoAdjust:uu,direction:vu})}else if(t==="dataRegion"){var Jt=e,fu=Jt.start,pu=Jt.end,du=Jt.region,Ri=Jt.text,gu=Jt.lineLength,C=(0,p._T)(Jt,["start","end","region","text","lineLength"]);s=(0,p.pi)((0,p.pi)({},C),{points:this.getRegionPoints(fu,pu),region:du,text:Ri,lineLength:gu})}else if(t==="regionFilter"){var he=e,Ku=he.start,Qu=he.end,Ka=he.apply,yu=he.color,C=(0,p._T)(he,["start","end","apply","color"]),mu=this.view.geometries,Qa=[],Oi=function(dt){!dt||(dt.isGroup()?dt.getChildren().forEach(function(ce){return Oi(ce)}):Qa.push(dt))};(0,h.S6)(mu,function(dt){Ka?(0,h.FX)(Ka,dt.type)&&(0,h.S6)(dt.elements,function(ce){Oi(ce.shape)}):(0,h.S6)(dt.elements,function(ce){Oi(ce.shape)})}),s=(0,p.pi)((0,p.pi)({},C),{color:yu,shapes:Qa,start:f,end:d})}else if(t==="shape"){var qa=e,xu=qa.render,Di=(0,p._T)(qa,["render"]),wu=function(Su){if((0,h.mf)(e.render))return xu(Su,n.view,{parsePosition:n.parsePosition.bind(n)})};s=(0,p.pi)((0,p.pi)({},Di),{render:wu})}else if(t==="html"){var Gi=e,Vi=Gi.html,qu=Gi.position,Di=(0,p._T)(Gi,["html","position"]),Cu=function(dt){return(0,h.mf)(Vi)?Vi(dt,n.view):Vi};s=(0,p.pi)((0,p.pi)((0,p.pi)({},Di),g),{parent:l.get("el").parentNode,html:Cu})}var Et=(0,h.b$)({},a,(0,p.pi)((0,p.pi)({},s),{top:e.top,style:e.style,offsetX:e.offsetX,offsetY:e.offsetY}));return t!=="html"&&(Et.container=this.getComponentContainer(Et)),Et.animate=this.view.getOptions().animate&&Et.animate&&(0,h.U2)(e,"animate",Et.animate),Et.animateOption=(0,h.b$)({},Wt,Et.animateOption,e.animateOption),Et},r.prototype.isTop=function(t){return(0,h.U2)(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return(0,h.U2)(this.view.getTheme(),["components","annotation",t],{})},r.prototype.updateOrCreate=function(t){var e=this.cache.get(this.getCacheKey(t));if(e){var a=t.type,n=this.getAnnotationTheme(a),o=this.getAnnotationCfg(a,t,n);o&&it(o,["container"]),e.component.update((0,p.pi)((0,p.pi)({},o||{}),{visible:!!o})),(0,h.q9)(Ie,t.type)&&e.component.render()}else e=this.createAnnotation(t),e&&(e.component.init(),(0,h.q9)(Ie,t.type)&&e.component.render());return e},r.prototype.syncCache=function(t){var e=this,a=new Map(this.cache);return t.forEach(function(n,o){a.set(o,n)}),a.forEach(function(n,o){(0,h.sE)(e.option,function(l){return o===e.getCacheKey(l)})||(n.component.destroy(),a.delete(o))}),a},r.prototype.getCacheKey=function(t){return t},r}(Nt),dh=ph;function Ma(i,r){var t=(0,h.b$)({},(0,h.U2)(i,["components","axis","common"]),(0,h.U2)(i,["components","axis",r]));return(0,h.U2)(t,["grid"],{})}function Pe(i,r,t,e){var a=[],n=r.getTicks();return i.isPolar&&n.push({value:1,text:"",tickValue:""}),n.reduce(function(o,l,s){var c=l.value;if(e)a.push({points:[i.convert(t==="y"?{x:0,y:c}:{x:c,y:0}),i.convert(t==="y"?{x:1,y:c}:{x:c,y:1})]});else if(s){var v=o.value,u=(v+c)/2;a.push({points:[i.convert(t==="y"?{x:0,y:u}:{x:u,y:0}),i.convert(t==="y"?{x:1,y:u}:{x:u,y:1})]})}return l},n[0]),a}function Si(i,r,t,e,a){var n=r.values.length,o=[],l=t.getTicks();return l.reduce(function(s,c){var v=s?s.value:c.value,u=c.value,f=(v+u)/2;return a==="x"?o.push({points:[i.convert({x:e?u:f,y:0}),i.convert({x:e?u:f,y:1})]}):o.push({points:(0,h.UI)(Array(n+1),function(d,g){return i.convert({x:g/n,y:e?u:f})})}),c},l[0]),o}function Aa(i,r){var t=(0,h.U2)(r,"grid");if(t===null)return!1;var e=(0,h.U2)(i,"grid");return!(t===void 0&&e===null)}var Mt=["container"],Fa=(0,p.pi)((0,p.pi)({},Wt),{appear:null}),gh=function(i){(0,p.ZT)(r,i);function r(t){var e=i.call(this,t)||this;return e.cache=new Map,e.gridContainer=e.view.getLayer(W.BG).addGroup(),e.gridForeContainer=e.view.getLayer(W.FORE).addGroup(),e.axisContainer=e.view.getLayer(W.BG).addGroup(),e.axisForeContainer=e.view.getLayer(W.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,e=this.view.getCoordinate();(0,h.S6)(this.getComponents(),function(a){var n=a.component,o=a.direction,l=a.type,s=a.extra,c=s.dim,v=s.scale,u=s.alignTick,f;if(l===J.AXIS)e.isPolar?c==="x"?f=e.isTransposed?pe(e,o):Xe(e):c==="y"&&(f=e.isTransposed?Xe(e):pe(e,o)):f=pe(e,o);else if(l===J.GRID)if(e.isPolar){var d=void 0;e.isTransposed?d=c==="x"?Si(e,t.view.getYScales()[0],v,u,c):Pe(e,v,c,u):d=c==="x"?Pe(e,v,c,u):Si(e,t.view.getXScale(),v,u,c),f={items:d,center:t.view.getCoordinate().getCenter()}}else f={items:Pe(e,v,c,u)};n.update(f)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var e=new Map;this.cache.forEach(function(a,n){t.has(n)?e.set(n,a):a.component.destroy()}),this.cache=e},r.prototype.clear=function(){i.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(e){t.push(e)}),t},r.prototype.updateXAxes=function(t){var e=this.view.getXScale();if(!(!e||e.isIdentity)){var a=ge(this.option,e.field);if(a!==!1){var n=rr(a,F.BOTTOM),o=W.BG,l="x",s=this.view.getCoordinate(),c=this.getId("axis",e.field),v=this.getId("grid",e.field);if(s.isRect){var u=this.cache.get(c);if(u){var f=this.getLineAxisCfg(e,a,n);it(f,Mt),u.component.update(f),t.set(c,u)}else u=this.createLineAxis(e,a,o,n,l),this.cache.set(c,u),t.set(c,u);var d=this.cache.get(v);if(d){var f=this.getLineGridCfg(e,a,n,l);it(f,Mt),d.component.update(f),t.set(v,d)}else d=this.createLineGrid(e,a,o,n,l),d&&(this.cache.set(v,d),t.set(v,d))}else if(s.isPolar){var u=this.cache.get(c);if(u){var f=s.isTransposed?this.getLineAxisCfg(e,a,F.RADIUS):this.getCircleAxisCfg(e,a,n);it(f,Mt),u.component.update(f),t.set(c,u)}else{if(s.isTransposed){if((0,h.o8)(a))return;u=this.createLineAxis(e,a,o,F.RADIUS,l)}else u=this.createCircleAxis(e,a,o,n,l);this.cache.set(c,u),t.set(c,u)}var d=this.cache.get(v);if(d){var f=s.isTransposed?this.getCircleGridCfg(e,a,F.RADIUS,l):this.getLineGridCfg(e,a,F.CIRCLE,l);it(f,Mt),d.component.update(f),t.set(v,d)}else{if(s.isTransposed){if((0,h.o8)(a))return;d=this.createCircleGrid(e,a,o,F.RADIUS,l)}else d=this.createLineGrid(e,a,o,F.CIRCLE,l);d&&(this.cache.set(v,d),t.set(v,d))}}}}},r.prototype.updateYAxes=function(t){var e=this,a=this.view.getYScales();(0,h.S6)(a,function(n,o){if(!(!n||n.isIdentity)){var l=n.field,s=ge(e.option,l);if(s!==!1){var c=W.BG,v="y",u=e.getId("axis",l),f=e.getId("grid",l),d=e.view.getCoordinate();if(d.isRect){var g=rr(s,o===0?F.LEFT:F.RIGHT),y=e.cache.get(u);if(y){var m=e.getLineAxisCfg(n,s,g);it(m,Mt),y.component.update(m),t.set(u,y)}else y=e.createLineAxis(n,s,c,g,v),e.cache.set(u,y),t.set(u,y);var x=e.cache.get(f);if(x){var m=e.getLineGridCfg(n,s,g,v);it(m,Mt),x.component.update(m),t.set(f,x)}else x=e.createLineGrid(n,s,c,g,v),x&&(e.cache.set(f,x),t.set(f,x))}else if(d.isPolar){var y=e.cache.get(u);if(y){var m=d.isTransposed?e.getCircleAxisCfg(n,s,F.CIRCLE):e.getLineAxisCfg(n,s,F.RADIUS);it(m,Mt),y.component.update(m),t.set(u,y)}else{if(d.isTransposed){if((0,h.o8)(s))return;y=e.createCircleAxis(n,s,c,F.CIRCLE,v)}else y=e.createLineAxis(n,s,c,F.RADIUS,v);e.cache.set(u,y),t.set(u,y)}var x=e.cache.get(f);if(x){var m=d.isTransposed?e.getLineGridCfg(n,s,F.CIRCLE,v):e.getCircleGridCfg(n,s,F.RADIUS,v);it(m,Mt),x.component.update(m),t.set(f,x)}else{if(d.isTransposed){if((0,h.o8)(s))return;x=e.createLineGrid(n,s,c,F.CIRCLE,v)}else x=e.createCircleGrid(n,s,c,F.RADIUS,v);x&&(e.cache.set(f,x),t.set(f,x))}}}}})},r.prototype.createLineAxis=function(t,e,a,n,o){var l={component:new vn(this.getLineAxisCfg(t,e,n)),layer:a,direction:n===F.RADIUS?F.NONE:n,type:J.AXIS,extra:{dim:o,scale:t}};return l.component.set("field",t.field),l.component.init(),l},r.prototype.createLineGrid=function(t,e,a,n,o){var l=this.getLineGridCfg(t,e,n,o);if(l){var s={component:new pn(l),layer:a,direction:F.NONE,type:J.GRID,extra:{dim:o,scale:t,alignTick:(0,h.U2)(l,"alignTick",!0)}};return s.component.init(),s}},r.prototype.createCircleAxis=function(t,e,a,n,o){var l={component:new fn(this.getCircleAxisCfg(t,e,n)),layer:a,direction:n,type:J.AXIS,extra:{dim:o,scale:t}};return l.component.set("field",t.field),l.component.init(),l},r.prototype.createCircleGrid=function(t,e,a,n,o){var l=this.getCircleGridCfg(t,e,n,o);if(l){var s={component:new dn(l),layer:a,direction:F.NONE,type:J.GRID,extra:{dim:o,scale:t,alignTick:(0,h.U2)(l,"alignTick",!0)}};return s.component.init(),s}},r.prototype.getLineAxisCfg=function(t,e,a){var n=(0,h.U2)(e,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),l=pe(o,a),s=ar(t,e),c=de(this.view.getTheme(),a),v=(0,h.U2)(e,["title"])?(0,h.b$)({title:{style:{text:s}}},{title:ir(this.view.getTheme(),a,e.title)},e):e,u=(0,h.b$)((0,p.pi)((0,p.pi)({container:n},l),{ticks:t.getTicks().map(function(w){return{id:"".concat(w.tickValue),name:w.text,value:w.value}}),verticalFactor:o.isPolar?er(l,o.getCenter())*-1:er(l,o.getCenter()),theme:c}),c,v),f=this.getAnimateCfg(u),d=f.animate,g=f.animateOption;u.animateOption=g,u.animate=d;var y=tr(l),m=(0,h.U2)(u,"verticalLimitLength",y?1/3:1/2);if(m<=1){var x=this.view.getCanvas().get("width"),C=this.view.getCanvas().get("height");u.verticalLimitLength=m*(y?x:C)}return u},r.prototype.getLineGridCfg=function(t,e,a,n){if(!!Aa(de(this.view.getTheme(),a),e)){var o=Ma(this.view.getTheme(),a),l=(0,h.b$)({container:(0,h.U2)(e,["top"])?this.gridForeContainer:this.gridContainer},o,(0,h.U2)(e,"grid"),this.getAnimateCfg(e));return l.items=Pe(this.view.getCoordinate(),t,n,(0,h.U2)(l,"alignTick",!0)),l}},r.prototype.getCircleAxisCfg=function(t,e,a){var n=(0,h.U2)(e,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),l=t.getTicks().map(function(y){return{id:"".concat(y.tickValue),name:y.text,value:y.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&l.pop();var s=ar(t,e),c=de(this.view.getTheme(),F.CIRCLE),v=(0,h.U2)(e,["title"])?(0,h.b$)({title:{style:{text:s}}},{title:ir(this.view.getTheme(),a,e.title)},e):e,u=(0,h.b$)((0,p.pi)((0,p.pi)({container:n},Xe(this.view.getCoordinate())),{ticks:l,verticalFactor:1,theme:c}),c,v),f=this.getAnimateCfg(u),d=f.animate,g=f.animateOption;return u.animate=d,u.animateOption=g,u},r.prototype.getCircleGridCfg=function(t,e,a,n){if(!!Aa(de(this.view.getTheme(),a),e)){var o=Ma(this.view.getTheme(),F.RADIUS),l=(0,h.b$)({container:(0,h.U2)(e,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,(0,h.U2)(e,"grid"),this.getAnimateCfg(e)),s=(0,h.U2)(l,"alignTick",!0),c=n==="x"?this.view.getYScales()[0]:this.view.getXScale();return l.items=Si(this.view.getCoordinate(),c,t,s,n),l}},r.prototype.getId=function(t,e){var a=this.view.getCoordinate();return"".concat(t,"-").concat(e,"-").concat(a.type)},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,h.U2)(t,"animate"),animateOption:t&&t.animateOption?(0,h.b$)({},Fa,t.animateOption):Fa}},r}(Nt),yh=gh;function At(i,r,t){return t===F.TOP?[i.minX+i.width/2-r.width/2,i.minY]:t===F.BOTTOM?[i.minX+i.width/2-r.width/2,i.maxY-r.height]:t===F.LEFT?[i.minX,i.minY+i.height/2-r.height/2]:t===F.RIGHT?[i.maxX-r.width,i.minY+i.height/2-r.height/2]:t===F.TOP_LEFT||t===F.LEFT_TOP?[i.tl.x,i.tl.y]:t===F.TOP_RIGHT||t===F.RIGHT_TOP?[i.tr.x-r.width,i.tr.y]:t===F.BOTTOM_LEFT||t===F.LEFT_BOTTOM?[i.bl.x,i.bl.y-r.height]:t===F.BOTTOM_RIGHT||t===F.RIGHT_BOTTOM?[i.br.x-r.width,i.br.y-r.height]:[0,0]}function mh(i,r){if(r.isTransposed)switch(i){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return i}function Ea(i){return i===DIRECTION.LEFT?DIRECTION.RIGHT:i===DIRECTION.RIGHT?DIRECTION.LEFT:i}function Ba(i){return i===DIRECTION.TOP?DIRECTION.BOTTOM:i===DIRECTION.BOTTOM?DIRECTION.TOP:i}function xh(i,r){var t=r.matrix[0],e=r.matrix[4],a=i;return t<0&&(a=Ea(a)),e<0&&(a=Ba(a)),a}function wh(i,r){var t=i;return r.isReflect("x")&&(t=Ea(t)),r.isReflect("y")&&(t=Ba(t)),t}function Ju(i,r){var t=i;return t=mh(t,r),t=xh(t,r),t=wh(t,r),t}function ka(i,r){return(0,h.jn)(i)?i===!1?!1:{}:(0,h.U2)(i,[r],i)}function Re(i){return(0,h.U2)(i,"position",F.BOTTOM)}var Ch=function(i){(0,p.ZT)(r,i);function r(t){var e=i.call(this,t)||this;return e.container=e.view.getLayer(W.FORE).addGroup(),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,(0,h.S6)(this.components,function(e){var a=e.component,n=e.direction,o=ri(n),l=a.get("maxWidthRatio"),s=a.get("maxHeightRatio"),c=t.getCategoryLegendSizeCfg(o,l,s),v=a.get("maxWidth"),u=a.get("maxHeight");a.update({maxWidth:Math.min(c.maxWidth,v||0),maxHeight:Math.min(c.maxHeight,u||0)});var f=a.get("padding"),d=a.getLayoutBBox(),g=new _(d.x,d.y,d.width,d.height).expand(f),y=(0,p.CR)(At(t.view.viewBBox,g,n),2),m=y[0],x=y[1],C=(0,p.CR)(At(t.layoutBBox,g,n),2),w=C[0],S=C[1],T=0,b=0;n.startsWith("top")||n.startsWith("bottom")?(T=m,b=S):(T=w,b=x),a.setLocation({x:T+f[3],y:b+f[0]}),t.layoutBBox=t.layoutBBox.cut(g,n)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var e={},a=function(f,d,g){var y=t.getId(g.field),m=t.getComponentById(y);if(m){var x=void 0,C=ka(t.option,g.field);C!==!1&&((0,h.U2)(C,"custom")?x=t.getCategoryCfg(f,d,g,C,!0):g.isLinear?x=t.getContinuousCfg(f,d,g,C):g.isCategory&&(x=t.getCategoryCfg(f,d,g,C))),x&&(it(x,["container"]),m.direction=Re(C),m.component.update(x),e[y]=!0)}else{var w=t.createFieldLegend(f,d,g);w&&(w.component.init(),t.components.push(w),e[y]=!0)}};if((0,h.U2)(this.option,"custom")){var n="global-custom",o=this.getComponentById(n);if(o){var l=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);it(l,["container"]),o.component.update(l),e[n]=!0}else{var s=this.createCustomLegend(void 0,void 0,void 0,this.option);if(s){s.init();var c=W.FORE,v=Re(this.option);this.components.push({id:n,component:s,layer:c,direction:v,type:J.LEGEND,extra:void 0}),e[n]=!0}}}else this.loopLegends(a);var u=[];(0,h.S6)(this.getComponents(),function(f){e[f.id]?u.push(f):f.component.destroy()}),this.components=u},r.prototype.clear=function(){i.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var e=this,a=t.geometries;return(0,h.S6)(t.views,function(n){a=a.concat(e.getGeometries(n))}),a},r.prototype.loopLegends=function(t){var e=this.view.getRootView()===this.view;if(!!e){var a=this.getGeometries(this.view),n={};(0,h.S6)(a,function(o){var l=o.getGroupAttributes();(0,h.S6)(l,function(s){var c=s.getScale(s.type);!c||c.type==="identity"||n[c.field]||(t(o,s,c),n[c.field]=!0)})})}},r.prototype.createFieldLegend=function(t,e,a){var n,o=ka(this.option,a.field),l=W.FORE,s=Re(o);if(o!==!1&&((0,h.U2)(o,"custom")?n=this.createCustomLegend(t,e,a,o):a.isLinear?n=this.createContinuousLegend(t,e,a,o):a.isCategory&&(n=this.createCategoryLegend(t,e,a,o))),n)return n.set("field",a.field),{id:this.getId(a.field),component:n,layer:l,direction:s,type:J.LEGEND,extra:{scale:a}}},r.prototype.createCustomLegend=function(t,e,a,n){var o=this.getCategoryCfg(t,e,a,n,!0);return new ji(o)},r.prototype.createContinuousLegend=function(t,e,a,n){var o=this.getContinuousCfg(t,e,a,it(n,["value"]));return new gn(o)},r.prototype.createCategoryLegend=function(t,e,a,n){var o=this.getCategoryCfg(t,e,a,n);return new ji(o)},r.prototype.getContinuousCfg=function(t,e,a,n){var o=a.getTicks(),l=(0,h.sE)(o,function(y){return y.value===0}),s=(0,h.sE)(o,function(y){return y.value===1}),c=o.map(function(y){var m=y.value,x=y.tickValue,C=e.mapping(a.invert(m)).join("");return{value:x,attrValue:C,color:C,scaleValue:m}});l||c.push({value:a.min,attrValue:e.mapping(a.invert(0)).join(""),color:e.mapping(a.invert(0)).join(""),scaleValue:0}),s||c.push({value:a.max,attrValue:e.mapping(a.invert(1)).join(""),color:e.mapping(a.invert(1)).join(""),scaleValue:1}),c.sort(function(y,m){return y.value-m.value});var v={min:(0,h.YM)(c).value,max:(0,h.Z$)(c).value,colors:[],rail:{type:e.type},track:{}};e.type==="size"&&(v.track={style:{fill:e.type==="size"?this.view.getTheme().defaultColor:void 0}}),e.type==="color"&&(v.colors=c.map(function(y){return y.attrValue}));var u=this.container,f=Re(n),d=ri(f),g=(0,h.U2)(n,"title");return g&&(g=(0,h.b$)({text:qt(a)},g)),v.container=u,v.layout=d,v.title=g,v.animateOption=Wt,this.mergeLegendCfg(v,n,"continuous")},r.prototype.getCategoryCfg=function(t,e,a,n,o){var l=this.container,s=(0,h.U2)(n,"position",F.BOTTOM),c=Wr(this.view.getTheme(),s),v=(0,h.U2)(c,["marker"]),u=(0,h.U2)(n,"marker"),f=ri(s),d=(0,h.U2)(c,["pageNavigator"]),g=(0,h.U2)(n,"pageNavigator"),y=o?_o(v,u,n.items):Nr(this.view,t,e,v,u),m=(0,h.U2)(n,"title");m&&(m=(0,h.b$)({text:a?qt(a):""},m));var x=(0,h.U2)(n,"maxWidthRatio"),C=(0,h.U2)(n,"maxHeightRatio"),w=this.getCategoryLegendSizeCfg(f,x,C);w.container=l,w.layout=f,w.items=y,w.title=m,w.animateOption=Wt,w.pageNavigator=(0,h.b$)({},d,g);var S=this.mergeLegendCfg(w,n,s);S.reversed&&S.items.reverse();var T=(0,h.U2)(S,"maxItemWidth");return T&&T<=1&&(S.maxItemWidth=this.view.viewBBox.width*T),S},r.prototype.mergeLegendCfg=function(t,e,a){var n=a.split("-")[0],o=Wr(this.view.getTheme(),n);return(0,h.b$)({},o,t,e)},r.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},r.prototype.getComponentById=function(t){return(0,h.sE)(this.components,function(e){return e.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t,e,a){e===void 0&&(e=Xi),a===void 0&&(a=Xi);var n=this.view.viewBBox,o=n.width,l=n.height;return t==="vertical"?{maxWidth:o*e,maxHeight:l}:{maxWidth:o,maxHeight:l*a}},r}(Nt),Sh=Ch,Th=function(i){(0,p.ZT)(r,i);function r(t){var e=i.call(this,t)||this;return e.onChangeFn=h.ZT,e.resetMeasure=function(){e.clear()},e.onValueChange=function(a){var n=(0,p.CR)(a,2),o=n[0],l=n[1];e.start=o,e.end=l,e.changeViewData(o,l)},e.container=e.view.getLayer(W.FORE).addGroup(),e.onChangeFn=(0,h.P2)(e.onValueChange,20,{leading:!0}),e.width=0,e.view.on(X.BEFORE_CHANGE_DATA,e.resetMeasure),e.view.on(X.BEFORE_CHANGE_SIZE,e.resetMeasure),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){i.prototype.destroy.call(this),this.view.off(X.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(X.BEFORE_CHANGE_SIZE,this.resetMeasure)},r.prototype.init=function(){},r.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),e=t.start,a=t.end;(0,h.UM)(this.start)&&(this.start=e,this.end=a);var n=this.view.getOptions().data;this.option&&!(0,h.xb)(n)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.start,t.end)},0)),this.slider){var e=this.view.coordinateBBox.width,a=this.slider.component.get("padding"),n=(0,p.CR)(a,4),o=n[0],l=n[1],s=n[2],c=n[3],v=this.slider.component.getLayoutBBox(),u=new _(v.x,v.y,Math.min(v.width,e),v.height).expand(a),f=this.getMinMaxText(this.start,this.end),d=f.minText,g=f.maxText,y=(0,p.CR)(At(this.view.viewBBox,u,F.BOTTOM),2),m=y[0],x=y[1],C=(0,p.CR)(At(this.view.coordinateBBox,u,F.BOTTOM),2),w=C[0],S=C[1];this.slider.component.update((0,p.pi)((0,p.pi)({},this.getSliderCfg()),{x:w+c,y:x+o,width:this.width,start:this.start,end:this.end,minText:d,maxText:g})),this.view.viewBBox=this.view.viewBBox.cut(u,F.BOTTOM)}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),e=new H.iR((0,p.pi)({container:this.container},t));return e.init(),{component:e,layer:W.FORE,direction:F.BOTTOM,type:J.SLIDER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var e=this.getMinMaxText(this.start,this.end),a=e.minText,n=e.maxText;t=(0,p.pi)((0,p.pi)({},t),{width:this.width,start:this.start,end:this.end,minText:a,maxText:n})}return this.slider.component.update(t),this.slider},r.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},r.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if((0,h.Kn)(this.option)){var e=(0,p.pi)({data:this.getData()},(0,h.U2)(this.option,"trendCfg",{}));t=(0,h.b$)({},t,this.getThemeOptions(),this.option),t=(0,p.pi)((0,p.pi)({},t),{trendCfg:e})}return t.start=(0,h.uZ)(Math.min((0,h.UM)(t.start)?0:t.start,(0,h.UM)(t.end)?1:t.end),0,1),t.end=(0,h.uZ)(Math.max((0,h.UM)(t.start)?0:t.start,(0,h.UM)(t.end)?1:t.end),0,1),t},r.prototype.getData=function(){var t=this.view.getOptions().data,e=(0,p.CR)(this.view.getYScales(),1),a=e[0],n=this.view.getGroupScales();if(n.length){var o=n[0],l=o.field,s=o.ticks;return t.reduce(function(c,v){return v[l]===s[0]&&c.push(v[a.field]),c},[])}return t.map(function(c){return c[a.field]||0})},r.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,h.U2)(t,["components","slider","common"],{})},r.prototype.getMinMaxText=function(t,e){var a=this.view.getOptions().data,n=this.view.getXScale(),o=!0,l=(0,h.I)(a,n.field);n.isLinear&&(l=l.sort());var s=o?l:l.reverse(),c=(0,h.dp)(a);if(!n||!c)return{};var v=(0,h.dp)(s),u=Math.floor(t*(v-1)),f=Math.floor(e*(v-1)),d=(0,h.U2)(s,[u]),g=(0,h.U2)(s,[f]),y=this.getSliderCfg().formatter;return y&&(d=y(d,a[u],u),g=y(g,a[f],f)),{minText:d,maxText:g}},r.prototype.changeViewData=function(t,e){var a=this.view.getOptions().data,n=this.view.getXScale(),o=(0,h.dp)(a);if(!(!n||!o)){var l=!0,s=(0,h.I)(a,n.field),c=this.view.getXScale().isLinear?s.sort(function(g,y){return Number(g)-Number(y)}):s,v=l?c:c.reverse(),u=(0,h.dp)(v),f=Math.floor(t*(u-1)),d=Math.floor(e*(u-1));this.view.filter(n.field,function(g,y){var m=v.indexOf(g);return m>-1?Gt(m,f,d):!0}),this.view.render(!0)}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},r}(Nt),bh=Th,Oe=0,Ia=8,Lh=32,Mh=20,Ah=function(i){(0,p.ZT)(r,i);function r(t){var e=i.call(this,t)||this;return e.onChangeFn=h.ZT,e.resetMeasure=function(){e.clear()},e.onValueChange=function(a){var n=a.ratio,o=e.getValidScrollbarCfg().animate;e.ratio=(0,h.uZ)(n,0,1);var l=e.view.getOptions().animate;o||e.view.animate(!1),e.changeViewData(e.getScrollRange(),!0),e.view.animate(l)},e.container=e.view.getLayer(W.FORE).addGroup(),e.onChangeFn=(0,h.P2)(e.onValueChange,20,{leading:!0}),e.trackLen=0,e.thumbLen=0,e.ratio=0,e.view.on(X.BEFORE_CHANGE_DATA,e.resetMeasure),e.view.on(X.BEFORE_CHANGE_SIZE,e.resetMeasure),e}return Object.defineProperty(r.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){i.prototype.destroy.call(this),this.view.off(X.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(X.BEFORE_CHANGE_SIZE,this.resetMeasure)},r.prototype.init=function(){},r.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},r.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)})),this.scrollbar){var e=this.view.coordinateBBox.width,a=this.scrollbar.component.get("padding"),n=this.scrollbar.component.getLayoutBBox(),o=new _(n.x,n.y,Math.min(n.width,e),n.height).expand(a),l=this.getScrollbarComponentCfg(),s=void 0,c=void 0;if(l.isHorizontal){var v=(0,p.CR)(At(this.view.viewBBox,o,F.BOTTOM),2),u=v[0],f=v[1],d=(0,p.CR)(At(this.view.coordinateBBox,o,F.BOTTOM),2),g=d[0],y=d[1];s=g,c=f}else{var m=(0,p.CR)(At(this.view.viewBBox,o,F.RIGHT),2),u=m[0],f=m[1],x=(0,p.CR)(At(this.view.viewBBox,o,F.RIGHT),2),g=x[0],y=x[1];s=g,c=f}s+=a[3],c+=a[0],this.trackLen?this.scrollbar.component.update((0,p.pi)((0,p.pi)({},l),{x:s,y:c,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update((0,p.pi)((0,p.pi)({},l),{x:s,y:c})),this.view.viewBBox=this.view.viewBBox.cut(o,l.isHorizontal?F.BOTTOM:F.RIGHT)}},r.prototype.update=function(){this.render()},r.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},r.prototype.setValue=function(t){this.onValueChange({ratio:t})},r.prototype.getValue=function(){return this.ratio},r.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,h.U2)(t,["components","scrollbar","common"],{})},r.prototype.getScrollbarTheme=function(t){var e=(0,h.U2)(this.view.getTheme(),["components","scrollbar"]),a=t||{},n=a.thumbHighlightColor,o=(0,p._T)(a,["thumbHighlightColor"]);return{default:(0,h.b$)({},(0,h.U2)(e,["default","style"],{}),o),hover:(0,h.b$)({},(0,h.U2)(e,["hover","style"],{}),{thumbColor:n})}},r.prototype.measureScrollbar=function(){var t=this.view.getXScale(),e=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var a=this.getScrollbarComponentCfg(),n=a.trackLen,o=a.thumbLen;this.trackLen=n,this.thumbLen=o,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=e},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,h.uZ)(this.ratio,0,1)),e=Math.min(t+this.step-1,this.cnt-1);return[t,e]},r.prototype.changeViewData=function(t,e){var a=this,n=(0,p.CR)(t,2),o=n[0],l=n[1],s=this.getValidScrollbarCfg().type,c=s!=="vertical",v=(0,h.I)(this.data,this.xScaleCfg.field),u=this.view.getXScale().isLinear?v.sort(function(d,g){return Number(d)-Number(g)}):v,f=c?u:u.reverse();this.yScalesCfg.forEach(function(d){a.view.scale(d.field,{formatter:d.formatter,type:d.type,min:d.min,max:d.max,tickMethod:d.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(d){var g=f.indexOf(d);return g>-1?Gt(g,o,l):!0}),this.view.render(!0)},r.prototype.createScrollbar=function(){var t=this.getValidScrollbarCfg().type,e=t!=="vertical",a=new H.LW((0,p.pi)((0,p.pi)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return a.init(),{component:a,layer:W.FORE,direction:e?F.BOTTOM:F.RIGHT,type:J.SCROLLBAR}},r.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),e=this.trackLen?(0,p.pi)((0,p.pi)({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):(0,p.pi)({},t);return this.scrollbar.component.update(e),this.scrollbar},r.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,e=this.getValidScrollbarCfg(),a=e.type,n=e.categorySize,o=a!=="vertical";return Math.floor((o?t.width:t.height)/n)},r.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),e=this.getScrollbarData(),a=(0,h.I)(e,t.field);return(0,h.dp)(a)},r.prototype.getScrollbarComponentCfg=function(){var t=this.view,e=t.coordinateBBox,a=t.viewBBox,n=this.getValidScrollbarCfg(),o=n.type,l=n.padding,s=n.width,c=n.height,v=n.style,u=o!=="vertical",f=(0,p.CR)(l,4),d=f[0],g=f[1],y=f[2],m=f[3],x=u?{x:e.minX+m,y:a.maxY-c-y}:{x:a.maxX-s-g,y:e.minY+d},C=this.getStep(),w=this.getCnt(),S=u?e.width-m-g:e.height-d-y,T=Math.max(S*(0,h.uZ)(C/w,0,1),Mh);return(0,p.pi)((0,p.pi)({},this.getThemeOptions()),{x:x.x,y:x.y,size:u?c:s,isHorizontal:u,trackLen:S,thumbLen:T,thumbOffset:0,theme:this.getScrollbarTheme(v)})},r.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:Lh,width:Ia,height:Ia,padding:[0,0,0,0],animate:!0,style:{}};return(0,h.Kn)(this.option)&&(t=(0,p.pi)((0,p.pi)({},t),this.option)),(!(0,h.Kn)(this.option)||!this.option.padding)&&(t.padding=t.type==="horizontal"?[Oe,0,Oe,0]:[0,Oe,0,Oe]),t},r.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),e=this.getValidScrollbarCfg(),a=this.view.getOptions().data||[];return t.isReflect("y")&&e.type==="vertical"&&(a=(0,p.ev)([],(0,p.CR)(a),!1).reverse()),a},r}(Nt),Fh=Ah,Eh={fill:"#CCD6EC",opacity:.3};function Bh(i,r,t){var e,a,n,o,l,s,c=go(i,r,t);if(c.length){c=(0,h.xH)(c);try{for(var v=(0,p.XA)(c),u=v.next();!u.done;u=v.next()){var f=u.value;try{for(var d=(n=void 0,(0,p.XA)(f)),g=d.next();!g.done;g=d.next()){var y=g.value,m=y.mappingData,x=m.x,C=m.y;y.x=(0,h.kJ)(x)?x[x.length-1]:x,y.y=(0,h.kJ)(C)?C[C.length-1]:C}}catch(A){n={error:A}}finally{try{g&&!g.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}}}catch(A){e={error:A}}finally{try{u&&!u.done&&(a=v.return)&&a.call(v)}finally{if(e)throw e.error}}var w=t.shared;if(w===!1&&c.length>1){var S=c[0],T=Math.abs(r.y-S[0].y);try{for(var b=(0,p.XA)(c),L=b.next();!L.done;L=b.next()){var M=L.value,E=Math.abs(r.y-M[0].y);E<=T&&(S=M,T=E)}}catch(A){l={error:A}}finally{try{L&&!L.done&&(s=b.return)&&s.call(b)}finally{if(l)throw l.error}}c=[S]}return(0,h.jj)((0,h.xH)(c))}return[]}var kh=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(t){var e=this.context.view,a=this.context.event,n=e.getController("tooltip").getTooltipCfg(),o=Bh(e,{x:a.x,y:a.y},n);if(!(0,h.Xy)(o,this.items)&&(this.items=o,o.length)){var l=e.getXScale().field,s=o[0].data[l],c=[],v=e.geometries;if((0,h.S6)(v,function(pt){if(pt.type==="interval"||pt.type==="schema"){var N=pt.getElementsBy(function(se){var Pi=se.getData();return Pi[l]===s});c=c.concat(N)}}),c.length){var u=e.getCoordinate(),f=c[0].shape.getCanvasBBox(),d=c[0].shape.getCanvasBBox(),g=f;(0,h.S6)(c,function(pt){var N=pt.shape.getCanvasBBox();u.isTransposed?(N.minY<f.minY&&(f=N),N.maxY>d.maxY&&(d=N)):(N.minX<f.minX&&(f=N),N.maxX>d.maxX&&(d=N)),g.x=Math.min(N.minX,g.minX),g.y=Math.min(N.minY,g.minY),g.width=Math.max(N.maxX,g.maxX)-g.x,g.height=Math.max(N.maxY,g.maxY)-g.y});var y=e.backgroundGroup,m=e.coordinateBBox,x=void 0;if(u.isRect){var C=e.getXScale(),w=t||{},S=w.appendRatio,T=w.appendWidth;(0,h.UM)(T)&&(S=(0,h.UM)(S)?C.isLinear?0:.25:S,T=u.isTransposed?S*d.height:S*f.width);var b=void 0,L=void 0,M=void 0,E=void 0;u.isTransposed?(b=m.minX,L=Math.min(d.minY,f.minY)-T,M=m.width,E=g.height+T*2):(b=Math.min(f.minX,d.minX)-T,L=m.minY,M=g.width+T*2,E=m.height),x=[["M",b,L],["L",b+M,L],["L",b+M,L+E],["L",b,L+E],["Z"]]}else{var A=(0,h.YM)(c),B=(0,h.Z$)(c),k=Kt(A.getModel(),u).startAngle,P=Kt(B.getModel(),u).endAngle,O=u.getCenter(),Y=u.getRadius(),ct=u.innerRadius*Y;x=xt(O.x,O.y,Y,k,P,ct)}if(this.regionPath)this.regionPath.attr("path",x),this.regionPath.show();else{var at=(0,h.U2)(t,"style",Eh);this.regionPath=y.addShape({type:"path",name:"active-region",capture:!1,attrs:(0,p.pi)((0,p.pi)({},at),{path:x})})}}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),i.prototype.destroy.call(this)},r}($),Ih=kh,Ph=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.context,e=t.event,a=t.view,n=a.isTooltipLocked();if(!n){var o=this.timeStamp,l=+new Date,s=(0,h.U2)(t.view.getOptions(),"tooltip.showDelay",16);if(l-o>s){var c=this.location,v={x:e.x,y:e.y};(!c||!(0,h.Xy)(c,v))&&this.showTooltip(a,v),this.timeStamp=l,this.location=v}}},r.prototype.hide=function(){var t=this.context.view,e=t.getController("tooltip"),a=this.context.event,n=a.clientX,o=a.clientY;e.isCursorEntered({x:n,y:o})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,e){t.showTooltip(e)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}($),Pa=Ph,Rh=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.showTooltip=function(t,e){var a=ut(t);(0,h.S6)(a,function(n){var o=Ze(t,n,e);n.showTooltip(o)})},r.prototype.hideTooltip=function(t){var e=ut(t);(0,h.S6)(e,function(a){a.hideTooltip()})},r}(Pa),Oh=Rh,Dh=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.destroy=function(){i.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var t=this.context,e=t.event,a=this.timeStamp,n=+new Date;if(n-a>16){var o=this.location,l={x:e.x,y:e.y};(!o||!(0,h.Xy)(o,l))&&this.showTooltip(l),this.timeStamp=n,this.location=l}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var e=this.context,a=e.event,n=a.target;if(n&&n.get("tip")){this.tooltip||this.renderTooltip();var o=n.get("tip");this.tooltip.update((0,p.pi)({title:o},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,e=this.context.view,a=e.canvas,n={start:{x:0,y:0},end:{x:a.get("width"),y:a.get("height")}},o=e.getTheme(),l=(0,h.U2)(o,["components","tooltip","domStyles"],{}),s=new ve({parent:a.get("el").parentNode,region:n,visible:!1,crosshairs:null,domStyles:(0,p.pi)({},(0,h.b$)({},l,(t={},t[H.LP.CONTAINER_CLASS]={"max-width":"50%"},t[H.LP.TITLE_CLASS]={"word-break":"break-all"},t)))});s.init(),s.setCapture(!1),this.tooltip=s},r}($),Gh=Dh,Vh=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t}return r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,e){t.setState(this.stateName,e)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},r.prototype.clearViewState=function(t){var e=this,a=fr(t,this.stateName);(0,h.S6)(a,function(n){e.setElementState(n,!1)})},r}($),Ti=Vh;function Ra(i){return(0,h.U2)(i.get("delegateObject"),"item")}var Hh=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return r.prototype.isItemIgnore=function(t,e){var a=this.ignoreListItemStates,n=a.filter(function(o){return e.hasState(t,o)});return!!n.length},r.prototype.setStateByComponent=function(t,e,a){var n=this.context.view,o=t.get("field"),l=Q(n);this.setElementsStateByItem(l,o,e,a)},r.prototype.setStateByElement=function(t,e){this.setElementState(t,e)},r.prototype.isMathItem=function(t,e,a){var n=this.context.view,o=Xt(n,e),l=st(t,e);return!(0,h.UM)(l)&&a.name===o.getText(l)},r.prototype.setElementsStateByItem=function(t,e,a,n){var o=this;(0,h.S6)(t,function(l){o.isMathItem(l,e,a)&&l.setState(o.stateName,n)})},r.prototype.setStateEnable=function(t){var e=Ct(this.context);if(e)cr(this.context)&&this.setStateByElement(e,t);else{var a=Bt(this.context);if(te(a)){var n=a.item,o=a.component;if(n&&o&&!this.isItemIgnore(n,o)){var l=this.context.event.gEvent;if(l&&l.fromShape&&l.toShape&&Ra(l.fromShape)===Ra(l.toShape))return;this.setStateByComponent(o,n,t)}}}},r.prototype.toggle=function(){var t=Ct(this.context);if(t){var e=t.hasState(this.stateName);this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(Ti),bi=Hh,zh=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(bi),Xh=zh,Uh=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.cache={},t}return r.prototype.getColorScale=function(t,e){var a=e.geometry.getAttribute("color");if(!a)return null;var n=t.getScaleByField(a.getFields()[0]);return n},r.prototype.getLinkPath=function(t,e){var a=this.context.view,n=a.getCoordinate().isTransposed,o=t.shape.getCanvasBBox(),l=e.shape.getCanvasBBox(),s=n?[["M",o.minX,o.minY],["L",l.minX,l.maxY],["L",l.maxX,l.maxY],["L",o.maxX,o.minY],["Z"]]:[["M",o.maxX,o.minY],["L",l.minX,l.minY],["L",l.minX,l.maxY],["L",o.maxX,o.maxY],["Z"]];return s},r.prototype.addLinkShape=function(t,e,a,n){var o={opacity:.4,fill:e.shape.attr("fill")};t.addShape({type:"path",attrs:(0,p.pi)((0,p.pi)({},(0,h.b$)({},o,(0,h.mf)(n)?n(o,e):n)),{path:this.getLinkPath(e,a)})})},r.prototype.linkByElement=function(t,e){var a=this,n=this.context.view,o=this.getColorScale(n,t);if(!!o){var l=st(t,o.field);if(!this.cache[l]){var s=Yn(n,o.field,l),c=this.linkGroup,v=c.addGroup();this.cache[l]=v;var u=s.length;(0,h.S6)(s,function(f,d){if(d<u-1){var g=s[d+1];a.addLinkShape(v,f,g,e)}})}}},r.prototype.removeLink=function(t){var e=this.getColorScale(this.context.view,t);if(!!e){var a=st(t,e.field);this.cache[a]&&(this.cache[a].remove(),this.cache[a]=null)}},r.prototype.link=function(t){var e=this.context;this.linkGroup||(this.linkGroup=e.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var a=Ct(e);a&&this.linkByElement(a,t==null?void 0:t.style)},r.prototype.unlink=function(){var t=Ct(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}($),Yh=Uh,Nh=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(ee(this.context))t=Ye(this.context,10);else{var e=this.startPoint,a=this.isStarted?this.getCurrentPoint():this.endPoint;if(!e||!a)return;var n={minX:Math.min(e.x,a.x),minY:Math.min(e.y,a.y),maxX:Math.max(e.x,a.x),maxY:Math.max(e.y,a.y)},o=this.context.view;t=Ne(o,n)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var e=Q(this.context.view),a=this.getIntersectElements();a&&a.length?this.effectByRecord?this.setSiblingsStateByRecord(a,t):this.setElementsState(a,t,e):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,e){var a=this,n=this.context.view,o=ut(n),l=t.map(function(v){return v.getModel().data}),s=n.getXScale().field,c=n.getYScales()[0].field;(0,h.S6)(o,function(v){var u=Q(v),f=u.filter(function(d){var g=d.getModel().data;return yr(l,g,s,c)});a.setElementsState(f,e,u)})},r.prototype.setSiblingsState=function(t){var e=this,a=this.context.view,n=ut(a);ee(this.context)&&(0,h.S6)(n,function(o){var l=Q(o),s=vr(e.context,o,10);s&&s.length?e.setElementsState(s,t,l):e.clearViewState(o)})},r.prototype.setElementsState=function(t,e,a){var n=this;(0,h.S6)(a,function(o){t.includes(o)?n.setElementState(o,e):n.setElementState(o,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,e=this.context.view;if(this.effectSiblings){var a=ut(e);(0,h.S6)(a,function(n){t.clearViewState(n)})}else this.clearViewState(e)},r}(Ti),Li=Nh,Wh=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Li),Zh=Wh,jh=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateEnable=function(t){var e=Ct(this.context);if(e){if(!cr(this.context))return;t?(this.clear(),this.setElementState(e,!0)):this.hasState(e)&&this.setElementState(e,!1)}},r.prototype.toggle=function(){var t=Ct(this.context);if(t){var e=this.hasState(t);e||this.clear(),this.setElementState(t,!e)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(Ti),Mi=jh,$h=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Mi),Jh=$h,ne="inactive",oe="active";function Ai(i){var r=Q(i);(0,h.S6)(r,function(t){t.hasState(oe)&&t.setState(oe,!1),t.hasState(ne)&&t.setState(ne,!1)})}function Oa(i,r,t){(0,h.S6)(i,function(e){r(e)?(e.hasState(ne)&&e.setState(ne,!1),e.setState(oe,t)):(e.hasState(oe)&&e.setState(oe,!1),e.setState(ne,t))})}var It=ue.INACTIVE,yt=ue.ACTIVE,Kh=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=yt,t}return r.prototype.setElementsStateByItem=function(t,e,a,n){var o=this,l=function(s){return o.isMathItem(s,e,a)};this.setHighlightBy(t,l,n)},r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(It)&&t.setState(It,!1),t.setState(yt,!0)):t.hasState(yt)||t.setState(It,!0)},r.prototype.setHighlightBy=function(t,e,a){var n=this;if(a)(0,h.S6)(t,function(s){n.setElementHighlight(s,e)});else{var o=fr(this.context.view,yt),l=!0;(0,h.S6)(o,function(s){if(!e(s))return l=!1,!1}),l?this.clear():(0,h.S6)(t,function(s){e(s)&&(s.hasState(yt)&&s.setState(yt,!1),s.setState(It,!0))})}},r.prototype.setElementState=function(t,e){var a=this.context.view,n=Q(a);this.setHighlightBy(n,function(o){return t===o},e)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.context.view;Ai(t)},r}(bi),Fi=Kh,Qh=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setStateByElement=function(t,e){var a=this.context.view,n=t.geometry.getAttribute("color");if(!!n){var o=a.getScaleByField(n.getFields()[0]),l=st(t,o.field),s=Q(a),c=s.filter(function(v){return st(v,o.field)===l});this.setHighlightBy(s,function(v){return c.includes(v)},e)}},r}(Fi),qh=Qh,_h=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setElementHighlight=function(t,e){e(t)?(t.hasState(It)&&t.setState(It,!1),t.setState(yt,!0)):(t.setState(It,!0),t.hasState(yt)&&t.setState(yt,!1))},r.prototype.setStateByElement=function(t,e){var a=this.context.view,n=a.getXScale(),o=st(t,n.field),l=Q(a),s=l.filter(function(c){return st(c,n.field)===o});this.setHighlightBy(l,function(c){return s.includes(c)},e)},r.prototype.toggle=function(){var t=Ct(this.context);if(t){var e=t.hasState(this.stateName);this.setStateByElement(t,!e)}},r}(Fi),tc=_h,ft;(function(i){i.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",i.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",i.BEFORE_CLEAR="element-range-highlight:beforeclear",i.AFTER_CLEAR="element-range-highlight:afterclear"})(ft||(ft={}));var ec=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.clearViewState=function(t){Ai(t)},r.prototype.highlight=function(){var t=this.context,e=t.view,a=t.event,n=this.getIntersectElements(),o={view:e,event:a,highlightElements:n};e.emit(ft.BEFORE_HIGHLIGHT,tt.fromData(e,ft.BEFORE_HIGHLIGHT,o)),this.setState(),e.emit(ft.AFTER_HIGHLIGHT,tt.fromData(e,ft.AFTER_HIGHLIGHT,o))},r.prototype.clear=function(){var t=this.context.view;t.emit(ft.BEFORE_CLEAR,tt.fromData(t,ft.BEFORE_CLEAR,{})),i.prototype.clear.call(this),t.emit(ft.AFTER_CLEAR,tt.fromData(t,ft.AFTER_CLEAR,{}))},r.prototype.setElementsState=function(t,e,a){Oa(a,function(n){return t.indexOf(n)>=0},e)},r}(Li),Da=ec,ic=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,e){var a=this.context.view,n=Q(a);Oa(n,function(o){return t===o},e)},r.prototype.clear=function(){var t=this.context.view;Ai(t)},r}(Mi),rc=ic,ac=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Li),nc=ac,oc=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(bi),lc=oc,sc=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Mi),hc=sc,cc=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return r.prototype.getTriggerListInfo=function(){var t=Bt(this.context),e=null;return te(t)&&(e={item:t.item,list:t.component}),e},r.prototype.getAllowComponents=function(){var t=this,e=this.context.view,a=dr(e),n=[];return(0,h.S6)(a,function(o){o.isList()&&t.allowSetStateByElement(o)&&n.push(o)}),n},r.prototype.hasState=function(t,e){return t.hasState(e,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,e=this.getAllowComponents();(0,h.S6)(e,function(a){a.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var e=t.get("field");if(!e)return!1;if(this.cfg&&this.cfg.componentNames){var a=t.get("name");if(this.cfg.componentNames.indexOf(a)===-1)return!1}var n=this.context.view,o=Xt(n,e);return o&&o.isCategory},r.prototype.allowSetStateByItem=function(t,e){var a=this.ignoreItemStates;if(a.length){var n=a.filter(function(o){return e.hasState(t,o)});return n.length===0}return!0},r.prototype.setStateByElement=function(t,e,a){var n=t.get("field"),o=this.context.view,l=Xt(o,n),s=st(e,n),c=l.getText(s);this.setItemsState(t,c,a)},r.prototype.setStateEnable=function(t){var e=this,a=Ct(this.context);if(a){var n=this.getAllowComponents();(0,h.S6)(n,function(c){e.setStateByElement(c,a,t)})}else{var o=Bt(this.context);if(te(o)){var l=o.item,s=o.component;this.allowSetStateByElement(s)&&this.allowSetStateByItem(l,s)&&this.setItemState(s,l,t)}}},r.prototype.setItemsState=function(t,e,a){var n=this,o=t.getItems();(0,h.S6)(o,function(l){l.name===e&&n.setItemState(t,l,a)})},r.prototype.setItemState=function(t,e,a){t.setItemState(e,this.stateName,a)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,a=t.item,n=this.hasState(e,a);this.setItemState(e,a,!n)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}($),Pt=cc,uc=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(Pt),vc=uc,Ga="inactive",Va="active";function fc(i){var r=i.getItems();(0,h.S6)(r,function(t){i.hasState(t,Va)&&i.setItemState(t,Va,!1),i.hasState(t,Ga)&&i.setItemState(t,Ga,!1)})}var le="inactive",Rt="active",pc=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=Rt,t.ignoreItemStates=["unchecked"],t}return r.prototype.setItemsState=function(t,e,a){this.setHighlightBy(t,function(n){return n.name===e},a)},r.prototype.setItemState=function(t,e,a){var n=t.getItems();this.setHighlightBy(t,function(o){return o===e},a)},r.prototype.setHighlightBy=function(t,e,a){var n=t.getItems();if(a)(0,h.S6)(n,function(s){e(s)?(t.hasState(s,le)&&t.setItemState(s,le,!1),t.setItemState(s,Rt,!0)):t.hasState(s,Rt)||t.setItemState(s,le,!0)});else{var o=t.getItemsByState(Rt),l=!0;(0,h.S6)(o,function(s){if(!e(s))return l=!1,!1}),l?this.clear():(0,h.S6)(n,function(s){e(s)&&(t.hasState(s,Rt)&&t.setItemState(s,Rt,!1),t.setItemState(s,le,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)fc(t.list);else{var e=this.getAllowComponents();(0,h.S6)(e,function(a){a.clearItemsState(Rt),a.clearItemsState(le)})}},r}(Pt),Ei=pc,dc=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(Pt),gc=dc,yc=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName="unchecked",t}return r.prototype.unchecked=function(){this.setState()},r}(Pt),mc=yc,jt="unchecked",De="checked",xc=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.stateName=De,t}return r.prototype.setItemState=function(t,e,a){this.setCheckedBy(t,function(n){return n===e},a)},r.prototype.setCheckedBy=function(t,e,a){var n=t.getItems();a&&(0,h.S6)(n,function(o){e(o)?(t.hasState(o,jt)&&t.setItemState(o,jt,!1),t.setItemState(o,De,!0)):t.hasState(o,De)||t.setItemState(o,jt,!0)})},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var e=t.list,a=t.item,n=!(0,h.G)(e.getItems(),function(o){return e.hasState(o,jt)});n||e.hasState(a,jt)?this.setItemState(e,a,!0):this.reset()}},r.prototype.checked=function(){this.setState()},r.prototype.reset=function(){var t=this.getAllowComponents();(0,h.S6)(t,function(e){e.clearItemsState(De),e.clearItemsState(jt)})},r}(Pt),wc=xc,$t="unchecked",Cc=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.toggle=function(){var t,e,a,n,o,l,s,c,v=this.getTriggerListInfo();if(v==null?void 0:v.item){var u=v.list,f=v.item,d=u.getItems(),g=d.filter(function(A){return!u.hasState(A,$t)}),y=d.filter(function(A){return u.hasState(A,$t)}),m=g[0];if(d.length===g.length)try{for(var x=(0,p.XA)(d),C=x.next();!C.done;C=x.next()){var w=C.value;u.setItemState(w,$t,w.id!==f.id)}}catch(A){t={error:A}}finally{try{C&&!C.done&&(e=x.return)&&e.call(x)}finally{if(t)throw t.error}}else if(d.length-y.length==1)if(m.id===f.id)try{for(var S=(0,p.XA)(d),T=S.next();!T.done;T=S.next()){var w=T.value;u.setItemState(w,$t,!1)}}catch(A){a={error:A}}finally{try{T&&!T.done&&(n=S.return)&&n.call(S)}finally{if(a)throw a.error}}else try{for(var b=(0,p.XA)(d),L=b.next();!L.done;L=b.next()){var w=L.value;u.setItemState(w,$t,w.id!==f.id)}}catch(A){o={error:A}}finally{try{L&&!L.done&&(l=b.return)&&l.call(b)}finally{if(o)throw o.error}}else try{for(var M=(0,p.XA)(d),E=M.next();!E.done;E=M.next()){var w=E.value;u.setItemState(w,$t,w.id!==f.id)}}catch(A){s={error:A}}finally{try{E&&!E.done&&(c=M.return)&&c.call(M)}finally{if(s)throw s.error}}}},r}(Pt),Sc=Cc,Ha="showRadio",Bi="legend-radio-tip",Tc=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.getTriggerListInfo();if(t==null?void 0:t.item){var e=t.list,a=t.item;e.setItemState(a,Ha,!0)}},r.prototype.hide=function(){var t=this.getTriggerListInfo();if(t==null?void 0:t.item){var e=t.list,a=t.item;e.setItemState(a,Ha,!1)}},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.showTip=function(){var t=this.context,e=t.event,a=this.timeStamp,n=+new Date,o=this.context.event.target;if(n-a>16&&o.get("name")==="legend-item-radio"){var l=this.location,s={x:e.x,y:e.y};this.timeStamp=n,this.location=s,(!l||!(0,h.Xy)(l,s))&&this.showTooltip(s)}},r.prototype.hideTip=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var e=this.context,a=e.event,n=a.target;if(n&&n.get("tip")){this.tooltip||this.renderTooltip();var o=e.view.getCanvas().get("el").getBoundingClientRect(),l=o.x,s=o.y;this.tooltip.update((0,p.pi)((0,p.pi)({title:n.get("tip")},t),{x:t.x+l,y:t.y+s})),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,e=(t={},t[H.LP.CONTAINER_CLASS]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},t[H.LP.TITLE_CLASS]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},t);document.getElementById(Bi)&&document.body.removeChild(document.getElementById(Bi));var a=new ve({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:e,containerId:Bi});a.init(),a.setCapture(!1),this.tooltip=a},r}(Pt),bc=Tc,Lc=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var e="mask:".concat(t),a=this.context.view,n=this.context.event;a.emit(e,{target:this.maskShape,shape:this.maskShape,points:this.points,x:n.x,y:n.y})},r.prototype.createMask=function(){var t=this.context.view,e=this.getMaskAttrs(),a=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,p.pi)({fill:"#C5D4EB",opacity:.3},e)});return a},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(t==null?void 0:t.maskStyle),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),e=this.preMovePoint,a=t.x-e.x,n=t.y-e.y,o=this.points;(0,h.S6)(o,function(l){l.x+=a,l.y+=n}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(t){var e=(0,h.b$)({},this.getMaskAttrs(),t);this.maskShape.attr(e)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,i.prototype.destroy.call(this)},r}($),ki=Lc,Mc=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="circle",t}return r.prototype.getMaskAttrs=function(){var t=this.points,e=(0,h.Z$)(this.points),a=0,n=0,o=0;if(t.length){var l=t[0];a=We(l,e)/2,n=(e.x+l.x)/2,o=(e.y+l.y)/2}return{x:n,y:o,r:a}},r}(ki),Ac=Mc,Fc=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.shapeType="rect",t}return r.prototype.getRegion=function(){var t=this.points;return{start:(0,h.YM)(t),end:(0,h.Z$)(t)}},r.prototype.getMaskAttrs=function(){var t=this.getRegion(),e=t.start,a=t.end,n=Math.min(e.x,a.x),o=Math.min(e.y,a.y),l=Math.abs(a.x-e.x),s=Math.abs(a.y-e.y);return{x:n,y:o,width:l,height:s}},r}(ki),za=Fc;function Xa(i){i.x=(0,h.uZ)(i.x,0,1),i.y=(0,h.uZ)(i.y,0,1)}var Ec=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return r.prototype.getRegion=function(){var t=null,e=null,a=this.points,n=this.dim,o=this.context.view.getCoordinate(),l=o.invert((0,h.YM)(a)),s=o.invert((0,h.Z$)(a));return this.inPlot&&(Xa(l),Xa(s)),n==="x"?(t=o.convert({x:l.x,y:0}),e=o.convert({x:s.x,y:1})):(t=o.convert({x:0,y:l.y}),e=o.convert({x:1,y:s.y})),{start:t,end:e}},r}(za),Ua=Ec,Bc=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points,e=[];return t.length&&((0,h.S6)(t,function(a,n){n===0?e.push(["M",a.x,a.y]):e.push(["L",a.x,a.y])}),e.push(["L",t[0].x,t[0].y])),e},r.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},r.prototype.addPoint=function(){this.resize()},r}(ki),Ya=Bc,kc=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){var t=this.points;return Zn(t,!0)},r}(Ya),Ic=kc,Pc=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.setCursor=function(t){var e=this.context.view;e.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r}($),Rc=Pc,Oc=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,a){var n=this;t.getScaleByField(e)&&t.filter(e,a),t.views&&t.views.length&&(0,h.S6)(t.views,function(o){n.filterView(o,e,a)})},r.prototype.filter=function(){var t=Bt(this.context);if(t){var e=this.context.view,a=t.component,n=a.get("field");if(te(t)){if(n){var o=a.getItemsByState("unchecked"),l=Xt(e,n),s=o.map(function(d){return d.name});s.length?this.filterView(e,n,function(d){var g=l.getText(d);return!s.includes(g)}):this.filterView(e,n,null),e.render(!0)}}else if(ur(t)){var c=a.getValue(),v=(0,p.CR)(c,2),u=v[0],f=v[1];this.filterView(e,n,function(d){return d>=u&&d<=f}),e.render(!0)}}},r}($),Dc=Oc;function Na(i,r,t,e){var a=Math.min(t[r],e[r]),n=Math.max(t[r],e[r]),o=(0,p.CR)(i.range,2),l=o[0],s=o[1];if(a<l&&(a=l),n>s&&(n=s),a===s&&n===s)return null;var c=i.invert(a),v=i.invert(n);if(i.isCategory){var u=i.values.indexOf(c),f=i.values.indexOf(v),d=i.values.slice(u,f+1);return function(g){return d.includes(g)}}else return function(g){return g>=c&&g<=v}}var lt;(function(i){i.FILTER="brush-filter-processing",i.RESET="brush-filter-reset",i.BEFORE_FILTER="brush-filter:beforefilter",i.AFTER_FILTER="brush-filter:afterfilter",i.BEFORE_RESET="brush-filter:beforereset",i.AFTER_RESET="brush-filter:afterreset"})(lt||(lt={}));var Gc=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,e;if(ee(this.context)){var a=this.context.event.target,n=a.getCanvasBBox();t={x:n.x,y:n.y},e={x:n.maxX,y:n.maxY}}else{if(!this.isStarted)return;t=this.startPoint,e=this.context.getCurrentPoint()}if(!(Math.abs(t.x-e.x)<5||Math.abs(t.x-e.y)<5)){var o=this.context,l=o.view,s=o.event,c={view:l,event:s,dims:this.dims};l.emit(lt.BEFORE_FILTER,tt.fromData(l,lt.BEFORE_FILTER,c));var v=l.getCoordinate(),u=v.invert(e),f=v.invert(t);if(this.hasDim("x")){var d=l.getXScale(),g=Na(d,"x",u,f);this.filterView(l,d.field,g)}if(this.hasDim("y")){var y=l.getYScales()[0],g=Na(y,"y",u,f);this.filterView(l,y.field,g)}this.reRender(l,{source:lt.FILTER}),l.emit(lt.AFTER_FILTER,tt.fromData(l,lt.AFTER_FILTER,c))}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(t.emit(lt.BEFORE_RESET,tt.fromData(t,lt.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var e=t.getXScale();this.filterView(t,e.field,null)}if(this.hasDim("y")){var a=t.getYScales()[0];this.filterView(t,a.field,null)}this.reRender(t,{source:lt.RESET}),t.emit(lt.AFTER_RESET,tt.fromData(t,lt.AFTER_RESET,{}))},r.prototype.filterView=function(t,e,a){t.filter(e,a)},r.prototype.reRender=function(t,e){t.render(!0,e)},r}($),Ge=Gc,Vc=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filterView=function(t,e,a){var n=ut(t);(0,h.S6)(n,function(o){o.filter(e,a)})},r.prototype.reRender=function(t){var e=ut(t);(0,h.S6)(e,function(a){a.render(!0)})},r}(Ge),Ii=Vc,Hc=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.filter=function(){var t=Bt(this.context),e=this.context.view,a=Q(e);if(ee(this.context)){var n=Ye(this.context,10);n&&(0,h.S6)(a,function(y){n.includes(y)?y.show():y.hide()})}else if(t){var o=t.component,l=o.get("field");if(te(t)){if(l){var s=o.getItemsByState("unchecked"),c=Xt(e,l),v=s.map(function(y){return y.name});(0,h.S6)(a,function(y){var m=st(y,l),x=c.getText(m);v.indexOf(x)>=0?y.hide():y.show()})}}else if(ur(t)){var u=o.getValue(),f=(0,p.CR)(u,2),d=f[0],g=f[1];(0,h.S6)(a,function(y){var m=st(y,l);m>=d&&m<=g?y.show():y.hide()})}}},r.prototype.clear=function(){var t=Q(this.context.view);(0,h.S6)(t,function(e){e.show()})},r.prototype.reset=function(){this.clear()},r}($),zc=Hc,Xc=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.byRecord=!1,t}return r.prototype.filter=function(){ee(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,e=Ye(this.context,10);if(!!e){var a=t.getXScale().field,n=t.getYScales()[0].field,o=e.map(function(s){return s.getModel().data}),l=ut(t);(0,h.S6)(l,function(s){var c=Q(s);(0,h.S6)(c,function(v){var u=v.getModel().data;yr(o,u,a,n)?v.show():v.hide()})})}},r.prototype.filterByBBox=function(){var t=this,e=this.context.view,a=ut(e);(0,h.S6)(a,function(n){var o=vr(t.context,n,10),l=Q(n);o&&(0,h.S6)(l,function(s){o.includes(s)?s.show():s.hide()})})},r.prototype.reset=function(){var t=ut(this.context.view);(0,h.S6)(t,function(e){var a=Q(e);(0,h.S6)(a,function(n){n.show()})})},r}($),Wa=Xc,Uc=10,Yc=5,Nc=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return r.prototype.getButtonCfg=function(){return(0,h.b$)(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),e=this.context.view.foregroundGroup.addGroup({name:t.name}),a=e.addShape({type:"text",name:"button-text",attrs:(0,p.pi)({text:t.text},t.textStyle)}),n=a.getBBox(),o=Qe(t.padding),l=e.addShape({type:"rect",name:"button-rect",attrs:(0,p.pi)({x:n.x-o[3],y:n.y-o[0],width:n.width+o[1]+o[3],height:n.height+o[0]+o[2]},t.style)});l.toBack(),e.on("mouseenter",function(){l.attr(t.activeStyle)}),e.on("mouseleave",function(){l.attr(t.style)}),this.buttonGroup=e},r.prototype.resetPosition=function(){var t=this.context.view,e=t.getCoordinate(),a=e.convert({x:1,y:1}),n=this.buttonGroup,o=n.getBBox(),l=q.vs(null,[["t",a.x-o.width-Uc,a.y+o.height+Yc]]);n.setMatrix(l)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),i.prototype.destroy.call(this)},r}($),Wc=Nc,Zc=4,jc=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(!!this.startPoint){var t=this.context.getCurrentPoint(),e=this.context.view,a=this.context.event;this.dragStart?e.emit("drag",{target:a.target,x:a.x,y:a.y}):We(t,this.startPoint)>Zc&&(e.emit("dragstart",{target:a.target,x:a.x,y:a.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var t=this.context.view,e=this.context.event;t.emit("dragend",{target:e.target,x:e.x,y:e.y})}this.starting=!1,this.dragStart=!1},r}($),$c=jc,Jc=5,Kc=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(!!this.starting){var t=this.startPoint,e=this.context.getCurrentPoint(),a=We(t,e);if(a>Jc&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var n=this.context.view,o=q.vs(this.startMatrix,[["t",e.x-t.x,e.y-t.y]]);n.backgroundGroup.setMatrix(o),n.foregroundGroup.setMatrix(o),n.middleGroup.setMatrix(o)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}($),Qc=Kc,Za="x",ja="y",qc=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.dims=[Za,ja],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var e=this.context.view;return t==="x"?e.getXScale():e.getYScales()[0]},r.prototype.resetDim=function(t){var e=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var a=this.getScale(t);e.scale(a.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim(Za),this.resetDim(ja);var t=this.context.view;t.render(!0)},r}($),$a=qc,_c=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var e=this.dims;(0,h.S6)(e,function(a){var n=t.getScale(a),o=n.min,l=n.max,s=n.values;t.startCache[a]={min:o,max:l,values:s}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(!!this.starting){var e=this.startPoint,a=this.context.view.getCoordinate(),n=this.context.getCurrentPoint(),o=a.invert(e),l=a.invert(n),s=l.x-o.x,c=l.y-o.y,v=this.context.view,u=this.dims;(0,h.S6)(u,function(f){t.translateDim(f,{x:s*-1,y:c*-1})}),v.render(!0)}},r.prototype.translateDim=function(t,e){if(this.hasDim(t)){var a=this.getScale(t);a.isLinear&&this.translateLinear(t,a,e)}},r.prototype.translateLinear=function(t,e,a){var n=this.context.view,o=this.startCache[t],l=o.min,s=o.max,c=s-l,v=a[t]*c;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:l,max:s}),n.scale(e.field,{nice:!1,min:l+v,max:s+v})},r.prototype.reset=function(){i.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}($a),tu=_c,eu=function(i){(0,p.ZT)(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t.zoomRatio=.05,t}return r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var e=this,a=this.dims;(0,h.S6)(a,function(n){e.zoomDim(n,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,e){if(this.hasDim(t)){var a=this.getScale(t);a.isLinear&&this.zoomLinear(t,a,e)}},r.prototype.zoomLinear=function(t,e,a){var n=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:e.nice,min:e.min,max:e.max});var o=this.cacheScaleDefs[t],l=o.max-o.min,s=e.min,c=e.max,v=a*l,u=s-v,f=c+v,d=f-u,g=d/l;f>u&&g<100&&g>.01&&n.scale(e.field,{nice:!1,min:s-v,max:c+v})},r}($a),iu=eu;function ru(i){var r=i.gEvent.originalEvent;return r.deltaY>0}var au=1,nu=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.scroll=function(t){var e=this.context,a=e.view,n=e.event;if(!!a.getOptions().scrollbar){var o=(t==null?void 0:t.wheelDelta)||au,l=a.getController("scrollbar"),s=a.getXScale(),c=a.getOptions().data,v=(0,h.dp)((0,h.I)(c,s.field)),u=(0,h.dp)(s.values),f=l.getValue(),d=Math.floor((v-u)*f),g=d+(ru(n)?o:-o),y=o/(v-u)/1e4,m=(0,h.uZ)(g/(v-u)+y,0,1);l.setValue(m)}},r}($),ou=nu,lu="aixs-description-tooltip",su=function(i){(0,p.ZT)(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.context,e=Bt(t).axis,a=e.cfg.title,n=a.description,o=a.text,l=a.descriptionTooltipStyle,s=t.event,c=s.x,v=s.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:o||"",customContent:function(){return`
          <div class="`.concat(H.LP.CONTAINER_CLASS,'" style={').concat(l,`}>
            <div class="`).concat(H.LP.TITLE_CLASS,`">
              \u5B57\u6BB5\u8BF4\u660E\uFF1A`).concat(n,`
            </div>
          </div>
        `)},x:c,y:v}),this.tooltip.show()},r.prototype.destroy=function(){i.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,e=this.context.view,a=e.canvas,n={start:{x:0,y:0},end:{x:a.get("width"),y:a.get("height")}},o=new ve({parent:a.get("el").parentNode,region:n,visible:!1,containerId:lu,domStyles:(0,p.pi)({},(0,h.b$)({},(t={},t[H.LP.CONTAINER_CLASS]={"max-width":"50%",padding:"10px","line-height":"15px","font-size":"12px",color:"rgba(0, 0, 0, .65)"},t[H.LP.TITLE_CLASS]={"word-break":"break-all","margin-bottom":"3px"},t)))});o.init(),o.setCapture(!1),this.tooltip=o},r}($),hu=su;so("dark",Cr(ol)),Yi("canvas",qr),Yi("svg",ll),vt("Polygon",El),vt("Interval",Cl),vt("Schema",kl),vt("Path",li),vt("Point",Ml),vt("Line",Tl),vt("Area",ul),vt("Edge",fl),vt("Heatmap",dl),vt("Violin",Rl),Se("base",ei),Se("interval",Ql),Se("pie",ts),Se("polar",la),rt("overlap",ps),rt("distribute",is),rt("fixed-overlap",fs),rt("hide-overlap",Ts),rt("limit-in-shape",hs),rt("limit-in-canvas",ss),rt("limit-in-plot",zs),rt("pie-outer",as),rt("adjust-color",Ls),rt("interval-adjust-position",Es),rt("interval-hide-overlap",ks),rt("point-adjust-position",Rs),rt("pie-spider",ls),rt("path-adjust-position",Gs),ot("fade-in",Xs),ot("fade-out",Us),ot("grow-in-x",Ns),ot("grow-in-xy",Zs),ot("grow-in-y",Ws),ot("scale-in-x",Js),ot("scale-in-y",Ks),ot("wave-in",qs),ot("zoom-in",_s),ot("zoom-out",th),ot("position-update",$s),ot("sector-path-update",Qs),ot("path-in",js),zt("rect",ch),zt("mirror",sh),zt("list",ah),zt("matrix",oh),zt("circle",ih),zt("tree",vh),Yt("axis",yh),Yt("legend",Sh),Yt("tooltip",Io),Yt("annotation",dh),Yt("slider",bh),Yt("scrollbar",Fh),I("tooltip",Pa),I("sibling-tooltip",Oh),I("ellipsis-text",Gh),I("element-active",Xh),I("element-single-active",Jh),I("element-range-active",Zh),I("element-highlight",Fi),I("element-highlight-by-x",tc),I("element-highlight-by-color",qh),I("element-single-highlight",rc),I("element-range-highlight",Da),I("element-sibling-highlight",Da,{effectSiblings:!0,effectByRecord:!0}),I("element-selected",lc),I("element-single-selected",hc),I("element-range-selected",nc),I("element-link-by-color",Yh),I("active-region",Ih),I("list-active",vc),I("list-selected",gc),I("list-highlight",Ei),I("list-unchecked",mc),I("list-checked",wc),I("list-focus",Sc),I("list-radio",bc),I("legend-item-highlight",Ei,{componentNames:["legend"]}),I("axis-label-highlight",Ei,{componentNames:["axis"]}),I("axis-description",hu),I("rect-mask",za),I("x-rect-mask",Ua,{dim:"x"}),I("y-rect-mask",Ua,{dim:"y"}),I("circle-mask",Ac),I("path-mask",Ya),I("smooth-path-mask",Ic),I("cursor",Rc),I("data-filter",Dc),I("brush",Ge),I("brush-x",Ge,{dims:["x"]}),I("brush-y",Ge,{dims:["y"]}),I("sibling-filter",Ii),I("sibling-x-filter",Ii),I("sibling-y-filter",Ii),I("element-filter",zc),I("element-sibling-filter",Wa),I("element-sibling-filter-record",Wa,{byRecord:!0}),I("view-drag",$c),I("view-move",Qc),I("scale-translate",tu),I("scale-zoom",iu),I("reset-button",Wc,{name:"reset-button",text:"reset"}),I("mousewheel-scroll",ou);function Ft(i){return i.isInPlot()}U("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),U("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),U("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),U("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),U("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),U("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),U("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),U("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),U("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),U("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),U("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),U("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(i){return!i.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(i){return!i.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),U("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Ft,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Ft,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Ft,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),U("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),U("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Ft,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:Ft,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Ft,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),U("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:Ft,action:"path-mask:start"},{trigger:"mousedown",isEnable:Ft,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),U("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),U("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(i){return!i.isInShape("legend-item-radio")},action:["list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]}),U("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),U("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),U("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),U("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),U("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]});function Ja(i){return i.gEvent.preventDefault(),i.gEvent.originalEvent.deltaY>0}U("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(i){return Ja(i.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(i){return!Ja(i.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),U("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]}),U("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]})}}]);
