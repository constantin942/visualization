(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[284],{37174:function(L){L.exports={alarm:"alarm___12xQi",salesRank:"salesRank___-5oIk",rankingList:"rankingList___rxbMU",rankingItemNumber:"rankingItemNumber___3eh0u",active:"active___3KjTZ",rankingItemTitle:"rankingItemTitle___3gCS2","alarm-data":"alarm-data___17B2L",alarmDetail:"alarmDetail___9Lz5b"}},70347:function(){},87261:function(L,R,c){"use strict";c.r(R),c.d(R,{default:function(){return C}});var y=c(3182),A=c(57663),a=c(71577),p=c(2824),Z=c(94043),P=c.n(Z),_=c(67294),I=c(37174),d=c.n(I),w=c(13062),e=c(71230),t=c(89032),l=c(15746),i=c(58024),n=c(39144),r=c(13254),s=c(14277),u=c(69886),f=c(85893),v=function(O){return(0,_.useEffect)(function(){var x=new u.by("AlarmDistributionPie",{appendPadding:10,data:O.alarmDataRanking,height:250,angleField:"value",colorField:"type",radius:1,innerRadius:.64,meta:{value:{formatter:function(F){return"".concat(F,"\u6B21")}}},legend:{position:"bottom"},label:{type:"inner",offset:"-50%",autoRotate:!1,style:{textAlign:"center",fontSize:"13px",fontWeight:"500"},formatter:function(F){var W=F.percent;return"".concat((W*100).toFixed(0),"%")}},statistic:{title:{offsetY:-8,style:{fontSize:"14px"},formatter:function(F){return(F==null?void 0:F.type)||"\u89E6\u53D1\u6B21\u6570"}},content:{style:{textAlign:"center",fontSize:"13px",fontWeight:"500",marginTop:"10px"},offsetY:-4}},interactions:[{type:"element-selected"},{type:"element-active"},{type:"pie-statistic-active",cfg:{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"},{trigger:"legend-item:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"},{trigger:"legend-item:mouseleave",action:"pie-statistic:reset"}]}}]});x.render()},[]),(0,f.jsx)("div",{id:"AlarmDistributionPie"})},T=v,m=c(92077),h=c.n(m),b=function(O){return(0,f.jsxs)(e.Z,{gutter:10,className:"",children:[(0,f.jsx)(l.Z,{span:8,children:(0,f.jsx)(n.Z,{size:"default",title:"\u544A\u8B66\u6570\u636E",bordered:!1,bodyStyle:{padding:"10px 20px"},children:(0,f.jsxs)("div",{className:d().salesRank,children:[O.alarmDataRanking.length===0&&(0,f.jsx)(s.Z,{description:"\u6682\u65E0\u544A\u8B66\u6570\u636E",style:{marginTop:"20px"}}),O.alarmDataRanking.length!==0&&(0,f.jsx)("ul",{className:d().rankingList,children:O.alarmDataRanking.map(function(x,D){return(0,f.jsxs)("li",{children:[(0,f.jsx)("span",{className:"".concat(d().rankingItemNumber," ").concat(D<3?d().active:""),children:D+1}),(0,f.jsx)("span",{className:d().rankingItemTitle,title:x.type,children:x.type}),(0,f.jsxs)("span",{className:d().rankingItemCount,children:[h()(x.value).format("0,0"),"\u6B21"]})]},D+1)})})]})})}),(0,f.jsx)(l.Z,{span:8,children:(0,f.jsx)(n.Z,{size:"default",title:"\u9AD8\u5371\u7528\u6237",bordered:!1,bodyStyle:{padding:"10px 20px"},children:(0,f.jsxs)("div",{className:d().salesRank,children:[O.alarmUserRanking.length===0&&(0,f.jsx)(s.Z,{description:"\u6682\u65E0\u544A\u8B66\u5206\u5E03\u6570\u636E",style:{marginTop:"20px"}}),O.alarmUserRanking.length!==0&&(0,f.jsx)("ul",{className:d().rankingList,children:O.alarmUserRanking.map(function(x,D){return(0,f.jsxs)("li",{children:[(0,f.jsx)("span",{className:"".concat(d().rankingItemNumber," ").concat(D<3?d().active:""),children:D+1}),(0,f.jsx)("span",{className:d().rankingItemTitle,title:x.userName,children:x.userName}),(0,f.jsxs)("span",{className:d().rankingItemCount,children:[h()(x.alarmCount).format("0,0"),"\u6B21"]})]},D+1)})})]})})}),(0,f.jsx)(l.Z,{span:8,children:(0,f.jsx)(n.Z,{size:"default",title:"\u544A\u8B66\u5206\u5E03",bordered:!1,bodyStyle:{padding:"10px 20px",height:"300px"},children:O.alarmDataRanking.length>0?(0,f.jsx)(T,{alarmDataRanking:O.alarmDataRanking}):(0,f.jsx)("div",{className:d().salesRank,children:(0,f.jsx)(s.Z,{style:{marginTop:"20px"}})})})})]})},o=b,g=c(47369),z=c(48606),$=c(2335),K=c(24480),E=function(O){var x=(0,_.useState)([]),D=(0,p.Z)(x,2),F=D[0],W=D[1],Q=(0,_.useState)([]),J=(0,p.Z)(Q,2),ae=J[0],ne=J[1],me=(0,_.useState)(0),re=(0,p.Z)(me,2),ie=re[0],le=re[1],X=(0,_.useState)([]),G=(0,p.Z)(X,2),fe=G[0],se=G[1],de=(0,_.useState)({pageNo:1,pageSize:30}),oe=(0,p.Z)(de,2),q=oe[0],ce=oe[1],he=[{title:"\u7528\u6237",dataIndex:"userName",key:"address",align:"center",search:!1},{title:"\u547D\u4E2D\u89C4\u5219ID",dataIndex:"matchRuleId",key:"matchRuleId",search:!1,align:"center"},{title:"\u89E6\u53D1\u6B21\u6570",dataIndex:"matchCount",key:"age",search:!1,align:"center",render:function(j,S){return(0,f.jsx)("div",{className:"danger",children:S.matchCount})}},{title:"\u6700\u540E\u89E6\u53D1\u65F6\u95F4",dataIndex:"originalTime",key:"address",search:!1,align:"center"},{title:"\u64CD\u4F5C",key:"action",align:"center",search:!1,render:function(j,S){return[(0,f.jsx)(a.Z,{type:"link",size:"small",onClick:function(){O.history.push({pathname:"/alarm-detail",query:{userName:S.userName}})},children:"\u8BE6\u60C5"},"management")]}}],ge=function(){var B=(0,y.Z)(P().mark(function j(){var S,k,Y;return P().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(0,z.Hp)();case 2:S=V.sent,k=S.data,Y=k.map(function(ee){return{type:ee.alarmName,value:parseInt(ee.alarmData),percent:parseInt(ee.alarmData)/100}}),W(Y);case 6:case"end":return V.stop()}},j)}));return function(){return B.apply(this,arguments)}}();function N(B){(0,$.sF)(B).then(function(j){var S=j.data,k=JSON.parse(S);if(k){le(k.total);var Y=JSON.parse(k.rows);se(Y.map(function(U){return U.id=K.Z.uuid(),U}))}})}var pe=function(){var B=(0,y.Z)(P().mark(function j(){var S,k;return P().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,z.CI)();case 2:S=U.sent,k=S.data,ne(k);case 5:case"end":return U.stop()}},j)}));return function(){return B.apply(this,arguments)}}();return(0,_.useEffect)(function(){ge().then(),pe().then(),N(q)},[]),(0,f.jsxs)("div",{className:d().alarm,children:[(0,f.jsx)(o,{alarmDataRanking:F,alarmUserRanking:ae}),(0,f.jsx)(g.ZP,{headerTitle:"\u544A\u8B66\u4FE1\u606F\u5217\u8868",className:"mt-10",columns:he,rowKey:"id",search:!1,pagination:{showSizeChanger:!1,pageSize:q.pageSize,current:q.pageNo,total:ie,onChange:function(j,S){ce({pageNo:j,pageSize:S}),N({pageNo:j,pageSize:S})}},dataSource:fe})]})},C=E},48606:function(L,R,c){"use strict";c.d(R,{Hp:function(){return P},CI:function(){return I},cD:function(){return w},QD:function(){return t}});var y=c(11849),A=c(3182),a=c(94043),p=c.n(a),Z=c(21704);function P(i){return _.apply(this,arguments)}function _(){return _=(0,A.Z)(p().mark(function i(n){return p().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,Z.WY)("/api/skyflying/getAlarmData",(0,y.Z)({method:"GET"},n||{})));case 1:case"end":return s.stop()}},i)})),_.apply(this,arguments)}function I(i){return d.apply(this,arguments)}function d(){return d=(0,A.Z)(p().mark(function i(n){return p().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,Z.WY)("/api/skyflying/getUserAlarmData",(0,y.Z)({method:"GET"},n||{})));case 1:case"end":return s.stop()}},i)})),d.apply(this,arguments)}function w(i,n){return e.apply(this,arguments)}function e(){return e=(0,A.Z)(p().mark(function i(n,r){return p().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,Z.WY)("/api/skyflying/getAllAlarmInfoDetailByUserName",(0,y.Z)({method:"GET",params:n||{}},r||{})));case 1:case"end":return u.stop()}},i)})),e.apply(this,arguments)}function t(i,n){return l.apply(this,arguments)}function l(){return l=(0,A.Z)(p().mark(function i(n,r){return p().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,Z.WY)("/api/skyflying/updateAnomalyDetectionInfo",(0,y.Z)({method:"POST",data:n||{}},r||{})));case 1:case"end":return u.stop()}},i)})),l.apply(this,arguments)}},2335:function(L,R,c){"use strict";c.d(R,{rO:function(){return P},cD:function(){return I},sF:function(){return w}});var y=c(11849),A=c(3182),a=c(94043),p=c.n(a),Z=c(32773);function P(t){return _.apply(this,arguments)}function _(){return _=(0,A.Z)(p().mark(function t(l){return p().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,Z.WY)("/api/skyflying/getUserNameAnomalyDetectionInfo",(0,y.Z)({method:"GET"},l||{})));case 1:case"end":return n.stop()}},t)})),_.apply(this,arguments)}function I(t,l){return d.apply(this,arguments)}function d(){return d=(0,A.Z)(p().mark(function t(l,i){return p().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,Z.WY)("/api/skyflying/getAllAlarmInfoDetailByUserName",(0,y.Z)({method:"GET",params:l||{}},i||{})));case 1:case"end":return r.stop()}},t)})),d.apply(this,arguments)}function w(t,l){return e.apply(this,arguments)}function e(){return e=(0,A.Z)(p().mark(function t(l,i){return p().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,Z.WY)("/api/skyflying/getAnomalyDetectionInfoByGroupByUserName",(0,y.Z)({method:"GET",params:l||{}},i||{})));case 1:case"end":return r.stop()}},t)})),e.apply(this,arguments)}},39144:function(L,R,c){"use strict";c.d(R,{Z:function(){return T}});var y=c(96156),A=c(22122),a=c(67294),p=c(94184),Z=c.n(p),P=c(98423),_=c(65632),I=function(m,h){var b={};for(var o in m)Object.prototype.hasOwnProperty.call(m,o)&&h.indexOf(o)<0&&(b[o]=m[o]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,o=Object.getOwnPropertySymbols(m);g<o.length;g++)h.indexOf(o[g])<0&&Object.prototype.propertyIsEnumerable.call(m,o[g])&&(b[o[g]]=m[o[g]]);return b},d=function(h){var b=h.prefixCls,o=h.className,g=h.hoverable,z=g===void 0?!0:g,$=I(h,["prefixCls","className","hoverable"]);return a.createElement(_.C,null,function(K){var E=K.getPrefixCls,C=E("card",b),M=Z()("".concat(C,"-grid"),o,(0,y.Z)({},"".concat(C,"-grid-hoverable"),z));return a.createElement("div",(0,A.Z)({},$,{className:M}))})},w=d,e=function(m,h){var b={};for(var o in m)Object.prototype.hasOwnProperty.call(m,o)&&h.indexOf(o)<0&&(b[o]=m[o]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,o=Object.getOwnPropertySymbols(m);g<o.length;g++)h.indexOf(o[g])<0&&Object.prototype.propertyIsEnumerable.call(m,o[g])&&(b[o[g]]=m[o[g]]);return b},t=function(h){return a.createElement(_.C,null,function(b){var o=b.getPrefixCls,g=h.prefixCls,z=h.className,$=h.avatar,K=h.title,E=h.description,C=e(h,["prefixCls","className","avatar","title","description"]),M=o("card",g),O=Z()("".concat(M,"-meta"),z),x=$?a.createElement("div",{className:"".concat(M,"-meta-avatar")},$):null,D=K?a.createElement("div",{className:"".concat(M,"-meta-title")},K):null,F=E?a.createElement("div",{className:"".concat(M,"-meta-description")},E):null,W=D||F?a.createElement("div",{className:"".concat(M,"-meta-detail")},D,F):null;return a.createElement("div",(0,A.Z)({},C,{className:O}),x,W)})},l=t,i=c(51752),n=c(71230),r=c(15746),s=c(97647),u=function(m,h){var b={};for(var o in m)Object.prototype.hasOwnProperty.call(m,o)&&h.indexOf(o)<0&&(b[o]=m[o]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,o=Object.getOwnPropertySymbols(m);g<o.length;g++)h.indexOf(o[g])<0&&Object.prototype.propertyIsEnumerable.call(m,o[g])&&(b[o[g]]=m[o[g]]);return b};function f(m){var h=m.map(function(b,o){return a.createElement("li",{style:{width:"".concat(100/m.length,"%")},key:"action-".concat(o)},a.createElement("span",null,b))});return h}var v=a.forwardRef(function(m,h){var b,o,g=a.useContext(_.E_),z=g.getPrefixCls,$=g.direction,K=a.useContext(s.Z),E=function(ue){var H;(H=m.onTabChange)===null||H===void 0||H.call(m,ue)},C=function(){var ue;return a.Children.forEach(m.children,function(H){H&&H.type&&H.type===w&&(ue=!0)}),ue},M=m.prefixCls,O=m.className,x=m.extra,D=m.headStyle,F=D===void 0?{}:D,W=m.bodyStyle,Q=W===void 0?{}:W,J=m.title,ae=m.loading,ne=m.bordered,me=ne===void 0?!0:ne,re=m.size,ie=m.type,le=m.cover,X=m.actions,G=m.tabList,fe=m.children,se=m.activeTabKey,de=m.defaultActiveTabKey,oe=m.tabBarExtraContent,q=m.hoverable,ce=m.tabProps,he=ce===void 0?{}:ce,ge=u(m,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),N=z("card",M),pe=Q.padding===0||Q.padding==="0px"?{padding:24}:void 0,B=a.createElement("div",{className:"".concat(N,"-loading-block")}),j=a.createElement("div",{className:"".concat(N,"-loading-content"),style:pe},a.createElement(n.Z,{gutter:8},a.createElement(r.Z,{span:22},B)),a.createElement(n.Z,{gutter:8},a.createElement(r.Z,{span:8},B),a.createElement(r.Z,{span:15},B)),a.createElement(n.Z,{gutter:8},a.createElement(r.Z,{span:6},B),a.createElement(r.Z,{span:18},B)),a.createElement(n.Z,{gutter:8},a.createElement(r.Z,{span:13},B),a.createElement(r.Z,{span:9},B)),a.createElement(n.Z,{gutter:8},a.createElement(r.Z,{span:4},B),a.createElement(r.Z,{span:3},B),a.createElement(r.Z,{span:16},B))),S=se!==void 0,k=(0,A.Z)((0,A.Z)({},he),(b={},(0,y.Z)(b,S?"activeKey":"defaultActiveKey",S?se:de),(0,y.Z)(b,"tabBarExtraContent",oe),b)),Y,U=G&&G.length?a.createElement(i.Z,(0,A.Z)({size:"large"},k,{className:"".concat(N,"-head-tabs"),onChange:E}),G.map(function(te){return a.createElement(i.Z.TabPane,{tab:te.tab,disabled:te.disabled,key:te.key})})):null;(J||x||U)&&(Y=a.createElement("div",{className:"".concat(N,"-head"),style:F},a.createElement("div",{className:"".concat(N,"-head-wrapper")},J&&a.createElement("div",{className:"".concat(N,"-head-title")},J),x&&a.createElement("div",{className:"".concat(N,"-extra")},x)),U));var V=le?a.createElement("div",{className:"".concat(N,"-cover")},le):null,ee=a.createElement("div",{className:"".concat(N,"-body"),style:Q},ae?j:fe),be=X&&X.length?a.createElement("ul",{className:"".concat(N,"-actions")},f(X)):null,ye=(0,P.Z)(ge,["onTabChange"]),ve=re||K,_e=Z()(N,(o={},(0,y.Z)(o,"".concat(N,"-loading"),ae),(0,y.Z)(o,"".concat(N,"-bordered"),me),(0,y.Z)(o,"".concat(N,"-hoverable"),q),(0,y.Z)(o,"".concat(N,"-contain-grid"),C()),(0,y.Z)(o,"".concat(N,"-contain-tabs"),G&&G.length),(0,y.Z)(o,"".concat(N,"-").concat(ve),ve),(0,y.Z)(o,"".concat(N,"-type-").concat(ie),!!ie),(0,y.Z)(o,"".concat(N,"-rtl"),$==="rtl"),o),O);return a.createElement("div",(0,A.Z)({ref:h},ye,{className:_e}),Y,V,ee,be)});v.Grid=w,v.Meta=l;var T=v},58024:function(L,R,c){"use strict";var y=c(38663),A=c.n(y),a=c(70347),p=c.n(a),Z=c(18106),P=c(13062),_=c(89032)},92077:function(L,R,c){var y,A;/*! @preserve
* numeral.js
* version : 2.0.6
* author : Adam Draper
* license : MIT
* http://adamwdraper.github.com/Numeral-js/
*/(function(a,p){y=p,A=typeof y=="function"?y.call(R,c,R,L):y,A!==void 0&&(L.exports=A)})(this,function(){var a,p,Z="2.0.6",P={},_={},I={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},d={currentLocale:I.currentLocale,zeroFormat:I.zeroFormat,nullFormat:I.nullFormat,defaultFormat:I.defaultFormat,scalePercentBy100:I.scalePercentBy100};function w(e,t){this._input=e,this._value=t}return a=function(e){var t,l,i,n;if(a.isNumeral(e))t=e.value();else if(e===0||typeof e=="undefined")t=0;else if(e===null||p.isNaN(e))t=null;else if(typeof e=="string")if(d.zeroFormat&&e===d.zeroFormat)t=0;else if(d.nullFormat&&e===d.nullFormat||!e.replace(/[^0-9]+/g,"").length)t=null;else{for(l in P)if(n=typeof P[l].regexps.unformat=="function"?P[l].regexps.unformat():P[l].regexps.unformat,n&&e.match(n)){i=P[l].unformat;break}i=i||a._.stringToNumber,t=i(e)}else t=Number(e)||null;return new w(e,t)},a.version=Z,a.isNumeral=function(e){return e instanceof w},a._=p={numberToFormat:function(e,t,l){var i=_[a.options.currentLocale],n=!1,r=!1,s=0,u="",f=1e12,v=1e9,T=1e6,m=1e3,h="",b=!1,o,g,z,$,K,E,C,M,O,x;if(e=e||0,g=Math.abs(e),a._.includes(t,"(")?(n=!0,t=t.replace(/[\(|\)]/g,"")):(a._.includes(t,"+")||a._.includes(t,"-"))&&(M=a._.includes(t,"+")?t.indexOf("+"):e<0?t.indexOf("-"):-1,t=t.replace(/[\+|\-]/g,"")),a._.includes(t,"a")&&(o=t.match(/a(k|m|b|t)?/),o=o?o[1]:!1,a._.includes(t," a")&&(u=" "),t=t.replace(new RegExp(u+"a[kmbt]?"),""),g>=f&&!o||o==="t"?(u+=i.abbreviations.trillion,e=e/f):g<f&&g>=v&&!o||o==="b"?(u+=i.abbreviations.billion,e=e/v):g<v&&g>=T&&!o||o==="m"?(u+=i.abbreviations.million,e=e/T):(g<T&&g>=m&&!o||o==="k")&&(u+=i.abbreviations.thousand,e=e/m)),a._.includes(t,"[.]")&&(r=!0,t=t.replace("[.]",".")),E=e.toString().split(".")[0],C=t.split(".")[1],O=t.indexOf(","),s=(t.split(".")[0].split(",")[0].match(/0/g)||[]).length,C?(a._.includes(C,"[")?(C=C.replace("]",""),C=C.split("["),h=a._.toFixed(e,C[0].length+C[1].length,l,C[1].length)):h=a._.toFixed(e,C.length,l),E=h.split(".")[0],a._.includes(h,".")?h=i.delimiters.decimal+h.split(".")[1]:h="",r&&Number(h.slice(1))===0&&(h="")):E=a._.toFixed(e,0,l),u&&!o&&Number(E)>=1e3&&u!==i.abbreviations.trillion)switch(E=String(Number(E)/1e3),u){case i.abbreviations.thousand:u=i.abbreviations.million;break;case i.abbreviations.million:u=i.abbreviations.billion;break;case i.abbreviations.billion:u=i.abbreviations.trillion;break}if(a._.includes(E,"-")&&(E=E.slice(1),b=!0),E.length<s)for(var D=s-E.length;D>0;D--)E="0"+E;return O>-1&&(E=E.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+i.delimiters.thousands)),t.indexOf(".")===0&&(E=""),x=E+h+(u||""),n?x=(n&&b?"(":"")+x+(n&&b?")":""):M>=0?x=M===0?(b?"-":"+")+x:x+(b?"-":"+"):b&&(x="-"+x),x},stringToNumber:function(e){var t=_[d.currentLocale],l=e,i={thousand:3,million:6,billion:9,trillion:12},n,r,s,u;if(d.zeroFormat&&e===d.zeroFormat)r=0;else if(d.nullFormat&&e===d.nullFormat||!e.replace(/[^0-9]+/g,"").length)r=null;else{r=1,t.delimiters.decimal!=="."&&(e=e.replace(/\./g,"").replace(t.delimiters.decimal,"."));for(n in i)if(u=new RegExp("[^a-zA-Z]"+t.abbreviations[n]+"(?:\\)|(\\"+t.currency.symbol+")?(?:\\))?)?$"),l.match(u)){r*=Math.pow(10,i[n]);break}r*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),r*=Number(e)}return r},isNaN:function(e){return typeof e=="number"&&isNaN(e)},includes:function(e,t){return e.indexOf(t)!==-1},insert:function(e,t,l){return e.slice(0,l)+t+e.slice(l)},reduce:function(e,t){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof t!="function")throw new TypeError(t+" is not a function");var l=Object(e),i=l.length>>>0,n=0,r;if(arguments.length===3)r=arguments[2];else{for(;n<i&&!(n in l);)n++;if(n>=i)throw new TypeError("Reduce of empty array with no initial value");r=l[n++]}for(;n<i;n++)n in l&&(r=t(r,l[n],n,l));return r},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){var e=Array.prototype.slice.call(arguments);return e.reduce(function(t,l){var i=p.multiplier(l);return t>i?t:i},1)},toFixed:function(e,t,l,i){var n=e.toString().split("."),r=t-(i||0),s,u,f,v;return n.length===2?s=Math.min(Math.max(n[1].length,r),t):s=r,f=Math.pow(10,s),v=(l(e+"e+"+s)/f).toFixed(s),i>t-s&&(u=new RegExp("\\.?0{1,"+(i-(t-s))+"}$"),v=v.replace(u,"")),v}},a.options=d,a.formats=P,a.locales=_,a.locale=function(e){return e&&(d.currentLocale=e.toLowerCase()),d.currentLocale},a.localeData=function(e){if(!e)return _[d.currentLocale];if(e=e.toLowerCase(),!_[e])throw new Error("Unknown locale : "+e);return _[e]},a.reset=function(){for(var e in I)d[e]=I[e]},a.zeroFormat=function(e){d.zeroFormat=typeof e=="string"?e:null},a.nullFormat=function(e){d.nullFormat=typeof e=="string"?e:null},a.defaultFormat=function(e){d.defaultFormat=typeof e=="string"?e:"0.0"},a.register=function(e,t,l){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=l,l},a.validate=function(e,t){var l,i,n,r,s,u,f,v;if(typeof e!="string"&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),e=e.trim(),e.match(/^\d+$/))return!0;if(e==="")return!1;try{f=a.localeData(t)}catch(T){f=a.localeData(a.locale())}return n=f.currency.symbol,s=f.abbreviations,l=f.delimiters.decimal,f.delimiters.thousands==="."?i="\\.":i=f.delimiters.thousands,v=e.match(/^[^\d]+/),v!==null&&(e=e.substr(1),v[0]!==n)||(v=e.match(/[^\d]+$/),v!==null&&(e=e.slice(0,-1),v[0]!==s.thousand&&v[0]!==s.million&&v[0]!==s.billion&&v[0]!==s.trillion))?!1:(u=new RegExp(i+"{2}"),e.match(/[^\d.,]/g)?!1:(r=e.split(l),r.length>2?!1:r.length<2?!!r[0].match(/^\d+.*\d$/)&&!r[0].match(u):r[0].length===1?!!r[0].match(/^\d+$/)&&!r[0].match(u)&&!!r[1].match(/^\d+$/):!!r[0].match(/^\d+.*\d$/)&&!r[0].match(u)&&!!r[1].match(/^\d+$/)))},a.fn=w.prototype={clone:function(){return a(this)},format:function(e,t){var l=this._value,i=e||d.defaultFormat,n,r,s;if(t=t||Math.round,l===0&&d.zeroFormat!==null)r=d.zeroFormat;else if(l===null&&d.nullFormat!==null)r=d.nullFormat;else{for(n in P)if(i.match(P[n].regexps.format)){s=P[n].format;break}s=s||a._.numberToFormat,r=s(l,i,t)}return r},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var t=p.correctionFactor.call(null,this._value,e);function l(i,n,r,s){return i+Math.round(t*n)}return this._value=p.reduce([this._value,e],l,0)/t,this},subtract:function(e){var t=p.correctionFactor.call(null,this._value,e);function l(i,n,r,s){return i-Math.round(t*n)}return this._value=p.reduce([e],l,Math.round(this._value*t))/t,this},multiply:function(e){function t(l,i,n,r){var s=p.correctionFactor(l,i);return Math.round(l*s)*Math.round(i*s)/Math.round(s*s)}return this._value=p.reduce([this._value,e],t,1),this},divide:function(e){function t(l,i,n,r){var s=p.correctionFactor(l,i);return Math.round(l*s)/Math.round(i*s)}return this._value=p.reduce([this._value,e],t),this},difference:function(e){return Math.abs(a(this._value).subtract(e).value())}},a.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return~~(e%100/10)==1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"},currency:{symbol:"$"}}),function(){a.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,t,l){var i=a._.includes(t," BPS")?" ":"",n;return e=e*1e4,t=t.replace(/\s?BPS/,""),n=a._.numberToFormat(e,t,l),a._.includes(n,")")?(n=n.split(""),n.splice(-1,0,i+"BPS"),n=n.join("")):n=n+i+"BPS",n},unformat:function(e){return+(a._.stringToNumber(e)*1e-4).toFixed(15)}})}(),function(){var e={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},t={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},l=e.suffixes.concat(t.suffixes.filter(function(n){return e.suffixes.indexOf(n)<0})),i=l.join("|");i="("+i.replace("B","B(?!PS)")+")",a.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(i)},format:function(n,r,s){var u,f=a._.includes(r,"ib")?t:e,v=a._.includes(r," b")||a._.includes(r," ib")?" ":"",T,m,h;for(r=r.replace(/\s?i?b/,""),T=0;T<=f.suffixes.length;T++)if(m=Math.pow(f.base,T),h=Math.pow(f.base,T+1),n===null||n===0||n>=m&&n<h){v+=f.suffixes[T],m>0&&(n=n/m);break}return u=a._.numberToFormat(n,r,s),u+v},unformat:function(n){var r=a._.stringToNumber(n),s,u;if(r){for(s=e.suffixes.length-1;s>=0;s--){if(a._.includes(n,e.suffixes[s])){u=Math.pow(e.base,s);break}if(a._.includes(n,t.suffixes[s])){u=Math.pow(t.base,s);break}}r*=u||1}return r}})}(),function(){a.register("format","currency",{regexps:{format:/(\$)/},format:function(e,t,l){var i=a.locales[a.options.currentLocale],n={before:t.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:t.match(/([\+|\-|\)|\s|\$]*)$/)[0]},r,s,u;for(t=t.replace(/\s?\$\s?/,""),r=a._.numberToFormat(e,t,l),e>=0?(n.before=n.before.replace(/[\-\(]/,""),n.after=n.after.replace(/[\-\)]/,"")):e<0&&!a._.includes(n.before,"-")&&!a._.includes(n.before,"(")&&(n.before="-"+n.before),u=0;u<n.before.length;u++)switch(s=n.before[u],s){case"$":r=a._.insert(r,i.currency.symbol,u);break;case" ":r=a._.insert(r," ",u+i.currency.symbol.length-1);break}for(u=n.after.length-1;u>=0;u--)switch(s=n.after[u],s){case"$":r=u===n.after.length-1?r+i.currency.symbol:a._.insert(r,i.currency.symbol,-(n.after.length-(1+u)));break;case" ":r=u===n.after.length-1?r+" ":a._.insert(r," ",-(n.after.length-(1+u)+i.currency.symbol.length-1));break}return r}})}(),function(){a.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,t,l){var i,n=typeof e=="number"&&!a._.isNaN(e)?e.toExponential():"0e+0",r=n.split("e");return t=t.replace(/e[\+|\-]{1}0/,""),i=a._.numberToFormat(Number(r[0]),t,l),i+"e"+r[1]},unformat:function(e){var t=a._.includes(e,"e+")?e.split("e+"):e.split("e-"),l=Number(t[0]),i=Number(t[1]);i=a._.includes(e,"e-")?i*=-1:i;function n(r,s,u,f){var v=a._.correctionFactor(r,s),T=r*v*(s*v)/(v*v);return T}return a._.reduce([l,Math.pow(10,i)],n,1)}})}(),function(){a.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,t,l){var i=a.locales[a.options.currentLocale],n,r=a._.includes(t," o")?" ":"";return t=t.replace(/\s?o/,""),r+=i.ordinal(e),n=a._.numberToFormat(e,t,l),n+r}})}(),function(){a.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,t,l){var i=a._.includes(t," %")?" ":"",n;return a.options.scalePercentBy100&&(e=e*100),t=t.replace(/\s?\%/,""),n=a._.numberToFormat(e,t,l),a._.includes(n,")")?(n=n.split(""),n.splice(-1,0,i+"%"),n=n.join("")):n=n+i+"%",n},unformat:function(e){var t=a._.stringToNumber(e);return a.options.scalePercentBy100?t*.01:t}})}(),function(){a.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,l){var i=Math.floor(e/60/60),n=Math.floor((e-i*60*60)/60),r=Math.round(e-i*60*60-n*60);return i+":"+(n<10?"0"+n:n)+":"+(r<10?"0"+r:r)},unformat:function(e){var t=e.split(":"),l=0;return t.length===3?(l=l+Number(t[0])*60*60,l=l+Number(t[1])*60,l=l+Number(t[2])):t.length===2&&(l=l+Number(t[0])*60,l=l+Number(t[1])),Number(l)}})}(),a})}}]);
